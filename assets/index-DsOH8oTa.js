const __vite__fileDeps=["assets/timeline-definition-8e5a9bc6-LEkttn1q.js","assets/is_dark-BW5y5qBq.js","assets/mindmap-definition-44684416-iEm-jNQP.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function kC(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const _n={},kd=[],Os=()=>{},BH=()=>!1,KO=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xC=t=>t.startsWith("onUpdate:"),Dr=Object.assign,wC=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},QH=Object.prototype.hasOwnProperty,qt=(t,e)=>QH.call(t,e),xt=Array.isArray,xd=t=>JO(t)==="[object Map]",hL=t=>JO(t)==="[object Set]",$t=t=>typeof t=="function",gr=t=>typeof t=="string",Ch=t=>typeof t=="symbol",Rn=t=>t!==null&&typeof t=="object",dL=t=>(Rn(t)||$t(t))&&$t(t.then)&&$t(t.catch),fL=Object.prototype.toString,JO=t=>fL.call(t),zH=t=>JO(t).slice(8,-1),pL=t=>JO(t)==="[object Object]",_C=t=>gr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,lg=kC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ek=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},VH=/-(\w)/g,Ud=ek(t=>t.replace(VH,(e,n)=>n?n.toUpperCase():"")),WH=/\B([A-Z])/g,Rf=ek(t=>t.replace(WH,"-$1").toLowerCase()),gL=ek(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qx=ek(t=>t?`on${gL(t)}`:""),Fc=(t,e)=>!Object.is(t,e),Cy=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},mL=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Dv=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let QD;const yL=()=>QD||(QD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vC(t){if(xt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=gr(r)?YH(r):vC(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(gr(t)||Rn(t))return t}const UH=/;(?![^(]*\))/g,jH=/:([^]+)/,qH=/\/\*[^]*?\*\//g;function YH(t){const e={};return t.replace(qH,"").split(UH).forEach(n=>{if(n){const r=n.split(jH);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function SC(t){let e="";if(gr(t))e=t;else if(xt(t))for(let n=0;n<t.length;n++){const r=SC(t[n]);r&&(e+=r+" ")}else if(Rn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ZH="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",XH=kC(ZH);function bL(t){return!!t||t===""}const zD=t=>gr(t)?t:t==null?"":xt(t)||Rn(t)&&(t.toString===fL||!$t(t.toString))?JSON.stringify(t,OL,2):String(t),OL=(t,e)=>e&&e.__v_isRef?OL(t,e.value):xd(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[zx(r,s)+" =>"]=i,n),{})}:hL(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zx(n))}:Ch(e)?zx(e):Rn(e)&&!xt(e)&&!pL(e)?String(e):e,zx=(t,e="")=>{var n;return Ch(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let po;class HH{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=po,!e&&po&&(this.index=(po.scopes||(po.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=po;try{return po=this,e()}finally{po=n}}}on(){po=this}off(){po=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function GH(t,e=po){e&&e.active&&e.effects.push(t)}function KH(){return po}let zu;class Kg{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,GH(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Hc();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(JH(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Gc()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=kc,n=zu;try{return kc=!0,zu=this,this._runnings++,VD(this),this.fn()}finally{WD(this),this._runnings--,zu=n,kc=e}}stop(){this.active&&(VD(this),WD(this),this.onStop&&this.onStop(),this.active=!1)}}function JH(t){return t.value}function VD(t){t._trackId++,t._depsLength=0}function WD(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)kL(t.deps[e],t);t.deps.length=t._depsLength}}function kL(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function eG(t,e){t.effect instanceof Kg&&(t=t.effect.fn);const n=new Kg(t,Os,()=>{n.dirty&&n.run()});n.run();const r=n.run.bind(n);return r.effect=n,r}let kc=!0,Av=0;const xL=[];function Hc(){xL.push(kc),kc=!1}function Gc(){const t=xL.pop();kc=t===void 0?!0:t}function CC(){Av++}function EC(){for(Av--;!Av&&Mv.length;)Mv.shift()()}function wL(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&kL(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Mv=[];function _L(t,e,n){CC();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Mv.push(r.scheduler)))}EC()}const vL=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Pv=new WeakMap,Vu=Symbol(""),$v=Symbol("");function rs(t,e,n){if(kc&&zu){let r=Pv.get(t);r||Pv.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=vL(()=>r.delete(n))),wL(zu,i)}}function yl(t,e,n,r,i,s){const o=Pv.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&xt(t)){const l=Number(r);o.forEach((u,h)=>{(h==="length"||!Ch(h)&&h>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":xt(t)?_C(n)&&a.push(o.get("length")):(a.push(o.get(Vu)),xd(t)&&a.push(o.get($v)));break;case"delete":xt(t)||(a.push(o.get(Vu)),xd(t)&&a.push(o.get($v)));break;case"set":xd(t)&&a.push(o.get(Vu));break}CC();for(const l of a)l&&_L(l,4);EC()}const tG=kC("__proto__,__v_isRef,__isVue"),SL=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ch)),UD=nG();function nG(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=rn(this);for(let s=0,o=this.length;s<o;s++)rs(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(rn)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Hc(),CC();const r=rn(this)[e].apply(this,n);return EC(),Gc(),r}}),t}function rG(t){Ch(t)||(t=String(t));const e=rn(this);return rs(e,"has",t),e.hasOwnProperty(t)}class CL{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?mG:AL:s?DL:TL).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=xt(e);if(!i){if(o&&qt(UD,n))return Reflect.get(UD,n,r);if(n==="hasOwnProperty")return rG}const a=Reflect.get(e,n,r);return(Ch(n)?SL.has(n):tG(n))||(i||rs(e,"get",n),s)?a:is(a)?o&&_C(n)?a:a.value:Rn(a)?i?PL(a):AC(a):a}}class EL extends CL{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Jg(s);if(!Hb(r)&&!Jg(r)&&(s=rn(s),r=rn(r)),!xt(e)&&is(s)&&!is(r))return l?!1:(s.value=r,!0)}const o=xt(e)&&_C(n)?Number(n)<e.length:qt(e,n),a=Reflect.set(e,n,r,i);return e===rn(i)&&(o?Fc(r,s)&&yl(e,"set",n,r):yl(e,"add",n,r)),a}deleteProperty(e,n){const r=qt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&yl(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Ch(n)||!SL.has(n))&&rs(e,"has",n),r}ownKeys(e){return rs(e,"iterate",xt(e)?"length":Vu),Reflect.ownKeys(e)}}class iG extends CL{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const sG=new EL,oG=new iG,aG=new EL(!0);const TC=t=>t,tk=t=>Reflect.getPrototypeOf(t);function y1(t,e,n=!1,r=!1){t=t.__v_raw;const i=rn(t),s=rn(e);n||(Fc(e,s)&&rs(i,"get",e),rs(i,"get",s));const{has:o}=tk(i),a=r?TC:n?PC:em;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function b1(t,e=!1){const n=this.__v_raw,r=rn(n),i=rn(t);return e||(Fc(t,i)&&rs(r,"has",t),rs(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function O1(t,e=!1){return t=t.__v_raw,!e&&rs(rn(t),"iterate",Vu),Reflect.get(t,"size",t)}function jD(t){t=rn(t);const e=rn(this);return tk(e).has.call(e,t)||(e.add(t),yl(e,"add",t,t)),this}function qD(t,e){e=rn(e);const n=rn(this),{has:r,get:i}=tk(n);let s=r.call(n,t);s||(t=rn(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Fc(e,o)&&yl(n,"set",t,e):yl(n,"add",t,e),this}function YD(t){const e=rn(this),{has:n,get:r}=tk(e);let i=n.call(e,t);i||(t=rn(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&yl(e,"delete",t,void 0),s}function ZD(){const t=rn(this),e=t.size!==0,n=t.clear();return e&&yl(t,"clear",void 0,void 0),n}function k1(t,e){return function(r,i){const s=this,o=s.__v_raw,a=rn(o),l=e?TC:t?PC:em;return!t&&rs(a,"iterate",Vu),o.forEach((u,h)=>r.call(i,l(u),l(h),s))}}function x1(t,e,n){return function(...r){const i=this.__v_raw,s=rn(i),o=xd(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),h=n?TC:e?PC:em;return!e&&rs(s,"iterate",l?$v:Vu),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function jl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function lG(){const t={get(s){return y1(this,s)},get size(){return O1(this)},has:b1,add:jD,set:qD,delete:YD,clear:ZD,forEach:k1(!1,!1)},e={get(s){return y1(this,s,!1,!0)},get size(){return O1(this)},has:b1,add:jD,set:qD,delete:YD,clear:ZD,forEach:k1(!1,!0)},n={get(s){return y1(this,s,!0)},get size(){return O1(this,!0)},has(s){return b1.call(this,s,!0)},add:jl("add"),set:jl("set"),delete:jl("delete"),clear:jl("clear"),forEach:k1(!0,!1)},r={get(s){return y1(this,s,!0,!0)},get size(){return O1(this,!0)},has(s){return b1.call(this,s,!0)},add:jl("add"),set:jl("set"),delete:jl("delete"),clear:jl("clear"),forEach:k1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=x1(s,!1,!1),n[s]=x1(s,!0,!1),e[s]=x1(s,!1,!0),r[s]=x1(s,!0,!0)}),[t,n,e,r]}const[cG,uG,hG,dG]=lG();function DC(t,e){const n=e?t?dG:hG:t?uG:cG;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(qt(n,i)&&i in r?n:r,i,s)}const fG={get:DC(!1,!1)},pG={get:DC(!1,!0)},gG={get:DC(!0,!1)};const TL=new WeakMap,DL=new WeakMap,AL=new WeakMap,mG=new WeakMap;function yG(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bG(t){return t.__v_skip||!Object.isExtensible(t)?0:yG(zH(t))}function AC(t){return Jg(t)?t:MC(t,!1,sG,fG,TL)}function ML(t){return MC(t,!1,aG,pG,DL)}function PL(t){return MC(t,!0,oG,gG,AL)}function MC(t,e,n,r,i){if(!Rn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=bG(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function cg(t){return Jg(t)?cg(t.__v_raw):!!(t&&t.__v_isReactive)}function Jg(t){return!!(t&&t.__v_isReadonly)}function Hb(t){return!!(t&&t.__v_isShallow)}function $L(t){return t?!!t.__v_raw:!1}function rn(t){const e=t&&t.__v_raw;return e?rn(e):t}function Gb(t){return Object.isExtensible(t)&&mL(t,"__v_skip",!0),t}const em=t=>Rn(t)?AC(t):t,PC=t=>Rn(t)?PL(t):t;class RL{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Kg(()=>e(this._value),()=>Ey(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=rn(this);return(!e._cacheable||e.effect.dirty)&&Fc(e._value,e._value=e.effect.run())&&Ey(e,4),LL(e),e.effect._dirtyLevel>=2&&Ey(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function OG(t,e,n=!1){let r,i;const s=$t(t);return s?(r=t,i=Os):(r=t.get,i=t.set),new RL(r,i,s||!i,n)}function LL(t){var e;kc&&zu&&(t=rn(t),wL(zu,(e=t.dep)!=null?e:t.dep=vL(()=>t.dep=void 0,t instanceof RL?t:void 0)))}function Ey(t,e=4,n){t=rn(t);const r=t.dep;r&&_L(r,e)}function is(t){return!!(t&&t.__v_isRef===!0)}function Ur(t){return kG(t,!1)}function kG(t,e){return is(t)?t:new xG(t,e)}class xG{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:rn(e),this._value=n?e:em(e)}get value(){return LL(this),this._value}set value(e){const n=this.__v_isShallow||Hb(e)||Jg(e);e=n?e:rn(e),Fc(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:em(e),Ey(this,4))}}function IL(t){return is(t)?t.value:t}const wG={get:(t,e,n)=>IL(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return is(i)&&!is(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function NL(t){return cg(t)?t:new Proxy(t,wG)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xc(t,e,n,r){try{return r?t(...r):t()}catch(i){nk(i,e,n)}}function Eo(t,e,n,r){if($t(t)){const i=xc(t,e,n,r);return i&&dL(i)&&i.catch(s=>{nk(s,e,n)}),i}if(xt(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Eo(t[s],e,n,r));return i}}function nk(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Hc(),xc(l,null,10,[t,o,a]),Gc();return}}_G(t,n,i,r)}function _G(t,e,n,r=!0){console.error(t)}let tm=!1,Rv=!1;const oi=[];let fa=0;const wd=[];let ec=null,Su=0;const FL=Promise.resolve();let $C=null;function vG(t){const e=$C||FL;return t?e.then(this?t.bind(this):t):e}function SG(t){let e=fa+1,n=oi.length;for(;e<n;){const r=e+n>>>1,i=oi[r],s=nm(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function RC(t){(!oi.length||!oi.includes(t,tm&&t.allowRecurse?fa+1:fa))&&(t.id==null?oi.push(t):oi.splice(SG(t.id),0,t),BL())}function BL(){!tm&&!Rv&&(Rv=!0,$C=FL.then(zL))}function CG(t){const e=oi.indexOf(t);e>fa&&oi.splice(e,1)}function EG(t){xt(t)?wd.push(...t):(!ec||!ec.includes(t,t.allowRecurse?Su+1:Su))&&wd.push(t),BL()}function XD(t,e,n=tm?fa+1:0){for(;n<oi.length;n++){const r=oi[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;oi.splice(n,1),n--,r()}}}function QL(t){if(wd.length){const e=[...new Set(wd)].sort((n,r)=>nm(n)-nm(r));if(wd.length=0,ec){ec.push(...e);return}for(ec=e,Su=0;Su<ec.length;Su++)ec[Su]();ec=null,Su=0}}const nm=t=>t.id==null?1/0:t.id,TG=(t,e)=>{const n=nm(t)-nm(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function zL(t){Rv=!1,tm=!0,oi.sort(TG);try{for(fa=0;fa<oi.length;fa++){const e=oi[fa];e&&e.active!==!1&&xc(e,null,14)}}finally{fa=0,oi.length=0,QL(),tm=!1,$C=null,(oi.length||wd.length)&&zL()}}function DG(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||_n;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[h]||_n;f&&(i=n.map(p=>gr(p)?p.trim():p)),d&&(i=n.map(Dv))}let a,l=r[a=Qx(e)]||r[a=Qx(Ud(e))];!l&&s&&(l=r[a=Qx(Rf(e))]),l&&Eo(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Eo(u,t,6,i)}}function VL(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!$t(t)){const l=u=>{const h=VL(u,e,!0);h&&(a=!0,Dr(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Rn(t)&&r.set(t,null),null):(xt(s)?s.forEach(l=>o[l]=null):Dr(o,s),Rn(t)&&r.set(t,o),o)}function rk(t,e){return!t||!KO(e)?!1:(e=e.slice(2).replace(/Once$/,""),qt(t,e[0].toLowerCase()+e.slice(1))||qt(t,Rf(e))||qt(t,e))}let Xi=null,WL=null;function Kb(t){const e=Xi;return Xi=t,WL=t&&t.type.__scopeId||null,e}function AG(t,e=Xi,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&l6(-1);const s=Kb(e);let o;try{o=t(...i)}finally{Kb(s),r._d&&l6(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Vx(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:d,data:f,setupState:p,ctx:g,inheritAttrs:m}=t,y=Kb(t);let b,O;try{if(n.shapeFlag&4){const T=i||r,A=T;b=ca(u.call(A,T,h,d,p,f,g)),O=a}else{const T=e;b=ca(T.length>1?T(d,{attrs:a,slots:o,emit:l}):T(d,null)),O=e.props?a:MG(a)}}catch(T){pg.length=0,nk(T,t,1),b=Zn(rm)}let x=b;if(O&&m!==!1){const T=Object.keys(O),{shapeFlag:A}=x;T.length&&A&7&&(s&&T.some(xC)&&(O=PG(O,s)),x=jd(x,O,!1,!0))}return n.dirs&&(x=jd(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),b=x,Kb(y),b}const MG=t=>{let e;for(const n in t)(n==="class"||n==="style"||KO(n))&&((e||(e={}))[n]=t[n]);return e},PG=(t,e)=>{const n={};for(const r in t)(!xC(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function $G(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?HD(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(o[f]!==r[f]&&!rk(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?HD(r,o,u):!0:!!o;return!1}function HD(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!rk(n,s))return!0}return!1}function RG({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const LG=Symbol.for("v-ndc"),IG=t=>t.__isSuspense;function NG(t,e){e&&e.pendingBranch?xt(t)?e.effects.push(...t):e.effects.push(t):EG(t)}const FG=Symbol.for("v-scx"),BG=()=>wc(FG),w1={};function ug(t,e,n){return UL(t,e,n)}function UL(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=_n){if(e&&s){const v=e;e=(...S)=>{v(...S),A()}}const l=ai,u=v=>r===!0?v:Mu(v,r===!1?1:void 0);let h,d=!1,f=!1;if(is(t)?(h=()=>t.value,d=Hb(t)):cg(t)?(h=()=>u(t),d=!0):xt(t)?(f=!0,d=t.some(v=>cg(v)||Hb(v)),h=()=>t.map(v=>{if(is(v))return v.value;if(cg(v))return u(v);if($t(v))return xc(v,l,2)})):$t(t)?e?h=()=>xc(t,l,2):h=()=>(p&&p(),Eo(t,l,3,[g])):h=Os,e&&r){const v=h;h=()=>Mu(v())}let p,g=v=>{p=x.onStop=()=>{xc(v,l,4),p=x.onStop=void 0}},m;if(ak)if(g=Os,e?n&&Eo(e,l,3,[h(),f?[]:void 0,g]):h(),i==="sync"){const v=BG();m=v.__watcherHandles||(v.__watcherHandles=[])}else return Os;let y=f?new Array(t.length).fill(w1):w1;const b=()=>{if(!(!x.active||!x.dirty))if(e){const v=x.run();(r||d||(f?v.some((S,I)=>Fc(S,y[I])):Fc(v,y)))&&(p&&p(),Eo(e,l,3,[v,y===w1?void 0:f&&y[0]===w1?[]:y,g]),y=v)}else x.run()};b.allowRecurse=!!e;let O;i==="sync"?O=b:i==="post"?O=()=>Qi(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),O=()=>RC(b));const x=new Kg(h,Os,O),T=KH(),A=()=>{x.stop(),T&&wC(T.effects,x)};return e?n?b():y=x.run():i==="post"?Qi(x.run.bind(x),l&&l.suspense):x.run(),m&&m.push(A),A}function QG(t,e,n){const r=this.proxy,i=gr(t)?t.includes(".")?jL(r,t):()=>r[t]:t.bind(r,r);let s;$t(e)?s=e:(s=e.handler,n=e);const o=y0(this),a=UL(i,s.bind(r),n);return o(),a}function jL(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Mu(t,e=1/0,n){if(e<=0||!Rn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,is(t))Mu(t.value,e,n);else if(xt(t))for(let r=0;r<t.length;r++)Mu(t[r],e,n);else if(hL(t)||xd(t))t.forEach(r=>{Mu(r,e,n)});else if(pL(t))for(const r in t)Mu(t[r],e,n);return t}function GD(t,e){if(Xi===null)return t;const n=lk(Xi)||Xi.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=_n]=e[i];s&&($t(s)&&(s={mounted:s,updated:s}),s.deep&&Mu(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function uu(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Hc(),Eo(l,n,8,[t.el,a,t,e]),Gc())}}/*! #__NO_SIDE_EFFECTS__ */function Eh(t,e){return $t(t)?Dr({name:t.name},e,{setup:t}):t}const Ty=t=>!!t.type.__asyncLoader,qL=t=>t.type.__isKeepAlive;function zG(t,e){YL(t,"a",e)}function VG(t,e){YL(t,"da",e)}function YL(t,e,n=ai){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ik(e,r,n),n){let i=n.parent;for(;i&&i.parent;)qL(i.parent.vnode)&&WG(r,e,n,i),i=i.parent}}function WG(t,e,n,r){const i=ik(e,t,r,!0);sk(()=>{wC(r[e],i)},n)}function ik(t,e,n=ai,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Hc();const a=y0(n),l=Eo(e,n,t,o);return a(),Gc(),l});return r?i.unshift(s):i.push(s),s}}const Ll=t=>(e,n=ai)=>(!ak||t==="sp")&&ik(t,(...r)=>e(...r),n),ZL=Ll("bm"),LC=Ll("m"),UG=Ll("bu"),jG=Ll("u"),qG=Ll("bum"),sk=Ll("um"),YG=Ll("sp"),ZG=Ll("rtg"),XG=Ll("rtc");function HG(t,e=ai){ik("ec",t,e)}const Lv=t=>t?uI(t)?lk(t)||t.proxy:Lv(t.parent):null,hg=Dr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Lv(t.parent),$root:t=>Lv(t.root),$emit:t=>t.emit,$options:t=>IC(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,RC(t.update)}),$nextTick:t=>t.n||(t.n=vG.bind(t.proxy)),$watch:t=>QG.bind(t)}),Wx=(t,e)=>t!==_n&&!t.__isScriptSetup&&qt(t,e),GG={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Wx(r,e))return o[e]=1,r[e];if(i!==_n&&qt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&qt(u,e))return o[e]=3,s[e];if(n!==_n&&qt(n,e))return o[e]=4,n[e];Iv&&(o[e]=0)}}const h=hg[e];let d,f;if(h)return e==="$attrs"&&rs(t.attrs,"get",""),h(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==_n&&qt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,qt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Wx(i,e)?(i[e]=n,!0):r!==_n&&qt(r,e)?(r[e]=n,!0):qt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==_n&&qt(t,o)||Wx(e,o)||(a=s[0])&&qt(a,o)||qt(r,o)||qt(hg,o)||qt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:qt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function KD(t){return xt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Iv=!0;function KG(t){const e=IC(t),n=t.proxy,r=t.ctx;Iv=!1,e.beforeCreate&&JD(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:d,mounted:f,beforeUpdate:p,updated:g,activated:m,deactivated:y,beforeDestroy:b,beforeUnmount:O,destroyed:x,unmounted:T,render:A,renderTracked:v,renderTriggered:S,errorCaptured:I,serverPrefetch:M,expose:C,inheritAttrs:E,components:_,directives:L,filters:k}=e;if(u&&JG(u,r,null),o)for(const Q in o){const U=o[Q];$t(U)&&(r[Q]=U.bind(n))}if(i){const Q=i.call(n,n);Rn(Q)&&(t.data=AC(Q))}if(Iv=!0,s)for(const Q in s){const U=s[Q],W=$t(U)?U.bind(n,n):$t(U.get)?U.get.bind(n,n):Os,$=!$t(U)&&$t(U.set)?U.set.bind(n):Os,X=PK({get:W,set:$});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>X.value,set:Y=>X.value=Y})}if(a)for(const Q in a)XL(a[Q],r,n,Q);if(l){const Q=$t(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(U=>{e2(U,Q[U])})}h&&JD(h,t,"c");function w(Q,U){xt(U)?U.forEach(W=>Q(W.bind(n))):U&&Q(U.bind(n))}if(w(ZL,d),w(LC,f),w(UG,p),w(jG,g),w(zG,m),w(VG,y),w(HG,I),w(XG,v),w(ZG,S),w(qG,O),w(sk,T),w(YG,M),xt(C))if(C.length){const Q=t.exposed||(t.exposed={});C.forEach(U=>{Object.defineProperty(Q,U,{get:()=>n[U],set:W=>n[U]=W})})}else t.exposed||(t.exposed={});A&&t.render===Os&&(t.render=A),E!=null&&(t.inheritAttrs=E),_&&(t.components=_),L&&(t.directives=L)}function JG(t,e,n=Os){xt(t)&&(t=Nv(t));for(const r in t){const i=t[r];let s;Rn(i)?"default"in i?s=wc(i.from||r,i.default,!0):s=wc(i.from||r):s=wc(i),is(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function JD(t,e,n){Eo(xt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function XL(t,e,n,r){const i=r.includes(".")?jL(n,r):()=>n[r];if(gr(t)){const s=e[t];$t(s)&&ug(i,s)}else if($t(t))ug(i,t.bind(n));else if(Rn(t))if(xt(t))t.forEach(s=>XL(s,e,n,r));else{const s=$t(t.handler)?t.handler.bind(n):e[t.handler];$t(s)&&ug(i,s,t)}}function IC(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Jb(l,u,o,!0)),Jb(l,e,o)),Rn(e)&&s.set(e,l),l}function Jb(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Jb(t,s,n,!0),i&&i.forEach(o=>Jb(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=eK[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const eK={data:e6,props:t6,emits:t6,methods:Ap,computed:Ap,beforeCreate:ki,created:ki,beforeMount:ki,mounted:ki,beforeUpdate:ki,updated:ki,beforeDestroy:ki,beforeUnmount:ki,destroyed:ki,unmounted:ki,activated:ki,deactivated:ki,errorCaptured:ki,serverPrefetch:ki,components:Ap,directives:Ap,watch:nK,provide:e6,inject:tK};function e6(t,e){return e?t?function(){return Dr($t(t)?t.call(this,this):t,$t(e)?e.call(this,this):e)}:e:t}function tK(t,e){return Ap(Nv(t),Nv(e))}function Nv(t){if(xt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ki(t,e){return t?[...new Set([].concat(t,e))]:e}function Ap(t,e){return t?Dr(Object.create(null),t,e):e}function t6(t,e){return t?xt(t)&&xt(e)?[...new Set([...t,...e])]:Dr(Object.create(null),KD(t),KD(e??{})):e}function nK(t,e){if(!t)return e;if(!e)return t;const n=Dr(Object.create(null),t);for(const r in e)n[r]=ki(t[r],e[r]);return n}function HL(){return{app:null,config:{isNativeTag:BH,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rK=0;function iK(t,e){return function(r,i=null){$t(r)||(r=Dr({},r)),i!=null&&!Rn(i)&&(i=null);const s=HL(),o=new WeakSet;let a=!1;const l=s.app={_uid:rK++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:$K,get config(){return s.config},set config(u){},use(u,...h){return o.has(u)||(u&&$t(u.install)?(o.add(u),u.install(l,...h)):$t(u)&&(o.add(u),u(l,...h))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,h){return h?(s.components[u]=h,l):s.components[u]},directive(u,h){return h?(s.directives[u]=h,l):s.directives[u]},mount(u,h,d){if(!a){const f=Zn(r,i);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,lk(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,h){return s.provides[u]=h,l},runWithContext(u){const h=dg;dg=l;try{return u()}finally{dg=h}}};return l}}let dg=null;function e2(t,e){if(ai){let n=ai.provides;const r=ai.parent&&ai.parent.provides;r===n&&(n=ai.provides=Object.create(r)),n[t]=e}}function wc(t,e,n=!1){const r=ai||Xi;if(r||dg){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:dg._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&$t(e)?e.call(r&&r.proxy):e}}const GL={},KL=()=>Object.create(GL),JL=t=>Object.getPrototypeOf(t)===GL;function sK(t,e,n,r=!1){const i={},s=KL();t.propsDefaults=Object.create(null),eI(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:ML(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function oK(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=rn(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(rk(t.emitsOptions,f))continue;const p=e[f];if(l)if(qt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=Ud(f);i[g]=Fv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{eI(t,e,i,s)&&(u=!0);let h;for(const d in a)(!e||!qt(e,d)&&((h=Rf(d))===d||!qt(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(i[d]=Fv(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!qt(e,d))&&(delete s[d],u=!0)}u&&yl(t.attrs,"set","")}function eI(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(lg(l))continue;const u=e[l];let h;i&&qt(i,h=Ud(l))?!s||!s.includes(h)?n[h]=u:(a||(a={}))[h]=u:rk(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=rn(n),u=a||_n;for(let h=0;h<s.length;h++){const d=s[h];n[d]=Fv(i,l,d,u[d],t,!qt(u,d))}}return o}function Fv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=qt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&$t(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const h=y0(i);r=u[n]=l.call(null,e),h()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Rf(n))&&(r=!0))}return r}function tI(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!$t(t)){const h=d=>{l=!0;const[f,p]=tI(d,e,!0);Dr(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return Rn(t)&&r.set(t,kd),kd;if(xt(s))for(let h=0;h<s.length;h++){const d=Ud(s[h]);n6(d)&&(o[d]=_n)}else if(s)for(const h in s){const d=Ud(h);if(n6(d)){const f=s[h],p=o[d]=xt(f)||$t(f)?{type:f}:Dr({},f);if(p){const g=s6(Boolean,p.type),m=s6(String,p.type);p[0]=g>-1,p[1]=m<0||g<m,(g>-1||qt(p,"default"))&&a.push(d)}}}const u=[o,a];return Rn(t)&&r.set(t,u),u}function n6(t){return t[0]!=="$"&&!lg(t)}function r6(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function i6(t,e){return r6(t)===r6(e)}function s6(t,e){return xt(e)?e.findIndex(n=>i6(n,t)):$t(e)&&i6(e,t)?0:-1}const nI=t=>t[0]==="_"||t==="$stable",NC=t=>xt(t)?t.map(ca):[ca(t)],aK=(t,e,n)=>{if(e._n)return e;const r=AG((...i)=>NC(e(...i)),n);return r._c=!1,r},rI=(t,e,n)=>{const r=t._ctx;for(const i in t){if(nI(i))continue;const s=t[i];if($t(s))e[i]=aK(i,s,r);else if(s!=null){const o=NC(s);e[i]=()=>o}}},iI=(t,e)=>{const n=NC(e);t.slots.default=()=>n},lK=(t,e)=>{const n=t.slots=KL();if(t.vnode.shapeFlag&32){const r=e._;r?(Dr(n,e),mL(n,"_",r,!0)):rI(e,n)}else e&&iI(t,e)},cK=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=_n;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Dr(i,e),!n&&a===1&&delete i._):(s=!e.$stable,rI(e,i)),o=e}else e&&(iI(t,e),o={default:1});if(s)for(const a in i)!nI(a)&&o[a]==null&&delete i[a]};function Bv(t,e,n,r,i=!1){if(xt(t)){t.forEach((f,p)=>Bv(f,e&&(xt(e)?e[p]:e),n,r,i));return}if(Ty(r)&&!i)return;const s=r.shapeFlag&4?lk(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,h=a.refs===_n?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(gr(u)?(h[u]=null,qt(d,u)&&(d[u]=null)):is(u)&&(u.value=null)),$t(l))xc(l,a,12,[o,h]);else{const f=gr(l),p=is(l);if(f||p){const g=()=>{if(t.f){const m=f?qt(d,l)?d[l]:h[l]:l.value;i?xt(m)&&wC(m,s):xt(m)?m.includes(s)||m.push(s):f?(h[l]=[s],qt(d,l)&&(d[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else f?(h[l]=o,qt(d,l)&&(d[l]=o)):p&&(l.value=o,t.k&&(h[t.k]=o))};o?(g.id=-1,Qi(g,n)):g()}}}const Qi=NG;function uK(t){return hK(t)}function hK(t,e){const n=yL();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:f,setScopeId:p=Os,insertStaticContent:g}=t,m=(D,F,R,Z=null,P=null,ye=null,q=void 0,de=null,ce=!!F.dynamicChildren)=>{if(D===F)return;D&&!ip(D,F)&&(Z=Te(D),Y(D,P,ye,!0),D=null),F.patchFlag===-2&&(ce=!1,F.dynamicChildren=null);const{type:te,ref:se,shapeFlag:fe}=F;switch(te){case ok:y(D,F,R,Z);break;case rm:b(D,F,R,Z);break;case jx:D==null&&O(F,R,Z,q);break;case rl:_(D,F,R,Z,P,ye,q,de,ce);break;default:fe&1?A(D,F,R,Z,P,ye,q,de,ce):fe&6?L(D,F,R,Z,P,ye,q,de,ce):(fe&64||fe&128)&&te.process(D,F,R,Z,P,ye,q,de,ce,H)}se!=null&&P&&Bv(se,D&&D.ref,ye,F||D,!F)},y=(D,F,R,Z)=>{if(D==null)r(F.el=a(F.children),R,Z);else{const P=F.el=D.el;F.children!==D.children&&u(P,F.children)}},b=(D,F,R,Z)=>{D==null?r(F.el=l(F.children||""),R,Z):F.el=D.el},O=(D,F,R,Z)=>{[D.el,D.anchor]=g(D.children,F,R,Z,D.el,D.anchor)},x=({el:D,anchor:F},R,Z)=>{let P;for(;D&&D!==F;)P=f(D),r(D,R,Z),D=P;r(F,R,Z)},T=({el:D,anchor:F})=>{let R;for(;D&&D!==F;)R=f(D),i(D),D=R;i(F)},A=(D,F,R,Z,P,ye,q,de,ce)=>{F.type==="svg"?q="svg":F.type==="math"&&(q="mathml"),D==null?v(F,R,Z,P,ye,q,de,ce):M(D,F,P,ye,q,de,ce)},v=(D,F,R,Z,P,ye,q,de)=>{let ce,te;const{props:se,shapeFlag:fe,transition:le,dirs:me}=D;if(ce=D.el=o(D.type,ye,se&&se.is,se),fe&8?h(ce,D.children):fe&16&&I(D.children,ce,null,Z,P,Ux(D,ye),q,de),me&&uu(D,null,Z,"created"),S(ce,D,D.scopeId,q,Z),se){for(const be in se)be!=="value"&&!lg(be)&&s(ce,be,null,se[be],ye,D.children,Z,P,j);"value"in se&&s(ce,"value",null,se.value,ye),(te=se.onVnodeBeforeMount)&&Xo(te,Z,D)}me&&uu(D,null,Z,"beforeMount");const oe=dK(P,le);oe&&le.beforeEnter(ce),r(ce,F,R),((te=se&&se.onVnodeMounted)||oe||me)&&Qi(()=>{te&&Xo(te,Z,D),oe&&le.enter(ce),me&&uu(D,null,Z,"mounted")},P)},S=(D,F,R,Z,P)=>{if(R&&p(D,R),Z)for(let ye=0;ye<Z.length;ye++)p(D,Z[ye]);if(P){let ye=P.subTree;if(F===ye){const q=P.vnode;S(D,q,q.scopeId,q.slotScopeIds,P.parent)}}},I=(D,F,R,Z,P,ye,q,de,ce=0)=>{for(let te=ce;te<D.length;te++){const se=D[te]=de?tc(D[te]):ca(D[te]);m(null,se,F,R,Z,P,ye,q,de)}},M=(D,F,R,Z,P,ye,q)=>{const de=F.el=D.el;let{patchFlag:ce,dynamicChildren:te,dirs:se}=F;ce|=D.patchFlag&16;const fe=D.props||_n,le=F.props||_n;let me;if(R&&hu(R,!1),(me=le.onVnodeBeforeUpdate)&&Xo(me,R,F,D),se&&uu(F,D,R,"beforeUpdate"),R&&hu(R,!0),te?C(D.dynamicChildren,te,de,R,Z,Ux(F,P),ye):q||U(D,F,de,null,R,Z,Ux(F,P),ye,!1),ce>0){if(ce&16)E(de,F,fe,le,R,Z,P);else if(ce&2&&fe.class!==le.class&&s(de,"class",null,le.class,P),ce&4&&s(de,"style",fe.style,le.style,P),ce&8){const oe=F.dynamicProps;for(let be=0;be<oe.length;be++){const _e=oe[be],Ee=fe[_e],Ie=le[_e];(Ie!==Ee||_e==="value")&&s(de,_e,Ee,Ie,P,D.children,R,Z,j)}}ce&1&&D.children!==F.children&&h(de,F.children)}else!q&&te==null&&E(de,F,fe,le,R,Z,P);((me=le.onVnodeUpdated)||se)&&Qi(()=>{me&&Xo(me,R,F,D),se&&uu(F,D,R,"updated")},Z)},C=(D,F,R,Z,P,ye,q)=>{for(let de=0;de<F.length;de++){const ce=D[de],te=F[de],se=ce.el&&(ce.type===rl||!ip(ce,te)||ce.shapeFlag&70)?d(ce.el):R;m(ce,te,se,null,Z,P,ye,q,!0)}},E=(D,F,R,Z,P,ye,q)=>{if(R!==Z){if(R!==_n)for(const de in R)!lg(de)&&!(de in Z)&&s(D,de,R[de],null,q,F.children,P,ye,j);for(const de in Z){if(lg(de))continue;const ce=Z[de],te=R[de];ce!==te&&de!=="value"&&s(D,de,te,ce,q,F.children,P,ye,j)}"value"in Z&&s(D,"value",R.value,Z.value,q)}},_=(D,F,R,Z,P,ye,q,de,ce)=>{const te=F.el=D?D.el:a(""),se=F.anchor=D?D.anchor:a("");let{patchFlag:fe,dynamicChildren:le,slotScopeIds:me}=F;me&&(de=de?de.concat(me):me),D==null?(r(te,R,Z),r(se,R,Z),I(F.children||[],R,se,P,ye,q,de,ce)):fe>0&&fe&64&&le&&D.dynamicChildren?(C(D.dynamicChildren,le,R,P,ye,q,de),(F.key!=null||P&&F===P.subTree)&&FC(D,F,!0)):U(D,F,R,se,P,ye,q,de,ce)},L=(D,F,R,Z,P,ye,q,de,ce)=>{F.slotScopeIds=de,D==null?F.shapeFlag&512?P.ctx.activate(F,R,Z,q,ce):k(F,R,Z,P,ye,q,ce):B(D,F,ce)},k=(D,F,R,Z,P,ye,q)=>{const de=D.component=SK(D,Z,P);if(qL(D)&&(de.ctx.renderer=H),EK(de),de.asyncDep){if(P&&P.registerDep(de,w),!D.el){const ce=de.subTree=Zn(rm);b(null,ce,F,R)}}else w(de,D,F,R,P,ye,q)},B=(D,F,R)=>{const Z=F.component=D.component;if($G(D,F,R))if(Z.asyncDep&&!Z.asyncResolved){Q(Z,F,R);return}else Z.next=F,CG(Z.update),Z.effect.dirty=!0,Z.update();else F.el=D.el,Z.vnode=F},w=(D,F,R,Z,P,ye,q)=>{const de=()=>{if(D.isMounted){let{next:se,bu:fe,u:le,parent:me,vnode:oe}=D;{const lt=sI(D);if(lt){se&&(se.el=oe.el,Q(D,se,q)),lt.asyncDep.then(()=>{D.isUnmounted||de()});return}}let be=se,_e;hu(D,!1),se?(se.el=oe.el,Q(D,se,q)):se=oe,fe&&Cy(fe),(_e=se.props&&se.props.onVnodeBeforeUpdate)&&Xo(_e,me,se,oe),hu(D,!0);const Ee=Vx(D),Ie=D.subTree;D.subTree=Ee,m(Ie,Ee,d(Ie.el),Te(Ie),D,P,ye),se.el=Ee.el,be===null&&RG(D,Ee.el),le&&Qi(le,P),(_e=se.props&&se.props.onVnodeUpdated)&&Qi(()=>Xo(_e,me,se,oe),P)}else{let se;const{el:fe,props:le}=F,{bm:me,m:oe,parent:be}=D,_e=Ty(F);if(hu(D,!1),me&&Cy(me),!_e&&(se=le&&le.onVnodeBeforeMount)&&Xo(se,be,F),hu(D,!0),fe&&z){const Ee=()=>{D.subTree=Vx(D),z(fe,D.subTree,D,P,null)};_e?F.type.__asyncLoader().then(()=>!D.isUnmounted&&Ee()):Ee()}else{const Ee=D.subTree=Vx(D);m(null,Ee,R,Z,D,P,ye),F.el=Ee.el}if(oe&&Qi(oe,P),!_e&&(se=le&&le.onVnodeMounted)){const Ee=F;Qi(()=>Xo(se,be,Ee),P)}(F.shapeFlag&256||be&&Ty(be.vnode)&&be.vnode.shapeFlag&256)&&D.a&&Qi(D.a,P),D.isMounted=!0,F=R=Z=null}},ce=D.effect=new Kg(de,Os,()=>RC(te),D.scope),te=D.update=()=>{ce.dirty&&ce.run()};te.id=D.uid,hu(D,!0),te()},Q=(D,F,R)=>{F.component=D;const Z=D.vnode.props;D.vnode=F,D.next=null,oK(D,F.props,Z,R),cK(D,F.children,R),Hc(),XD(D),Gc()},U=(D,F,R,Z,P,ye,q,de,ce=!1)=>{const te=D&&D.children,se=D?D.shapeFlag:0,fe=F.children,{patchFlag:le,shapeFlag:me}=F;if(le>0){if(le&128){$(te,fe,R,Z,P,ye,q,de,ce);return}else if(le&256){W(te,fe,R,Z,P,ye,q,de,ce);return}}me&8?(se&16&&j(te,P,ye),fe!==te&&h(R,fe)):se&16?me&16?$(te,fe,R,Z,P,ye,q,de,ce):j(te,P,ye,!0):(se&8&&h(R,""),me&16&&I(fe,R,Z,P,ye,q,de,ce))},W=(D,F,R,Z,P,ye,q,de,ce)=>{D=D||kd,F=F||kd;const te=D.length,se=F.length,fe=Math.min(te,se);let le;for(le=0;le<fe;le++){const me=F[le]=ce?tc(F[le]):ca(F[le]);m(D[le],me,R,null,P,ye,q,de,ce)}te>se?j(D,P,ye,!0,!1,fe):I(F,R,Z,P,ye,q,de,ce,fe)},$=(D,F,R,Z,P,ye,q,de,ce)=>{let te=0;const se=F.length;let fe=D.length-1,le=se-1;for(;te<=fe&&te<=le;){const me=D[te],oe=F[te]=ce?tc(F[te]):ca(F[te]);if(ip(me,oe))m(me,oe,R,null,P,ye,q,de,ce);else break;te++}for(;te<=fe&&te<=le;){const me=D[fe],oe=F[le]=ce?tc(F[le]):ca(F[le]);if(ip(me,oe))m(me,oe,R,null,P,ye,q,de,ce);else break;fe--,le--}if(te>fe){if(te<=le){const me=le+1,oe=me<se?F[me].el:Z;for(;te<=le;)m(null,F[te]=ce?tc(F[te]):ca(F[te]),R,oe,P,ye,q,de,ce),te++}}else if(te>le)for(;te<=fe;)Y(D[te],P,ye,!0),te++;else{const me=te,oe=te,be=new Map;for(te=oe;te<=le;te++){const ve=F[te]=ce?tc(F[te]):ca(F[te]);ve.key!=null&&be.set(ve.key,te)}let _e,Ee=0;const Ie=le-oe+1;let lt=!1,Ge=0;const Ve=new Array(Ie);for(te=0;te<Ie;te++)Ve[te]=0;for(te=me;te<=fe;te++){const ve=D[te];if(Ee>=Ie){Y(ve,P,ye,!0);continue}let Oe;if(ve.key!=null)Oe=be.get(ve.key);else for(_e=oe;_e<=le;_e++)if(Ve[_e-oe]===0&&ip(ve,F[_e])){Oe=_e;break}Oe===void 0?Y(ve,P,ye,!0):(Ve[Oe-oe]=te+1,Oe>=Ge?Ge=Oe:lt=!0,m(ve,F[Oe],R,null,P,ye,q,de,ce),Ee++)}const Fe=lt?fK(Ve):kd;for(_e=Fe.length-1,te=Ie-1;te>=0;te--){const ve=oe+te,Oe=F[ve],Pe=ve+1<se?F[ve+1].el:Z;Ve[te]===0?m(null,Oe,R,Pe,P,ye,q,de,ce):lt&&(_e<0||te!==Fe[_e]?X(Oe,R,Pe,2):_e--)}}},X=(D,F,R,Z,P=null)=>{const{el:ye,type:q,transition:de,children:ce,shapeFlag:te}=D;if(te&6){X(D.component.subTree,F,R,Z);return}if(te&128){D.suspense.move(F,R,Z);return}if(te&64){q.move(D,F,R,H);return}if(q===rl){r(ye,F,R);for(let fe=0;fe<ce.length;fe++)X(ce[fe],F,R,Z);r(D.anchor,F,R);return}if(q===jx){x(D,F,R);return}if(Z!==2&&te&1&&de)if(Z===0)de.beforeEnter(ye),r(ye,F,R),Qi(()=>de.enter(ye),P);else{const{leave:fe,delayLeave:le,afterLeave:me}=de,oe=()=>r(ye,F,R),be=()=>{fe(ye,()=>{oe(),me&&me()})};le?le(ye,oe,be):be()}else r(ye,F,R)},Y=(D,F,R,Z=!1,P=!1)=>{const{type:ye,props:q,ref:de,children:ce,dynamicChildren:te,shapeFlag:se,patchFlag:fe,dirs:le}=D;if(de!=null&&Bv(de,null,R,D,!0),se&256){F.ctx.deactivate(D);return}const me=se&1&&le,oe=!Ty(D);let be;if(oe&&(be=q&&q.onVnodeBeforeUnmount)&&Xo(be,F,D),se&6)ge(D.component,R,Z);else{if(se&128){D.suspense.unmount(R,Z);return}me&&uu(D,null,F,"beforeUnmount"),se&64?D.type.remove(D,F,R,P,H,Z):te&&(ye!==rl||fe>0&&fe&64)?j(te,F,R,!1,!0):(ye===rl&&fe&384||!P&&se&16)&&j(ce,F,R),Z&&N(D)}(oe&&(be=q&&q.onVnodeUnmounted)||me)&&Qi(()=>{be&&Xo(be,F,D),me&&uu(D,null,F,"unmounted")},R)},N=D=>{const{type:F,el:R,anchor:Z,transition:P}=D;if(F===rl){he(R,Z);return}if(F===jx){T(D);return}const ye=()=>{i(R),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(D.shapeFlag&1&&P&&!P.persisted){const{leave:q,delayLeave:de}=P,ce=()=>q(R,ye);de?de(D.el,ye,ce):ce()}else ye()},he=(D,F)=>{let R;for(;D!==F;)R=f(D),i(D),D=R;i(F)},ge=(D,F,R)=>{const{bum:Z,scope:P,update:ye,subTree:q,um:de}=D;Z&&Cy(Z),P.stop(),ye&&(ye.active=!1,Y(q,D,F,R)),de&&Qi(de,F),Qi(()=>{D.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},j=(D,F,R,Z=!1,P=!1,ye=0)=>{for(let q=ye;q<D.length;q++)Y(D[q],F,R,Z,P)},Te=D=>D.shapeFlag&6?Te(D.component.subTree):D.shapeFlag&128?D.suspense.next():f(D.anchor||D.el);let K=!1;const ee=(D,F,R)=>{D==null?F._vnode&&Y(F._vnode,null,null,!0):m(F._vnode||null,D,F,null,null,null,R),K||(K=!0,XD(),QL(),K=!1),F._vnode=D},H={p:m,um:Y,m:X,r:N,mt:k,mc:I,pc:U,pbc:C,n:Te,o:t};let G,z;return{render:ee,hydrate:G,createApp:iK(ee,G)}}function Ux({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function hu({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function dK(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function FC(t,e,n=!1){const r=t.children,i=e.children;if(xt(r)&&xt(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=tc(i[s]),a.el=o.el),n||FC(o,a)),a.type===ok&&(a.el=o.el)}}function fK(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function sI(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:sI(e)}const pK=t=>t.__isTeleport,fg=t=>t&&(t.disabled||t.disabled===""),o6=t=>typeof SVGElement<"u"&&t instanceof SVGElement,a6=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Qv=(t,e)=>{const n=t&&t.to;return gr(n)?e?e(n):null:n},gK={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:h,pc:d,pbc:f,o:{insert:p,querySelector:g,createText:m,createComment:y}}=u,b=fg(e.props);let{shapeFlag:O,children:x,dynamicChildren:T}=e;if(t==null){const A=e.el=m(""),v=e.anchor=m("");p(A,n,r),p(v,n,r);const S=e.target=Qv(e.props,g),I=e.targetAnchor=m("");S&&(p(I,S),o==="svg"||o6(S)?o="svg":(o==="mathml"||a6(S))&&(o="mathml"));const M=(C,E)=>{O&16&&h(x,C,E,i,s,o,a,l)};b?M(n,v):S&&M(S,I)}else{e.el=t.el;const A=e.anchor=t.anchor,v=e.target=t.target,S=e.targetAnchor=t.targetAnchor,I=fg(t.props),M=I?n:v,C=I?A:S;if(o==="svg"||o6(v)?o="svg":(o==="mathml"||a6(v))&&(o="mathml"),T?(f(t.dynamicChildren,T,M,i,s,o,a),FC(t,e,!0)):l||d(t,e,M,C,i,s,o,a,!1),b)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):_1(e,n,A,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const E=e.target=Qv(e.props,g);E&&_1(e,E,null,u,0)}else I&&_1(e,v,S,u,1)}oI(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:h,target:d,props:f}=t;if(d&&s(h),o&&s(u),a&16){const p=o||!fg(f);for(let g=0;g<l.length;g++){const m=l[g];i(m,e,n,p,!!m.dynamicChildren)}}},move:_1,hydrate:mK};function _1(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:h}=t,d=s===2;if(d&&r(o,e,n),(!d||fg(h))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(a,e,n)}function mK(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const h=e.target=Qv(e.props,l);if(h){const d=h._lpa||h.firstChild;if(e.shapeFlag&16)if(fg(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,h,n,r,i,s)}oI(e)}return e.anchor&&o(e.anchor)}const yK=gK;function oI(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const rl=Symbol.for("v-fgt"),ok=Symbol.for("v-txt"),rm=Symbol.for("v-cmt"),jx=Symbol.for("v-stc"),pg=[];let xo=null;function aI(t=!1){pg.push(xo=t?null:[])}function bK(){pg.pop(),xo=pg[pg.length-1]||null}let im=1;function l6(t){im+=t}function OK(t){return t.dynamicChildren=im>0?xo||kd:null,bK(),im>0&&xo&&xo.push(t),t}function lI(t,e,n,r,i,s){return OK(ps(t,e,n,r,i,s,!0))}function t2(t){return t?t.__v_isVNode===!0:!1}function ip(t,e){return t.type===e.type&&t.key===e.key}const cI=({key:t})=>t??null,Dy=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?gr(t)||is(t)||$t(t)?{i:Xi,r:t,k:e,f:!!n}:t:null);function ps(t,e=null,n=null,r=0,i=null,s=t===rl?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cI(e),ref:e&&Dy(e),scopeId:WL,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xi};return a?(BC(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=gr(n)?8:16),im>0&&!o&&xo&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&xo.push(l),l}const Zn=kK;function kK(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===LG)&&(t=rm),t2(t)){const a=jd(t,e,!0);return n&&BC(a,n),im>0&&!s&&xo&&(a.shapeFlag&6?xo[xo.indexOf(t)]=a:xo.push(a)),a.patchFlag|=-2,a}if(MK(t)&&(t=t.__vccOpts),e){e=xK(e);let{class:a,style:l}=e;a&&!gr(a)&&(e.class=SC(a)),Rn(l)&&($L(l)&&!xt(l)&&(l=Dr({},l)),e.style=vC(l))}const o=gr(t)?1:IG(t)?128:pK(t)?64:Rn(t)?4:$t(t)?2:0;return ps(t,e,n,r,i,o,s,!0)}function xK(t){return t?$L(t)||JL(t)?Dr({},t):t:null}function jd(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?wK(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&cI(u),ref:e&&e.ref?n&&s?xt(s)?s.concat(Dy(e)):[s,Dy(e)]:Dy(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==rl?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jd(t.ssContent),ssFallback:t.ssFallback&&jd(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&(h.transition=l.clone(h)),h}function zv(t=" ",e=0){return Zn(ok,null,t,e)}function ca(t){return t==null||typeof t=="boolean"?Zn(rm):xt(t)?Zn(rl,null,t.slice()):typeof t=="object"?tc(t):Zn(ok,null,String(t))}function tc(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jd(t)}function BC(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(xt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),BC(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!JL(e)?e._ctx=Xi:i===3&&Xi&&(Xi.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else $t(e)?(e={default:e,_ctx:Xi},n=32):(e=String(e),r&64?(n=16,e=[zv(e)]):n=8);t.children=e,t.shapeFlag|=n}function wK(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=SC([e.class,r.class]));else if(i==="style")e.style=vC([e.style,r.style]);else if(KO(i)){const s=e[i],o=r[i];o&&s!==o&&!(xt(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Xo(t,e,n,r=null){Eo(t,e,7,[n,r])}const _K=HL();let vK=0;function SK(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||_K,s={uid:vK++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new HH(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tI(r,i),emitsOptions:VL(r,i),emit:null,emitted:null,propsDefaults:_n,inheritAttrs:r.inheritAttrs,ctx:_n,data:_n,props:_n,attrs:_n,slots:_n,refs:_n,setupState:_n,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=DG.bind(null,s),t.ce&&t.ce(s),s}let ai=null;const CK=()=>ai||Xi;let n2,Vv;{const t=yL(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};n2=e("__VUE_INSTANCE_SETTERS__",n=>ai=n),Vv=e("__VUE_SSR_SETTERS__",n=>ak=n)}const y0=t=>{const e=ai;return n2(t),t.scope.on(),()=>{t.scope.off(),n2(e)}},c6=()=>{ai&&ai.scope.off(),n2(null)};function uI(t){return t.vnode.shapeFlag&4}let ak=!1;function EK(t,e=!1){e&&Vv(e);const{props:n,children:r}=t.vnode,i=uI(t);sK(t,n,i,e),lK(t,r);const s=i?TK(t,e):void 0;return e&&Vv(!1),s}function TK(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,GG);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?AK(t):null,s=y0(t);Hc();const o=xc(r,t,0,[t.props,i]);if(Gc(),s(),dL(o)){if(o.then(c6,c6),e)return o.then(a=>{u6(t,a,e)}).catch(a=>{nk(a,t,0)});t.asyncDep=o}else u6(t,o,e)}else hI(t,e)}function u6(t,e,n){$t(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Rn(e)&&(t.setupState=NL(e)),hI(t,n)}let h6;function hI(t,e,n){const r=t.type;if(!t.render){if(!e&&h6&&!r.render){const i=r.template||IC(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Dr(Dr({isCustomElement:s,delimiters:a},o),l);r.render=h6(i,u)}}t.render=r.render||Os}{const i=y0(t);Hc();try{KG(t)}finally{Gc(),i()}}}const DK={get(t,e){return rs(t,"get",""),t[e]}};function AK(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,DK),slots:t.slots,emit:t.emit,expose:e}}function lk(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(NL(Gb(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in hg)return hg[n](t)},has(e,n){return n in e||n in hg}}))}function MK(t){return $t(t)&&"__vccOpts"in t}const PK=(t,e)=>OG(t,e,ak);function gg(t,e,n){const r=arguments.length;return r===2?Rn(e)&&!xt(e)?t2(e)?Zn(t,null,[e]):Zn(t,e):Zn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&t2(n)&&(n=[n]),Zn(t,e,n))}const $K="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const RK="http://www.w3.org/2000/svg",LK="http://www.w3.org/1998/Math/MathML",nc=typeof document<"u"?document:null,d6=nc&&nc.createElement("template"),IK={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?nc.createElementNS(RK,t):e==="mathml"?nc.createElementNS(LK,t):nc.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>nc.createTextNode(t),createComment:t=>nc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>nc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{d6.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=d6.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},NK=Symbol("_vtc");function FK(t,e,n){const r=t[NK];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const f6=Symbol("_vod"),BK=Symbol("_vsh"),QK=Symbol(""),zK=/(^|;)\s*display\s*:/;function VK(t,e,n){const r=t.style,i=gr(n);let s=!1;if(n&&!i){if(e)if(gr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Ay(r,a,"")}else for(const o in e)n[o]==null&&Ay(r,o,"");for(const o in n)o==="display"&&(s=!0),Ay(r,o,n[o])}else if(i){if(e!==n){const o=r[QK];o&&(n+=";"+o),r.cssText=n,s=zK.test(n)}}else e&&t.removeAttribute("style");f6 in t&&(t[f6]=s?r.display:"",t[BK]&&(r.display="none"))}const p6=/\s*!important$/;function Ay(t,e,n){if(xt(n))n.forEach(r=>Ay(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=WK(t,e);p6.test(n)?t.setProperty(Rf(r),n.replace(p6,""),"important"):t[r]=n}}const g6=["Webkit","Moz","ms"],qx={};function WK(t,e){const n=qx[e];if(n)return n;let r=Ud(e);if(r!=="filter"&&r in t)return qx[e]=r;r=gL(r);for(let i=0;i<g6.length;i++){const s=g6[i]+r;if(s in t)return qx[e]=s}return e}const m6="http://www.w3.org/1999/xlink";function UK(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(m6,e.slice(6,e.length)):t.setAttributeNS(m6,e,n);else{const s=XH(e);n==null||s&&!bL(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function jK(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,h=n??"";(u!==h||!("_value"in t))&&(t.value=h),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=bL(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Yh(t,e,n,r){t.addEventListener(e,n,r)}function qK(t,e,n,r){t.removeEventListener(e,n,r)}const y6=Symbol("_vei");function YK(t,e,n,r,i=null){const s=t[y6]||(t[y6]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=ZK(e);if(r){const u=s[e]=GK(r,i);Yh(t,a,u,l)}else o&&(qK(t,a,o,l),s[e]=void 0)}}const b6=/(?:Once|Passive|Capture)$/;function ZK(t){let e;if(b6.test(t)){e={};let r;for(;r=t.match(b6);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rf(t.slice(2)),e]}let Yx=0;const XK=Promise.resolve(),HK=()=>Yx||(XK.then(()=>Yx=0),Yx=Date.now());function GK(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Eo(KK(r,n.value),e,5,[r])};return n.value=t,n.attached=HK(),n}function KK(t,e){if(xt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const O6=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,JK=(t,e,n,r,i,s,o,a,l)=>{const u=i==="svg";e==="class"?FK(t,r,u):e==="style"?VK(t,n,r):KO(e)?xC(e)||YK(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):eJ(t,e,r,u))?jK(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),UK(t,e,r,u))};function eJ(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&O6(e)&&$t(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return O6(e)&&gr(n)?!1:e in t}const k6=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xt(e)?n=>Cy(e,n):e};function tJ(t){t.target.composing=!0}function x6(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Zx=Symbol("_assign"),w6={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Zx]=k6(i);const s=r||i.props&&i.props.type==="number";Yh(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Dv(a)),t[Zx](a)}),n&&Yh(t,"change",()=>{t.value=t.value.trim()}),e||(Yh(t,"compositionstart",tJ),Yh(t,"compositionend",x6),Yh(t,"change",x6))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Zx]=k6(s),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?Dv(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},nJ=Dr({patchProp:JK},IK);let _6;function rJ(){return _6||(_6=uK(nJ))}const iJ=(...t)=>{const e=rJ().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=oJ(r);if(!i)return;const s=e._component;!$t(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,sJ(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function sJ(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function oJ(t){return gr(t)?document.querySelector(t):t}var aJ=Object.defineProperty,lJ=(t,e,n)=>e in t?aJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cJ=(t,e,n)=>(lJ(t,e+"",n),n),Ar=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.themeMustInstalled="themeMustInstalled",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.missingIcon="missingIcon",t.vueRendererCallOutOfScope="vueRendererCallOutOfScope",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t.repeatCallsToMenuWrapperInit="repeatCallsToMenuWrapperInit",t.missingMenuWrapper="missingMenuWrapper",t))(Ar||{});let Zr=class extends Error{constructor(e,n){super(n),cJ(this,"code"),this.name="MilkdownError",this.code=e}};const uJ=(t,e)=>typeof e=="function"?"[Function]":e,qd=t=>JSON.stringify(t,uJ),hJ=t=>new Zr(Ar.docTypeError,`Doc type error, unsupported type: ${qd(t)}`),dJ=t=>new Zr(Ar.contextNotFound,`Context "${t}" not found, do you forget to inject it?`),fJ=t=>new Zr(Ar.timerNotFound,`Timer "${t}" not found, do you forget to record it?`),pJ=()=>new Zr(Ar.ctxCallOutOfScope,"Should not call a context out of the plugin."),gJ=(...t)=>{const e=t.reduce((n,r)=>{if(!r)return n;const i=s=>Array.isArray(s)?s.map(o=>i(o)).join(", "):s.toJSON?qd(s.toJSON()):s.spec?qd(s.spec):s.toString();return`${n}, ${i(r)}`},"Create prosemirror node from remark failed in parser");return new Zr(Ar.createNodeInParserFail,e)},dI=()=>new Zr(Ar.stackOverFlow,"Stack over flow, cannot pop on an empty stack."),mJ=t=>new Zr(Ar.parserMatchError,`Cannot match target parser for node: ${qd(t)}.`),yJ=t=>new Zr(Ar.serializerMatchError,`Cannot match target serializer for node: ${qd(t)}.`),bJ=(t,e)=>new Zr(Ar.getAtomFromSchemaFail,`Cannot get ${t}: ${e} from schema.`),Yr=t=>new Zr(Ar.expectDomTypeError,`Expect to be a dom, but get: ${qd(t)}.`),OJ=()=>new Zr(Ar.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized"),v6=()=>new Zr(Ar.themeMustInstalled,"It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`."),Mi=()=>new Zr(Ar.missingRootElement,"Missing root element, milkdown cannot find root element of the editor."),kJ=t=>new Zr(Ar.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${t}" in schema.`),fI=t=>new Zr(Ar.missingIcon,`Missing icon in theme, milkdown cannot find icon "${t}" in theme.`),xJ=()=>new Zr(Ar.vueRendererCallOutOfScope,"Should not call vue renderer before it has been created."),wJ=()=>new Zr(Ar.missingMenuWrapper,"Missing menu wrapper, should init menu wrapper first.");var _J=Object.defineProperty,vJ=(t,e,n)=>e in t?_J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cn=(t,e,n)=>(vJ(t,typeof e!="symbol"?e+"":e,n),n),pI=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Qs=(t,e,n)=>(pI(t,e,"read from private field"),n?n.call(t):e.get(t)),Bc=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Qc=(t,e,n,r)=>(pI(t,e,"write to private field"),e.set(t,n),n);const ck=()=>{const t=new Map;return{sliceMap:t,getSlice:e=>{const n=typeof e=="string"?[...t.values()].find(r=>r.name===e):t.get(e.id);if(!n){const r=typeof e=="string"?e:e.sliceName;throw dJ(r)}return n},removeSlice:e=>{const n=typeof e=="string"?[...t.values()].find(r=>r.name===e):t.get(e.id);!n||t.delete(n.id)}}},SJ=t=>Array.isArray(t)?[...t]:typeof t=="object"?{...t}:t,mt=(t,e)=>{const n=Symbol(`Context-${e}`),r=(i,s=SJ(t))=>{let o=s;const a={name:e,id:n,set:l=>{o=l},get:()=>o,update:l=>{o=l(o)}};return i.set(n,a),a};return r.sliceName=e,r.id=n,r._typeInfo=()=>{throw pJ()},r};var My,Py;let CJ=class{constructor(e,n){Bc(this,My,void 0),Bc(this,Py,void 0),Cn(this,"use",r=>Qs(this,My).getSlice(r)),Cn(this,"get",r=>this.use(r).get()),Cn(this,"set",(r,i)=>this.use(r).set(i)),Cn(this,"update",(r,i)=>this.use(r).update(i)),Cn(this,"timing",r=>Qs(this,Py).get(r)),Cn(this,"done",r=>this.timing(r).done()),Cn(this,"wait",r=>this.timing(r)()),Cn(this,"waitTimers",async r=>{await Promise.all(this.get(r).map(i=>this.wait(i)))}),Qc(this,My,e),Qc(this,Py,n)}};My=new WeakMap,Py=new WeakMap;var Zh,Xh;let EJ=class{constructor(e,n){Bc(this,Zh,void 0),Bc(this,Xh,void 0),Cn(this,"inject",(r,i)=>(r(Qs(this,Zh).sliceMap,i),this)),Cn(this,"remove",r=>(Qs(this,Zh).removeSlice(r),this)),Cn(this,"record",r=>(r(Qs(this,Xh).store),this)),Cn(this,"clearTimer",r=>(Qs(this,Xh).remove(r),this)),Cn(this,"use",r=>Qs(this,Zh).getSlice(r)),Cn(this,"get",r=>this.use(r).get()),Cn(this,"set",(r,i)=>this.use(r).set(i)),Cn(this,"update",(r,i)=>this.use(r).update(i)),Cn(this,"timing",r=>Qs(this,Xh).get(r)),Cn(this,"wait",r=>this.timing(r)()),Cn(this,"done",r=>this.timing(r).done()),Cn(this,"waitTimers",async r=>{await Promise.all(this.get(r).map(i=>this.wait(i)))}),Qc(this,Zh,e),Qc(this,Xh,n)}};Zh=new WeakMap,Xh=new WeakMap;var $y,Ry;let TJ=class{constructor(e,n){Bc(this,$y,void 0),Bc(this,Ry,void 0),Cn(this,"clearTimer",r=>(Qs(this,Ry).remove(r),this)),Cn(this,"remove",r=>(Qs(this,$y).removeSlice(r),this)),Qc(this,$y,e),Qc(this,Ry,n)}};$y=new WeakMap,Ry=new WeakMap;var Ly,Iy;let DJ=class{constructor(e,n){Bc(this,Ly,void 0),Bc(this,Iy,void 0),Cn(this,"inject",(r,i)=>(r(Qs(this,Ly).sliceMap,i),this)),Cn(this,"record",r=>(r(Qs(this,Iy).store),this)),Qc(this,Ly,e),Qc(this,Iy,n)}};Ly=new WeakMap,Iy=new WeakMap;const gI=()=>{const t=new Map;return{store:t,get:e=>{const n=t.get(e.id);if(!n)throw fJ(e.timerName);return n},remove:e=>{t.delete(e.id)}}},$a=(t,e=3e3)=>{const n=Symbol("Timer"),r=i=>{let s=null,o;const a=Symbol(t),l=()=>s??(s=new Promise((u,h)=>{o=d=>{d instanceof CustomEvent&&d.detail.id===a&&(removeEventListener(t,o),d.stopImmediatePropagation(),u())},setTimeout(()=>{h(new Error(`Timing ${t} timeout.`)),removeEventListener(t,o)},e),addEventListener(t,o)}));return l.done=()=>{const u=new CustomEvent(t,{detail:{id:a}});dispatchEvent(u)},i.set(n,l),l};return r.id=n,r.timerName=t,r};function AJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function MJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var PJ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(MJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=AJ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Gr="-ms-",r2="-moz-",Gt="-webkit-",mI="comm",QC="rule",zC="decl",$J="@import",yI="@keyframes",RJ="@layer",LJ=Math.abs,uk=String.fromCharCode,IJ=Object.assign;function NJ(t,e){return Br(t,0)^45?(((e<<2^Br(t,0))<<2^Br(t,1))<<2^Br(t,2))<<2^Br(t,3):0}function bI(t){return t.trim()}function FJ(t,e){return(t=e.exec(t))?t[0]:t}function Kt(t,e,n){return t.replace(e,n)}function Wv(t,e){return t.indexOf(e)}function Br(t,e){return t.charCodeAt(e)|0}function sm(t,e,n){return t.slice(e,n)}function ua(t){return t.length}function VC(t){return t.length}function v1(t,e){return e.push(t),t}function BJ(t,e){return t.map(e).join("")}var hk=1,Yd=1,OI=0,ss=0,Jn=0,Lf="";function dk(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:hk,column:Yd,length:o,return:""}}function sp(t,e){return IJ(dk("",null,null,"",null,null,0),t,{length:-t.length},e)}function QJ(){return Jn}function zJ(){return Jn=ss>0?Br(Lf,--ss):0,Yd--,Jn===10&&(Yd=1,hk--),Jn}function xs(){return Jn=ss<OI?Br(Lf,ss++):0,Yd++,Jn===10&&(Yd=1,hk++),Jn}function wa(){return Br(Lf,ss)}function Ny(){return ss}function b0(t,e){return sm(Lf,t,e)}function om(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kI(t){return hk=Yd=1,OI=ua(Lf=t),ss=0,[]}function xI(t){return Lf="",t}function Fy(t){return bI(b0(ss-1,Uv(t===91?t+2:t===40?t+1:t)))}function VJ(t){for(;(Jn=wa())&&Jn<33;)xs();return om(t)>2||om(Jn)>3?"":" "}function WJ(t,e){for(;--e&&xs()&&!(Jn<48||Jn>102||Jn>57&&Jn<65||Jn>70&&Jn<97););return b0(t,Ny()+(e<6&&wa()==32&&xs()==32))}function Uv(t){for(;xs();)switch(Jn){case t:return ss;case 34:case 39:t!==34&&t!==39&&Uv(Jn);break;case 40:t===41&&Uv(t);break;case 92:xs();break}return ss}function UJ(t,e){for(;xs()&&t+Jn!==57;)if(t+Jn===84&&wa()===47)break;return"/*"+b0(e,ss-1)+"*"+uk(t===47?t:xs())}function jJ(t){for(;!om(wa());)xs();return b0(t,ss)}function qJ(t){return xI(By("",null,null,null,[""],t=kI(t),0,[0],t))}function By(t,e,n,r,i,s,o,a,l){for(var u=0,h=0,d=o,f=0,p=0,g=0,m=1,y=1,b=1,O=0,x="",T=i,A=s,v=r,S=x;y;)switch(g=O,O=xs()){case 40:if(g!=108&&Br(S,d-1)==58){Wv(S+=Kt(Fy(O),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=Fy(O);break;case 9:case 10:case 13:case 32:S+=VJ(g);break;case 92:S+=WJ(Ny()-1,7);continue;case 47:switch(wa()){case 42:case 47:v1(YJ(UJ(xs(),Ny()),e,n),l);break;default:S+="/"}break;case 123*m:a[u++]=ua(S)*b;case 125*m:case 59:case 0:switch(O){case 0:case 125:y=0;case 59+h:b==-1&&(S=Kt(S,/\f/g,"")),p>0&&ua(S)-d&&v1(p>32?C6(S+";",r,n,d-1):C6(Kt(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(v1(v=S6(S,e,n,u,h,i,a,x,T=[],A=[],d),s),O===123)if(h===0)By(S,e,v,v,T,s,d,a,A);else switch(f===99&&Br(S,3)===110?100:f){case 100:case 108:case 109:case 115:By(t,v,v,r&&v1(S6(t,v,v,0,0,i,a,x,i,T=[],d),A),i,A,d,a,r?T:A);break;default:By(S,v,v,v,[""],A,0,a,A)}}u=h=p=0,m=b=1,x=S="",d=o;break;case 58:d=1+ua(S),p=g;default:if(m<1){if(O==123)--m;else if(O==125&&m++==0&&zJ()==125)continue}switch(S+=uk(O),O*m){case 38:b=h>0?1:(S+="\f",-1);break;case 44:a[u++]=(ua(S)-1)*b,b=1;break;case 64:wa()===45&&(S+=Fy(xs())),f=wa(),h=d=ua(x=S+=jJ(Ny())),O++;break;case 45:g===45&&ua(S)==2&&(m=0)}}return s}function S6(t,e,n,r,i,s,o,a,l,u,h){for(var d=i-1,f=i===0?s:[""],p=VC(f),g=0,m=0,y=0;g<r;++g)for(var b=0,O=sm(t,d+1,d=LJ(m=o[g])),x=t;b<p;++b)(x=bI(m>0?f[b]+" "+O:Kt(O,/&\f/g,f[b])))&&(l[y++]=x);return dk(t,e,n,i===0?QC:a,l,u,h)}function YJ(t,e,n){return dk(t,e,n,mI,uk(QJ()),sm(t,2,-2),0)}function C6(t,e,n,r){return dk(t,e,n,zC,sm(t,0,r),sm(t,r+1,-1),r)}function _d(t,e){for(var n="",r=VC(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ZJ(t,e,n,r){switch(t.type){case RJ:if(t.children.length)break;case $J:case zC:return t.return=t.return||t.value;case mI:return"";case yI:return t.return=t.value+"{"+_d(t.children,r)+"}";case QC:t.value=t.props.join(",")}return ua(n=_d(t.children,r))?t.return=t.value+"{"+n+"}":""}function XJ(t){var e=VC(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function HJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var GJ=function(e,n,r){for(var i=0,s=0;i=s,s=wa(),i===38&&s===12&&(n[r]=1),!om(s);)xs();return b0(e,ss)},KJ=function(e,n){var r=-1,i=44;do switch(om(i)){case 0:i===38&&wa()===12&&(n[r]=1),e[r]+=GJ(ss-1,n,r);break;case 2:e[r]+=Fy(i);break;case 4:if(i===44){e[++r]=wa()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=uk(i)}while(i=xs());return e},JJ=function(e,n){return xI(KJ(kI(e),n))},E6=new WeakMap,eee=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!E6.get(r))&&!i){E6.set(e,!0);for(var s=[],o=JJ(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var h=0;h<a.length;h++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},tee=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function wI(t,e){switch(NJ(t,e)){case 5103:return Gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gt+t+r2+t+Gr+t+t;case 6828:case 4268:return Gt+t+Gr+t+t;case 6165:return Gt+t+Gr+"flex-"+t+t;case 5187:return Gt+t+Kt(t,/(\w+).+(:[^]+)/,Gt+"box-$1$2"+Gr+"flex-$1$2")+t;case 5443:return Gt+t+Gr+"flex-item-"+Kt(t,/flex-|-self/,"")+t;case 4675:return Gt+t+Gr+"flex-line-pack"+Kt(t,/align-content|flex-|-self/,"")+t;case 5548:return Gt+t+Gr+Kt(t,"shrink","negative")+t;case 5292:return Gt+t+Gr+Kt(t,"basis","preferred-size")+t;case 6060:return Gt+"box-"+Kt(t,"-grow","")+Gt+t+Gr+Kt(t,"grow","positive")+t;case 4554:return Gt+Kt(t,/([^-])(transform)/g,"$1"+Gt+"$2")+t;case 6187:return Kt(Kt(Kt(t,/(zoom-|grab)/,Gt+"$1"),/(image-set)/,Gt+"$1"),t,"")+t;case 5495:case 3959:return Kt(t,/(image-set\([^]*)/,Gt+"$1$`$1");case 4968:return Kt(Kt(t,/(.+:)(flex-)?(.*)/,Gt+"box-pack:$3"+Gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gt+t+t;case 4095:case 3583:case 4068:case 2532:return Kt(t,/(.+)-inline(.+)/,Gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ua(t)-1-e>6)switch(Br(t,e+1)){case 109:if(Br(t,e+4)!==45)break;case 102:return Kt(t,/(.+:)(.+)-([^]+)/,"$1"+Gt+"$2-$3$1"+r2+(Br(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Wv(t,"stretch")?wI(Kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Br(t,e+1)!==115)break;case 6444:switch(Br(t,ua(t)-3-(~Wv(t,"!important")&&10))){case 107:return Kt(t,":",":"+Gt)+t;case 101:return Kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gt+(Br(t,14)===45?"inline-":"")+"box$3$1"+Gt+"$2$3$1"+Gr+"$2box$3")+t}break;case 5936:switch(Br(t,e+11)){case 114:return Gt+t+Gr+Kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gt+t+Gr+Kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gt+t+Gr+Kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gt+t+Gr+t+t}return t}var nee=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case zC:e.return=wI(e.value,e.length);break;case yI:return _d([sp(e,{value:Kt(e.value,"@","@"+Gt)})],i);case QC:if(e.length)return BJ(e.props,function(s){switch(FJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _d([sp(e,{props:[Kt(s,/:(read-\w+)/,":"+r2+"$1")]})],i);case"::placeholder":return _d([sp(e,{props:[Kt(s,/:(plac\w+)/,":"+Gt+"input-$1")]}),sp(e,{props:[Kt(s,/:(plac\w+)/,":"+r2+"$1")]}),sp(e,{props:[Kt(s,/:(plac\w+)/,Gr+"input-$1")]})],i)}return""})}},ree=[nee],iee=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||ree,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),b=1;b<y.length;b++)s[y[b]]=!0;a.push(m)});var l,u=[eee,tee];{var h,d=[ZJ,HJ(function(m){h.insert(m)})],f=XJ(u.concat(i,d)),p=function(y){return _d(qJ(y),f)};l=function(y,b,O,x){h=O,p(y?y+"{"+b.styles+"}":b.styles),x&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new PJ({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},_I=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Rr=(t,e,n)=>(_I(t,e,"read from private field"),n?n.call(t):e.get(t)),S1=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},see=(t,e,n,r)=>(_I(t,e,"write to private field"),e.set(t,n),n);function oee(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function lee(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var cee=/[A-Z]|^ms/g,uee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vI=function(t){return t.charCodeAt(1)===45},T6=function(t){return t!=null&&typeof t!="boolean"},Xx=lee(function(t){return vI(t)?t:t.replace(cee,"-$&").toLowerCase()}),D6=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(uee,function(n,r,i){return dc={name:r,styles:i,next:dc},r})}return aee[t]!==1&&!vI(t)&&typeof e=="number"&&e!==0?e+"px":e};function i2(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return dc={name:n.name,styles:n.styles,next:dc},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)dc={name:r.name,styles:r.styles,next:dc},r=r.next;var i=n.styles+";";return i}return hee(t,e,n)}}if(e==null)return n;var s=e[n];return s!==void 0?s:n}function hee(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=i2(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":T6(o)&&(r+=Xx(s)+":"+D6(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)T6(o[a])&&(r+=Xx(s)+":"+D6(s,o[a])+";");else{var l=i2(t,e,o);switch(s){case"animation":case"animationName":{r+=Xx(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var A6=/label:\s*([^\s;\n{]+)\s*(;|$)/g,dc,Hx=function(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";dc=void 0;var s=t[0];s==null||s.raw===void 0?(r=!1,i+=i2(n,e,s)):i+=s[0];for(var o=1;o<t.length;o++)i+=i2(n,e,t[o]),r&&(i+=s[o]);A6.lastIndex=0;for(var a="",l;(l=A6.exec(i))!==null;)a+="-"+l[1];var u=oee(i)+a;return{name:u,styles:i,next:dc}};function SI(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var dee=function(t,e,n){var r=t.key+"-"+e.name;t.registered[r]===void 0&&(t.registered[r]=e.styles)},fee=function(t,e,n){dee(t,e);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var i=e;do t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function M6(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function P6(t,e,n){var r=[],i=SI(t,r,n);return r.length<2?n:i+e(r)}var pee=function(t){var e=iee(t);e.sheet.speedy=function(o){this.isSpeedy=o},e.compat=!0;var n=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=Hx(a,e.registered,void 0);return fee(e,u),e.key+"-"+u.name},r=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=Hx(a,e.registered),h="animation-"+u.name;return M6(e,{name:u.name,styles:"@keyframes "+h+"{"+u.styles+"}"}),h},i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=Hx(a,e.registered);M6(e,u)},s=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return P6(e.registered,n,gee(a))};return{css:n,cx:s,injectGlobal:i,keyframes:r,hydrate:function(o){o.forEach(function(a){e.inserted[a]=!0})},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:SI.bind(null,e.registered),merge:P6.bind(null,e.registered,n)}},gee=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(i!=null){var s=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))s=t(i);else{s="";for(var o in i)i[o]&&o&&(s&&(s+=" "),s+=o)}break}default:s=i}s&&(n&&(n+=" "),n+=s)}}return n};const mee=pee,yee=t=>mee(t),Gx=mt({key:"milkdown"},"EmotionConfig"),Wu=mt({},"Emotion"),Es=t=>mt(()=>null,t);var Zl,Xl,Hh,Qy;let CI=class{constructor(){S1(this,Zl,ck()),S1(this,Xl,new Map),S1(this,Hh,new Set),S1(this,Qy,()=>{})}inject(e){e(Rr(this,Zl).sliceMap)}has(e){const n=typeof e=="string"?e:e.sliceName;return Rr(this,Xl).has(n)?!0:Rr(this,Zl).getSlice(e).get()(null)!=null}set(e,n){const r=typeof e=="string"?e:e.sliceName;Rr(this,Xl).set(r,n)}get(e,n){const r=typeof e=="string"?e:e.sliceName,i=Rr(this,Xl).get(r);return i&&(Rr(this,Zl).getSlice(e).set(i),Rr(this,Xl).delete(e)),Rr(this,Zl).getSlice(e).get()(n)}getSlice(e){const n=typeof e=="string"?e:e.sliceName,r=Rr(this,Xl).get(n);return r&&(Rr(this,Zl).getSlice(e).set(r),Rr(this,Xl).delete(e)),Rr(this,Zl).getSlice(e).get()}onFlush(e,n=!0){Rr(this,Hh).has(e)||Rr(this,Hh).add(e),n&&e()}async switch(e,n){e.get(Wu).flush(),await n(e)(e),this.runExecutor(),Rr(this,Hh).forEach(r=>r())}flush(e){e.get(Wu).flush(),this.runExecutor(),Rr(this,Hh).forEach(n=>n())}setExecutor(e){e(),see(this,Qy,e)}runExecutor(){Rr(this,Qy).call(this)}};Zl=new WeakMap,Xl=new WeakMap,Hh=new WeakMap,Qy=new WeakMap;const yt=mt(new CI,"themeManager"),bee=()=>new CI,Cr=Es("border"),_r=Es("color"),To=Es("font"),WC=Es("global"),Un=Es("icon"),Oee=Es("code-fence"),kee=Es("image"),xee=Es("inner-editor"),wee=Es("input-chip"),_ee=Es("task-list-item"),Do=Es("scrollbar"),Lo=Es("shadow"),sn=Es("size"),EI=[_r,sn,To,Do,Lo,Cr,Un,WC,Oee,kee,xee,_ee,wee],vee=t=>{const e=/^([a-f\d])([a-f\d])([a-f\d])$/i,n=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r=u=>parseInt(u,16),i=t.slice(1).replace(e,(u,h,d,f)=>h+h+d+d+f+f),[s,o="0",a="0",l="0"]=i.match(n)||[];return s?[o,a,l].map(r):null},io=t=>(e,n=1)=>t.get(_r,[e,n]);function Ir(t){this.content=t}Ir.prototype={constructor:Ir,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Ir(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ir(n)},addToStart:function(t,e){return new Ir([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ir(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Ir(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ir.from(t),t.size?new Ir(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ir.from(t),t.size?new Ir(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ir.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ir.from=function(t){if(t instanceof Ir)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ir(e)};function TI(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=TI(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function DI(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let u=0,h=Math.min(o.text.length,a.text.length);for(;u<h&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let u=DI(o.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class Ae{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let h=a+1;l.nodesBetween(Math.max(0,e-h),Math.min(l.content.size,n-h),r,i+h)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Ae(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new Ae(r,i)}cutByIndex(e,n){return e==n?Ae.empty:e==0&&n==this.content.length?this:new Ae(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Ae(i,s)}addToStart(e){return new Ae([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ae(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return TI(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return DI(this,e,n,r)}findIndex(e,n=-1){if(e==0)return C1(0,e);if(e==this.size)return C1(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?C1(r+1,o):C1(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Ae.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ae(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ae.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Ae(n||e,r)}static from(e){if(!e)return Ae.empty;if(e instanceof Ae)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ae([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ae.empty=new Ae([],0);const Kx={index:0,offset:0};function C1(t,e){return Kx.index=t,Kx.offset=e,Kx}function s2(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!s2(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!s2(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Wt{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&s2(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Wt.none;if(e instanceof Wt)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Wt.none=[];class o2 extends Error{}class Be{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=MI(this.content,e+this.openStart,n);return r&&new Be(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Be(AI(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Be.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Be(Ae.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Be(e,r,i)}}Be.empty=new Be(Ae.empty,0,0);function AI(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(AI(s.content,e-i-1,n-i-1)))}function MI(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=MI(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function See(t,e,n){if(n.openStart>t.depth)throw new o2("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new o2("Inconsistent open depths");return PI(t,e,n,0)}function PI(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=PI(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return ju(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Cee(n,t);return ju(s,RI(t,o,a,e,r))}else return ju(s,a2(t,e,r))}function $I(t,e){if(!e.type.compatibleContent(t.type))throw new o2("Cannot join "+e.type.name+" onto "+t.type.name)}function jv(t,e,n){let r=t.node(n);return $I(r,e.node(n)),r}function Uu(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function mg(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Uu(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Uu(i.child(a),r);e&&e.depth==n&&e.textOffset&&Uu(e.nodeBefore,r)}function ju(t,e){return t.type.checkContent(e),t.copy(e)}function RI(t,e,n,r,i){let s=t.depth>i&&jv(t,e,i+1),o=r.depth>i&&jv(n,r,i+1),a=[];return mg(null,t,i,a),s&&o&&e.index(i)==n.index(i)?($I(s,o),Uu(ju(s,RI(t,e,n,r,i+1)),a)):(s&&Uu(ju(s,a2(t,e,i+1)),a),mg(e,n,i,a),o&&Uu(ju(o,a2(n,r,i+1)),a)),mg(r,null,i,a),new Ae(a)}function a2(t,e,n){let r=[];if(mg(null,t,n,r),t.depth>n){let i=jv(t,e,n+1);Uu(ju(i,a2(t,e,n+1)),r)}return mg(e,null,n,r),new Ae(r)}function Cee(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(Ae.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class am{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Wt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new LI(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(r.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new am(n,r,s)}static resolveCached(e,n){for(let i=0;i<Jx.length;i++){let s=Jx[i];if(s.pos==n&&s.doc==e)return s}let r=Jx[ew]=am.resolve(e,n);return ew=(ew+1)%Eee,r}}let Jx=[],ew=0,Eee=12;class LI{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Tee=Object.create(null);class ws{constructor(e,n,r,i=Wt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Ae.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&s2(this.attrs,n||e.defaultAttrs||Tee)&&Wt.sameSet(this.marks,r||Wt.none)}copy(e=null){return e==this.content?this:new ws(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ws(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Be.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new Be(u,i.depth-o,s.depth-o)}replace(e,n,r){return See(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return am.resolveCached(this,e)}resolveNoCache(e){return am.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),II(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Ae.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Wt.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Wt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Ae.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}ws.prototype.text=void 0;let Dee=class qv extends ws{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):II(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new qv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new qv(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function II(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class th{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Aee(e,n);if(r.next==null)return th.empty;let i=NI(r);r.next&&r.err("Unexpected trailing text");let s=Nee(Iee(i));return Fee(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return Ae.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:h,next:d}=o.next[u];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(h));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}th.empty=new th(!0);class Aee{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function NI(t){let e=[];do e.push(Mee(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Mee(t){let e=[];do e.push(Pee(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Pee(t){let e=Lee(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=$ee(t,e);else break;return e}function $6(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function $ee(t,e){let n=$6(t),r=n;return t.eat(",")&&(t.next!="}"?r=$6(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Ree(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Lee(t){if(t.eat("(")){let e=NI(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Ree(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Iee(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let h=n();i(s(o.expr,l),h),l=h}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let h=n();r(l,h),i(s(o.expr,l),h),l=h}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function FI(t,e){return e-t}function R6(t,e){let n=[];return r(e),n.sort(FI);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function Nee(t){let e=Object.create(null);return n(R6(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let h=0;h<i.length;h++)i[h][0]==a&&(u=i[h][1]);R6(t,l).forEach(h=>{u||i.push([a,u=[]]),u.indexOf(h)==-1&&u.push(h)})})});let s=e[r.join(",")]=new th(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(FI);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function Fee(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function BI(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function QI(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function zI(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Bee(t[n]);return e}let L6=class VI{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=zI(r.attrs),this.defaultAttrs=BI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==th.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:QI(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ws(this,this.computeAttrs(e),Ae.from(n),Wt.setFrom(r))}createChecked(e=null,n,r){return n=Ae.from(n),this.checkContent(n),new ws(this,this.computeAttrs(e),n,Wt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Ae.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Ae.empty,!0);return s?new ws(this,e,n.append(s),Wt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Wt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new VI(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}},Bee=class{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}};class fk{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=zI(i.attrs),this.excluded=null;let s=BI(this.attrs);this.instance=s?new Wt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Wt(this,QI(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new fk(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}let Qee=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ir.from(e.nodes),n.marks=Ir.from(e.marks||{}),this.nodes=L6.compile(this.spec.nodes,this),this.marks=fk.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=th.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?I6(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:I6(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof L6){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Dee(r,r.defaultAttrs,e,Wt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ws.fromJSON(this,e)}markFromJSON(e){return Wt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function I6(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function zee(t){return t.tag!=null}function Vee(t){return t.style!=null}let pk=class Yv{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{zee(r)?this.tags.push(r):Vee(r)&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new F6(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new F6(this,n,!0);return r.addAll(e,n.from,n.to),Be.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(jee(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=B6(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=B6(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Yv(e,Yv.schemaRules(e)))}};const WI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Wee={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},UI={ol:!0,ul:!0},l2=1,c2=2,yg=4;function N6(t,e,n){return e!=null?(e?l2:0)|(e==="full"?c2:0):t&&t.whitespace=="pre"?l2|c2:n&~yg}class E1{constructor(e,n,r,i,s,o,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=Wt.none,this.stashMarks=[],this.match=o||(a&yg?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ae.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&l2)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Ae.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Ae.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):Yee(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!WI.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}let F6=class{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=N6(null,n.preserveWhitespace,0)|(r?yg:0);i?s=new E1(i.type,i.attrs,Wt.none,Wt.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new E1(null,null,Wt.none,Wt.none,!0,null,o):s=new E1(e.schema.topNodeType,null,Wt.none,Wt.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let i=this.readStyles(qee(r));if(!i)return;let[s,o]=i,a=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l]);n();for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&c2||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&l2)r.options&c2?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;UI.hasOwnProperty(r)&&this.parser.normalizeLists&&Uee(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(s?s.ignore:Wee.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let o,a=this.top,l=this.needsBlock;if(WI.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}s&&s.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),o&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,s,s.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Wt.none,r=Wt.none;for(let i=0;i<e.length;i+=2)for(let s=void 0;;){let o=this.parser.matchStyle(e[i],e[i+1],this,s);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{o.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)s=o;else break}return[n,r]}addElementByRule(e,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(e,n,r){let i=n||0;for(let s=n?e.childNodes[n]:e.firstChild,o=r==null?null:e.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(e);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let o=N6(e,i,s.options);s.options&yg&&s.content.length==0&&(o|=yg),this.nodes.push(new E1(e,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let h=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!h||h.name!=u&&h.groups.indexOf(u)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=Zee(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}};function Uee(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&UI.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function jee(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function qee(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function B6(t){let e={};for(let n in t)e[n]=t[n];return e}function Yee(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:h}=a.edge(l);if(u==e||s.indexOf(h)<0&&o(h))return!0}};if(o(i.contentMatch))return!0}}function Zee(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class wo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=tw(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],h=this.serializeMark(u,o.isInline,n);h&&(s.push([u,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=wo.renderSpec(tw(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&wo.renderSpec(tw(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let h in l)if(l[h]!=null){let d=h.indexOf(" ");d>0?a.setAttributeNS(h.slice(0,d),h.slice(d+1),l[h]):a.setAttribute(h,l[h])}}for(let h=u;h<n.length;h++){let d=n[h];if(d===0){if(h<n.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:p}=wo.renderSpec(e,d,r);if(a.appendChild(f),p){if(o)throw new RangeError("Multiple content holes");o=p}}}return{dom:a,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Q6(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Q6(e.marks)}}function Q6(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function tw(t){return t.document||window.document}var Xee=Object.defineProperty,Hee=(t,e,n)=>e in t?Xee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ti=(t,e,n)=>(Hee(t,typeof e!="symbol"?e+"":e,n),n),Gee=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ad=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},fc=(t,e,n)=>(Gee(t,e,"access private method"),n);const jI=()=>{const t=n=>n.elements.length,e=n=>n.elements[t(n)-1];return{size:t,top:e,push:n=>r=>{var i;(i=e(n))==null||i.push(r)},open:n=>r=>{n.elements.push(r)},close:n=>{const r=n.elements.pop();if(!r)throw dI();return r}}},Kee=(t,e,...n)=>{t.content.push(e,...n)},Jee=t=>t.content.pop(),ete=(t,e,n)=>{const r={type:t,content:e,attrs:n,push:(...i)=>Kee(r,...i),pop:()=>Jee(r)};return r},{size:tte,push:nte,top:rte,open:ite,close:ste}=jI(),z6=t=>t.isText,ote=(t,e,n)=>{if(z6(e)&&z6(n)&&Wt.sameSet(e.marks,n.marks))return t.text(e.text+n.text,e.marks)},ate=t=>(e,n)=>ite(t)(ete(e,[],n)),qI=t=>(e,n,r)=>{const i=e.createAndFill(n,r,t.marks);if(!i)throw gJ(e,n,r);return nte(t)(i),i},YI=t=>()=>{t.marks=Wt.none;const e=ste(t);return qI(t)(e.type,e.attrs,e.content)},lte=t=>(e,n)=>{const r=e.create(n);t.marks=r.addToSet(t.marks)},cte=t=>e=>{t.marks=e.removeFromSet(t.marks)},ute=t=>e=>{const n=rte(t);if(!n)throw dI();const r=n.pop(),i=t.schema.text(e,t.marks);if(!r){n.push(i);return}const s=ote(t.schema,r,i);if(s){n.push(s);return}n.push(r,i)},hte=t=>()=>{let e;do e=YI(t)();while(tte(t));return e},dte=t=>{const e={marks:[],elements:[],schema:t};return{build:hte(e),openMark:lte(e),closeMark:cte(e),addText:ute(e),openNode:ate(e),addNode:qI(e),closeNode:YI(e)}};var Zv,V6,Xv,ZI;let fte=class{constructor(e,n,r){ad(this,Zv),ad(this,Xv),ti(this,"run",(i,s)=>{const o=i.runSync(i.parse(s),s);return this.next(o),this}),ti(this,"next",(i=[])=>([i].flat().forEach(s=>fc(this,Xv,ZI).call(this,s)),this)),ti(this,"toDoc",()=>this.stack.build()),ti(this,"injectRoot",(i,s,o)=>(this.stack.openNode(s,o),this.next(i.children),this)),ti(this,"addText",(i="")=>(this.stack.addText(i),this)),ti(this,"addNode",(...i)=>(this.stack.addNode(...i),this)),ti(this,"openNode",(...i)=>(this.stack.openNode(...i),this)),ti(this,"closeNode",(...i)=>(this.stack.closeNode(...i),this)),ti(this,"openMark",(...i)=>(this.stack.openMark(...i),this)),ti(this,"closeMark",(...i)=>(this.stack.closeMark(...i),this)),this.stack=e,this.schema=n,this.specMap=r}};Zv=new WeakSet,V6=function(t){const e=Object.values(this.specMap).find(n=>n.match(t));if(!e)throw mJ(t);return e},Xv=new WeakSet,ZI=function(t){const{key:e,runner:n,is:r}=fc(this,Zv,V6).call(this,t),i=this.schema[r==="node"?"nodes":"marks"][e];n(this,t,i)};const pte=(t,e,n)=>{const r=new fte(dte(t),t,e);return i=>(r.run(n,i),r.toDoc())},gte=(t,e,...n)=>{t.children||(t.children=[]),t.children.push(e,...n)},mte=t=>{var e;return(e=t.children)==null?void 0:e.pop()},XI=(t,e,n,r={})=>{const i={type:t,children:e,props:r,value:n,push:(...s)=>gte(i,...s),pop:()=>mte(i)};return i},{size:yte,push:bte,open:Ote,close:kte}=jI(),xte=(t,e)=>{var n;if(t.type===e||((n=t.children)==null?void 0:n.length)!==1)return t;const r=a=>{var l;if(a.type===e)return a;if(((l=a.children)==null?void 0:l.length)!==1)return null;const[u]=a.children;return u?r(u):null},i=r(t);if(!i)return t;const s=i.children?[...i.children]:void 0,o={...t,children:s};return o.children=s,i.children=[o],i},HI=t=>{const{children:e}=t;return e&&(t.children=e.reduce((n,r,i)=>{if(i===0)return[r];const s=n[n.length-1];if(s&&s.isMark&&r.isMark){r=xte(r,s.type);const{children:o,...a}=r,{children:l,...u}=s;if(r.type===s.type&&o&&l&&JSON.stringify(a)===JSON.stringify(u)){const h={...u,children:[...l,...o]};return n.slice(0,-1).concat(HI(h))}}return n.concat(r)},[])),t},wte=t=>{const e={...t.props,type:t.type};return t.children&&(e.children=t.children),t.value&&(e.value=t.value),e},GI=t=>(e,n,r)=>Ote(t)(XI(e,[],n,r)),KI=t=>(e,n,r,i)=>{const s=XI(e,n,r,i),o=HI(wte(s));return bte(t)(o),o},UC=t=>()=>{const e=kte(t);return KI(t)(e.type,e.children,e.value,e.props)},_te=t=>(e,n,r,i)=>{e.isInSet(t.marks)||(t.marks=e.addToSet(t.marks),GI(t)(n,r,{...i,isMark:!0}))},vte=t=>e=>e.isInSet(t.marks)?(t.marks=e.type.removeFromSet(t.marks),UC(t)()):null,Ste=t=>()=>{let e=null;do e=UC(t)();while(yte(t));return e},Cte=()=>{const t={marks:[],elements:[]};return{build:Ste(t),openMark:_te(t),closeMark:vte(t),openNode:GI(t),addNode:KI(t),closeNode:UC(t)}},Ete=t=>Object.prototype.hasOwnProperty.call(t,"size");var zy,nw,Hv,W6,Gv,U6,Vy,Kv;let Tte=class{constructor(e,n,r){ad(this,zy),ad(this,Hv),ad(this,Gv),ad(this,Vy),ti(this,"toString",i=>i.stringify(this.stack.build())),ti(this,"next",i=>Ete(i)?(i.forEach(s=>{fc(this,Vy,Kv).call(this,s)}),this):(fc(this,Vy,Kv).call(this,i),this)),ti(this,"addNode",(...i)=>(this.stack.addNode(...i),this)),ti(this,"openNode",(...i)=>(this.stack.openNode(...i),this)),ti(this,"closeNode",(...i)=>(this.stack.closeNode(...i),this)),ti(this,"withMark",(...i)=>(this.stack.openMark(...i),this)),this.stack=e,this.schema=n,this.specMap=r}run(e){return this.next(e),this}};zy=new WeakSet,nw=function(t){const e=Object.entries(this.specMap).map(([n,r])=>({key:n,...r})).find(n=>n.match(t));if(!e)throw yJ(t.type);return e},Hv=new WeakSet,W6=function(t){const{runner:e}=fc(this,zy,nw).call(this,t);e(this,t)},Gv=new WeakSet,U6=function(t,e){const{runner:n}=fc(this,zy,nw).call(this,t);return n(this,t,e)},Vy=new WeakSet,Kv=function(t){const{marks:e}=t,n=r=>{var i;return(i=r.type.spec.priority)!=null?i:50};[...e].sort((r,i)=>n(r)-n(i)).every(r=>!fc(this,Gv,U6).call(this,r,t))&&fc(this,Hv,W6).call(this,t),e.forEach(r=>this.stack.closeMark(r))};const Dte=(t,e,n)=>r=>{const i=new Tte(Cte(),t,e);return i.run(r),i.toString(n)},JI=65535,eN=Math.pow(2,16);function Ate(t,e){return t+e*eN}function j6(t){return t&JI}function Mte(t){return(t-(t&JI))/eN}const tN=1,nN=2,Wy=4,rN=8;class Jv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&rN)>0}get deletedBefore(){return(this.delInfo&(tN|Wy))>0}get deletedAfter(){return(this.delInfo&(nN|Wy))>0}get deletedAcross(){return(this.delInfo&Wy)>0}}class qi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&qi.empty)return qi.empty}recover(e){let n=0,r=j6(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Mte(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+s],h=this.ranges[a+o],d=l+u;if(e<=d){let f=u?e==l?-1:e==d?1:n:n,p=l+i+(f<0?0:h);if(r)return p;let g=e==(n<0?l:d)?null:Ate(a/3,e-l),m=e==l?nN:e==d?tN:Wy;return(n<0?e!=l:e!=d)&&(m|=rN),new Jv(p,m,g)}i+=h-u}return r?e+i:new Jv(e+i,0,null)}touches(e,n){let r=0,i=j6(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+s],h=l+u;if(e<=h&&a==i*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+n],h=this.ranges[i+r];e(a,a+u,l,l+h),s+=h-u}}invert(){return new qi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?qi.empty:new qi(e<0?[0,-e,0]:[0,0,e])}}qi.empty=new qi([]);class vd{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new vd(this.maps,this.mirror,e,n)}copy(){return new vd(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new vd;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Jv(e,i,null)}}const rw=Object.create(null);let gi=class{getMap(){return qi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=rw[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in rw)throw new RangeError("Duplicate use of step JSON ID "+e);return rw[e]=n,n.prototype.jsonID=e,n}};class rr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new rr(e,null)}static fail(e){return new rr(null,e)}static fromReplace(e,n,r,i){try{return rr.ok(e.replace(n,r,i))}catch(s){if(s instanceof o2)return rr.fail(s.message);throw s}}}function jC(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(jC(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return Ae.fromArray(r)}class cl extends gi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Be(jC(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return rr.fromReplace(e,this.from,this.to,s)}invert(){return new ya(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new cl(n.pos,r.pos,this.mark)}merge(e){return e instanceof cl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new cl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new cl(n.from,n.to,e.markFromJSON(n.mark))}}gi.jsonID("addMark",cl);class ya extends gi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Be(jC(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return rr.fromReplace(e,this.from,this.to,r)}invert(){return new cl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ya(n.pos,r.pos,this.mark)}merge(e){return e instanceof ya&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ya(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ya(n.from,n.to,e.markFromJSON(n.mark))}}gi.jsonID("removeMark",ya);class pc extends gi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return rr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return rr.fromReplace(e,this.pos,this.pos+1,new Be(Ae.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new pc(this.pos,n.marks[i]);return new pc(this.pos,this.mark)}}return new Zd(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new pc(n.pos,e.markFromJSON(n.mark))}}gi.jsonID("addNodeMark",pc);class Zd extends gi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return rr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return rr.fromReplace(e,this.pos,this.pos+1,new Be(Ae.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new pc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Zd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Zd(n.pos,e.markFromJSON(n.mark))}}gi.jsonID("removeNodeMark",Zd);class Qr extends gi{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&e3(e,this.from,this.to)?rr.fail("Structure replace would overwrite content"):rr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new qi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Qr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Qr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Qr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Be.empty:new Be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Qr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Be.empty:new Be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Qr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qr(n.from,n.to,Be.fromJSON(e,n.slice),!!n.structure)}}gi.jsonID("replace",Qr);class hi extends gi{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(e3(e,this.from,this.gapFrom)||e3(e,this.gapTo,this.to)))return rr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return rr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?rr.fromReplace(e,this.from,this.to,r):rr.fail("Content does not fit in gap")}getMap(){return new qi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new hi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new hi(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hi(n.from,n.to,n.gapFrom,n.gapTo,Be.fromJSON(e,n.slice),n.insert,!!n.structure)}}gi.jsonID("replaceAround",hi);function e3(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Pte(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,u,h)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&h.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+l.nodeSize,n),g=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(g)||(o&&o.to==f&&o.mark.eq(d[m])?o.to=p:i.push(o=new ya(f,p,d[m])));a&&a.to==f?a.to=p:s.push(a=new cl(f,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function $te(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof fk){let u=o.marks,h;for(;h=r.isInSet(u);)(l||(l=[])).push(h),u=h.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let h=0;h<l.length;h++){let d=l[h],f;for(let p=0;p<i.length;p++){let g=i[p];g.step==s-1&&d.eq(i[p].style)&&(f=g)}f?(f.to=u,f.step=s):i.push({style:d,from:Math.max(a,e),to:u,step:s})}}}),i.forEach(o=>t.step(new ya(o.from,o.to,o.style)))}function iN(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),h=a+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new Qr(a,h,Be.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new ya(a,h,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,g;for(;f=p.exec(u.text);)g||(g=new Be(Ae.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new Qr(a+f.index,a+f.index+f[0].length,g))}}a=h}if(!r.validEnd){let l=r.fillBefore(Ae.empty,!0);t.replace(a,a,new Be(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function Rte(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function gk(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!Rte(i,s,o))break}return null}function Lte(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,u=a,h=Ae.empty,d=0;for(let g=s,m=!1;g>n;g--)m||r.index(g)>0?(m=!0,h=Ae.from(r.node(g).copy(h)),d++):l--;let f=Ae.empty,p=0;for(let g=s,m=!1;g>n;g--)m||i.after(g+1)<i.end(g)?(m=!0,f=Ae.from(i.node(g).copy(f)),p++):u++;t.step(new hi(l,u,o,a,new Be(h.append(f),d,p),h.size-d,!0))}function sN(t,e,n=null,r=t){let i=Ite(t,e),s=i&&Nte(r,e);return s?i.map(q6).concat({type:e,attrs:n}).concat(s.map(q6)):null}function q6(t){return{type:t,attrs:null}}function Ite(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function Nte(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function Fte(t,e,n){let r=Ae.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ae.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new hi(i,s,i,s,new Be(r,0,0),n.length,!0))}function Bte(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&Vte(t.doc,t.mapping.slice(s).map(a),r)){let l=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?l=!1:!f&&p&&(l=!0)}l===!1&&zte(t,o,a,s),iN(t,t.mapping.slice(s).map(a,1),r,void 0,l===null);let u=t.mapping.slice(s),h=u.map(a,1),d=u.map(a+o.nodeSize,1);return t.step(new hi(h,d,h+1,d-1,new Be(Ae.from(r.create(i,null,o.marks)),0,0),1,!0)),l===!0&&Qte(t,o,a,s),!1}})}function Qte(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function zte(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Vte(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Wte(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new hi(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Be(Ae.from(o),0,0),1,!0))}function bg(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,h=n-2;u>s;u--,h--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),g=r&&r[h+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let m=r&&r[h]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Ute(t,e,n=1,r){let i=t.doc.resolve(e),s=Ae.empty,o=Ae.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){s=Ae.from(i.node(a).copy(s));let h=r&&r[u];o=Ae.from(h?h.type.create(h.attrs,o):i.node(a).copy(o))}t.step(new Qr(e,e,new Be(s.append(o),n,n),!0))}function mk(t,e){let n=t.resolve(e),r=n.index();return jte(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function jte(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function qte(t,e,n){let r=new Qr(e-n,e+n,Be.empty,!0);t.step(r)}function Yte(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function qC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),h=!1;if(s==1)h=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);h=d&&u.canReplaceWith(l,l,d[0])}if(h)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function YC(t,e,n=e,r=Be.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return oN(i,s,r)?new Qr(e,n,r):new Zte(i,s,r).fit()}function oN(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Zte{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ae.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ae.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Be(s,o,a);return e>-1?new hi(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Qr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=iw(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],h,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(Ae.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(h=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:h};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=iw(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Be(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=iw(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Be(Mp(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Be(Mp(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,u=0,h=[],{match:d,type:f}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)h.push(i.child(m));d=d.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let m=a.child(u),y=d.matchType(m.type);if(!y)break;u++,(u>1||l==0||m.content.size)&&(d=y,h.push(aN(m.mark(f.allowedMarks(m.marks)),u==1?l:0,u==a.childCount?p:-1)))}let g=u==a.childCount;g||(p=-1),this.placed=Pp(this.placed,n,Ae.from(h)),this.frontier[n].match=d,g&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,y=a;m<p;m++){let b=y.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),y=b.content}this.unplaced=g?e==0?Be.empty:new Be(Mp(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new Be(Mp(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!sw(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=sw(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],h=sw(e,a,u,l,!0);if(!h||h.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Pp(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Pp(this.placed,this.depth,Ae.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ae.empty,!0);n.childCount&&(this.placed=Pp(this.placed,this.frontier.length,n))}}function Mp(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Mp(t.firstChild.content,e-1,n)))}function Pp(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Pp(t.lastChild.content,e-1,n)))}function iw(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function aN(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,aN(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Ae.empty,!0)))),t.copy(r)}function sw(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Xte(n,s.content,o)?a:null}function Xte(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Hte(t){return t.spec.defining||t.spec.definingForContent}function Gte(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(oN(i,s,r))return t.step(new Qr(e,n,r));let o=cN(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let g=i.node(f).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),u=[],h=r.openStart;for(let f=r.content,p=0;;p++){let g=f.firstChild;if(u.push(g),p==r.openStart)break;f=g.content}for(let f=h-1;f>=0;f--){let p=u[f],g=Hte(p.type);if(g&&!p.sameMarkup(i.node(Math.abs(a)-1)))h=f;else if(g||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+h+1)%(r.openStart+1),g=u[p];if(g)for(let m=0;m<o.length;m++){let y=o[(m+l)%o.length],b=!0;y<0&&(b=!1,y=-y);let O=i.node(y-1),x=i.index(y-1);if(O.canReplaceWith(x,x,g.type,g.marks))return t.replace(i.before(y),b?s.after(y):n,new Be(lN(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=o[f];p<0||(e=i.before(p),n=s.after(p))}}function lN(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(lN(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(Ae.empty,!0))}return t}function Kte(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Yte(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Be(Ae.from(r),0,0))}function Jte(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=cN(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function cN(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Sd extends gi{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return rr.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return rr.fromReplace(e,this.pos,this.pos+1,new Be(Ae.from(i),0,n.isLeaf?0:1))}getMap(){return qi.empty}invert(e){return new Sd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Sd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Sd(n.pos,n.attr,n.value)}}gi.jsonID("attr",Sd);class lm extends gi{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return rr.ok(r)}getMap(){return qi.empty}invert(e){return new lm(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new lm(n.attr,n.value)}}gi.jsonID("docAttr",lm);let Xd=class extends Error{};Xd=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Xd.prototype=Object.create(Error.prototype);Xd.prototype.constructor=Xd;Xd.prototype.name="TransformError";let uN=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vd}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Xd(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Be.empty){let i=YC(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Be(Ae.from(r),0,0))}delete(e,n){return this.replace(e,n,Be.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Gte(this,e,n,r),this}replaceRangeWith(e,n,r){return Kte(this,e,n,r),this}deleteRange(e,n){return Jte(this,e,n),this}lift(e,n){return Lte(this,e,n),this}join(e,n=1){return qte(this,e,n),this}wrap(e,n){return Fte(this,e,n),this}setBlockType(e,n=e,r,i=null){return Bte(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Wte(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Sd(e,n,r)),this}setDocAttribute(e,n){return this.step(new lm(e,n)),this}addNodeMark(e,n){return this.step(new pc(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Wt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Zd(e,n)),this}split(e,n=1,r){return Ute(this,e,n,r),this}addMark(e,n,r){return Pte(this,e,n,r),this}removeMark(e,n,r){return $te(this,e,n,r),this}clearIncompatible(e,n,r){return iN(this,e,n,r),this}};const ow=Object.create(null);let ut=class{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new hN(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Be.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],h=e.mapping.slice(s);e.replaceRange(h.map(l.pos),h.map(u.pos),a?Be.empty:n),a==0&&X6(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),u=l.map(o.pos),h=l.map(a.pos);s?e.deleteRange(u,h):(e.replaceRangeWith(u,h,n),X6(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ht(e):Gh(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Gh(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Gh(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new es(e.node(0))}static atStart(e){return Gh(e,e,0,0,1)||new es(e)}static atEnd(e){return Gh(e,e,e.content.size,e.childCount,-1)||new es(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ow[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ow)throw new RangeError("Duplicate use of selection JSON ID "+e);return ow[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ht.between(this.$anchor,this.$head).getBookmark()}};ut.prototype.visible=!0;let hN=class{constructor(e,n){this.$from=e,this.$to=n}},Y6=!1;function Z6(t){!Y6&&!t.parent.inlineContent&&(Y6=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ht extends ut{constructor(e,n=e){Z6(e),Z6(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ut.near(r);let i=e.resolve(n.map(this.anchor));return new ht(i.parent.inlineContent?i:r,r)}replace(e,n=Be.empty){if(super.replace(e,n),n==Be.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ht&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new yk(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ht(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=ut.findFrom(n,r,!0)||ut.findFrom(n,-r,!0);if(s)n=s.$head;else return ut.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ut.findFrom(e,-r,!0)||ut.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ht(e,n)}}ut.jsonID("text",ht);class yk{constructor(e,n){this.anchor=e,this.head=n}map(e){return new yk(e.map(this.anchor),e.map(this.head))}resolve(e){return ht.between(e.resolve(this.anchor),e.resolve(this.head))}}class tt extends ut{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?ut.near(s):new tt(s)}content(){return new Be(Ae.from(this.node),0,0)}eq(e){return e instanceof tt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ZC(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new tt(e.resolve(n.anchor))}static create(e,n){return new tt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}tt.prototype.visible=!1;ut.jsonID("node",tt);class ZC{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new yk(r,r):new ZC(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&tt.isSelectable(r)?new tt(n):ut.near(n)}}class es extends ut{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Be.empty){if(n==Be.empty){e.delete(0,e.doc.content.size);let r=ut.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new es(e)}map(e){return new es(e)}eq(e){return e instanceof es}getBookmark(){return ene}}ut.jsonID("all",es);const ene={map(){return this},resolve(t){return new es(t)}};function Gh(t,e,n,r,i,s=!1){if(e.inlineContent)return ht.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&tt.isSelectable(a))return tt.create(t,n-(i<0?a.nodeSize:0))}else{let l=Gh(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function X6(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Qr||i instanceof hi))return;let s=t.mapping.maps[r],o;s.forEach((a,l,u,h)=>{o==null&&(o=h)}),t.setSelection(ut.near(t.doc.resolve(o),n))}const H6=1,T1=2,G6=4;let tne=class extends uN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|H6)&~T1,this.storedMarks=null,this}get selectionSet(){return(this.updated&H6)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=T1,this}ensureMarks(e){return Wt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&T1)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~T1,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Wt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(ut.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=G6,this}get scrolledIntoView(){return(this.updated&G6)>0}};function K6(t,e){return!e||!t?t:t.bind(e)}class $p{constructor(e,n,r){this.name=e,this.init=K6(n.init,r),this.apply=K6(n.apply,r)}}const nne=[new $p("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new $p("selection",{init(t,e){return t.selection||ut.atStart(e.doc)},apply(t){return t.selection}}),new $p("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new $p("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];let aw=class{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=nne.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new $p(r.key,r.spec.state,r))})}},XC=class Rp{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,h=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(h&&r.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(h),r=r.applyInner(h),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Rp(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new tne(this)}static create(e){let n=new aw(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Rp(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new aw(this.schema,e.plugins),r=n.fields,i=new Rp(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new aw(e.schema,e.plugins),s=new Rp(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=ws.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=ut.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=u.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}};function dN(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=dN(i,e,{})),n[r]=i}return n}class Xt{constructor(e){this.spec=e,this.props={},e.props&&dN(e.props,this,this.props),this.key=e.key?e.key.key:fN("plugin")}getState(e){return e[this.key]}}const lw=Object.create(null);function fN(t){return t in lw?t+"$"+ ++lw[t]:(lw[t]=0,t+"$")}class en{constructor(e="key"){this.key=fN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rne={};function HC(t,e){const n=rne,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return pN(t,r,i)}function pN(t,e,n){if(ine(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return J6(t.children,e,n)}return Array.isArray(t)?J6(t,e,n):""}function J6(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=pN(t[i],e,n);return r.join("")}function ine(t){return!!(t&&typeof t=="object")}function _s(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function zs(t,e){return t.length>0?(_s(t,t.length,0,e),t):e}const eA={}.hasOwnProperty;function gN(t){const e={};let n=-1;for(;++n<t.length;)sne(e,t[n]);return e}function sne(t,e){let n;for(n in e){const i=(eA.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){eA.call(i,o)||(i[o]=[]);const a=s[o];one(i[o],Array.isArray(a)?a:a?[a]:[])}}}function one(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);_s(t,0,0,r)}const ane=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,_i=Kc(/[A-Za-z]/),Hi=Kc(/[\dA-Za-z]/),lne=Kc(/[#-'*+\--9=?A-Z^-~]/);function u2(t){return t!==null&&(t<32||t===127)}const t3=Kc(/\d/),cne=Kc(/[\dA-Fa-f]/),une=Kc(/[!-/:-@[-`{-~]/);function rt(t){return t!==null&&t<-2}function dn(t){return t!==null&&(t<0||t===32)}function Ft(t){return t===-2||t===-1||t===32}const bk=Kc(ane),nh=Kc(/\s/);function Kc(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function Ut(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Ft(l)?(t.enter(n),a(l)):e(l)}function a(l){return Ft(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const hne={tokenize:dne};function dne(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ut(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return rt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const fne={tokenize:pne},tA={tokenize:gne};function pne(t){const e=this,n=[];let r=0,i,s,o;return a;function a(x){if(r<n.length){const T=n[r];return e.containerState=T[1],t.attempt(T[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&O();const T=e.events.length;let A=T,v;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){v=e.events[A][1].end;break}b(r);let S=T;for(;S<e.events.length;)e.events[S][1].end=Object.assign({},v),S++;return _s(e.events,A+1,0,e.events.slice(T)),e.events.length=S,u(x)}return a(x)}function u(x){if(r===n.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return g(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(tA,h,d)(x)}function h(x){return i&&O(),b(r),f(x)}function d(x){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,g(x)}function f(x){return e.containerState={},t.attempt(tA,p,g)(x)}function p(x){return r++,n.push([e.currentConstruct,e.containerState]),f(x)}function g(x){if(x===null){i&&O(),b(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(x)}function m(x){if(x===null){y(t.exit("chunkFlow"),!0),b(0),t.consume(x);return}return rt(x)?(t.consume(x),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(x),m)}function y(x,T){const A=e.sliceStream(x);if(T&&A.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(A),e.parser.lazy[x.start.line]){let v=i.events.length;for(;v--;)if(i.events[v][1].start.offset<o&&(!i.events[v][1].end||i.events[v][1].end.offset>o))return;const S=e.events.length;let I=S,M,C;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(M){C=e.events[I][1].end;break}M=!0}for(b(r),v=S;v<e.events.length;)e.events[v][1].end=Object.assign({},C),v++;_s(e.events,I+1,0,e.events.slice(S)),e.events.length=v}}function b(x){let T=n.length;for(;T-- >x;){const A=n[T];e.containerState=A[1],A[0].exit.call(e,t)}n.length=x}function O(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function gne(t,e,n){return Ut(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function h2(t){if(t===null||dn(t)||nh(t))return 1;if(bk(t))return 2}function Ok(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const n3={name:"attention",tokenize:yne,resolveAll:mne};function mne(t,e){let n=-1,r,i,s,o,a,l,u,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);nA(d,-l),nA(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=zs(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=zs(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=zs(u,Ok(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=zs(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,u=zs(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,_s(t,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function yne(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=h2(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),h=h2(l),d=!h||h===2&&i||n.includes(l),f=!i||i===2&&h||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(h||!d)),e(l)}}function nA(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const bne={name:"autolink",tokenize:One};function One(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return _i(p)?(t.consume(p),o):u(p)}function o(p){return p===43||p===45||p===46||Hi(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Hi(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||u2(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),h):lne(p)?(t.consume(p),u):n(p)}function h(p){return Hi(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,h):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Hi(p))&&r++<63){const g=p===45?f:d;return t.consume(p),g}return n(p)}}const O0={tokenize:kne,partial:!0};function kne(t,e,n){return r;function r(s){return Ft(s)?Ut(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||rt(s)?e(s):n(s)}}const mN={name:"blockQuote",tokenize:xne,continuation:{tokenize:wne},exit:_ne};function xne(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ft(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function wne(t,e,n){const r=this;return i;function i(o){return Ft(o)?Ut(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(mN,e,n)(o)}}function _ne(t){t.exit("blockQuote")}const yN={name:"characterEscape",tokenize:vne};function vne(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return une(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const rA=document.createElement("i");function cm(t){const e="&"+t+";";rA.innerHTML=e;const n=rA.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const bN={name:"characterReference",tokenize:Sne};function Sne(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Hi,h(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=cne,h):(t.enter("characterReferenceValue"),s=7,o=t3,h(d))}function h(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===Hi&&!cm(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),h):n(d)}}const iA={tokenize:Ene,partial:!0},sA={name:"codeFenced",tokenize:Cne,concrete:!0};function Cne(t,e,n){const r=this,i={tokenize:A,partial:!0};let s=0,o=0,a;return l;function l(v){return u(v)}function u(v){const S=r.events[r.events.length-1];return s=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,a=v,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(v)}function h(v){return v===a?(o++,t.consume(v),h):o<3?n(v):(t.exit("codeFencedFenceSequence"),Ft(v)?Ut(t,d,"whitespace")(v):d(v))}function d(v){return v===null||rt(v)?(t.exit("codeFencedFence"),r.interrupt?e(v):t.check(iA,m,T)(v)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===null||rt(v)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(v)):Ft(v)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ut(t,p,"whitespace")(v)):v===96&&v===a?n(v):(t.consume(v),f)}function p(v){return v===null||rt(v)?d(v):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||rt(v)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(v)):v===96&&v===a?n(v):(t.consume(v),g)}function m(v){return t.attempt(i,T,y)(v)}function y(v){return t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),b}function b(v){return s>0&&Ft(v)?Ut(t,O,"linePrefix",s+1)(v):O(v)}function O(v){return v===null||rt(v)?t.check(iA,m,T)(v):(t.enter("codeFlowValue"),x(v))}function x(v){return v===null||rt(v)?(t.exit("codeFlowValue"),O(v)):(t.consume(v),x)}function T(v){return t.exit("codeFenced"),e(v)}function A(v,S,I){let M=0;return C;function C(B){return v.enter("lineEnding"),v.consume(B),v.exit("lineEnding"),E}function E(B){return v.enter("codeFencedFence"),Ft(B)?Ut(v,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):_(B)}function _(B){return B===a?(v.enter("codeFencedFenceSequence"),L(B)):I(B)}function L(B){return B===a?(M++,v.consume(B),L):M>=o?(v.exit("codeFencedFenceSequence"),Ft(B)?Ut(v,k,"whitespace")(B):k(B)):I(B)}function k(B){return B===null||rt(B)?(v.exit("codeFencedFence"),S(B)):I(B)}}}function Ene(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const cw={name:"codeIndented",tokenize:Dne},Tne={tokenize:Ane,partial:!0};function Dne(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Ut(t,s,"linePrefix",5)(u)}function s(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):rt(u)?t.attempt(Tne,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||rt(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function Ane(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):rt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ut(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):rt(o)?i(o):n(o)}}const Mne={name:"codeText",tokenize:Rne,resolve:Pne,previous:$ne};function Pne(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function $ne(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Rne(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,h(d)):rt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||rt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function h(d){return d===96?(t.consume(d),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}function ON(t){const e={};let n=-1,r,i,s,o,a,l,u;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Lne(t,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=t[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),a=t.slice(i,n),a.unshift(r),_s(t,i,n-i+1,a))}}return!u}function Lne(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let h,d,f=-1,p=n,g=0,m=0;const y=[m];for(;p;){for(;t[++i][1]!==p;);s.push(i),p._tokenizer||(h=r.sliceStream(p),p.next||h.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,y.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),f=y.length;f--;){const b=a.slice(y[f],y[f+1]),O=s.pop();l.unshift([O,O+b.length-1]),_s(t,O,2,b)}for(f=-1;++f<l.length;)u[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return u}const Ine={tokenize:Bne,resolve:Fne},Nne={tokenize:Qne,partial:!0};function Fne(t){return ON(t),t}function Bne(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):rt(a)?t.check(Nne,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Qne(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ut(t,s,"linePrefix")}function s(o){if(o===null||rt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function kN(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),f):b===null||b===32||b===41||u2(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),m(b))}function f(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(t.exit("chunkString"),t.exit(a),f(b)):b===null||b===60||rt(b)?n(b):(t.consume(b),b===92?g:p)}function g(b){return b===60||b===62||b===92?(t.consume(b),p):p(b)}function m(b){return!h&&(b===null||b===41||dn(b))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):h<u&&b===40?(t.consume(b),h++,m):b===41?(t.consume(b),h--,m):b===null||b===32||b===40||u2(b)?n(b):(t.consume(b),b===92?y:m)}function y(b){return b===40||b===41||b===92?(t.consume(b),m):m(b)}}function xN(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),h}function h(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):rt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||rt(p)||a++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l||(l=!Ft(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function wN(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),l(o)):f===null?n(f):rt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Ut(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===o||f===null||rt(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:h)}function d(f){return f===o||f===92?(t.consume(f),h):h(f)}}function Og(t,e){let n;return r;function r(i){return rt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ft(i)?Ut(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Ao(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zne={name:"definition",tokenize:Wne},Vne={tokenize:Une,partial:!0};function Wne(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return xN.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=Ao(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return dn(p)?Og(t,u)(p):u(p)}function u(p){return kN(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return t.attempt(Vne,d,d)(p)}function d(p){return Ft(p)?Ut(t,f,"whitespace")(p):f(p)}function f(p){return p===null||rt(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function Une(t,e,n){return r;function r(a){return dn(a)?Og(t,i)(a):n(a)}function i(a){return wN(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Ft(a)?Ut(t,o,"whitespace")(a):o(a)}function o(a){return a===null||rt(a)?e(a):n(a)}}const jne={name:"hardBreakEscape",tokenize:qne};function qne(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return rt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Yne={name:"headingAtx",tokenize:Xne,resolve:Zne};function Zne(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},_s(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Xne(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||dn(h)?(t.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||rt(h)?(t.exit("atxHeading"),e(h)):Ft(h)?Ut(t,a,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function u(h){return h===null||h===35||dn(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),u)}}const Hne=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oA=["pre","script","style","textarea"],Gne={name:"htmlFlow",tokenize:tre,resolveTo:ere,concrete:!0},Kne={tokenize:rre,partial:!0},Jne={tokenize:nre,partial:!0};function ere(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function tre(t,e,n){const r=this;let i,s,o,a,l;return u;function u(N){return h(N)}function h(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),d}function d(N){return N===33?(t.consume(N),f):N===47?(t.consume(N),s=!0,m):N===63?(t.consume(N),i=3,r.interrupt?e:$):_i(N)?(t.consume(N),o=String.fromCharCode(N),y):n(N)}function f(N){return N===45?(t.consume(N),i=2,p):N===91?(t.consume(N),i=5,a=0,g):_i(N)?(t.consume(N),i=4,r.interrupt?e:$):n(N)}function p(N){return N===45?(t.consume(N),r.interrupt?e:$):n(N)}function g(N){const he="CDATA[";return N===he.charCodeAt(a++)?(t.consume(N),a===he.length?r.interrupt?e:_:g):n(N)}function m(N){return _i(N)?(t.consume(N),o=String.fromCharCode(N),y):n(N)}function y(N){if(N===null||N===47||N===62||dn(N)){const he=N===47,ge=o.toLowerCase();return!he&&!s&&oA.includes(ge)?(i=1,r.interrupt?e(N):_(N)):Hne.includes(o.toLowerCase())?(i=6,he?(t.consume(N),b):r.interrupt?e(N):_(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?O(N):x(N))}return N===45||Hi(N)?(t.consume(N),o+=String.fromCharCode(N),y):n(N)}function b(N){return N===62?(t.consume(N),r.interrupt?e:_):n(N)}function O(N){return Ft(N)?(t.consume(N),O):C(N)}function x(N){return N===47?(t.consume(N),C):N===58||N===95||_i(N)?(t.consume(N),T):Ft(N)?(t.consume(N),x):C(N)}function T(N){return N===45||N===46||N===58||N===95||Hi(N)?(t.consume(N),T):A(N)}function A(N){return N===61?(t.consume(N),v):Ft(N)?(t.consume(N),A):x(N)}function v(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),l=N,S):Ft(N)?(t.consume(N),v):I(N)}function S(N){return N===l?(t.consume(N),l=null,M):N===null||rt(N)?n(N):(t.consume(N),S)}function I(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||dn(N)?A(N):(t.consume(N),I)}function M(N){return N===47||N===62||Ft(N)?x(N):n(N)}function C(N){return N===62?(t.consume(N),E):n(N)}function E(N){return N===null||rt(N)?_(N):Ft(N)?(t.consume(N),E):n(N)}function _(N){return N===45&&i===2?(t.consume(N),w):N===60&&i===1?(t.consume(N),Q):N===62&&i===4?(t.consume(N),X):N===63&&i===3?(t.consume(N),$):N===93&&i===5?(t.consume(N),W):rt(N)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Kne,Y,L)(N)):N===null||rt(N)?(t.exit("htmlFlowData"),L(N)):(t.consume(N),_)}function L(N){return t.check(Jne,k,Y)(N)}function k(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),B}function B(N){return N===null||rt(N)?L(N):(t.enter("htmlFlowData"),_(N))}function w(N){return N===45?(t.consume(N),$):_(N)}function Q(N){return N===47?(t.consume(N),o="",U):_(N)}function U(N){if(N===62){const he=o.toLowerCase();return oA.includes(he)?(t.consume(N),X):_(N)}return _i(N)&&o.length<8?(t.consume(N),o+=String.fromCharCode(N),U):_(N)}function W(N){return N===93?(t.consume(N),$):_(N)}function $(N){return N===62?(t.consume(N),X):N===45&&i===2?(t.consume(N),$):_(N)}function X(N){return N===null||rt(N)?(t.exit("htmlFlowData"),Y(N)):(t.consume(N),X)}function Y(N){return t.exit("htmlFlow"),e(N)}}function nre(t,e,n){const r=this;return i;function i(o){return rt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function rre(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(O0,e,n)}}const ire={name:"htmlText",tokenize:sre};function sre(t,e,n){const r=this;let i,s,o;return a;function a($){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume($),l}function l($){return $===33?(t.consume($),u):$===47?(t.consume($),A):$===63?(t.consume($),x):_i($)?(t.consume($),I):n($)}function u($){return $===45?(t.consume($),h):$===91?(t.consume($),s=0,g):_i($)?(t.consume($),O):n($)}function h($){return $===45?(t.consume($),p):n($)}function d($){return $===null?n($):$===45?(t.consume($),f):rt($)?(o=d,Q($)):(t.consume($),d)}function f($){return $===45?(t.consume($),p):d($)}function p($){return $===62?w($):$===45?f($):d($)}function g($){const X="CDATA[";return $===X.charCodeAt(s++)?(t.consume($),s===X.length?m:g):n($)}function m($){return $===null?n($):$===93?(t.consume($),y):rt($)?(o=m,Q($)):(t.consume($),m)}function y($){return $===93?(t.consume($),b):m($)}function b($){return $===62?w($):$===93?(t.consume($),b):m($)}function O($){return $===null||$===62?w($):rt($)?(o=O,Q($)):(t.consume($),O)}function x($){return $===null?n($):$===63?(t.consume($),T):rt($)?(o=x,Q($)):(t.consume($),x)}function T($){return $===62?w($):x($)}function A($){return _i($)?(t.consume($),v):n($)}function v($){return $===45||Hi($)?(t.consume($),v):S($)}function S($){return rt($)?(o=S,Q($)):Ft($)?(t.consume($),S):w($)}function I($){return $===45||Hi($)?(t.consume($),I):$===47||$===62||dn($)?M($):n($)}function M($){return $===47?(t.consume($),w):$===58||$===95||_i($)?(t.consume($),C):rt($)?(o=M,Q($)):Ft($)?(t.consume($),M):w($)}function C($){return $===45||$===46||$===58||$===95||Hi($)?(t.consume($),C):E($)}function E($){return $===61?(t.consume($),_):rt($)?(o=E,Q($)):Ft($)?(t.consume($),E):M($)}function _($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),i=$,L):rt($)?(o=_,Q($)):Ft($)?(t.consume($),_):(t.consume($),k)}function L($){return $===i?(t.consume($),i=void 0,B):$===null?n($):rt($)?(o=L,Q($)):(t.consume($),L)}function k($){return $===null||$===34||$===39||$===60||$===61||$===96?n($):$===47||$===62||dn($)?M($):(t.consume($),k)}function B($){return $===47||$===62||dn($)?M($):n($)}function w($){return $===62?(t.consume($),t.exit("htmlTextData"),t.exit("htmlText"),e):n($)}function Q($){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),U}function U($){return Ft($)?Ut(t,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):W($)}function W($){return t.enter("htmlTextData"),o($)}}const GC={name:"labelEnd",tokenize:hre,resolveTo:ure,resolveAll:cre},ore={tokenize:dre},are={tokenize:fre},lre={tokenize:pre};function cre(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function ure(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},h={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",u,e]],a=zs(a,t.slice(s+1,s+r+3)),a=zs(a,[["enter",h,e]]),a=zs(a,Ok(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=zs(a,[["exit",h,e],t[o-2],t[o-1],["exit",u,e]]),a=zs(a,t.slice(o+1)),a=zs(a,[["exit",l,e]]),_s(t,s,t.length,a),t}function hre(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(Ao(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(ore,h,o?h:d)(f):f===91?t.attempt(are,h,o?u:d)(f):o?h(f):d(f)}function u(f){return t.attempt(lre,h,d)(f)}function h(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function dre(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return dn(d)?Og(t,s)(d):s(d)}function s(d){return d===41?h(d):kN(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return dn(d)?Og(t,l)(d):h(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?wN(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function u(d){return dn(d)?Og(t,h)(d):h(d)}function h(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function fre(t,e,n){const r=this;return i;function i(a){return xN.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Ao(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function pre(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const gre={name:"labelStartImage",tokenize:mre,resolveAll:GC.resolveAll};function mre(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const yre={name:"labelStartLink",tokenize:bre,resolveAll:GC.resolveAll};function bre(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const uw={name:"lineEnding",tokenize:Ore};function Ore(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ut(t,e,"linePrefix")}}const Uy={name:"thematicBreak",tokenize:kre};function kre(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||rt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Ft(u)?Ut(t,a,"whitespace")(u):a(u))}}const Bi={name:"list",tokenize:_re,continuation:{tokenize:vre},exit:Cre},xre={tokenize:Ere,partial:!0},wre={tokenize:Sre,partial:!0};function _re(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:t3(p)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Uy,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return t3(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(O0,r.interrupt?n:h,t.attempt(xre,f,d))}function h(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return Ft(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function vre(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(O0,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ut(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ft(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(wre,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ut(t,t.attempt(Bi,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Sre(t,e,n){const r=this;return Ut(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Cre(t){t.exit(this.containerState.type)}function Ere(t,e,n){const r=this;return Ut(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ft(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const aA={name:"setextUnderline",tokenize:Dre,resolveTo:Tre};function Tre(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function Dre(t,e,n){const r=this;let i;return s;function s(u){let h=r.events.length,d;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){d=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),Ft(u)?Ut(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||rt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Are={tokenize:Mre};function Mre(t){const e=this,n=t.attempt(O0,r,t.attempt(this.parser.constructs.flowInitial,i,Ut(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Ine,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Pre={resolveAll:vN()},$re=_N("string"),Rre=_N("text");function _N(t){return{tokenize:e,resolveAll:vN(t==="text"?Lre:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return u(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const d=i[h];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function vN(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Lre(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function Ire(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:O,enter:x,exit:T,attempt:S(A),check:S(v),interrupt:S(v,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:p,sliceSerialize:f,now:g,defineSkip:m,write:d};let h=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(E){return o=zs(o,E),y(),o[o.length-1]!==null?[]:(I(e,0),u.events=Ok(s,u.events,u),u.events)}function f(E,_){return Fre(p(E),_)}function p(E){return Nre(o,E)}function g(){const{line:E,column:_,offset:L,_index:k,_bufferIndex:B}=r;return{line:E,column:_,offset:L,_index:k,_bufferIndex:B}}function m(E){i[E.line]=E.column,C()}function y(){let E;for(;r._index<o.length;){const _=o[r._index];if(typeof _=="string")for(E=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===E&&r._bufferIndex<_.length;)b(_.charCodeAt(r._bufferIndex));else b(_)}}function b(E){h=h(E)}function O(E){rt(E)?(r.line++,r.column=1,r.offset+=E===-3?2:1,C()):E!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=E}function x(E,_){const L=_||{};return L.type=E,L.start=g(),u.events.push(["enter",L,u]),a.push(L),L}function T(E){const _=a.pop();return _.end=g(),u.events.push(["exit",_,u]),_}function A(E,_){I(E,_.from)}function v(E,_){_.restore()}function S(E,_){return L;function L(k,B,w){let Q,U,W,$;return Array.isArray(k)?Y(k):"tokenize"in k?Y([k]):X(k);function X(j){return Te;function Te(K){const ee=K!==null&&j[K],H=K!==null&&j.null,G=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(H)?H:H?[H]:[]];return Y(G)(K)}}function Y(j){return Q=j,U=0,j.length===0?w:N(j[U])}function N(j){return Te;function Te(K){return $=M(),W=j,j.partial||(u.currentConstruct=j),j.name&&u.parser.constructs.disable.null.includes(j.name)?ge():j.tokenize.call(_?Object.assign(Object.create(u),_):u,l,he,ge)(K)}}function he(j){return E(W,$),B}function ge(j){return $.restore(),++U<Q.length?N(Q[U]):w}}}function I(E,_){E.resolveAll&&!s.includes(E)&&s.push(E),E.resolve&&_s(u.events,_,u.events.length-_,E.resolve(u.events.slice(_),u)),E.resolveTo&&(u.events=E.resolveTo(u.events,u))}function M(){const E=g(),_=u.previous,L=u.currentConstruct,k=u.events.length,B=Array.from(a);return{restore:w,from:k};function w(){r=E,u.previous=_,u.currentConstruct=L,u.events.length=k,a=B,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Nre(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function Fre(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const Bre={42:Bi,43:Bi,45:Bi,48:Bi,49:Bi,50:Bi,51:Bi,52:Bi,53:Bi,54:Bi,55:Bi,56:Bi,57:Bi,62:mN},Qre={91:zne},zre={[-2]:cw,[-1]:cw,32:cw},Vre={35:Yne,42:Uy,45:[aA,Uy],60:Gne,61:aA,95:Uy,96:sA,126:sA},Wre={38:bN,92:yN},Ure={[-5]:uw,[-4]:uw,[-3]:uw,33:gre,38:bN,42:n3,60:[bne,ire],91:yre,92:[jne,yN],93:GC,95:n3,96:Mne},jre={null:[n3,Pre]},qre={null:[42,95]},Yre={null:[]},Zre=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qre,contentInitial:Qre,disable:Yre,document:Bre,flow:Vre,flowInitial:zre,insideSpan:jre,string:Wre,text:Ure},Symbol.toStringTag,{value:"Module"}));function Xre(t){const n=gN([Zre,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(hne),document:i(fne),flow:i(Are),string:i($re),text:i(Rre)};return r;function i(s){return o;function o(a){return Ire(r,s,a)}}}const lA=/[\0\t\n\r]/g;function Hre(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,h,d,f,p;for(s=e+s.toString(o),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(lA.lastIndex=d,u=lA.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function Gre(t){for(;!ON(t););return t}function SN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const Kre=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function CN(t){return t.replace(Kre,Jre)}function Jre(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return SN(n.slice(s?2:1),s?16:10)}return cm(n)||t}function kg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?cA(t.position):"start"in t||"end"in t?cA(t):"line"in t||"column"in t?r3(t):""}function r3(t){return uA(t&&t.line)+":"+uA(t&&t.column)}function cA(t){return r3(t&&t.start)+"-"+r3(t&&t.end)}function uA(t){return t&&typeof t=="number"?t:1}const EN={}.hasOwnProperty,eie=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),tie(n)(Gre(Xre(n).document().write(Hre()(t,e,!0))))};function tie(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(de),autolinkProtocol:E,autolinkEmail:E,atxHeading:a(Z),blockQuote:a(G),characterEscape:E,characterReference:E,codeFenced:a(z),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(z,l),codeText:a(D,l),codeTextData:E,data:E,codeFlowValue:E,definition:a(F),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(R),hardBreakEscape:a(P),hardBreakTrailing:a(P),htmlFlow:a(ye,l),htmlFlowData:E,htmlText:a(ye,l),htmlTextData:E,image:a(q),label:l,link:a(de),listItem:a(te),listItemValue:g,listOrdered:a(ce,p),listUnordered:a(ce),paragraph:a(se),reference:ge,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Z),strong:a(fe),thematicBreak:a(me)},exit:{atxHeading:h(),atxHeadingSequence:S,autolink:h(),autolinkEmail:H,autolinkProtocol:ee,blockQuote:h(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:K,codeFenced:h(O),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:_,codeIndented:h(x),codeText:h(Q),codeTextData:_,data:_,definition:h(),definitionDestinationString:v,definitionLabelString:T,definitionTitleString:A,emphasis:h(),hardBreakEscape:h(k),hardBreakTrailing:h(k),htmlFlow:h(B),htmlFlowData:_,htmlText:h(w),htmlTextData:_,image:h(W),label:X,labelText:$,lineEnding:L,link:h(U),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:j,resourceDestinationString:Y,resourceTitleString:N,resource:he,setextHeading:h(C),setextHeadingLineSequence:M,setextHeadingText:I,strong:h(),thematicBreak:h()}};TN(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(oe){let be={type:"root",children:[]};const _e={stack:[be],tokenStack:[],config:e,enter:u,exit:d,buffer:l,resume:f,setData:s,getData:o},Ee=[];let Ie=-1;for(;++Ie<oe.length;)if(oe[Ie][1].type==="listOrdered"||oe[Ie][1].type==="listUnordered")if(oe[Ie][0]==="enter")Ee.push(Ie);else{const lt=Ee.pop();Ie=i(oe,lt,Ie)}for(Ie=-1;++Ie<oe.length;){const lt=e[oe[Ie][0]];EN.call(lt,oe[Ie][1].type)&&lt[oe[Ie][1].type].call(Object.assign({sliceSerialize:oe[Ie][2].sliceSerialize},_e),oe[Ie][1])}if(_e.tokenStack.length>0){const lt=_e.tokenStack[_e.tokenStack.length-1];(lt[1]||hA).call(_e,void 0,lt[0])}for(be.position={start:ql(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:ql(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},Ie=-1;++Ie<e.transforms.length;)be=e.transforms[Ie](be)||be;return be}function i(oe,be,_e){let Ee=be-1,Ie=-1,lt=!1,Ge,Ve,Fe,ve;for(;++Ee<=_e;){const Oe=oe[Ee];if(Oe[1].type==="listUnordered"||Oe[1].type==="listOrdered"||Oe[1].type==="blockQuote"?(Oe[0]==="enter"?Ie++:Ie--,ve=void 0):Oe[1].type==="lineEndingBlank"?Oe[0]==="enter"&&(Ge&&!ve&&!Ie&&!Fe&&(Fe=Ee),ve=void 0):Oe[1].type==="linePrefix"||Oe[1].type==="listItemValue"||Oe[1].type==="listItemMarker"||Oe[1].type==="listItemPrefix"||Oe[1].type==="listItemPrefixWhitespace"||(ve=void 0),!Ie&&Oe[0]==="enter"&&Oe[1].type==="listItemPrefix"||Ie===-1&&Oe[0]==="exit"&&(Oe[1].type==="listUnordered"||Oe[1].type==="listOrdered")){if(Ge){let Pe=Ee;for(Ve=void 0;Pe--;){const xe=oe[Pe];if(xe[1].type==="lineEnding"||xe[1].type==="lineEndingBlank"){if(xe[0]==="exit")continue;Ve&&(oe[Ve][1].type="lineEndingBlank",lt=!0),xe[1].type="lineEnding",Ve=Pe}else if(!(xe[1].type==="linePrefix"||xe[1].type==="blockQuotePrefix"||xe[1].type==="blockQuotePrefixWhitespace"||xe[1].type==="blockQuoteMarker"||xe[1].type==="listItemIndent"))break}Fe&&(!Ve||Fe<Ve)&&(Ge._spread=!0),Ge.end=Object.assign({},Ve?oe[Ve][1].start:Oe[1].end),oe.splice(Ve||Ee,0,["exit",Ge,Oe[2]]),Ee++,_e++}Oe[1].type==="listItemPrefix"&&(Ge={type:"listItem",_spread:!1,start:Object.assign({},Oe[1].start),end:void 0},oe.splice(Ee,0,["enter",Ge,Oe[2]]),Ee++,_e++,Fe=void 0,ve=!0)}}return oe[be][1]._spread=lt,_e}function s(oe,be){n[oe]=be}function o(oe){return n[oe]}function a(oe,be){return _e;function _e(Ee){u.call(this,oe(Ee),Ee),be&&be.call(this,Ee)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(oe,be,_e){return this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([be,_e]),oe.position={start:ql(be.start)},oe}function h(oe){return be;function be(_e){oe&&oe.call(this,_e),d.call(this,_e)}}function d(oe,be){const _e=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==oe.type&&(be?be.call(this,oe,Ee[0]):(Ee[1]||hA).call(this,oe,Ee[0]));else throw new Error("Cannot close `"+oe.type+"` ("+kg({start:oe.start,end:oe.end})+"): it’s not open");return _e.position.end=ql(oe.end),_e}function f(){return HC(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function g(oe){if(o("expectingFirstListItemValue")){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(oe),10),s("expectingFirstListItemValue")}}function m(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.lang=oe}function y(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.meta=oe}function b(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function O(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function x(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.value=oe.replace(/(\r?\n|\r)$/g,"")}function T(oe){const be=this.resume(),_e=this.stack[this.stack.length-1];_e.label=be,_e.identifier=Ao(this.sliceSerialize(oe)).toLowerCase()}function A(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.title=oe}function v(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.url=oe}function S(oe){const be=this.stack[this.stack.length-1];if(!be.depth){const _e=this.sliceSerialize(oe).length;be.depth=_e}}function I(){s("setextHeadingSlurpLineEnding",!0)}function M(oe){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(oe).charCodeAt(0)===61?1:2}function C(){s("setextHeadingSlurpLineEnding")}function E(oe){const be=this.stack[this.stack.length-1];let _e=be.children[be.children.length-1];(!_e||_e.type!=="text")&&(_e=le(),_e.position={start:ql(oe.start)},be.children.push(_e)),this.stack.push(_e)}function _(oe){const be=this.stack.pop();be.value+=this.sliceSerialize(oe),be.position.end=ql(oe.end)}function L(oe){const be=this.stack[this.stack.length-1];if(o("atHardBreak")){const _e=be.children[be.children.length-1];_e.position.end=ql(oe.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(be.type)&&(E.call(this,oe),_.call(this,oe))}function k(){s("atHardBreak",!0)}function B(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.value=oe}function w(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.value=oe}function Q(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.value=oe}function U(){const oe=this.stack[this.stack.length-1];if(o("inReference")){const be=o("referenceType")||"shortcut";oe.type+="Reference",oe.referenceType=be,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;s("referenceType")}function W(){const oe=this.stack[this.stack.length-1];if(o("inReference")){const be=o("referenceType")||"shortcut";oe.type+="Reference",oe.referenceType=be,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;s("referenceType")}function $(oe){const be=this.sliceSerialize(oe),_e=this.stack[this.stack.length-2];_e.label=CN(be),_e.identifier=Ao(be).toLowerCase()}function X(){const oe=this.stack[this.stack.length-1],be=this.resume(),_e=this.stack[this.stack.length-1];if(s("inReference",!0),_e.type==="link"){const Ee=oe.children;_e.children=Ee}else _e.alt=be}function Y(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.url=oe}function N(){const oe=this.resume(),be=this.stack[this.stack.length-1];be.title=oe}function he(){s("inReference")}function ge(){s("referenceType","collapsed")}function j(oe){const be=this.resume(),_e=this.stack[this.stack.length-1];_e.label=be,_e.identifier=Ao(this.sliceSerialize(oe)).toLowerCase(),s("referenceType","full")}function Te(oe){s("characterReferenceType",oe.type)}function K(oe){const be=this.sliceSerialize(oe),_e=o("characterReferenceType");let Ee;_e?(Ee=SN(be,_e==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):Ee=cm(be);const Ie=this.stack.pop();Ie.value+=Ee,Ie.position.end=ql(oe.end)}function ee(oe){_.call(this,oe);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(oe)}function H(oe){_.call(this,oe);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(oe)}function G(){return{type:"blockquote",children:[]}}function z(){return{type:"code",lang:null,meta:null,value:""}}function D(){return{type:"inlineCode",value:""}}function F(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function R(){return{type:"emphasis",children:[]}}function Z(){return{type:"heading",depth:void 0,children:[]}}function P(){return{type:"break"}}function ye(){return{type:"html",value:""}}function q(){return{type:"image",title:null,url:"",alt:null}}function de(){return{type:"link",title:null,url:"",children:[]}}function ce(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function te(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function fe(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function me(){return{type:"thematicBreak"}}}function ql(t){return{line:t.line,column:t.column,offset:t.offset}}function TN(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?TN(t,r):nie(t,r)}}function nie(t,e){let n;for(n in e)if(EN.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function hA(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+kg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+kg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+kg({start:e.start,end:e.end})+") is still open")}function i3(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return eie(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}const dA={}.hasOwnProperty;function rie(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&dA.call(i,t)){const l=String(i[t]);o=dA.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function jy(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)jy(t,e.extensions[n]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?t[r]=[...t[r]||[],...e[r]||[]]:r==="handlers"?t[r]=Object.assign(t[r],e[r]||{}):t.options[r]=e[r]);return t}function iie(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),sie);return i(),o}function sie(t,e,n){return">"+(n?"":" ")+t}function DN(t,e){return fA(t,e.inConstruct,!0)&&!fA(t,e.notInConstruct,!1)}function fA(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function pA(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&DN(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function oie(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function s3(t,e){return!!(!e.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function aie(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function lie(t,e,n,r){const i=aie(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(s3(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,cie);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(oie(s,i)+1,3)),u=n.enter("codeFenced");let h=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...a.current()})),d()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(l),u(),h}function cie(t,e,n){return(n?"":"    ")+t}function KC(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function uie(t,e,n,r){const i=KC(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function hie(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}AN.peek=die;function AN(t,e,n,r){const i=hie(n),s=n.enter("emphasis"),o=n.createTracker(r);let a=o.move(i);return a+=o.move(n.containerPhrasing(t,{before:a,after:i,...o.current()})),a+=o.move(i),s(),a}function die(t,e,n){return n.options.emphasis||"*"}const kk=function(t){if(t==null)return mie;if(typeof t=="string")return gie(t);if(typeof t=="object")return Array.isArray(t)?fie(t):pie(t);if(typeof t=="function")return xk(t);throw new Error("Expected function, string, or object as test")};function fie(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=kk(t[n]);return xk(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function pie(t){return xk(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function gie(t){return xk(e);function e(n){return n&&n.type===t}}function xk(t){return e;function e(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...r))}}function mie(){return!0}const yie=!0,o3=!1,a3="skip",MN=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=kk(e),s=r?-1:1;o(t,void 0,[])();function o(a,l,u){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=[],p,g,m;if((!e||i(a,l,u[u.length-1]||null))&&(f=bie(n(a,u)),f[0]===o3))return f;if(a.children&&f[0]!==a3)for(g=(r?a.children.length:-1)+s,m=u.concat(a);g>-1&&g<a.children.length;){if(p=o(a.children[g],g,m)(),p[0]===o3)return p;g=typeof p[1]=="number"?p[1]:g+s}return f}}};function bie(t){return Array.isArray(t)?t:typeof t=="number"?[yie,t]:[t]}const k0=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),MN(t,e,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function PN(t,e){let n=!1;return k0(t,r=>{if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,o3}),!!((!t.depth||t.depth<3)&&HC(t)&&(e.options.setext||n))}function Oie(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(PN(t,n)){const h=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),h(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}$N.peek=kie;function $N(t){return t.value||""}function kie(){return"<"}RN.peek=xie;function RN(t,e,n,r){const i=KC(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function xie(){return"!"}LN.peek=wie;function LN(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function wie(){return"!"}function IN(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}JC.peek=_ie;function JC(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=IN(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function _ie(){return"`"}function NN(t,e){const n=HC(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}FN.peek=vie;function FN(t,e,n,r){const i=KC(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(NN(t,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=h,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function vie(t,e,n){return NN(t,n)?"<":"["}BN.peek=Sie;function BN(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Sie(){return"["}function e5(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Cie(t){const e=e5(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function QN(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Eie(t){const e=QN(t),n=t.options.bulletOrderedOther;if(!n)return e==="."?")":".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bulletOrdered` (`"+e+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}function zN(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Tie(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?QN(n):e5(n);const a=t.ordered?Eie(n):Cie(n),l=n.bulletLastUsed;let u=!1;if(e&&(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&l&&o===l&&(u=!0),!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),zN(n)===o&&d){let f=-1;for(;++f<t.children.length;){const p=t.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const h=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),h}function Die(t){const e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function VN(t,e,n,r){const i=Die(n);let s=n.bulletCurrent||e5(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,a.current()),h);return l(),u;function h(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function Aie(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const Mie=kk(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function Pie(t,e,n,r){return(t.children.some(o=>Mie(o))?n.containerPhrasing:n.containerFlow).call(n,t,r)}function $ie(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}WN.peek=Rie;function WN(t,e,n,r){const i=$ie(n),s=n.enter("strong"),o=n.createTracker(r);let a=o.move(i+i);return a+=o.move(n.containerPhrasing(t,{before:a,after:i,...o.current()})),a+=o.move(i+i),s(),a}function Rie(t,e,n){return n.options.strong||"*"}function Lie(t,e,n,r){return n.safe(t.value,r)}function Iie(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Nie(t,e,n){const r=(zN(n)+(n.options.ruleSpaces?" ":"")).repeat(Iie(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Fie={blockquote:iie,break:pA,code:lie,definition:uie,emphasis:AN,hardBreak:pA,heading:Oie,html:$N,image:RN,imageReference:LN,inlineCode:JC,link:FN,linkReference:BN,list:Tie,listItem:VN,paragraph:Aie,root:Pie,strong:WN,text:Lie,thematicBreak:Nie},Bie=[Qie];function Qie(t,e,n,r){if(e.type==="code"&&s3(e,r)&&(t.type==="list"||t.type===e.type&&s3(t,r))||t.type==="list"&&t.type===e.type&&!!t.ordered==!!e.ordered&&!(t.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&PN(e,r))?void 0:n.spread?1:0}const du=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],zie=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:du},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:du},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:du},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:du},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:du},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:du},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:du},{atBreak:!0,character:"~"}];function t5(t){return t.label||!t.identifier?t.label||"":CN(t.identifier)}function n5(t,e,n){const r=e.indexStack,i=t.children||[],s=[];let o=-1,a=n.before;r.push(-1);let l=e.createTracker(n);for(;++o<i.length;){const u=i[o];let h;if(r[r.length-1]=o,o+1<i.length){let d=e.handle.handlers[i[o+1].type];d&&d.peek&&(d=d.peek),h=d?d(i[o+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else h=n.after;s.length>0&&(a==="\r"||a===`
`)&&u.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=e.createTracker(n),l.move(s.join(""))),s.push(l.move(e.handle(u,t,e,{...l.current(),before:a,after:h}))),a=s[s.length-1].slice(-1)}return r.pop(),s.join("")}function UN(t,e,n){const r=e.indexStack,i=t.children||[],s=e.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(e.handle(l,t,e,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(Vie(l,i[a+1],t,e)))}return r.pop(),o.join("")}function Vie(t,e,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const Wie=/\r?\n|\r/g;function jN(t,e){const n=[];let r=0,i=0,s;for(;s=Wie.exec(t);)o(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(t.slice(r)),n.join("");function o(a){n.push(e(a,i,!a))}}function r5(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],s=[],o={};let a=-1;for(;++a<t.unsafe.length;){const h=t.unsafe[a];if(!DN(t.stack,h))continue;const d=IN(h);let f;for(;f=d.exec(r);){const p="before"in h||!!h.atBreak,g="after"in h,m=f.index+(p?f[1].length:0);i.includes(m)?(o[m].before&&!p&&(o[m].before=!1),o[m].after&&!g&&(o[m].after=!1)):(i.push(m),o[m]={before:p,after:g})}}i.sort(Uie);let l=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const h=i[a];h<l||h>=u||h+1<u&&i[a+1]===h+1&&o[h].after&&!o[h+1].before&&!o[h+1].after||i[a-1]===h-1&&o[h].before&&!o[h-1].before&&!o[h-1].after||(l!==h&&s.push(gA(r.slice(l,h),"\\")),l=h,/[!-/:-@[-`{-~]/.test(r.charAt(h))&&(!n.encode||!n.encode.includes(r.charAt(h)))?s.push("\\"):(s.push("&#x"+r.charCodeAt(h).toString(16).toUpperCase()+";"),l++))}return s.push(gA(r.slice(l,u),n.after)),s.join("")}function Uie(t,e){return t-e}function gA(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=t+e;let o=-1,a=0,l;for(;l=n.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(t.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(t.slice(a)),i.join("")}function x0(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,s=n.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(u){r+=u}function l(u){const h=u||"",d=h.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,s=d.length===1?s+f.length:1+f.length+r,h}}function jie(t,e={}){const n={enter:i,indentLines:jN,associationId:t5,containerPhrasing:Xie,containerFlow:Hie,createTracker:x0,safe:Gie,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[],handle:void 0};jy(n,{unsafe:zie,join:Bie,handlers:Fie}),jy(n,e),n.options.tightDefinitions&&jy(n,{join:[Zie]}),n.handle=rie("type",{invalid:qie,unknown:Yie,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(s){return n.stack.push(s),o;function o(){n.stack.pop()}}}function qie(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Yie(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function Zie(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function Xie(t,e){return n5(t,this,e)}function Hie(t,e){return UN(t,this,e)}function Gie(t,e){return r5(this,t,e)}function l3(t){Object.assign(this,{Compiler:n=>{const r=this.data("settings");return jie(n,Object.assign({},r,t,{extensions:this.data("toMarkdownExtensions")||[]}))}})}function mA(t){if(t)throw t}var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Kie=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const qN=Th(Kie);var qy=Object.prototype.hasOwnProperty,YN=Object.prototype.toString,yA=Object.defineProperty,bA=Object.getOwnPropertyDescriptor,OA=function(e){return typeof Array.isArray=="function"?Array.isArray(e):YN.call(e)==="[object Array]"},kA=function(e){if(!e||YN.call(e)!=="[object Object]")return!1;var n=qy.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&qy.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||qy.call(e,i)},xA=function(e,n){yA&&n.name==="__proto__"?yA(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},wA=function(e,n){if(n==="__proto__")if(qy.call(e,n)){if(bA)return bA(e,n).value}else return;return e[n]},Jie=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=wA(a,n),i=wA(e,n),a!==i&&(h&&i&&(kA(i)||(s=OA(i)))?(s?(s=!1,o=r&&OA(r)?r:[]):o=r&&kA(r)?r:{},xA(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&xA(a,{name:n,newValue:i}));return a};const _A=Th(Jie);function c3(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ese(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const h=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,h?tse(h,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function tse(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const h=u;if(a&&n)throw h;return i(h)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}class so extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=kg(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}so.prototype.file="";so.prototype.name="";so.prototype.reason="";so.prototype.message="";so.prototype.stack="";so.prototype.fatal=null;so.prototype.column=null;so.prototype.line=null;so.prototype.source=null;so.prototype.ruleId=null;so.prototype.position=null;const oa={basename:nse,dirname:rse,extname:ise,join:sse,sep:"/"};function nse(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');w0(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function rse(t){if(w0(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function ise(t){w0(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function sse(...t){let e=-1,n;for(;++e<t.length;)w0(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ose(n)}function ose(t){w0(t);const e=t.charCodeAt(0)===47;let n=ase(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function ase(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function w0(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const lse={cwd:cse};function cse(){return"/"}function u3(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function use(t){if(typeof t=="string")t=new URL(t);else if(!u3(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return hse(t)}function hse(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const hw=["history","path","basename","stem","extname","dirname"];class dse{constructor(e){let n;e?typeof e=="string"||fse(e)?n={value:e}:u3(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=lse.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<hw.length;){const s=hw[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)hw.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){u3(e)&&(e=use(e)),fw(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?oa.dirname(this.path):void 0}set dirname(e){vA(this.basename,"dirname"),this.path=oa.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?oa.basename(this.path):void 0}set basename(e){fw(e,"basename"),dw(e,"basename"),this.path=oa.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?oa.extname(this.path):void 0}set extname(e){if(dw(e,"extname"),vA(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=oa.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?oa.basename(this.path,this.extname):void 0}set stem(e){fw(e,"stem"),dw(e,"stem"),this.path=oa.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new so(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function dw(t,e){if(t&&t.includes(oa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+oa.sep+"`")}function fw(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function vA(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function fse(t){return qN(t)}const h3=XN().freeze(),ZN={}.hasOwnProperty;function XN(){const t=ese(),e=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=u,s.stringify=h,s.run=d,s.runSync=f,s.process=p,s.processSync=g,s;function s(){const m=XN();let y=-1;for(;++y<e.length;)m.use(...e[y]);return m.data(_A(!0,{},n)),m}function o(m,y){return typeof m=="string"?arguments.length===2?(mw("data",r),n[m]=y,s):ZN.call(n,m)&&n[m]||null:m?(mw("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<e.length;){const[m,...y]=e[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const b=m.call(s,...y);typeof b=="function"&&t.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(m,...y){let b;if(mw("use",r),m!=null)if(typeof m=="function")A(m,...y);else if(typeof m=="object")Array.isArray(m)?T(m):x(m);else throw new TypeError("Expected usable value, not `"+m+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),s;function O(v){if(typeof v=="function")A(v);else if(typeof v=="object")if(Array.isArray(v)){const[S,...I]=v;A(S,...I)}else x(v);else throw new TypeError("Expected usable value, not `"+v+"`")}function x(v){T(v.plugins),v.settings&&(b=Object.assign(b||{},v.settings))}function T(v){let S=-1;if(v!=null)if(Array.isArray(v))for(;++S<v.length;){const I=v[S];O(I)}else throw new TypeError("Expected a list of plugins, not `"+v+"`")}function A(v,S){let I=-1,M;for(;++I<e.length;)if(e[I][0]===v){M=e[I];break}M?(c3(M[1])&&c3(S)&&(S=_A(!0,M[1],S)),M[1]=S):e.push([...arguments])}}function u(m){s.freeze();const y=op(m),b=s.Parser;return pw("parse",b),SA(b,"parse")?new b(String(y),y).parse():b(String(y),y)}function h(m,y){s.freeze();const b=op(y),O=s.Compiler;return gw("stringify",O),CA(m),SA(O,"compile")?new O(m,b).compile():O(m,b)}function d(m,y,b){if(CA(m),s.freeze(),!b&&typeof y=="function"&&(b=y,y=void 0),!b)return new Promise(O);O(null,b);function O(x,T){t.run(m,op(y),A);function A(v,S,I){S=S||m,v?T(v):x?x(S):b(null,S,I)}}}function f(m,y){let b,O;return s.run(m,y,x),EA("runSync","run",O),b;function x(T,A){mA(T),b=A,O=!0}}function p(m,y){if(s.freeze(),pw("process",s.Parser),gw("process",s.Compiler),!y)return new Promise(b);b(null,y);function b(O,x){const T=op(m);s.run(s.parse(T),T,(v,S,I)=>{if(v||!S||!I)A(v);else{const M=s.stringify(S,I);M==null||(mse(M)?I.value=M:I.result=M),A(v,I)}});function A(v,S){v||!S?x(v):O?O(S):y(null,S)}}}function g(m){let y;s.freeze(),pw("processSync",s.Parser),gw("processSync",s.Compiler);const b=op(m);return s.process(b,O),EA("processSync","process",y),b;function O(x){y=!0,mA(x)}}}function SA(t,e){return typeof t=="function"&&t.prototype&&(pse(t.prototype)||e in t.prototype)}function pse(t){let e;for(e in t)if(ZN.call(t,e))return!0;return!1}function pw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function gw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function mw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CA(t){if(!c3(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function EA(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function op(t){return gse(t)?t:new dse(t)}function gse(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function mse(t){return typeof t=="string"||qN(t)}const zr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},um=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let d3=null;const el=function(t,e,n){let r=d3||(d3=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},yse=function(){d3=null},rh=function(t,e,n,r){return n&&(TA(t,e,n,r,-1)||TA(t,e,n,r,1))},bse=/^(img|br|input|textarea|hr)$/i;function TA(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:pa(t))){let s=t.parentNode;if(!s||s.nodeType!=1||_0(t)||bse.test(t.nodeName)||t.contentEditable=="false")return!1;e=zr(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?pa(t):0}else return!1}}function pa(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ose(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=pa(t)}else if(t.parentNode&&!_0(t))e=zr(t),t=t.parentNode;else return null}}function kse(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!_0(t))e=zr(t)+1,t=t.parentNode;else return null}}function xse(t,e,n){for(let r=e==0,i=e==pa(t);r||i;){if(t==n)return!0;let s=zr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==pa(t)}}function _0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const wk=function(t){return t.focusNode&&rh(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Cu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function wse(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function _se(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Da=typeof navigator<"u"?navigator:null,DA=typeof document<"u"?document:null,Jc=Da&&Da.userAgent||"",f3=/Edge\/(\d+)/.exec(Jc),HN=/MSIE \d/.exec(Jc),p3=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jc),ts=!!(HN||p3||f3),_c=HN?document.documentMode:p3?+p3[1]:f3?+f3[1]:0,Io=!ts&&/gecko\/(\d+)/i.test(Jc);Io&&+(/Firefox\/(\d+)/.exec(Jc)||[0,0])[1];const g3=!ts&&/Chrome\/(\d+)/.exec(Jc),Si=!!g3,vse=g3?+g3[1]:0,Pi=!ts&&!!Da&&/Apple Computer/.test(Da.vendor),Hd=Pi&&(/Mobile\/\w+/.test(Jc)||!!Da&&Da.maxTouchPoints>2),Fs=Hd||(Da?/Mac/.test(Da.platform):!1),Sse=Da?/Win/.test(Da.platform):!1,go=/Android \d/.test(Jc),v0=!!DA&&"webkitFontSmoothing"in DA.documentElement.style,Cse=v0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Ese(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ja(t,e){return typeof t=="number"?t:t[e]}function Tse(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function AA(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=um(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,u=l?Ese(s):Tse(a),h=0,d=0;if(e.top<u.top+ja(r,"top")?d=-(u.top-e.top+ja(i,"top")):e.bottom>u.bottom-ja(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+ja(i,"top")-u.top:e.bottom-u.bottom+ja(i,"bottom")),e.left<u.left+ja(r,"left")?h=-(u.left-e.left+ja(i,"left")):e.right>u.right-ja(r,"right")&&(h=e.right-u.right+ja(i,"right")),h||d)if(l)s.defaultView.scrollBy(h,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),h&&(a.scrollLeft+=h);let g=a.scrollLeft-f,m=a.scrollTop-p;e={left:e.left-g,top:e.top-m,right:e.right-g,bottom:e.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Dse(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:GN(t.dom)}}function GN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=um(r));return e}function Ase({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;KN(n,r==0?0:r-e)}function KN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let zh=null;function Mse(t){if(t.setActive)return t.setActive();if(zh)return t.focus(zh);let e=GN(t);t.focus(zh==null?{get preventScroll(){return zh={preventScroll:!0},!0}}:void 0),zh||(zh=!1,KN(e,0))}function JN(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,u;for(let h=t.firstChild,d=0;h;h=h.nextSibling,d++){let f;if(h.nodeType==1)f=h.getClientRects();else if(h.nodeType==3)f=el(h).getClientRects();else continue;for(let p=0;p<f.length;p++){let g=f[p];if(g.top<=o&&g.bottom>=a){o=Math.max(g.bottom,o),a=Math.min(g.top,a);let m=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(m<r){n=h,r=m,i=m&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,h.nodeType==1&&m&&(s=d+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=h,u={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?Pse(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:JN(n,i)}function Pse(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Hl(r,1);if(s.top!=s.bottom&&i5(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function i5(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function $se(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Rse(t,e,n){let{node:r,offset:i}=JN(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Lse(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function eF(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(i5(e,u))return eF(o,e,u)}}if((s=(s+1)%r)==i)break}return t}function Ise(t,e){let n=t.dom.ownerDocument,r,i=0,s=_se(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!i5(e,u)||(o=eF(t.dom,e,u),!o))return null}if(Pi)for(let u=o;r&&u;u=um(u))u.draggable&&(r=void 0);if(o=$se(o,e),r){if(Io&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let h=r.childNodes[i],d;h.nodeName=="IMG"&&(d=h.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;v0&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Lse(t,r,i,e))}a==null&&(a=Rse(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function MA(t){return t.top<t.bottom||t.left<t.right}function Hl(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(MA(r))return r}return Array.prototype.find.call(n,MA)||t.getBoundingClientRect()}const Nse=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tF(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=v0||Io;if(r.nodeType==3)if(o&&(Nse.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Hl(el(r,i,i),n);if(Io&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Hl(el(r,i-1,i-1),-1);if(u.top==l.top){let h=Hl(el(r,i,i+1),-1);if(h.top!=l.top)return ap(h,h.left<u.left)}}return l}else{let l=i,u=i,h=n<0?1:-1;return n<0&&!i?(u++,h=-1):n>=0&&i==r.nodeValue.length?(l--,h=1):n<0?l--:u++,ap(Hl(el(r,l,u),h),h<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==pa(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return yw(l.getBoundingClientRect(),!1)}if(s==null&&i<pa(r)){let l=r.childNodes[i];if(l.nodeType==1)return yw(l.getBoundingClientRect(),!0)}return yw(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==pa(r))){let l=r.childNodes[i-1],u=l.nodeType==3?el(l,pa(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return ap(Hl(u,1),!1)}if(s==null&&i<pa(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?el(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return ap(Hl(u,-1),!0)}return ap(Hl(r.nodeType==3?el(r):r,-n),n>=0)}function ap(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function yw(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function nF(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Fse(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return nF(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=tF(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=el(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let h=l[u];if(h.bottom>h.top+1&&(n=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const Bse=/[\u0590-\u08ac]/;function Qse(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return!Bse.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:nF(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:h,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:m}=t.domSelectionRange(),y=g&&!p.contains(g.nodeType==1?g:g.parentNode)||l==g&&u==m;try{a.collapse(h,d),l&&(l!=h||u!=d)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),y})}let PA=null,$A=null,RA=!1;function zse(t,e,n){return PA==e&&$A==n?RA:(PA=e,$A=n,RA=n=="up"||n=="down"?Fse(t,e,n):Qse(t,e,n))}const Xs=0,LA=1,Pu=2,Aa=3;class S0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Xs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>zr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof iF){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof rF&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?zr(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?zr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&e<=u){let h=o+l.border;if(e>=h&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,h);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=zr(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let h=a+1;h<this.children.length;h++){let d=this.children[h];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=zr(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let g=this.children[f],m=p+g.size;if(s>p&&o<m)return g.setSelection(e-p-g.border,n-p-g.border,r,i);p=m}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.getSelection(),h=!1;if((Io||Pi)&&e==n){let{node:f,offset:p}=a;if(f.nodeType==3){if(h=!!(p&&f.nodeValue[p-1]==`
`),h&&p==f.nodeValue.length)for(let g=f,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:zr(m)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=f.childNodes[p-1];h=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Io&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||h&&Pi)&&rh(a.node,a.offset,u.anchorNode,u.anchorOffset)&&rh(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!h){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Pu:LA,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Aa:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Pu:Aa}r=o}this.dirty=Pu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Pu:LA;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class rF extends S0{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Xs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Vse extends S0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ih extends S0{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=wo.renderSpec(document,n.type.spec.toDOM(n,r))),new ih(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Aa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Aa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Xs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Xs}}slice(e,n,r){let i=ih.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=b3(s,n,o,r)),e>0&&(s=b3(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class vc extends S0{constructor(e,n,r,i,s,o,a,l,u){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),h=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:d}=wo.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let f=h;return h=aF(h,r,n),u?l=new Wse(e,n,r,i,h,d||null,f,u,s,o+1):n.isText?new _k(e,n,r,i,h,f,s):new vc(e,n,r,i,h,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ae.empty)}return e}matchesNode(e,n,r){return this.dirty==Xs&&e.eq(this.node)&&y3(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new jse(this,o&&o.node,e);Zse(this.node,this.innerDeco,(u,h,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&l.syncToMarks(h==this.node.childCount?Wt.none:this.node.child(h).marks,r,e),l.placeWidget(u,e,i)},(u,h,d,f)=>{l.syncToMarks(u.marks,r,e);let p;l.findNodeMatch(u,h,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,h,d,p,e)||l.updateNextNode(u,h,d,e,f,i)||l.addNode(u,h,d,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Pu)&&(o&&this.protectLocalComposition(e,o),sF(this.contentDOM,this.children,e),Hd&&Xse(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ht)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Hse(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Vse(this,s,n,i);e.input.compositionNodes.push(o),this.children=b3(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Aa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Xs}updateOuterDeco(e){if(y3(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=oF(this.dom,this.nodeDOM,m3(this.outerDeco,this.node,n),m3(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function IA(t,e,n,r,i){aF(r,e,t);let s=new vc(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class _k extends vc{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Aa||this.dirty!=Xs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Xs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Xs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new _k(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Aa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class iF extends S0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Xs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Wse extends vc{constructor(e,n,r,i,s,o,a,l,u,h){super(e,n,r,i,s,o,a,u,h),this.spec=l}update(e,n,r,i){if(this.dirty==Aa)return!1;if(this.spec.update){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function sF(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=NA(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof ih){let l=r?r.previousSibling:t.lastChild;sF(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=NA(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const xg=function(t){t&&(this.nodeName=t)};xg.prototype=Object.create(null);const $u=[new xg];function m3(t,e,n){if(t.length==0)return $u;let r=n?$u[0]:new xg,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new xg(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new xg(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function oF(t,e,n,r){if(n==$u&&r==$u)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=$u[0]),i=l}Use(i,a||$u[0],o)}return i}function Use(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function aF(t,e,n){return oF(t,t,$u,m3(e,n,t.nodeType!=1))}function y3(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function NA(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class jse{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=qse(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Xs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ih.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Aa&&o.dom==o.contentDOM&&(o.dirty=Pu),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof vc){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let h=l.dom,d,f=this.isLocked(h)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Aa&&y3(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=h&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Pu,d.updateChildren(i,o+1),d.dirty=Xs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let a=vc.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=vc.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new rF(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ih;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof _k)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Pi||Si)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new iF(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function qse(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof ih)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Yse(t,e){return t.type.side-e.type.side}function Zse(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let h=t.child(u);r(h,i,e.forChild(s,h),u),s+=h.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let h,d;for(;o<i.length&&i[o].to==s;){let y=i[o++];y.widget&&(h?(d||(d=[h])).push(y):h=y)}if(h)if(d){d.sort(Yse);for(let y=0;y<d.length;y++)n(d[y],u,!!l)}else n(h,u,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(u<t.childCount)p=u,f=t.child(u++);else break;for(let y=0;y<a.length;y++)a[y].to<=s&&a.splice(y--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let g=s+f.nodeSize;if(f.isText){let y=g;o<i.length&&i[o].from<y&&(y=i[o].from);for(let b=0;b<a.length;b++)a[b].to<y&&(y=a[b].to);y<g&&(l=f.cut(y-s),f=f.cut(0,y-s),g=y,p=-1)}else for(;o<i.length&&i[o].to<g;)o++;let m=f.isInline&&!f.isLeaf?a.filter(y=>!y.inline):a.slice();r(f,m,e.forChild(s,f),p),s=g}}function Xse(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Hse(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function b3(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],u=a,h=a+=l.size;u>=n||h<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,r)),i&&(s.push(i),i=void 0),h>n&&s.push(l.slice(n-u,l.size,r)))}return s}function s5(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if(wk(n)){for(l=a;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&tt.isSelectable(h)&&i.parent&&!(h.isInline&&xse(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new tt(o==d?a:r.resolve(d))}}else{let h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null;l=r.resolve(h)}if(!u){let h=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=o5(t,l,a,h)}return u}function lF(t){return t.editable?t.hasFocus():uF(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function bl(t,e=!1){let n=t.state.selection;if(cF(t,n),!!lF(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Si){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&rh(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Kse(t);else{let{anchor:r,head:i}=n,s,o;FA&&!(n instanceof ht)&&(n.$from.parent.inlineContent||(s=BA(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=BA(t,n.to))),t.docView.setSelection(r,i,t.root,e),FA&&(s&&QA(s),o&&QA(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Gse(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const FA=Pi||Si&&vse<63;function BA(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Pi&&i&&i.contentEditable=="false")return bw(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return bw(i);if(s)return bw(s)}}function bw(t){return t.contentEditable="true",Pi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function QA(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Gse(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lF(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Kse(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,zr(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ts&&_c<=11&&(r.disabled=!0,r.disabled=!1)}function cF(t,e){if(e instanceof tt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(zA(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else zA(t)}function zA(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function o5(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ht.between(e,n,r)}function VA(t){return t.editable&&!t.hasFocus()?!1:uF(t)}function uF(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Jse(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return rh(e.node,e.offset,n.anchorNode,n.anchorOffset)}function O3(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ut.findFrom(s,e)}function rc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function WA(t,e,n){let r=t.state.selection;if(r instanceof ht)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return rc(t,new ht(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=O3(t.state,e);return i&&i instanceof tt?rc(t,i):!1}else if(!(Fs&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?tt.isSelectable(s)?rc(t,new tt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):v0?rc(t,new ht(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof tt&&r.node.isInline)return rc(t,new ht(e>0?r.$to:r.$from));{let i=O3(t.state,e);return i?rc(t,i):!1}}}function d2(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function wg(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Vh(t,e){return e<0?eoe(t):toe(t)}function eoe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Io&&n.nodeType==1&&r<d2(n)&&wg(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(wg(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(hF(n))break;{let a=n.previousSibling;for(;a&&wg(a,-1);)i=n.parentNode,s=zr(a),a=a.previousSibling;if(a)n=a,r=d2(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?k3(t,n,r):i&&k3(t,i,s)}function toe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=d2(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(wg(a,1))s=n,o=++r;else break}else{if(hF(n))break;{let a=n.nextSibling;for(;a&&wg(a,1);)s=a.parentNode,o=zr(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=d2(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&k3(t,s,o)}function hF(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function noe(t,e){for(;t&&e==t.childNodes.length&&!_0(t);)e=zr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function roe(t,e){for(;t&&!e&&!_0(t);)e=zr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function k3(t,e,n){if(e.nodeType!=3){let s,o;(o=noe(e,n))?(e=o,n=0):(s=roe(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(wk(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&bl(t)},50)}function UA(t,e){let n=t.state.doc.resolve(e);if(!(Si||Sse)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function jA(t,e,n){let r=t.state.selection;if(r instanceof ht&&!r.empty||n.indexOf("s")>-1||Fs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=O3(t.state,e);if(o&&o instanceof tt)return rc(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof es?ut.near(o,e):ut.findFrom(o,e);return a?rc(t,a):!1}return!1}function qA(t,e){if(!(t.state.selection instanceof ht))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function YA(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function ioe(t){if(!Pi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;YA(t,r,"true"),setTimeout(()=>YA(t,r,"false"),20)}return!1}function soe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ooe(t,e){let n=e.keyCode,r=soe(e);if(n==8||Fs&&n==72&&r=="c")return qA(t,-1)||Vh(t,-1);if(n==46&&!e.shiftKey||Fs&&n==68&&r=="c")return qA(t,1)||Vh(t,1);if(n==13||n==27)return!0;if(n==37||Fs&&n==66&&r=="c"){let i=n==37?UA(t,t.state.selection.from)=="ltr"?-1:1:-1;return WA(t,i,r)||Vh(t,i)}else if(n==39||Fs&&n==70&&r=="c"){let i=n==39?UA(t,t.state.selection.from)=="ltr"?1:-1:1;return WA(t,i,r)||Vh(t,i)}else{if(n==38||Fs&&n==80&&r=="c")return jA(t,-1,r)||Vh(t,-1);if(n==40||Fs&&n==78&&r=="c")return ioe(t)||jA(t,1,r)||Vh(t,1);if(r==(Fs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function dF(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||wo.fromSchema(t.state.schema),a=bF(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,h,d=0;for(;u&&u.nodeType==1&&(h=yF[u.nodeName.toLowerCase()]);){for(let p=h.length-1;p>=0;p--){let g=a.createElement(h[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function fF(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new Be(Ae.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Be.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:p}=t.state,g=wo.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let y=o.appendChild(document.createElement("p"));m&&y.appendChild(g.serializeNode(p.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=coe(n),v0&&uoe(o);let u=o&&o.querySelector("[data-pm-slice]"),h=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let d=+h[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||pk.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||h),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!aoe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),h)a=hoe(ZA(a,+h[1],+h[2]),h[4]);else if(a=Be.maxOpen(loe(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=ZA(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const aoe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function loe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&gF(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=mF(o[o.length-1],s.length));let h=pF(a,l);o.push(h),i=i.matchType(h.type),s=l}}),o)return Ae.from(o)}return t}function pF(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Ae.from(t));return t}function gF(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=gF(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Ae.from(pF(n,t,i+1))))}}function mF(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,mF(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Ae.empty,!0);return t.copy(n.append(r))}function x3(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=x3(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Ae.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function ZA(t,e,n){return e<t.openStart&&(t=new Be(x3(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Be(x3(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const yF={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let XA=null;function bF(){return XA||(XA=document.implementation.createHTMLDocument("title"))}function coe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=bF().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&yF[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=t,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function uoe(t){let e=t.querySelectorAll(Si?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function hoe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Ae.from(l.create(r[a+1],i)),s++,o++}return new Be(i,s,o)}const $i={},Ri={},doe={touchstart:!0,touchmove:!0};let foe=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function poe(t){for(let e in $i){let n=$i[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{moe(t,r)&&!a5(t,r)&&(t.editable||!(r.type in Ri))&&n(t,r)},doe[e]?{passive:!0}:void 0)}Pi&&t.dom.addEventListener("input",()=>null),w3(t)}function mc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function goe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function w3(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>a5(t,r))})}function a5(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function moe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function yoe(t,e){!a5(t,e)&&$i[e.type]&&(t.editable||!(e.type in Ri))&&$i[e.type](t,e)}Ri.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!kF(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(go&&Si&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Hd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Cu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||ooe(t,n)?n.preventDefault():mc(t,"key")};Ri.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ri.keypress=(t,e)=>{let n=e;if(kF(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Fs&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ht)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function vk(t){return{left:t.clientX,top:t.clientY}}function boe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function l5(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Cd(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Ooe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&tt.isSelectable(r)?(Cd(t,new tt(n)),!0):!1}function koe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof tt&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(tt.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Cd(t,tt.create(t.state.doc,i)),!0):!1}function xoe(t,e,n,r,i){return l5(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?koe(t,n):Ooe(t,n))}function woe(t,e,n,r){return l5(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function _oe(t,e,n,r){return l5(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||voe(t,n,r)}function voe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Cd(t,ht.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Cd(t,ht.create(r,a+1,a+1+o.content.size));else if(tt.isSelectable(o))Cd(t,tt.create(r,a));else continue;return!0}}function c5(t){return f2(t)}const OF=Fs?"metaKey":"ctrlKey";$i.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=c5(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&boe(n,t.input.lastClick)&&!n[OF]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(vk(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Soe(t,o,n,!!r)):(s=="doubleClick"?woe:_oe)(t,o.pos,o.inside,n)?n.preventDefault():mc(t,"pointer"))};class Soe{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[OF],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let h=e.state.doc.resolve(n.pos);s=h.parent,o=h.depth?h.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof tt&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Io&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),mc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>bl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(vk(e))),this.updateAllowDefault(e),this.allowDefault||!n?mc(this.view,"pointer"):xoe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Pi&&this.mightDrag&&!this.mightDrag.node.isAtom||Si&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Cd(this.view,ut.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):mc(this.view,"pointer")}move(e){this.updateAllowDefault(e),mc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}$i.touchstart=t=>{t.input.lastTouch=Date.now(),c5(t),mc(t,"pointer")};$i.touchmove=t=>{t.input.lastTouch=Date.now(),mc(t,"pointer")};$i.contextmenu=t=>c5(t);function kF(t,e){return t.composing?!0:Pi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Coe=go?5e3:-1;Ri.compositionstart=Ri.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),f2(t,!0),t.markCursor=null;else if(f2(t),Io&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){t.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}xF(t,Coe)};Ri.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,xF(t,20))};function xF(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>f2(t),e))}function wF(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Toe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Eoe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Ose(e.focusNode,e.focusOffset),r=kse(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function Toe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function f2(t,e=!1){if(!(go&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),wF(t),e||t.docView&&t.docView.dirty){let n=s5(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Doe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const hm=ts&&_c<15||Hd&&Cse<604;$i.copy=Ri.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=hm?null:n.clipboardData,o=r.content(),{dom:a,text:l}=dF(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Doe(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Aoe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Moe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?dm(t,r.value,null,i,e):dm(t,r.textContent,r.innerHTML,i,e)},50)}function dm(t,e,n,r,i){let s=fF(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||Be.empty)))return!0;if(!s)return!1;let o=Aoe(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function _F(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ri.paste=(t,e)=>{let n=e;if(t.composing&&!go)return;let r=hm?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&dm(t,_F(r),r.getData("text/html"),i,n)?n.preventDefault():Moe(t,n)};class vF{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const SF=Fs?"altKey":"ctrlKey";$i.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(vk(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof tt?i.to-1:i.to))){if(r&&r.mightDrag)o=tt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=tt.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:u,slice:h}=dF(t,a);n.dataTransfer.clearData(),n.dataTransfer.setData(hm?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",hm||n.dataTransfer.setData("text/plain",u),t.dragging=new vF(h,!n[SF],o)};$i.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ri.dragover=Ri.dragenter=(t,e)=>e.preventDefault();Ri.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(vk(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",g=>{o=g(o,t)}):o=fF(t,_F(n.dataTransfer),hm?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[SF]);if(t.someProp("handleDrop",g=>g(t,n,o||Be.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?qC(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=t.state.tr;if(a){let{node:g}=r;g?g.replace(u):u.deleteSelection()}let h=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(h,h,o.content.firstChild):u.replaceRange(h,h,o),u.doc.eq(f))return;let p=u.doc.resolve(h);if(d&&tt.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new tt(p));else{let g=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,y,b,O)=>g=O),u.setSelection(o5(t,p,u.doc.resolve(g)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};$i.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&bl(t)},20))};$i.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};$i.beforeinput=(t,e)=>{if(Si&&go&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Cu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ri)$i[t]=Ri[t];function fm(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}let HA=class CF{constructor(e,n){this.toDOM=e,this.spec=n||qu,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new pi(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof CF&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&fm(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}};class Sc{constructor(e,n){this.attrs=e,this.spec=n||qu}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new pi(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Sc&&fm(this.attrs,e.attrs)&&fm(this.spec,e.spec)}static is(e){return e.type instanceof Sc}destroy(){}}let Poe=class EF{constructor(e,n){this.attrs=e,this.spec=n||qu}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new pi(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof EF&&fm(this.attrs,e.attrs)&&fm(this.spec,e.spec)}destroy(){}},pi=class Lp{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Lp(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Lp(e,e,new HA(n,r))}static inline(e,n,r,i){return new Lp(e,n,new Sc(r,i))}static node(e,n,r,i){return new Lp(e,n,new Poe(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Sc}get widget(){return this.type instanceof HA}};const Kh=[],qu={};class Jt{constructor(e,n){this.local=e.length?e:Kh,this.children=n.length?n:Kh}static create(e,n){return n.length?p2(n,e,0,qu):ni}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==ni||e.maps.length==0?this:this.mapInner(e,n,0,0,r||qu)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?$oe(this.children,o||[],e,n,r,i,s):o?new Jt(o.sort(Yu),Kh):ni}add(e,n){return n.length?this==ni?Jt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let u=l+r,h;if(h=DF(n,a,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,h,u+1):i.splice(s,0,l,l+a.nodeSize,p2(h,a,u+1,qu)),s+=3}});let o=TF(s?AF(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Jt(o.length?this.local.concat(o).sort(Yu):this.local,i||this.children)}remove(e){return e.length==0||this==ni?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let h=0,d;h<e.length;h++)(d=e[h])&&d.from>a&&d.to<l&&(e[h]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,a+1);u!=ni?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Jt(i,r):ni}forChild(e,n){if(this==ni)return this;if(n.isLeaf)return Jt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Sc){let u=Math.max(s,l.from)-s,h=Math.min(o,l.to)-s;u<h&&(i||(i=[])).push(l.copy(u,h))}}if(i){let a=new Jt(i.sort(Yu),Kh);return r?new ac([a,r]):a}return r||ni}eq(e){if(this==e)return!0;if(!(e instanceof Jt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return u5(this.localsInner(e))}localsInner(e){if(this==ni)return Kh;if(e.inlineContent||!this.local.some(Sc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Sc||n.push(this.local[r]);return n}}Jt.empty=new Jt([],[]);Jt.removeOverlap=u5;const ni=Jt.empty;class ac{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,qu));return ac.from(r)}forChild(e,n){if(n.isLeaf)return Jt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=ni&&(s instanceof ac?r=r.concat(s.members):r.push(s))}return ac.from(r)}eq(e){if(!(e instanceof ac)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?u5(r?n:n.sort(Yu)):Kh}static from(e){switch(e.length){case 0:return ni;case 1:return e[0];default:return new ac(e.every(n=>n instanceof Jt)?e:e.reduce((n,r)=>n.concat(r instanceof Jt?r:r.members),[]))}}}function $oe(t,e,n,r,i,s,o){let a=t.slice();for(let u=0,h=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,p,g,m)=>{let y=m-g-(p-f);for(let b=0;b<a.length;b+=3){let O=a[b+1];if(O<0||f>O+h-d)continue;let x=a[b]+h-d;p>=x?a[b+1]=f<=x?-2:-1:f>=h&&y&&(a[b]+=y,a[b+1]+=y)}d+=y}),h=n.maps[u].map(h,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let h=n.map(t[u]+s),d=h-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[u+1]+s,-1),p=f-i,{index:g,offset:m}=r.content.findIndex(d),y=r.maybeChild(g);if(y&&m==d&&m+y.nodeSize==p){let b=a[u+2].mapInner(n,y,h+1,t[u]+s+1,o);b!=ni?(a[u]=d,a[u+1]=p,a[u+2]=b):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=Roe(a,t,e,n,i,s,o),h=p2(u,r,0,o);e=h.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<h.children.length;d+=3){let p=h.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,h.children[d],h.children[d+1],h.children[d+2])}}return new Jt(e.sort(Yu),a)}function TF(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new pi(i.from+e,i.to+e,i.type))}return n}function Roe(t,e,n,r,i,s,o){function a(l,u){for(let h=0;h<l.local.length;h++){let d=l.local[h].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(l.local[h].spec)}for(let h=0;h<l.children.length;h+=3)a(l.children[h+2],l.children[h]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function DF(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function AF(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function p2(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let u=DF(t,a,l+n);if(u){s=!0;let h=p2(u,a,n+l+1,r);h!=ni&&i.push(l,l+a.nodeSize,h)}});let o=TF(s?AF(t):t,-n).sort(Yu);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Jt(o,i):ni}function Yu(t,e){return t.from-e.from||t.to-e.to}function u5(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),GA(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),GA(e,i,r.copy(s.from,r.to)));break}}}return e}function GA(t,e,n){for(;e<t.length&&Yu(n,t[e])>0;)e++;t.splice(e,0,n)}function Ow(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=ni&&e.push(r)}),t.cursorWrapper&&e.push(Jt.create(t.state.doc,[t.cursorWrapper.deco])),ac.from(e)}const Loe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ioe=ts&&_c<=11;class Noe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}let Foe=class{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Noe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ts&&_c<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Ioe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Loe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(VA(this.view)){if(this.suppressingSelectionUpdates)return bl(this.view);if(ts&&_c<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&rh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=um(s))n.add(s);for(let s=e.anchorNode;s;s=um(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&VA(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let h=0;h<n.length;h++){let d=this.registerMutation(n[h],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Io&&l.length){let h=l.filter(d=>d.nodeName=="BR");if(h.length==2){let[d,f]=h;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of h){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||zoe(e,d)!=p)&&f.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&wk(r)&&(u=s5(e))&&u.eq(ut.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,bl(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),Boe(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||bl(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++)n.push(e.addedNodes[h]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(ts&&_c<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:d,nextSibling:f}=e.addedNodes[h];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?zr(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?zr(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}},KA=new WeakMap,JA=!1;function Boe(t){if(!KA.has(t)&&(KA.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Io,JA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),JA=!0}}function e8(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return rh(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Qoe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return e8(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?e8(t,n):null}function zoe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Voe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,h=l.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(u=[{node:h,offset:l.anchorOffset}],wk(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Si&&t.input.lastKeyCode===8)for(let y=s;y>i;y--){let b=r.childNodes[y-1],O=b.pmViewDesc;if(b.nodeName=="BR"&&!O){s=y;break}if(!O||O.size)break}let d=t.state.doc,f=t.someProp("domParser")||pk.fromSchema(t.state.schema),p=d.resolve(o),g=null,m=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Woe,context:p});if(u&&u[0].pos!=null){let y=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=y),g={anchor:y+o,head:b+o}}return{doc:m,sel:g,from:o,to:a}}function Woe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Pi&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Pi&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Uoe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function joe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,C=s5(t,M);if(C&&!t.state.selection.eq(C)){if(Si&&go&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",_=>_(t,Cu(13,"Enter"))))return;let E=t.state.tr.setSelection(C);M=="pointer"?E.setMeta("pointer",!0):M=="key"&&E.scrollIntoView(),s&&E.setMeta("composition",s),t.dispatch(E)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,u=Voe(t,e,n),h=t.state.doc,d=h.slice(u.from,u.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let g=Zoe(d.content,u.doc.content,u.from,f,p);if((Hd&&t.input.lastIOSEnter>Date.now()-225||go)&&i.some(M=>M.nodeType==1&&!Uoe.test(M.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",M=>M(t,Cu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof ht&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let M=t8(t,t.state.doc,u.sel);if(M&&!M.eq(t.state.selection)){let C=t.state.tr.setSelection(M);s&&C.setMeta("composition",s),t.dispatch(C)}}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof ht&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),ts&&_c<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>u.from&&u.doc.textBetween(g.start-u.from-1,g.start-u.from+1)=="  "&&(g.start--,g.endA--,g.endB--);let m=u.doc.resolveNoCache(g.start-u.from),y=u.doc.resolveNoCache(g.endB-u.from),b=h.resolve(g.start),O=m.sameParent(y)&&m.parent.inlineContent&&b.end()>=g.endA,x;if((Hd&&t.input.lastIOSEnter>Date.now()-225&&(!O||i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!O&&m.pos<u.doc.content.size&&!m.sameParent(y)&&(x=ut.findFrom(u.doc.resolve(m.pos+1),1,!0))&&x.head==y.pos)&&t.someProp("handleKeyDown",M=>M(t,Cu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&Yoe(h,g.start,g.endA,m,y)&&t.someProp("handleKeyDown",M=>M(t,Cu(8,"Backspace")))){go&&Si&&t.domObserver.suppressSelectionUpdates();return}Si&&go&&g.endB==g.start&&(t.input.lastAndroidDelete=Date.now()),go&&!O&&m.start()!=y.start()&&y.parentOffset==0&&m.depth==y.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==g.endA&&(g.endB-=2,y=u.doc.resolveNoCache(g.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,Cu(13,"Enter"))})},20));let T=g.start,A=g.endA,v,S,I;if(O){if(m.pos==y.pos)ts&&_c<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>bl(t),20)),v=t.state.tr.delete(T,A),S=h.resolve(g.start).marksAcross(h.resolve(g.endA));else if(g.endA==g.endB&&(I=qoe(m.parent.content.cut(m.parentOffset,y.parentOffset),b.parent.content.cut(b.parentOffset,g.endA-b.start()))))v=t.state.tr,I.type=="add"?v.addMark(T,A,I.mark):v.removeMark(T,A,I.mark);else if(m.parent.child(m.index()).isText&&m.index()==y.index()-(y.textOffset?0:1)){let M=m.parent.textBetween(m.parentOffset,y.parentOffset);if(t.someProp("handleTextInput",C=>C(t,T,A,M)))return;v=t.state.tr.insertText(M,T,A)}}if(v||(v=t.state.tr.replace(T,A,u.doc.slice(g.start-u.from,g.endB-u.from))),u.sel){let M=t8(t,v.doc,u.sel);M&&!(Si&&go&&t.composing&&M.empty&&(g.start!=g.endB||t.input.lastAndroidDelete<Date.now()-100)&&(M.head==T||M.head==v.mapping.map(A)-1)||ts&&M.empty&&M.head==T)&&v.setSelection(M)}S&&v.ensureMarks(S),s&&v.setMeta("composition",s),t.dispatch(v.scrollIntoView())}function t8(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:o5(t,e.resolve(n.anchor),e.resolve(n.head))}function qoe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);for(let h=0;h<n.length;h++)s=n[h].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=h=>h.mark(a.addToSet(h.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=h=>h.mark(a.removeFromSet(h.marks));else return null;let u=[];for(let h=0;h<e.childCount;h++)u.push(l(e.child(h)));if(Ae.from(u).eq(t))return{mark:a,type:o}}function Yoe(t,e,n,r,i){if(n-e<=i.pos-r.pos||kw(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(kw(s,!0,!0));return!o.parent.isTextblock||o.pos>n||kw(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function kw(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Zoe(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&n8(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&n8(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function n8(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}let MF=class{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new foe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(a8),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=s8(this),i8(this),this.nodeViews=o8(this),this.docView=IA(this.state.doc,r8(this),Ow(this),this.dom,this),this.domObserver=new Foe(this,(r,i,s,o)=>joe(this,r,i,s,o)),this.domObserver.start(),poe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&w3(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(a8),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(wF(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=o8(this);Hoe(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&w3(this),this.editable=s8(this),i8(this);let l=Ow(this),u=r8(this),h=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,u,l);(d||!e.selection.eq(i.selection))&&(o=!0);let f=h=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Dse(this);if(o){this.domObserver.stop();let p=d&&(ts||Si)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Xoe(i.selection,e.selection);if(d){let g=Si?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Eoe(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=IA(e.doc,u,l,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Jse(this))?bl(this,p):(cF(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():f&&Ase(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof tt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&AA(this,n.getBoundingClientRect(),e)}else AA(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new vF(e.slice,e.move,i<0?void 0:tt.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(ts){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Mse(this.dom),bl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Ise(this,e)}coordsAtPos(e,n=1){return tF(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return zse(this,n||this.state,e)}pasteHTML(e,n){return dm(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return dm(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(goe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ow(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,yse())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return yoe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return Pi&&this.root.nodeType===11&&wse(this.dom.ownerDocument)==this.dom&&Qoe(this,e)||e}domSelection(){return this.root.getSelection()}};function r8(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[pi.node(0,t.state.doc.content.size,e)]}function i8(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:pi.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function s8(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Xoe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function o8(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Hoe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function a8(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class Li{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?Goe(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}}function Goe(t){return function(e,n,r,i){let s=t;if(n[1]){let o=n[0].lastIndexOf(n[1]);s+=n[0].slice(o+n[1].length),r+=o;let a=r-i;a>0&&(s=n[0].slice(o-a,o)+s,r=i)}return e.tr.insertText(s,r,i)}}new Li(/--$/,"—");new Li(/\.\.\.$/,"…");new Li(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“");new Li(/"$/,"”");new Li(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘");new Li(/'$/,"’");function If(t,e,n=null,r){return new Li(t,(i,s,o,a)=>{let l=n instanceof Function?n(s):n,u=i.tr.delete(o,a),h=u.doc.resolve(o),d=h.blockRange(),f=d&&sN(d,e,l);if(!f)return null;u.wrap(d,f);let p=u.doc.resolve(o-1).nodeBefore;return p&&p.type==e&&mk(u.doc,o-1)&&(!r||r(s,p))&&u.join(o-1),u})}function _3(t,e,n=null){return new Li(t,(r,i,s,o)=>{let a=r.doc.resolve(s),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(s,o).setBlockType(s,s,e,l):null})}const zc=typeof navigator<"u"?navigator:null,l8=typeof document<"u"?document:null,eu=zc&&zc.userAgent||"",v3=/Edge\/(\d+)/.exec(eu),PF=/MSIE \d/.exec(eu),S3=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(eu),Sk=!!(PF||S3||v3),Koe=PF?document.documentMode:S3?+S3[1]:v3?+v3[1]:0,$F=!Sk&&/gecko\/(\d+)/i.test(eu),Joe=$F&&+(/Firefox\/(\d+)/.exec(eu)||[0,0])[1],C3=!Sk&&/Chrome\/(\d+)/.exec(eu),eae=!!C3,tae=C3?+C3[1]:0,RF=!Sk&&!!zc&&/Apple Computer/.test(zc.vendor),LF=RF&&(/Mobile\/\w+/.test(eu)||!!zc&&zc.maxTouchPoints>2),nae=LF||(zc?/Mac/.test(zc.platform):!1),rae=/Android \d/.test(eu),IF=!!l8&&"webkitFontSmoothing"in l8.documentElement.style,iae=IF?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var ld=Object.freeze({__proto__:null,ie:Sk,ie_version:Koe,gecko:$F,gecko_version:Joe,chrome:eae,chrome_version:tae,safari:RF,ios:LF,mac:nae,android:rae,webkit:IF,webkit_version:iae});function xw(t,e,n,r,i,s){if(t.composing)return!1;const o=t.state,a=o.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,void 0,"￼")+r;for(let u=0;u<i.length;u++){const h=i[u].match.exec(l),d=h&&h[0]&&i[u].handler(o,h,e-(h[0].length-r.length),n);if(d)return t.dispatch(d.setMeta(s,{transform:d,from:e,to:n,text:r})),!0}return!1}const sae=new en("MILKDOWN_CUSTOM_INPUTRULES"),oae=({rules:t})=>{const e=new Xt({key:sae,isInputRules:!0,state:{init(){return null},apply(n,r){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,s){return xw(n,r,i,s,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:r}=n.state.selection;r&&xw(n,r.pos,r.pos,"",t,e)}),!1)},handleKeyDown(n,r){if(r.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?xw(n,i.pos,i.pos,`
`,t,e):!1}}});return e},h5=(t,e,n)=>{const r=t.state,{from:i}=r.selection,{node:s}=t.domAtPos(i),o=s instanceof Text?s.parentElement:s;if(!(o instanceof HTMLElement))throw Yr(o);const a=o.getBoundingClientRect(),l=e.getBoundingClientRect(),u=e.parentElement;if(!u)throw Yr(u);const h=u.getBoundingClientRect(),[d,f]=n(a,l,h);e.style.top=`${d}px`,e.style.left=`${f}px`},d5=(t,e,n)=>{const r=t.state,{from:i,to:s}=r.selection,o=t.coordsAtPos(i),a=t.coordsAtPos(s),l=e.getBoundingClientRect(),u=e.parentElement;if(!u)throw Mi();const h=u.getBoundingClientRect(),[d,f]=n(o,a,l,h);e.style.top=`${d}px`,e.style.left=`${f}px`},f5=t=>Object.assign(Object.create(t),t).setTime(Date.now()),aae=(t,e)=>Array.isArray(t)&&t.includes(e.type)||e.type===t,lae=(t,e=!0)=>{const n=[];return t.descendants((r,i)=>{if(n.push({node:r,pos:i}),!e)return!1}),n},E3=t=>(e,n)=>lae(e,n).filter(r=>t(r.node)),Eu=(t,e)=>{const n=e.nodes[t];if(!n)throw bJ("node",t);return n},cae=t=>e=>{for(let n=e.depth;n>0;n--){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},p5=t=>e=>cae(t)(e.$from),Ol=(t,e)=>{if(!(t instanceof tt))return;const{node:n,$from:r}=t;if(aae(e,n))return{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}},g5=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function uae(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const hae=(t,e,n)=>{let r=uae(t,n);if(!r)return!1;let i=NF(r);if(!i){let o=r.blockRange(),a=o&&gk(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&BF(t,i,e))return!0;if(r.parent.content.size==0&&(Gd(s,"end")||tt.isSelectable(s))){let o=YC(t.doc,r.before(),r.after(),Be.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Gd(s,"end")?ut.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):tt.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function Gd(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const dae=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=NF(r)}let o=s&&s.nodeBefore;return!o||!tt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(tt.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function NF(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function fae(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const pae=(t,e,n)=>{let r=fae(t,n);if(!r)return!1;let i=FF(r);if(!i)return!1;let s=i.nodeAfter;if(BF(t,i,e))return!0;if(r.parent.content.size==0&&(Gd(s,"start")||tt.isSelectable(s))){let o=YC(t.doc,r.before(),r.after(),Be.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Gd(s,"start")?ut.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):tt.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},gae=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=FF(r)}let o=s&&s.nodeAfter;return!o||!tt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(tt.create(t.doc,s.pos)).scrollIntoView()),!0)};function FF(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const mae=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function m5(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const yae=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=m5(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(ut.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},bae=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof es||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=m5(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(ht.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},Oae=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(bg(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&gk(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function kae(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof tt&&e.selection.node.isBlock)return!r.parentOffset||!bg(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=e.tr;(e.selection instanceof ht||e.selection instanceof es)&&o.deleteSelection();let a=r.depth==0?null:m5(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=s&&a?[{type:a}]:void 0,u=bg(o.doc,o.mapping.map(r.pos),1,l);if(!l&&!u&&bg(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(l=[{type:a}]),u=!0),u&&(o.split(o.mapping.map(r.pos),1,l),!s&&!r.parentOffset&&r.parent.type!=a)){let h=o.mapping.map(r.before()),d=o.doc.resolve(h);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const xae=kae(),wae=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(tt.create(t.doc,i))),!0)},_ae=(t,e)=>(e&&e(t.tr.setSelection(new es(t.doc))),!0);function vae(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||mk(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function BF(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(vae(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=Ae.empty;for(let m=s.length-1;m>=0;m--)f=Ae.from(s[m].create(null,f));f=Ae.from(r.copy(f));let p=t.tr.step(new hi(e.pos-1,d,e.pos,d,new Be(f,1,0),s.length,!0)),g=d+2*s.length;mk(p.doc,g)&&p.join(g),n(p.scrollIntoView())}return!0}let l=ut.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),h=u&&gk(u);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(u,h).scrollIntoView()),!0;if(a&&Gd(i,"start",!0)&&Gd(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let p=i,g=1;for(;!p.isTextblock;p=p.firstChild)g++;if(d.canReplace(d.childCount,d.childCount,p.content)){if(n){let m=Ae.empty;for(let b=f.length-1;b>=0;b--)m=Ae.from(f[b].copy(m));let y=t.tr.step(new hi(e.pos-f.length,e.pos+i.nodeSize,e.pos+g,e.pos+i.nodeSize-g,new Be(m,f.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function QF(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(ht.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Sae=QF(-1),Cae=QF(1);function _o(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&sN(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Cc(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let h=n.doc.resolve(u),d=h.index();i=h.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function Eae(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:s}=e[r],o=i.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(n)}),o)return!0}return!1}function Ck(t,e=null){return function(n,r){let{empty:i,$cursor:s,ranges:o}=n.selection;if(i&&!s||!Eae(n.doc,o,t))return!1;if(r)if(s)t.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let a=!1,l=n.tr;for(let u=0;!a&&u<o.length;u++){let{$from:h,$to:d}=o[u];a=n.doc.rangeHasMark(h.pos,d.pos,t)}for(let u=0;u<o.length;u++){let{$from:h,$to:d}=o[u];if(a)l.removeMark(h.pos,d.pos,t);else{let f=h.pos,p=d.pos,g=h.nodeAfter,m=d.nodeBefore,y=g&&g.isText?/^\s*/.exec(g.text)[0].length:0,b=m&&m.isText?/\s*$/.exec(m.text)[0].length:0;f+y<p&&(f+=y,p-=b),l.addMark(f,p,t.create(e))}}r(l.scrollIntoView())}return!0}}function Ek(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let ww=Ek(g5,hae,dae),c8=Ek(g5,pae,gae);const il={Enter:Ek(mae,bae,Oae,xae),"Mod-Enter":yae,Backspace:ww,"Mod-Backspace":ww,"Shift-Backspace":ww,Delete:c8,"Mod-Delete":c8,"Mod-a":_ae},zF={"Ctrl-h":il.Backspace,"Alt-Backspace":il["Mod-Backspace"],"Ctrl-d":il.Delete,"Ctrl-Alt-Backspace":il["Mod-Delete"],"Alt-Delete":il["Mod-Delete"],"Alt-d":il["Mod-Delete"],"Ctrl-a":Sae,"Ctrl-e":Cae};for(let t in il)zF[t]=il[t];const Tae=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,VF=Tae?zF:il;var Sl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},pm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Dae=typeof navigator<"u"&&/Mac/.test(navigator.platform),Aae=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Vr=0;Vr<10;Vr++)Sl[48+Vr]=Sl[96+Vr]=String(Vr);for(var Vr=1;Vr<=24;Vr++)Sl[Vr+111]="F"+Vr;for(var Vr=65;Vr<=90;Vr++)Sl[Vr]=String.fromCharCode(Vr+32),pm[Vr]=String.fromCharCode(Vr);for(var _w in Sl)pm.hasOwnProperty(_w)||(pm[_w]=Sl[_w]);function WF(t){var e=Dae&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Aae&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?pm:Sl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Mae=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Pae(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Mae?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function $ae(t){let e=Object.create(null);for(let n in t)e[Pae(n)]=t[n];return e}function vw(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function sh(t){return new Xt({props:{handleKeyDown:y5(t)}})}function y5(t){let e=$ae(t);return function(n,r){let i=WF(r),s,o=e[vw(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[vw(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Sl[r.keyCode])&&s!=i){let a=e[vw(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var Rae=Object.defineProperty,Lae=(t,e,n)=>e in t?Rae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gl=(t,e,n)=>(Lae(t,typeof e!="symbol"?e+"":e,n),n),UF=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Mt=(t,e,n)=>(UF(t,e,"read from private field"),n?n.call(t):e.get(t)),xi=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Yy=(t,e,n,r)=>(UF(t,e,"write to private field"),e.set(t,n),n);const Zy=$a("ConfigReady"),Iae=t=>e=>(e.record(Zy),async n=>(await t(n),n.done(Zy),r=>{r.clearTimer(Zy)})),Sw=mt([],"themeTimer"),Xy=$a("ThemeEnvironmentReady"),_g=$a("ThemeReady"),Nae=new en("MILKDOWN_THEME_RESET"),Fae=t=>{const e=bee();return t.inject(Gx).inject(Wu).inject(yt,e).inject(Sw,[Zy]).record(_g).record(Xy),async n=>{await n.waitTimers(Sw);const r=yee(n.get(Gx));return EI.forEach(i=>{e.inject(i)}),n.set(Wu,r),n.done(Xy),n.done(_g),await n.wait(kl),n.update(as,i=>i.concat(new Xt({key:Nae,view:()=>(e.runExecutor(),{destroy:()=>{r.flush()}})}))),i=>{i.remove(Gx).remove(Wu).remove(yt).remove(Sw).clearTimer(_g).clearTimer(Xy)}}},Bae=t=>{let e=null;const n=()=>async r=>{await r.wait(Xy);const i=r.get(Wu),s=r.get(yt);s.setExecutor(()=>{t==null||t(i,s),e==null||e(i,s),EI.forEach(o=>{s.has(o)||console.warn("Theme key not found: ",o.sliceName)}),s.get(WC,void 0)})};return n.override=r=>(e=r,n),n},kl=$a("InitReady"),Cw=mt([],"initTimer"),vg=mt({},"editor"),gm=mt([],"inputRules"),as=mt([],"prosePlugins"),Kd=mt([],"remarkPlugins"),mm=mt([],"nodeView"),ym=mt([],"markView"),Zu=mt(h3().use(i3).use(l3),"remark"),Qae={},Ew=mt(Qae,"remarkStringifyOptions"),zae=t=>e=>(e.inject(vg,t).inject(as).inject(Kd).inject(gm).inject(mm).inject(ym).inject(Ew).inject(Zu,h3().use(i3).use(l3)).inject(Cw,[_g]).record(kl),async n=>{await n.waitTimers(Cw);const r=n.get(Ew);return n.set(Zu,h3().use(i3).use(l3,r)),n.done(kl),i=>{i.remove(vg).remove(as).remove(Kd).remove(gm).remove(mm).remove(ym).remove(Ew).remove(Zu).remove(Cw).clearTimer(kl)}}),xl=$a("schemaReady"),Fn=mt({},"schema"),Tw=mt([],"schemaTimer"),Ec=mt([],"nodes"),Tc=mt([],"marks"),u8=t=>{var e;return{...t,parseDOM:(e=t.parseDOM)==null?void 0:e.map(n=>({priority:t.priority,...n}))}},Vae=t=>(t.inject(Fn).inject(Ec).inject(Tc).inject(Tw,[kl]).record(xl),async e=>{await e.waitTimers(Tw);const n=e.get(Zu),r=e.get(Kd).reduce((o,a)=>o.use(a),n);e.set(Zu,r);const i=Object.fromEntries(e.get(Ec).map(([o,a])=>[o,u8(a)])),s=Object.fromEntries(e.get(Tc).map(([o,a])=>[o,u8(a)]));return e.set(Fn,new Qee({nodes:i,marks:s})),e.done(xl),o=>{o.remove(Fn).remove(Ec).remove(Tc).remove(Tw).clearTimer(xl)}}),Dc=mt(()=>{},"parser"),Dw=mt([],"parserTimer"),Hy=$a("ParserReady"),Wae=t=>(t.inject(Dc).inject(Dw,[xl]).record(Hy),async e=>{await e.waitTimers(Dw);const n=e.get(Ec),r=e.get(Tc),i=e.get(Zu),s=e.get(Fn),o=[...n.map(([l,u])=>({id:l,...u})).map(l=>({...l,is:"node"})),...r.map(([l,u])=>({id:l,...u})).map(l=>({...l,is:"mark"}))],a=Object.fromEntries(o.map(({id:l,parseMarkdown:u,is:h})=>[l,{...u,is:h,key:l}]));return e.set(Dc,pte(s,a,i)),e.done(Hy),l=>{l.remove(Dc).remove(Dw).clearTimer(Hy)}}),Xu=mt(()=>"","serializer"),Aw=mt([],"serializerTimer"),Sg=$a("SerializerReady"),Uae=t=>(t.inject(Xu).inject(Aw,[xl]).record(Sg),async e=>{await e.waitTimers(Aw);const n=e.get(Ec),r=e.get(Tc),i=e.get(Zu),s=e.get(Fn),o=[...n,...r],a=Object.fromEntries(o.map(([l,u])=>[l,u.toMarkdown]));return e.set(Xu,Dte(s,a,i)),e.done(Sg),l=>{l.remove(Xu).remove(Aw).clearTimer(Sg)}}),Gy=mt("","defaultValue"),Ip=mt({},"editorState"),Ky=mt(t=>t,"stateOptions"),Mw=mt([],"editorStateTimer"),Jy=$a("EditorStateReady"),jae=new en("MILKDOWN_STATE_TRACKER"),qae=(t,e,n)=>{if(typeof t=="string")return e(t);if(t.type==="html")return pk.fromSchema(n).parse(t.dom);if(t.type==="json")return ws.fromJSON(n,t.value);throw hJ(t)},Yae=t=>(t.inject(Gy).inject(Ip).inject(Ky).inject(Mw,[Hy,Sg,eb]).record(Jy),async e=>{await e.waitTimers(Mw);const n=e.get(Fn),r=e.get(Dc),i=e.get(gm),s=e.get(Ky),o=e.get(as),a=e.get(Gy),l=qae(a,r,n),u=[...o,new Xt({key:jae,state:{init:()=>{},apply:(f,p,g,m)=>{e.set(Ip,m)}}}),oae({rules:i}),sh(VF)];e.set(as,u);const h=s({schema:n,doc:l,plugins:u}),d=XC.create(h);return e.set(Ip,d),e.done(Jy),f=>{f.remove(Gy).remove(Ip).remove(Ky).remove(Mw).clearTimer(Jy)}}),un=mt({},"editorView"),Cg=mt({},"editorViewOptions"),Ed=mt(null,"root"),Pw=mt([],"editorViewTimer"),bm=mt(null,"rootDOM"),Eg=$a("EditorViewReady"),Zae=(t,e)=>{const n=document.createElement("div");return n.className="milkdown",t.appendChild(n),e.set(bm,n),n},Xae=t=>{t.classList.add("editor"),t.setAttribute("role","textbox")},Hae=new en("MILKDOWN_VIEW_CLEAR"),Gae=t=>(t.inject(Ed,document.body).inject(un).inject(Cg).inject(bm).inject(Pw,[Jy]).record(Eg),async e=>{await e.wait(kl);const n=e.get(Ed)||document.body,r=typeof n=="string"?document.querySelector(n):n;e.update(as,u=>[new Xt({key:Hae,view:h=>{const d=r?Zae(r,e):void 0;return(()=>{if(d&&r){const f=h.dom;r.replaceChild(d,f),d.appendChild(f)}})(),{destroy:()=>{d!=null&&d.parentNode&&(d==null||d.parentNode.replaceChild(h.dom,d)),d==null||d.remove()}}}}),...u]),await e.waitTimers(Pw);const i=e.get(Ip),s=e.get(Cg),o=Object.fromEntries(e.get(mm)),a=Object.fromEntries(e.get(ym)),l=new MF(r,{state:i,nodeViews:o,markViews:a,...s});return Xae(l.dom),e.set(un,l),e.done(Eg),u=>{l==null||l.destroy(),u.remove(Ed).remove(un).remove(Cg).remove(bm).remove(Pw).clearTimer(Eg)}});var Np,Fp;let Kae=class{constructor(){xi(this,Np,ck()),xi(this,Fp,null),Gl(this,"setCtx",e=>{Yy(this,Fp,e)})}create(e,n){return e(Mt(this,Np).sliceMap,n)}get(e){return Mt(this,Np).getSlice(e).get()}call(e,n){if(Mt(this,Fp)==null)throw OJ();const r=this.get(e)(n),i=Mt(this,Fp).get(un);return r(i.state,i.dispatch,i)}remove(e){return Mt(this,Np).removeSlice(e)}};Np=new WeakMap,Fp=new WeakMap;const jt=(t,e)=>[t,e],Qt=(t="cmdKey")=>mt(()=>()=>!1,t),_t=mt({},"commands"),$w=mt([],"commandsTimer"),eb=$a("CommandsReady"),Jae=t=>{const e=new Kae;return t.inject(_t,e).inject($w,[xl]).record(eb),async n=>(await n.waitTimers($w),n.done(eb),await n.wait(Eg),e.setCtx(n),r=>{r.remove(_t).remove($w).clearTimer(eb)})};var Ga,Bp,tb,Qp,zp,ra,Vp,nb,T3,D3,A3,rb,Jh;const jF=class{constructor(){xi(this,Ga,"Idle"),xi(this,Bp,[]),xi(this,tb,()=>{}),xi(this,Qp,ck()),xi(this,zp,gI()),xi(this,ra,new Map),xi(this,Vp,new CJ(Mt(this,Qp),Mt(this,zp))),xi(this,nb,new DJ(Mt(this,Qp),Mt(this,zp))),xi(this,T3,new TJ(Mt(this,Qp),Mt(this,zp))),xi(this,D3,()=>{const t=[Fae,Vae,Wae,Uae,Jae,Yae,Gae,zae(this)],e=Iae(async n=>{await Promise.all(Mt(this,Bp).map(r=>r(n)))});this.use(t.concat(e))}),xi(this,A3,()=>{[...Mt(this,ra).entries()].map(async([t,e])=>{var n;const r=(n=e.handler)!=null?n:t(Mt(this,nb));Mt(this,ra).set(t,{...e,handler:r})})}),xi(this,rb,(t,e=!1)=>Promise.all([t].flat().map(n=>{const r=Mt(this,ra).get(n),i=r==null?void 0:r.cleanup;if(e&&Mt(this,ra).delete(n),typeof i=="function")return i(Mt(this,T3))}))),xi(this,Jh,t=>{Yy(this,Ga,t),Mt(this,tb).call(this,t)}),Gl(this,"use",t=>([t].flat().forEach(e=>{const n=Mt(this,Ga)==="Created"?e(Mt(this,nb)):void 0;Mt(this,ra).set(e,{handler:n,cleanup:void 0})}),this)),Gl(this,"config",t=>(Mt(this,Bp).push(t),this)),Gl(this,"onStatusChange",t=>(Yy(this,tb,t),this)),Gl(this,"create",async()=>Mt(this,Ga)==="OnCreate"?this:(Mt(this,Ga)==="Created"&&await this.destroy(),Mt(this,Jh).call(this,"OnCreate"),Mt(this,D3).call(this),Mt(this,A3).call(this),await Promise.all([...Mt(this,ra).entries()].map(async([t,e])=>{const n=e.handler;if(!n)return;const r=await n(Mt(this,Vp));return Mt(this,ra).set(t,{handler:n,cleanup:r}),r})),Mt(this,Jh).call(this,"Created"),this)),Gl(this,"remove",async t=>(await Mt(this,rb).call(this,[t].flat(),!0),this)),Gl(this,"destroy",async(t=!1)=>Mt(this,Ga)==="Destroyed"||Mt(this,Ga)==="OnDestroy"?this:(t&&Yy(this,Bp,[]),Mt(this,Jh).call(this,"OnDestroy"),await Mt(this,rb).call(this,[...Mt(this,ra).keys()],t),Mt(this,Jh).call(this,"Destroyed"),this)),Gl(this,"action",t=>t(Mt(this,Vp)))}static make(){return new jF}get ctx(){return Mt(this,Vp)}get status(){return Mt(this,Ga)}};let ele=jF;Ga=new WeakMap,Bp=new WeakMap,tb=new WeakMap,Qp=new WeakMap,zp=new WeakMap,ra=new WeakMap,Vp=new WeakMap,nb=new WeakMap,T3=new WeakMap,D3=new WeakMap,A3=new WeakMap,rb=new WeakMap,Jh=new WeakMap;let tle=t=>crypto.getRandomValues(new Uint8Array(t)),nle=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let a=n(i),l=i;for(;l--;)if(o+=t[a[l]&r]||"",o.length===s)return o}}},qF=(t,e=21)=>nle(t,e,tle);const h8=t=>Object.prototype.hasOwnProperty.call(t,"origin");let oo=class YF extends Array{findThenRun(e,n){const r=this.findIndex(i=>h8(i)&&i.origin===e);return r<0?this:(n(r),this)}configure(e,n){return this.findThenRun(e,r=>{this.splice(r,1,e(n))})}replace(e,n){return this.findThenRun(e,r=>{this.splice(r,1,n)})}remove(e){return this.findThenRun(e,n=>{this.splice(n,1)})}headless(){return this.filter(h8).forEach(e=>{this.configure(e.origin,{headless:!0})}),this}static create(e){return new YF(...e)}};const rle=t=>{const e=()=>async n=>{await n.wait(xl);const r=t(n);n.update(as,i=>[...i,r]),e.plugin=r};return e},ile=t=>{const e=()=>async n=>{await n.wait(kl);const r=t(n);n.update(Kd,i=>[...i,r]),e.plugin=r};return e},sle=t=>{const e=()=>async n=>{await n.wait(xl);const r=t(n);n.update(as,i=>[...i,sh(r)]),e.keymap=r};return e},ole=t=>(e,...n)=>{var r;const i=(r=t==null?void 0:t(e,...n))!=null?r:n;return Array.isArray(i)?i.filter(s=>s).join(" "):i},ln=(t,e,n)=>[t,e,n];function b5(t,e){try{const n=t.get(yt),r=t.get(Wu);if(!r.css)throw v6();return{getClassName:ole(e==null?void 0:e.className),getStyle:i=>e!=null&&e.headless?"":i(r),themeManager:n}}catch{throw v6()}}const O5=t=>{const e=n=>{const r=t(n);return r.origin=e,r};return e},k5=(t,e)=>n=>{const r=n,i=s=>e((...o)=>s(t(...o),...o));return r.extend=i,r},Tk=(...t)=>{const e=t.length;let n=e;for(;n--;)if(typeof t[n]!="function")throw new TypeError("Expected a function");return(...r)=>{let i=0,s=e?t[i](...r):r[0];for(;++i<e;)s=t[i](s);return s}},Nf=mt({},"optionsPipeCtx"),C0=mt([],"injectPipeCtx"),x5=async(t,e)=>{const{pipelineCtx:n,onCleanup:r,pre:i}=t,s=n.get(C0);s&&(s.forEach(o=>i.inject(o)),r(o=>{s.forEach(a=>o.remove(a))})),await e()},w5=async(t,e)=>{const{ctx:n}=t;await n.wait(_g),await e()},E0=mt(void 0,"getRemarkPluginsPipeCtx"),_5=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t;await n.wait(kl);const s=r.get(E0);if(s){const o=s(n);n.update(Kd,a=>a.concat(o)),i(()=>{n.update(Kd,a=>a.filter(l=>!o.includes(l)))})}await e()},T0=mt(void 0,"getSchemaPipeCtx"),D0=mt({},"Type"),v5=async(t,e)=>{var n;const{ctx:r,pipelineCtx:i,onCleanup:s}=t,o=i.get(T0),a=(n=o==null?void 0:o(t.ctx))!=null?n:{};let l={},u={};if(a.node){l=a.node;const g=Object.entries(a.node);r.update(Ec,m=>[...m,...g]),s(()=>{r.update(Ec,m=>m.filter(y=>!g.includes(y)))})}if(a.mark){u=a.mark;const g=Object.entries(a.mark);r.update(Tc,m=>[...m,...g]),s(()=>{r.update(Tc,m=>m.filter(y=>!g.includes(y)))})}await r.wait(xl);const h=r.get(Fn),d=Object.keys(l).map(g=>[g,h.nodes[g]]),f=Object.keys(u).map(g=>[g,h.marks[g]]),p=Object.fromEntries([...d,...f]);i.set(D0,p),await e()},A0=mt(void 0,"getCommandsPipeCtx"),S5=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t,s=r.get(A0);if(s){const o=r.get(D0),a=s(o,n);a.forEach(([l,u])=>{n.get(_t).create(l,u)}),i(()=>{a.forEach(([l])=>{n.get(_t).remove(l)})})}await e()},M0=mt(void 0,"getInputRulesPipeCtx"),C5=async(t,e)=>{const{ctx:n,pipelineCtx:r,onCleanup:i}=t,s=r.get(M0);if(s){const o=r.get(D0),a=s(o,n);n.update(gm,l=>[...l,...a]),i(()=>{n.update(gm,l=>l.filter(u=>!a.includes(u)))})}await e()},P0=mt({},"shortcutsPipeCtx"),E5=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,s=n.get(P0),o=n.get(Nf),a=(h,d)=>{var f,p;return(p=(f=o==null?void 0:o.keymap)==null?void 0:f[h])!=null?p:d},l=Object.entries(s).flatMap(([h,[d,f,p]])=>{const g=()=>r.get(_t).call(d,p),m=a(h,f);return Array.isArray(m)?m.map(y=>({key:y,runner:g})):{key:m,runner:g}}).map(h=>[h.key,h.runner]),u=sh(Object.fromEntries(l));r.update(as,h=>h.concat(u)),i(()=>{r.update(as,h=>h.filter(d=>d!==u))}),await e()},$0=mt(void 0,"getProsePluginsPipeCtx"),T5=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,s=n.get($0);if(s){const o=n.get(D0),a=s(o,r);r.update(as,l=>[...l,...a]),i(()=>{r.update(as,l=>l.filter(u=>!a.includes(u)))})}await e()},R0=mt(void 0,"getViewPipeCtx"),D5=async(t,e)=>{const{pipelineCtx:n,ctx:r,onCleanup:i}=t,s=n.get(R0),o=n.get(Nf),a=o.view?o.view(r):s==null?void 0:s(r);if(a){const l=Object.entries(a).filter(([h])=>r.get(Ec).findIndex(d=>d[0]===h)!==-1),u=Object.entries(a).filter(([h])=>r.get(Tc).findIndex(d=>d[0]===h)!==-1);r.update(mm,h=>[...h,...l]),r.update(ym,h=>[...h,...u]),i(()=>{r.update(mm,h=>h.filter(d=>!l.includes(d))),r.update(ym,h=>h.filter(d=>!u.includes(d)))})}await e()},A5=mt("","idPipeCtx"),M5=async(t,e)=>{const{pipelineCtx:n}=t;n.inject(A5).inject(Nf).inject(C0).inject(E0).inject(T0).inject(D0).inject(A0).inject(M0).inject(P0).inject($0).inject(R0),await e()},ale=t=>(e,n)=>{let r=-1;const i=s=>{if(s<=r)return Promise.reject(new Error("next() called multiple times"));r=s;let o=t[s];if(s===t.length&&(o=n),!o)return Promise.resolve();try{return Promise.resolve(o(e,()=>i(s+1)))}catch(a){return Promise.reject(a)}};return i(0)},P5=t=>{const e=ale(t),n=ck(),r=gI(),i=new Set,s=new EJ(n,r),o=u=>{i.add(u)},a=async u=>{await Promise.all([...i].map(h=>h(u)))},l=(u,h)=>e({pre:u,ctx:h,pipelineCtx:s,onCleanup:o});return l.runCleanup=a,l},Ff=t=>Tk(O5,k5(t,Ff))(e=>n=>async r=>{const i=P5([M5,w5,async({pipelineCtx:s},o)=>{const a=b5(r,e),l=t(a,e),{id:u,commands:h,remarkPlugins:d,schema:f,inputRules:p,shortcuts:g,prosePlugins:m,view:y,injectSlices:b}=l,O=e==null?void 0:e.view,x=b??[],T={...e||{},view:O?A=>({[u]:O(A)}):void 0};s.set(C0,x),s.set(A5,u),s.set(Nf,T),s.set(E0,d),s.set(T0,A=>({mark:{[u]:f(A)}})),h&&s.set(A0,(A,v)=>h(A[u],v)),p&&s.set(M0,(A,v)=>p(A[u],v)),g&&s.set(P0,g),m&&s.set($0,(A,v)=>m(A[u],v)),y&&s.set(R0,A=>({[u]:y(A)})),await o()},x5,_5,v5,S5,C5,E5,T5,D5]);return await i(n,r),i.runCleanup}),Mr=t=>Tk(O5,k5(t,Mr))(e=>n=>async r=>{const i=P5([M5,w5,async({pipelineCtx:s},o)=>{const a=b5(r,e),l=t(a,e),{id:u,commands:h,remarkPlugins:d,schema:f,inputRules:p,shortcuts:g,prosePlugins:m,view:y,injectSlices:b}=l,O=e==null?void 0:e.view,x=b??[],T={...e||{},view:O?A=>({[u]:O(A)}):void 0};s.set(C0,x),s.set(A5,u),s.set(Nf,T),s.set(E0,d),s.set(T0,A=>({node:{[u]:f(A)}})),h&&s.set(A0,(A,v)=>h(A[u],v)),p&&s.set(M0,(A,v)=>p(A[u],v)),g&&s.set(P0,g),m&&s.set($0,(A,v)=>m(A[u],v)),y&&s.set(R0,A=>({[u]:y(A)})),await o()},x5,_5,v5,S5,C5,E5,T5,D5]);return await i(n,r),i.runCleanup}),ao=t=>Tk(O5,k5(t,ao))(e=>n=>async r=>{const i=P5([M5,w5,async({pipelineCtx:s},o)=>{const a=b5(r,e),l=t(a,e),{commands:u,remarkPlugins:h,schema:d,inputRules:f,shortcuts:p,prosePlugins:g,view:m,injectSlices:y}=l,b=y??[];s.set(C0,b),s.set(Nf,e||{}),s.set(E0,h),d&&s.set(T0,d),u&&s.set(A0,u),f&&s.set(M0,f),p&&s.set(P0,p),g&&s.set($0,g),m&&s.set(R0,m),await o()},x5,_5,v5,S5,C5,E5,T5,D5]);return await i(n,r),i.runCleanup}),lle=()=>t=>{const e=t.get(un),{tr:n}=e.state,r=Object.assign(Object.create(n),n).setTime(Date.now());return e.dispatch(r)},cle=()=>t=>{const e=document.createElement("div"),n=t.get(Fn),r=t.get(un),i=wo.fromSchema(n).serializeFragment(r.state.doc.content);return e.appendChild(i),e.innerHTML},Rw=t=>e=>{const n=e.get(un),r=e.get(Dc)(t);if(!r)return;const i=n.state.selection.content();return n.dispatch(n.state.tr.replaceSelection(new Be(r.content,i.openStart,i.openEnd)).scrollIntoView())},ule=()=>t=>{const e=t.get(un),n=[];return e.state.doc.descendants(r=>{r.type.name==="heading"&&r.attrs.level&&n.push({text:r.textContent,level:r.attrs.level,id:r.attrs.id})}),n},d8=(t,e=!1)=>n=>{const r=n.get(un),i=n.get(Dc)(t);if(!i)return;if(!e){const{state:h}=r;return r.dispatch(h.tr.replace(0,h.doc.content.size,new Be(i.content,0,0)))}const s=n.get(Fn),o=n.get(Ky),a=n.get(as),l=n.get(yt),u=XC.create({schema:s,doc:i,plugins:a,...o});r.updateState(u),l.flush(n)},hle=t=>e=>e.get(yt).switch(e,t);var dle=Object.defineProperty,fle=(t,e,n)=>e in t?dle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lw=(t,e,n)=>(fle(t,typeof e!="symbol"?e+"":e,n),n);const ZF=Symbol("rendererKey"),ple=t=>{const e=wc(ZF,()=>{throw xJ()}),{dom:n,loading:r,editor:i}=wc($5,{}),s=Ur(!1);LC(()=>{if(!n.value)return;const o=t(n.value,e);!o||s.value||(r.value=!0,s.value=!0,o.create().then(a=>{i.value=a}).finally(()=>{r.value=!1,s.value=!1}).catch(a=>console.error(a)))}),sk(()=>{var o;(o=i.value)==null||o.destroy()})},XF=Eh({name:"MilkdownDomRoot",setup:(t,{slots:e})=>{ple(t.editor);const n=wc($5,{});return t.editorRef&&(t.editorRef.get=()=>n.editor.value,t.editorRef.dom=()=>n.dom.value),()=>{var r;return Zn("div",{ref:n.dom},[(r=e.default)==null?void 0:r.call(e)])}}});XF.props=["editor","editorRef"];const HF=Symbol("nodeMetadata"),GF=Eh({name:"MilkdownNodeContainer",setup:({node:t,view:e,getPos:n,decorations:r,ctx:i,as:s},o)=>(e2(HF,{ctx:i,node:t,view:e,getPos:n,decorations:r}),()=>{var a,l;return gg(s,{"data-view-container":!0},(l=(a=o.slots).default)==null?void 0:l.call(a))})});GF.props=["ctx","editor","node","view","getPos","decorations","as"];const KF=Eh({name:"MilkdownContent",setup:({isInline:t})=>()=>t?Zn("span",{"data-view-content":!0},null):Zn("div",{"data-view-content":!0},null)});KF.props=["isInline"];const gle=qF("abcedfghicklmn",10),mle=(t,e,n)=>(r,i={})=>s=>(o,a,l,u)=>new yle(s,r,t,e,n,i,o,a,l,u);var f8,p8;let yle=class{constructor(e,n,r,i,s,o,a,l,u,h){Lw(this,"getPortal",()=>{const f=this.component,p=this.options.as?this.options.as:this.isInlineOrMark?"span":"div";return Gb(Eh({name:"MilkdownPortal",setup:()=>()=>Zn(yK,{key:this.key,to:this.teleportDOM},{default:()=>[Zn(GF,{as:p,ctx:this.ctx,node:this.node,view:this.view,getPos:this.getPos,decorations:this.decorations},{default:()=>[Zn(f,null,{default:()=>[Zn(KF,{isInline:this.isInlineOrMark},null)]})]})]})}))}),Lw(this,"selectNode",(f8=this.options)==null?void 0:f8.selectNode),Lw(this,"deselectNode",(p8=this.options)==null?void 0:p8.deselectNode),this.ctx=e,this.component=n,this.rootInstance=r,this.addPortal=i,this.removePortalByKey=s,this.options=o,this.view=l,this.getPos=u,this.key=gle(),this.node=Ur(a),this.decorations=Ur(h);const d=o.as?o.as:this.isInlineOrMark?"span":"div";this.teleportDOM=document.createElement(d),this.renderPortal()}get isInlineOrMark(){return this.node.value instanceof Wt||this.node.value.isInline}get dom(){return this.teleportDOM.firstElementChild||this.teleportDOM}get contentDOM(){if(!(this.node instanceof ws&&this.node.isLeaf))return this.teleportDOM.querySelector("[data-view-content]")||this.dom}renderPortal(){if(!this.teleportDOM)return;const e=this.getPortal();this.addPortal(e,this.key);const n=this.rootInstance.value;n&&n.update()}destroy(){var e,n;(n=(e=this.options).destroy)==null||n.call(e),this.teleportDOM.remove(),this.removePortalByKey(this.key)}ignoreMutation(e){return this.options.ignoreMutation?this.options.ignoreMutation(e):!this.dom||!this.contentDOM||this.node instanceof ws&&(this.node.isLeaf||this.node.isAtom)?!0:!(e.type==="selection"||this.contentDOM===this.dom||this.contentDOM.contains(e.target))}update(e,n,r){return(()=>{var i,s;if(this.options.update){const o=(s=(i=this.options).update)==null?void 0:s.call(i,e,n,r);if(o!=null)return o}return this.node.value.type!==e.type?!1:(e===this.node.value&&this.decorations.value===n||(this.node.value=e,this.decorations.value=n),!0)})()}};function ble(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!t2(t)}const $5=Symbol("editorInfoCtxKey"),Ole=`
@milkdown/vue:
Passing ref to VueEditor will soon be deprecated, please use:

const { editor, getInstance, getDom, loading } = useEditor(/* creator */);

effect(() => {
    if (!loading) {
        const editor = getInstance();
        const rootDOM = getDom();
    }
})

<VueEditor editor={editor} />
`,kle=`
@milkdown/vue:
Passing editor directly to VueEditor will soon be deprecated, please use:

const { editor } = useEditor(/* creator */);

<VueEditor editor={editor} />
`,JF=Eh({name:"MilkdownVueRoot",setup:t=>{const e=ML([]),n=CK(),r=Ur(null);ZL(()=>{r.value=n.ctx._}),sk(()=>{r.value=null});const i=Gb((f,p)=>{e.push([p,f])}),s=Gb(f=>{const p=e.findIndex(g=>g[0]===f);e.splice(p,1)}),o=mle(r,i,s);e2(ZF,o);const a=Object.hasOwnProperty.call(t.editor,"getInstance"),{getEditorCallback:l,dom:u,editor:h,loading:d}=a?t.editor.editor:t.editor;return eG(()=>{a&&console.warn(kle),t.editorRef&&console.warn(Ole)}),e2($5,{dom:u,editor:h,loading:d}),()=>{const f=e.map(([p,g])=>Zn(g,{key:p},null));return Zn(XF,{editorRef:t.editorRef,editor:l.value},ble(f)?f:{default:()=>[f]})}}});JF.props=["editor","editorRef"];const xle=t=>{const e=Ur(null),n=Ur(),r=Ur(!0),i=Ur((...s)=>t(...s));return{loading:r,getInstance:()=>n.value,getDom:()=>e.value,editor:{getEditorCallback:i,dom:e,editor:n,loading:r}}};var g2=200,Tr=function(){};Tr.prototype.append=function(e){return e.length?(e=Tr.from(e),!this.length&&e||e.length<g2&&this.leafAppend(e)||this.length<g2&&e.leafPrepend(this)||this.appendInner(e)):this};Tr.prototype.prepend=function(e){return e.length?Tr.from(e).append(this):this};Tr.prototype.appendInner=function(e){return new wle(this,e)};Tr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Tr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Tr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Tr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Tr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Tr.from=function(e){return e instanceof Tr?e:e&&e.length?new eB(e):Tr.empty};var eB=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=g2)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=g2)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Tr);Tr.empty=new eB([]);var wle=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Tr);const _le=500;class bo{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,u=[],h=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,h.push(d);return}if(i){h.push(new aa(d.map));let p=d.step.map(i.slice(s)),g;p&&o.maybeStep(p).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],u.push(new aa(g,void 0,void 0,u.length+h.length))),s--,g&&i.appendMap(g,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new bo(this.items.slice(0,r).append(h.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let h=0;h<e.steps.length;h++){let d=e.steps[h].invert(e.docs[h]),f=new aa(e.mapping.maps[h],d,n),p;(p=l&&l.merge(f))&&(f=p,h?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let u=o-r.depth;return u>Sle&&(a=vle(a,u),o-=u),new bo(a.append(s),o)}remapping(e,n){let r=new vd;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new bo(this.items.append(e.map(n=>new aa(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let g=s.maps[p];if(f.step){let m=e.steps[p].invert(e.docs[p]),y=f.selection&&f.selection.map(s.slice(l+1,p));y&&a++,r.push(new aa(g,m,y))}else r.push(new aa(g))},i);let u=[];for(let f=n;f<o;f++)u.push(new aa(s.maps[f]));let h=this.items.slice(0,i).append(u).append(r),d=new bo(h,a);return d.emptyItemCount()>_le&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let h=o.selection&&o.selection.map(n.slice(r));h&&s++;let d=new aa(u.invert(),l,h),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new bo(Tr.from(i.reverse()),s)}}bo.empty=new bo(Tr.empty,0);function vle(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class aa{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new aa(n.getMap().invert(),n,this.selection)}}}let ic=class{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}};const Sle=20;function Cle(t,e,n,r){let i=n.getMeta(Hu),s;if(i)return i.historyState;n.getMeta(Dle)&&(t=new ic(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Hu))return o.getMeta(Hu).redo?new ic(t.done.addTransform(n,void 0,r,ib(e)),t.undone,g8(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new ic(t.done,t.undone.addTransform(n,void 0,r,ib(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Ele(n,t.prevRanges)),u=o?Iw(t.prevRanges,n.mapping):g8(n.mapping.maps[n.steps.length-1]);return new ic(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,ib(e)),bo.empty,u,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new ic(t.done.rebased(n,s),t.undone.rebased(n,s),Iw(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ic(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Iw(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Ele(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function g8(t){let e=[];return t.forEach((n,r,i,s)=>e.push(i,s)),e}function Iw(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Tle(t,e,n){let r=ib(e),i=Hu.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new ic(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Hu,{redo:n,historyState:l})}let Nw=!1,m8=null;function ib(t){let e=t.plugins;if(m8!=e){Nw=!1,m8=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Nw=!0;break}}return Nw}const Hu=new en("history"),Dle=new en("closeHistory");function tB(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Xt({key:Hu,state:{init(){return new ic(bo.empty,bo.empty,null,0,-1)},apply(e,n,r){return Cle(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Om:r=="historyRedo"?Gu:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function nB(t,e){return(n,r)=>{let i=Hu.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Tle(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Om=nB(!1,!0),Gu=nB(!0,!0),Ale=Qt("Undo"),Mle=Qt("Redo"),Ple=ao(()=>({commands:()=>[jt(Ale,()=>Om),jt(Mle,()=>Gu)],prosePlugins:()=>[tB(),sh({"Mod-z":Om,"Mod-y":Gu,"Shift-Mod-z":Gu})]})),$le=oo.create([Ple()]);function Rle(t={}){return new Xt({view(e){return new Lle(e,t)}})}class Lle{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let h=u.getBoundingClientRect(),d=a?h.bottom:h.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:h.left,right:h.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=qC(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}class Nn extends ut{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Nn.valid(r)?new Nn(r):ut.near(r)}content(){return Be.empty}eq(e){return e instanceof Nn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Nn(e.resolve(n.pos))}getBookmark(){return new R5(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Ile(e)||!Nle(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Nn.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(Nn.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!tt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Nn.valid(a))return a}return null}}}Nn.prototype.visible=!1;Nn.findFrom=Nn.findGapCursorFrom;ut.jsonID("gapcursor",Nn);class R5{constructor(e){this.pos=e}map(e){return new R5(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Nn.valid(n)?new Nn(n):ut.near(n)}}function Ile(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Nle(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Fle(){return new Xt({props:{decorations:Vle,createSelectionBetween(t,e,n){return e.pos==n.pos&&Nn.valid(n)?new Nn(n):null},handleClick:Qle,handleKeyDown:Ble,handleDOMEvents:{beforeinput:zle}}})}const Ble=y5({ArrowLeft:D1("horiz",-1),ArrowRight:D1("horiz",1),ArrowUp:D1("vert",-1),ArrowDown:D1("vert",1)});function D1(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof ht){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=Nn.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new Nn(u))),!0):!1}}function Qle(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Nn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&tt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Nn(r))),!0)}function zle(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Nn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Ae.empty;for(let o=r.length-1;o>=0;o--)i=Ae.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Be(i,0,0));return s.setSelection(ht.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Vle(t){if(!(t.selection instanceof Nn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Jt.create(t.doc,[pi.widget(t.selection.head,e,{key:"gapcursor"})])}const Wle=ao(({getStyle:t,themeManager:e})=>(e.onFlush(()=>{t(({injectGlobal:n})=>{n`
                /* copy from https://github.com/ProseMirror/prosemirror-gapcursor/blob/master/style/gapcursor.css */
                .ProseMirror-gapcursor {
                    display: none;
                    pointer-events: none;
                    position: absolute;
                    margin: 0 !important;
                }

                .ProseMirror-gapcursor:after {
                    content: '';
                    display: block;
                    position: absolute;
                    top: -2px;
                    width: 20px;
                    border-top: ${e.get(sn,"lineWidth")} solid
                        ${e.get(_r,["secondary"])};
                    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
                }

                @keyframes ProseMirror-cursor-blink {
                    to {
                        visibility: hidden;
                    }
                }

                .ProseMirror-focused .ProseMirror-gapcursor {
                    display: block;
                }
            `})}),{prosePlugins:(n,r)=>{var i,s;const o=r.get(yt),a=o.get(sn,"lineWidth"),l=o.get(_r,["secondary"]),u=Number((s=(i=a==null?void 0:a.match(/\d+/))==null?void 0:i[0])!=null?s:1);return[Fle(),Rle({color:l,width:u})]}}))();Ra.displayName="clike";Ra.aliases=[];function Ra(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}L0.displayName="c";L0.aliases=[];function L0(t){t.register(Ra),t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean}Dk.displayName="cpp";Dk.aliases=[];function Dk(t){t.register(L0),function(e){var n=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return n.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:n,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(t)}L5.displayName="arduino";L5.aliases=["ino"];function L5(t){t.register(Dk),t.languages.arduino=t.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),t.languages.ino=t.languages.arduino}I5.displayName="bash";I5.aliases=["sh","shell"];function I5(t){(function(e){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=e.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=i.variable[1].inside,a=0;a<s.length;a++)o[s[a]]=e.languages.bash[s[a]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash})(t)}N5.displayName="csharp";N5.aliases=["cs","dotnet"];function N5(t){t.register(Ra),function(e){function n($,X){return $.replace(/<<(\d+)>>/g,function(Y,N){return"(?:"+X[+N]+")"})}function r($,X,Y){return RegExp(n($,X),"")}function i($,X){for(var Y=0;Y<X;Y++)$=$.replace(/<<self>>/g,function(){return"(?:"+$+")"});return $.replace(/<<self>>/g,"[^\\s\\S]")}var s={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function o($){return"\\b(?:"+$.trim().replace(/ /g,"|")+")\\b"}var a=o(s.typeDeclaration),l=RegExp(o(s.type+" "+s.typeDeclaration+" "+s.contextual+" "+s.other)),u=o(s.typeDeclaration+" "+s.contextual+" "+s.other),h=o(s.type+" "+s.typeDeclaration+" "+s.other),d=i(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),f=i(/\((?:[^()]|<<self>>)*\)/.source,2),p=/@?\b[A-Za-z_]\w*\b/.source,g=n(/<<0>>(?:\s*<<1>>)?/.source,[p,d]),m=n(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[u,g]),y=/\[\s*(?:,\s*)*\]/.source,b=n(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[m,y]),O=n(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[d,f,y]),x=n(/\(<<0>>+(?:,<<0>>+)+\)/.source,[O]),T=n(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,m,y]),A={keyword:l,punctuation:/[<>()?,.:[\]]/},v=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,S=/"(?:\\.|[^\\"\r\n])*"/.source,I=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[I]),lookbehind:!0,greedy:!0},{pattern:r(/(^|[^@$\\])<<0>>/.source,[S]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[m]),lookbehind:!0,inside:A},{pattern:r(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[p,T]),lookbehind:!0,inside:A},{pattern:r(/(\busing\s+)<<0>>(?=\s*=)/.source,[p]),lookbehind:!0},{pattern:r(/(\b<<0>>\s+)<<1>>/.source,[a,g]),lookbehind:!0,inside:A},{pattern:r(/(\bcatch\s*\(\s*)<<0>>/.source,[m]),lookbehind:!0,inside:A},{pattern:r(/(\bwhere\s+)<<0>>/.source,[p]),lookbehind:!0},{pattern:r(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[b]),lookbehind:!0,inside:A},{pattern:r(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[T,h,p]),inside:A}],keyword:l,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:r(/([(,]\s*)<<0>>(?=\s*:)/.source,[p]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:r(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[p]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:r(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[f]),lookbehind:!0,alias:"class-name",inside:A},"return-type":{pattern:r(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[T,m]),inside:A,alias:"class-name"},"constructor-invocation":{pattern:r(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[T]),lookbehind:!0,inside:A,alias:"class-name"},"generic-method":{pattern:r(/<<0>>\s*<<1>>(?=\s*\()/.source,[p,d]),inside:{function:r(/^<<0>>/.source,[p]),generic:{pattern:RegExp(d),alias:"class-name",inside:A}}},"type-list":{pattern:r(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[a,g,p,T,l.source,f,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:r(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[g,f]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:l,"class-name":{pattern:RegExp(T),greedy:!0,inside:A},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var M=S+"|"+v,C=n(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[M]),E=i(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[C]),2),_=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,L=n(/<<0>>(?:\s*\(<<1>>*\))?/.source,[m,E]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:r(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[_,L]),lookbehind:!0,greedy:!0,inside:{target:{pattern:r(/^<<0>>(?=\s*:)/.source,[_]),alias:"keyword"},"attribute-arguments":{pattern:r(/\(<<0>>*\)/.source,[E]),inside:e.languages.csharp},"class-name":{pattern:RegExp(m),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var k=/:[^}\r\n]+/.source,B=i(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[C]),2),w=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[B,k]),Q=i(n(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[M]),2),U=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Q,k]);function W($,X){return{interpolation:{pattern:r(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[$]),lookbehind:!0,inside:{"format-string":{pattern:r(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[X,k]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:r(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[w]),lookbehind:!0,greedy:!0,inside:W(w,B)},{pattern:r(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[U]),lookbehind:!0,greedy:!0,inside:W(U,Q)}],char:{pattern:RegExp(v),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(t)}I0.displayName="markup";I0.aliases=["atom","html","mathml","rss","ssml","svg","xml"];function I0(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};s["language-"+r]={pattern:/[\s\S]+/,inside:t.languages[r]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:s},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}Bf.displayName="css";Bf.aliases=[];function Bf(t){(function(e){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+n.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(t)}F5.displayName="diff";F5.aliases=[];function F5(t){(function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var n={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(n).forEach(function(r){var i=n[r],s=[];/^\w+$/.test(r)||s.push(/\w+/.exec(r)[0]),r==="diff"&&s.push("bold"),e.languages.diff[r]={pattern:RegExp("^(?:["+i+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:s,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(r)[0]}}}}),Object.defineProperty(e.languages.diff,"PREFIXES",{value:n})})(t)}B5.displayName="go";B5.aliases=[];function B5(t){t.register(Ra),t.languages.go=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),t.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete t.languages.go["class-name"]}Q5.displayName="ini";Q5.aliases=[];function Q5(t){t.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}z5.displayName="java";z5.aliases=[];function z5(t){t.register(Ra),function(e){var n=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:i.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:i.inside}],keyword:n,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(t)}V5.displayName="regex";V5.aliases=[];function V5(t){(function(e){var n={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},r=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,i={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},s={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},o="(?:[^\\\\-]|"+r.source+")",a=RegExp(o+"-"+o),l={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};e.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:a,inside:{escape:r,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":n,"char-set":s,escape:r}},"special-escape":n,"char-set":i,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":l}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:r,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":l}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(t)}Ak.displayName="javascript";Ak.aliases=["js"];function Ak(t){t.register(Ra),t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}W5.displayName="json";W5.aliases=["webmanifest"];function W5(t){t.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},t.languages.webmanifest=t.languages.json}U5.displayName="kotlin";U5.aliases=["kt","kts"];function U5(t){t.register(Ra),function(e){e.languages.kotlin=e.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete e.languages.kotlin["class-name"];var n={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.kotlin}};e.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:n},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:n},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete e.languages.kotlin.string,e.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),e.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),e.languages.kt=e.languages.kotlin,e.languages.kts=e.languages.kotlin}(t)}j5.displayName="less";j5.aliases=[];function j5(t){t.register(Bf),t.languages.less=t.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),t.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}q5.displayName="lua";q5.aliases=[];function q5(t){t.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}Y5.displayName="makefile";Y5.aliases=[];function Y5(t){t.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}Z5.displayName="yaml";Z5.aliases=["yml"];function Z5(t){(function(e){var n=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,i="(?:"+r.source+"(?:[ 	]+"+n.source+")?|"+n.source+"(?:[ 	]+"+r.source+")?)",s=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(l,u){u=(u||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<value>>/g,function(){return l});return RegExp(h,u)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return i})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<key>>/g,function(){return"(?:"+s+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:n,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml})(t)}X5.displayName="markdown";X5.aliases=["md"];function X5(t){t.register(I0),function(e){var n=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(a){return a=a.replace(/<inner>/g,function(){return n}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+a+")")}var i=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,s=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return i}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+s+o+"(?:"+s+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+s+o+")(?:"+s+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(i),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+s+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+s+"$"),inside:{"table-header":{pattern:RegExp(i),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(a){["url","bold","italic","strike","code-snippet"].forEach(function(l){a!==l&&(e.languages.markdown[a].inside.content.inside[l]=e.languages.markdown[l])})}),e.hooks.add("after-tokenize",function(a){if(a.language!=="markdown"&&a.language!=="md")return;function l(u){if(!(!u||typeof u=="string"))for(var h=0,d=u.length;h<d;h++){var f=u[h];if(f.type!=="code"){l(f.content);continue}var p=f.content[1],g=f.content[3];if(p&&g&&p.type==="code-language"&&g.type==="code-block"&&typeof p.content=="string"){var m=p.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");m=(/[a-z][\w-]*/i.exec(m)||[""])[0].toLowerCase();var y="language-"+m;g.alias?typeof g.alias=="string"?g.alias=[g.alias,y]:g.alias.push(y):g.alias=[y]}}}l(a.tokens)}),e.hooks.add("wrap",function(a){if(a.type==="code-block"){for(var l="",u=0,h=a.classes.length;u<h;u++){var d=a.classes[u],f=/language-(.+)/.exec(d);if(f){l=f[1];break}}var p=e.languages[l];if(p)a.content=e.highlight(a.content.value,p,l);else if(l&&l!=="none"&&e.plugins.autoloader){var g="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);a.attributes.id=g,e.plugins.autoloader.loadLanguages(l,function(){var m=document.getElementById(g);m&&(m.innerHTML=e.highlight(m.textContent,e.languages[l],l))})}}}),RegExp(e.languages.markup.tag.pattern.source,"gi"),e.languages.md=e.languages.markdown}(t)}H5.displayName="objectivec";H5.aliases=["objc"];function H5(t){t.register(L0),t.languages.objectivec=t.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete t.languages.objectivec["class-name"],t.languages.objc=t.languages.objectivec}G5.displayName="perl";G5.aliases=[];function G5(t){(function(e){var n=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;e.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,n].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,n].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,n+/\s*/.source+n].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(t)}Mk.displayName="markup-templating";Mk.aliases=[];function Mk(t){t.register(I0),function(e){function n(r,i){return"___"+r.toUpperCase()+i+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,i,s,o){if(r.language===i){var a=r.tokenStack=[];r.code=r.code.replace(s,function(l){if(typeof o=="function"&&!o(l))return l;for(var u=a.length,h;r.code.indexOf(h=n(i,u))!==-1;)++u;return a[u]=l,h}),r.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(r,i){if(r.language!==i||!r.tokenStack)return;r.grammar=e.languages[i];var s=0,o=Object.keys(r.tokenStack);function a(l){for(var u=0;u<l.length&&!(s>=o.length);u++){var h=l[u];if(typeof h=="string"||h.content&&typeof h.content=="string"){var d=o[s],f=r.tokenStack[d],p=typeof h=="string"?h:h.content,g=n(i,d),m=p.indexOf(g);if(m>-1){++s;var y=p.substring(0,m),b=new e.Token(i,e.tokenize(f,r.grammar),"language-"+i,f),O=p.substring(m+g.length),x=[];y&&x.push.apply(x,a([y])),x.push(b),O&&x.push.apply(x,a([O])),typeof h=="string"?l.splice.apply(l,[u,1].concat(x)):h.content=x}}else h.content&&a(h.content)}return l}a(r.tokens)}}})}(t)}K5.displayName="php";K5.aliases=[];function K5(t){t.register(Mk),function(e){var n=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,r=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],i=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,s=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:n,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:i,operator:s,punctuation:o};var a={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:a}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:a}}];e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:n,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,number:i,operator:s,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(u){if(/<\?/.test(u.code)){var h=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;e.languages["markup-templating"].buildPlaceholders(u,"php",h)}}),e.hooks.add("after-tokenize",function(u){e.languages["markup-templating"].tokenizePlaceholders(u,"php")})}(t)}J5.displayName="python";J5.aliases=["py"];function J5(t){t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python}eE.displayName="r";eE.aliases=[];function eE(t){t.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}tE.displayName="ruby";tE.aliases=["rb"];function tE(t){t.register(Ra),function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var n={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var r="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",i=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+r+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+i),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+i+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+r),greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+r),greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(t)}nE.displayName="rust";nE.aliases=[];function nE(t){(function(e){for(var n=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+n),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string})(t)}rE.displayName="sass";rE.aliases=[];function rE(t){t.register(Bf),function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete e.languages.sass.atrule;var n=/\$[-\w]+|#\{\$[-\w]+\}/,r=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:n,operator:r}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:n,operator:r,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(t)}iE.displayName="scss";iE.aliases=[];function iE(t){t.register(Bf),t.languages.scss=t.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),t.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),t.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),t.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),t.languages.scss.atrule.inside.rest=t.languages.scss}sE.displayName="sql";sE.aliases=[];function sE(t){t.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}oE.displayName="swift";oE.aliases=[];function oE(t){t.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},t.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=t.languages.swift})}aE.displayName="typescript";aE.aliases=["ts"];function aE(t){t.register(Ak),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var n=e.languages.extend("typescript",{});delete n["class-name"],e.languages.typescript["class-name"].inside=n,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),e.languages.ts=e.languages.typescript}(t)}Pk.displayName="basic";Pk.aliases=[];function Pk(t){t.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}lE.displayName="vbnet";lE.aliases=[];function lE(t){t.register(Pk),t.languages.vbnet=t.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}let N0=class{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}};N0.prototype.property={};N0.prototype.normal={};N0.prototype.space=null;function rB(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new N0(n,r,e)}function km(t){return t.toLowerCase()}class lo{constructor(e,n){this.property=e,this.attribute=n}}lo.prototype.space=null;lo.prototype.boolean=!1;lo.prototype.booleanish=!1;lo.prototype.overloadedBoolean=!1;lo.prototype.number=!1;lo.prototype.commaSeparated=!1;lo.prototype.spaceSeparated=!1;lo.prototype.commaOrSpaceSeparated=!1;lo.prototype.mustUseProperty=!1;lo.prototype.defined=!1;let Ule=0;const At=Dh(),Gn=Dh(),iB=Dh(),Re=Dh(),gn=Dh(),Td=Dh(),fs=Dh();function Dh(){return 2**++Ule}const M3=Object.freeze(Object.defineProperty({__proto__:null,boolean:At,booleanish:Gn,commaOrSpaceSeparated:fs,commaSeparated:Td,number:Re,overloadedBoolean:iB,spaceSeparated:gn},Symbol.toStringTag,{value:"Module"})),Fw=Object.keys(M3);class cE extends lo{constructor(e,n,r,i){let s=-1;if(super(e,n),y8(this,"space",i),typeof r=="number")for(;++s<Fw.length;){const o=Fw[s];y8(this,Fw[s],(r&M3[o])===M3[o])}}}cE.prototype.defined=!0;function y8(t,e,n){n&&(t[e]=n)}const jle={}.hasOwnProperty;function Qf(t){const e={},n={};let r;for(r in t.properties)if(jle.call(t.properties,r)){const i=t.properties[r],s=new cE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[km(r)]=r,n[km(s.attribute)]=r}return new N0(e,n,t.space)}const sB=Qf({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),oB=Qf({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function aB(t,e){return e in t?t[e]:e}function lB(t,e){return aB(t,e.toLowerCase())}const cB=Qf({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:lB,properties:{xmlns:null,xmlnsXLink:null}}),uB=Qf({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Gn,ariaAutoComplete:null,ariaBusy:Gn,ariaChecked:Gn,ariaColCount:Re,ariaColIndex:Re,ariaColSpan:Re,ariaControls:gn,ariaCurrent:null,ariaDescribedBy:gn,ariaDetails:null,ariaDisabled:Gn,ariaDropEffect:gn,ariaErrorMessage:null,ariaExpanded:Gn,ariaFlowTo:gn,ariaGrabbed:Gn,ariaHasPopup:null,ariaHidden:Gn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gn,ariaLevel:Re,ariaLive:null,ariaModal:Gn,ariaMultiLine:Gn,ariaMultiSelectable:Gn,ariaOrientation:null,ariaOwns:gn,ariaPlaceholder:null,ariaPosInSet:Re,ariaPressed:Gn,ariaReadOnly:Gn,ariaRelevant:null,ariaRequired:Gn,ariaRoleDescription:gn,ariaRowCount:Re,ariaRowIndex:Re,ariaRowSpan:Re,ariaSelected:Gn,ariaSetSize:Re,ariaSort:null,ariaValueMax:Re,ariaValueMin:Re,ariaValueNow:Re,ariaValueText:null,role:null}}),qle=Qf({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:lB,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Td,acceptCharset:gn,accessKey:gn,action:null,allow:null,allowFullScreen:At,allowPaymentRequest:At,allowUserMedia:At,alt:null,as:null,async:At,autoCapitalize:null,autoComplete:gn,autoFocus:At,autoPlay:At,blocking:gn,capture:null,charSet:null,checked:At,cite:null,className:gn,cols:Re,colSpan:null,content:null,contentEditable:Gn,controls:At,controlsList:gn,coords:Re|Td,crossOrigin:null,data:null,dateTime:null,decoding:null,default:At,defer:At,dir:null,dirName:null,disabled:At,download:iB,draggable:Gn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:At,formTarget:null,headers:gn,height:Re,hidden:At,high:Re,href:null,hrefLang:null,htmlFor:gn,httpEquiv:gn,id:null,imageSizes:null,imageSrcSet:null,inert:At,inputMode:null,integrity:null,is:null,isMap:At,itemId:null,itemProp:gn,itemRef:gn,itemScope:At,itemType:gn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:At,low:Re,manifest:null,max:null,maxLength:Re,media:null,method:null,min:null,minLength:Re,multiple:At,muted:At,name:null,nonce:null,noModule:At,noValidate:At,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:At,optimum:Re,pattern:null,ping:gn,placeholder:null,playsInline:At,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:At,referrerPolicy:null,rel:gn,required:At,reversed:At,rows:Re,rowSpan:Re,sandbox:gn,scope:null,scoped:At,seamless:At,selected:At,shadowRootClonable:At,shadowRootDelegatesFocus:At,shadowRootMode:null,shape:null,size:Re,sizes:null,slot:null,span:Re,spellCheck:Gn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Re,step:null,style:null,tabIndex:Re,target:null,title:null,translate:null,type:null,typeMustMatch:At,useMap:null,value:Gn,width:Re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gn,axis:null,background:null,bgColor:null,border:Re,borderColor:null,bottomMargin:Re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:At,declare:At,event:null,face:null,frame:null,frameBorder:null,hSpace:Re,leftMargin:Re,link:null,longDesc:null,lowSrc:null,marginHeight:Re,marginWidth:Re,noResize:At,noHref:At,noShade:At,noWrap:At,object:null,profile:null,prompt:null,rev:null,rightMargin:Re,rules:null,scheme:null,scrolling:Gn,standby:null,summary:null,text:null,topMargin:Re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:At,disableRemotePlayback:At,prefix:null,property:null,results:Re,security:null,unselectable:null}}),Yle=Qf({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:aB,properties:{about:fs,accentHeight:Re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Re,amplitude:Re,arabicForm:null,ascent:Re,attributeName:null,attributeType:null,azimuth:Re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Re,by:null,calcMode:null,capHeight:Re,className:gn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Re,diffuseConstant:Re,direction:null,display:null,dur:null,divisor:Re,dominantBaseline:null,download:At,dx:null,dy:null,edgeMode:null,editable:null,elevation:Re,enableBackground:null,end:null,event:null,exponent:Re,externalResourcesRequired:null,fill:null,fillOpacity:Re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Td,g2:Td,glyphName:Td,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Re,horizOriginX:Re,horizOriginY:Re,id:null,ideographic:Re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Re,k:Re,k1:Re,k2:Re,k3:Re,k4:Re,kernelMatrix:fs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Re,overlineThickness:Re,paintOrder:null,panose1:null,path:null,pathLength:Re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Re,pointsAtY:Re,pointsAtZ:Re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fs,rev:fs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fs,requiredFeatures:fs,requiredFonts:fs,requiredFormats:fs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Re,specularExponent:Re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Re,strikethroughThickness:Re,string:null,stroke:null,strokeDashArray:fs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Re,strokeOpacity:Re,strokeWidth:null,style:null,surfaceScale:Re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fs,tabIndex:Re,tableValues:null,target:null,targetX:Re,targetY:Re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Re,underlineThickness:Re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Re,values:null,vAlphabetic:Re,vMathematical:Re,vectorEffect:null,vHanging:Re,vIdeographic:Re,version:null,vertAdvY:Re,vertOriginX:Re,vertOriginY:Re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Zle=/^data[-\w.:]+$/i,b8=/-[a-z]/g,Xle=/[A-Z]/g;function Hle(t,e){const n=km(e);let r=e,i=lo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Zle.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(b8,Kle);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!b8.test(s)){let o=s.replace(Xle,Gle);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=cE}return new i(r,e)}function Gle(t){return"-"+t.toLowerCase()}function Kle(t){return t.charAt(1).toUpperCase()}const Jle=rB([oB,sB,cB,uB,qle],"html");rB([oB,sB,cB,uB,Yle],"svg");const O8=/[#.]/g;function ece(t,e){const n=t||"",r={};let i=0,s,o;for(;i<n.length;){O8.lastIndex=i;const a=O8.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||e||"div",properties:r,children:[]}}function k8(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function x8(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&e.push(o),i=r+1,r=n.indexOf(",",i)}return e}const tce=new Set(["menu","submit","reset","button"]),hB={}.hasOwnProperty;function nce(t,e,n){return function(i,s,...o){let a=-1,l;if(i==null)l={type:"root",children:[]},o.unshift(s);else if(l=ece(i,e),l.tagName=l.tagName.toLowerCase(),rce(s,l.tagName)){let u;for(u in s)hB.call(s,u)&&ice(t,l.properties,u,s[u])}else o.unshift(s);for(;++a<o.length;)P3(l.children,o[a]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}}function rce(t,e){return t==null||typeof t!="object"||Array.isArray(t)?!1:e==="input"||!t.type||typeof t.type!="string"?!0:"children"in t&&Array.isArray(t.children)?!1:e==="button"?tce.has(t.type.toLowerCase()):!("value"in t)}function ice(t,e,n,r){const i=Hle(t,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=k8(r):i.commaSeparated?o=x8(r):i.commaOrSpaceSeparated?o=k8(x8(r).join(" ")):o=w8(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?sce(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;)a[s]=w8(i,i.property,o[s]);o=a}i.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function P3(t,e){let n=-1;if(e!=null)if(typeof e=="string"||typeof e=="number")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(;++n<e.length;)P3(t,e[n]);else if(typeof e=="object"&&"type"in e)e.type==="root"?P3(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function w8(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||km(n)===km(e)))return!0}return n}function sce(t){const e=[];let n;for(n in t)hB.call(t,n)&&e.push([n,t[n]].join(": "));return e.join("; ")}const oce=nce(Jle,"div"),ace=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],_8={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function dB(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function lce(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function cce(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function v8(t){return cce(t)||dB(t)}const Wh=String.fromCharCode,uce=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function hce(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,r=[];let i=0,s=-1,o="",a,l;e.position&&("start"in e.position||"indent"in e.position?(l=e.position.indent,a=e.position.start):a=e.position);let u=(a?a.line:0)||1,h=(a?a.column:0)||1,d=p(),f;for(i--;++i<=t.length;)if(f===10&&(h=(l?l[s]:0)||1),f=t.charCodeAt(i),f===38){const y=t.charCodeAt(i+1);if(y===9||y===10||y===12||y===32||y===38||y===60||Number.isNaN(y)||n&&y===n){o+=Wh(f),h++;continue}const b=i+1;let O=b,x=b,T;if(y===35){x=++O;const _=t.charCodeAt(x);_===88||_===120?(T="hexadecimal",x=++O):T="decimal"}else T="named";let A="",v="",S="";const I=T==="named"?v8:T==="decimal"?dB:lce;for(x--;++x<=t.length;){const _=t.charCodeAt(x);if(!I(_))break;S+=Wh(_),T==="named"&&ace.includes(S)&&(A=S,v=cm(S))}let M=t.charCodeAt(x)===59;if(M){x++;const _=T==="named"?cm(S):!1;_&&(A=S,v=_)}let C=1+x-b,E="";if(!(!M&&e.nonTerminated===!1))if(!S)T!=="named"&&g(4,C);else if(T==="named"){if(M&&!v)g(5,1);else if(A!==S&&(x=O+A.length,C=1+x-O,M=!1),!M){const _=A?1:3;if(e.attribute){const L=t.charCodeAt(x);L===61?(g(_,C),v=""):v8(L)?v="":g(_,C)}else g(_,C)}E=v}else{M||g(2,C);let _=Number.parseInt(S,T==="hexadecimal"?16:10);if(dce(_))g(7,C),E=Wh(65533);else if(_ in _8)g(6,C),E=_8[_];else{let L="";fce(_)&&g(6,C),_>65535&&(_-=65536,L+=Wh(_>>>10|55296),_=56320|_&1023),E=L+Wh(_)}}if(E){m(),d=p(),i=x-1,h+=x-b+1,r.push(E);const _=p();_.offset++,e.reference&&e.reference.call(e.referenceContext,E,{start:d,end:_},t.slice(b-1,x)),d=_}else S=t.slice(b-1,x),o+=S,h+=S.length,i=x-1}else f===10&&(u++,s++,h=0),Number.isNaN(f)?m():(o+=Wh(f),h++);return r.join("");function p(){return{line:u,column:h,offset:i+((a?a.offset:0)||0)}}function g(y,b){let O;e.warning&&(O=p(),O.column+=b,O.offset+=b,e.warning.call(e.warningContext,uce[y],O,y))}function m(){o&&(r.push(o),e.text&&e.text.call(e.textContext,o,{start:d,end:p()}),o="")}}function dce(t){return t>=55296&&t<=57343||t>1114111}function fce(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}var pce=0,A1={},wr={util:{type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++pce}),t.__id},clone:function t(e,n){n=n||{};var r,i;switch(wr.util.type(e)){case"Object":if(i=wr.util.objId(e),n[i])return n[i];r={},n[i]=r;for(var s in e)e.hasOwnProperty(s)&&(r[s]=t(e[s],n));return r;case"Array":return i=wr.util.objId(e),n[i]?n[i]:(r=[],n[i]=r,e.forEach(function(o,a){r[a]=t(o,n)}),r);default:return e}}},languages:{plain:A1,plaintext:A1,text:A1,txt:A1,extend:function(t,e){var n=wr.util.clone(wr.languages[t]);for(var r in e)n[r]=e[r];return n},insertBefore:function(t,e,n,r){r=r||wr.languages;var i=r[t],s={};for(var o in i)if(i.hasOwnProperty(o)){if(o==e)for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);n.hasOwnProperty(o)||(s[o]=i[o])}var l=r[t];return r[t]=s,wr.languages.DFS(wr.languages,function(u,h){h===l&&u!=t&&(this[u]=s)}),s},DFS:function t(e,n,r,i){i=i||{};var s=wr.util.objId;for(var o in e)if(e.hasOwnProperty(o)){n.call(e,o,e[o],r||o);var a=e[o],l=wr.util.type(a);l==="Object"&&!i[s(a)]?(i[s(a)]=!0,t(a,n,null,i)):l==="Array"&&!i[s(a)]&&(i[s(a)]=!0,t(a,n,o,i))}}},plugins:{},highlight:function(t,e,n){var r={code:t,grammar:e,language:n};if(wr.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=wr.tokenize(r.code,r.grammar),wr.hooks.run("after-tokenize",r),Tg.stringify(wr.util.encode(r.tokens),r.language)},tokenize:function(t,e){var n=e.rest;if(n){for(var r in n)e[r]=n[r];delete e.rest}var i=new gce;return sb(i,i.head,t),fB(t,i,e,i.head,0),yce(i)},hooks:{all:{},add:function(t,e){var n=wr.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=wr.hooks.all[t];if(!(!n||!n.length))for(var r=0,i;i=n[r++];)i(e)}},Token:Tg};function Tg(t,e,n,r){this.type=t,this.content=e,this.alias=n,this.length=(r||"").length|0}function S8(t,e,n,r){t.lastIndex=e;var i=t.exec(n);if(i&&r&&i[1]){var s=i[1].length;i.index+=s,i[0]=i[0].slice(s)}return i}function fB(t,e,n,r,i,s){for(var o in n)if(!(!n.hasOwnProperty(o)||!n[o])){var a=n[o];a=Array.isArray(a)?a:[a];for(var l=0;l<a.length;++l){if(s&&s.cause==o+","+l)return;var u=a[l],h=u.inside,d=!!u.lookbehind,f=!!u.greedy,p=u.alias;if(f&&!u.pattern.global){var g=u.pattern.toString().match(/[imsuy]*$/)[0];u.pattern=RegExp(u.pattern.source,g+"g")}for(var m=u.pattern||u,y=r.next,b=i;y!==e.tail&&!(s&&b>=s.reach);b+=y.value.length,y=y.next){var O=y.value;if(e.length>t.length)return;if(!(O instanceof Tg)){var x=1,T;if(f){if(T=S8(m,b,t,d),!T||T.index>=t.length)break;var I=T.index,A=T.index+T[0].length,v=b;for(v+=y.value.length;I>=v;)y=y.next,v+=y.value.length;if(v-=y.value.length,b=v,y.value instanceof Tg)continue;for(var S=y;S!==e.tail&&(v<A||typeof S.value=="string");S=S.next)x++,v+=S.value.length;x--,O=t.slice(b,v),T.index-=b}else if(T=S8(m,0,O,d),!T)continue;var I=T.index,M=T[0],C=O.slice(0,I),E=O.slice(I+M.length),_=b+O.length;s&&_>s.reach&&(s.reach=_);var L=y.prev;C&&(L=sb(e,L,C),b+=C.length),mce(e,L,x);var k=new Tg(o,h?wr.tokenize(M,h):M,p,M);if(y=sb(e,L,k),E&&sb(e,y,E),x>1){var B={cause:o+","+l,reach:_};fB(t,e,n,y.prev,b,B),s&&B.reach>s.reach&&(s.reach=B.reach)}}}}}}function gce(){var t={value:null,prev:null,next:null},e={value:null,prev:t,next:null};t.next=e,this.head=t,this.tail=e,this.length=0}function sb(t,e,n){var r=e.next,i={value:n,prev:e,next:r};return e.next=i,r.prev=i,t.length++,i}function mce(t,e,n){for(var r=e.next,i=0;i<n&&r!==t.tail;i++)r=r.next;e.next=r,r.prev=e,t.length-=i}function yce(t){for(var e=[],n=t.head.next;n!==t.tail;)e.push(n.value),n=n.next;return e}const pB=wr,zf={}.hasOwnProperty;function gB(){}gB.prototype=pB;const nt=new gB;nt.highlight=bce;nt.register=Oce;nt.alias=kce;nt.registered=xce;nt.listLanguages=wce;nt.util.encode=_ce;nt.Token.stringify=$3;function bce(t,e){if(typeof t!="string")throw new TypeError("Expected `string` for `value`, got `"+t+"`");let n,r;if(e&&typeof e=="object")n=e;else{if(r=e,typeof r!="string")throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(zf.call(nt.languages,r))n=nt.languages[r];else throw new Error("Unknown language: `"+r+"` is not registered")}return{type:"root",children:pB.highlight.call(nt,t,n,r)}}function Oce(t){if(typeof t!="function"||!t.displayName)throw new Error("Expected `function` for `syntax`, got `"+t+"`");zf.call(nt.languages,t.displayName)||t(nt)}function kce(t,e){const n=nt.languages;let r={};typeof t=="string"?e&&(r[t]=e):r=t;let i;for(i in r)if(zf.call(r,i)){const s=r[i],o=typeof s=="string"?[s]:s;let a=-1;for(;++a<o.length;)n[o[a]]=n[i]}}function xce(t){if(typeof t!="string")throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+t+"`");return zf.call(nt.languages,t)}function wce(){const t=nt.languages,e=[];let n;for(n in t)zf.call(t,n)&&typeof t[n]=="object"&&e.push(n);return e}function $3(t,e){if(typeof t=="string")return{type:"text",value:t};if(Array.isArray(t)){const r=[];let i=-1;for(;++i<t.length;)t[i]!==""&&t[i]!==null&&t[i]!==void 0&&r.push($3(t[i],e));return r}const n={type:t.type,content:$3(t.content,e),tag:"span",classes:["token",t.type],attributes:{},language:e};return t.alias&&n.classes.push(...typeof t.alias=="string"?[t.alias]:t.alias),nt.hooks.run("wrap",n),oce(n.tag+"."+n.classes.join("."),vce(n.attributes),n.content)}function _ce(t){return t}function vce(t){let e;for(e in t)zf.call(t,e)&&(t[e]=hce(t[e]));return t}nt.register(Ra);nt.register(L0);nt.register(Dk);nt.register(L5);nt.register(I5);nt.register(N5);nt.register(I0);nt.register(Bf);nt.register(F5);nt.register(B5);nt.register(Q5);nt.register(z5);nt.register(V5);nt.register(Ak);nt.register(W5);nt.register(U5);nt.register(j5);nt.register(q5);nt.register(Y5);nt.register(Z5);nt.register(X5);nt.register(H5);nt.register(G5);nt.register(Mk);nt.register(K5);nt.register(J5);nt.register(eE);nt.register(tE);nt.register(nE);nt.register(rE);nt.register(iE);nt.register(sE);nt.register(oE);nt.register(aE);nt.register(Pk);nt.register(lE);const mB=(t,e=[])=>t.flatMap(n=>{var r;return n.type==="element"?mB(n.children,[...e,...((r=n.properties)==null?void 0:r.className)||[]]):[{text:n.value,className:e}]});function C8(t,e,n){const{highlight:r,listLanguages:i}=n,s=i(),o=[];return E3(a=>a.type.name===e)(t).forEach(a=>{let l=a.pos+1;const{language:u}=a.node.attrs;if(!u||!s.includes(u)){console.warn("Unsupported language detected, this language has not been supported by prism: ",u);return}const h=r(a.node.textContent,u);mB(h.children).forEach(d=>{const f=l+d.text.length;if(d.className.length){const p=pi.inline(l,f,{class:d.className.join(" ")});o.push(p)}l=f})}),Jt.create(t,o)}const Sce="MILKDOWN_PRISM";function Cce(t){const{nodeName:e,configureRefractor:n}=t;return new Xt({key:new en(Sce),state:{init:(r,{doc:i})=>{const s=n(nt);return C8(i,e,s??nt)},apply:(r,i,s,o)=>{var a,l;const u=o.selection.$head.parent.type.name===e,h=s.selection.$head.parent.type.name===e,d=E3(p=>p.type.name===e)(s.doc),f=E3(p=>p.type.name===e)(o.doc);return r.docChanged&&(u||h||d.length!==f.length||((a=d[0])==null?void 0:a.node.attrs.language)!==((l=f[0])==null?void 0:l.node.attrs.language)||r.steps.some(p=>{const g=p;return g.from!==void 0&&g.to!==void 0&&d.some(m=>m.pos>=g.from&&m.pos+m.node.nodeSize<=g.to)}))?C8(r.doc,e,nt):i.map(r.mapping,r.doc)}},props:{decorations(r){return this.getState(r)}}})}const Ece=(t={})=>{const e={nodeName:"fence",configureRefractor:()=>{},...t};return rle(()=>Cce(e))},Tce=Ece(),yB=(t,e)=>{if(!e)return!1;const{from:n,to:r}=t.selection;return t.doc.rangeHasMark(n,n===r?r+1:r,e)},Dce=t=>{const{selection:e}=t;return e instanceof ht?!!t.doc.textBetween(e.from,e.to):!1},Ace=t=>!!p5(e=>!!e.type.spec.code)(t.selection),Mce=(t,e)=>!Dce(t)||Ace(t)||yB(t,e),lp=(t,e,n,r)=>({icon:t,onClick:e,isHidden:()=>i=>Mce(i.state,r),isActive:()=>i=>yB(i.state,n),canAddToDOM:()=>i=>!!n&&!!i.state.schema.marks[n.name]}),Pce=t=>{const e=t.get(Fn).marks;return[lp("bold","ToggleBold",e.strong),lp("italic","ToggleItalic",e.em),lp("strikeThrough","ToggleStrikeThrough",e.strike_through),lp("code","ToggleInlineCode",e.code_inline),lp("link","ToggleLink",e.link)]},$ce=(t,e=Pce)=>{const n=({icon:r,onClick:i,isHidden:s,isActive:o,canAddToDOM:a})=>{var l;return{$:typeof r=="function"?r(t):(l=t.get(yt).get(Un,r))==null?void 0:l.dom,command:typeof i=="string"?()=>t.get(_t).call(i):i(t),disable:s(t),active:o(t),enable:a(t)}};return e(t).map(n)},Rce=(t,e,n)=>{t.classList.remove("hide"),d5(e,t,(r,i,s,o)=>{const a=t.parentElement;if(!a)throw Mi();const l=i.left-r.left;let u=r.left-o.left-(s.width-l)/2,h=r.top-o.top-s.height-14+a.scrollTop;u<0&&(u=0);const d=a.clientWidth-(s.width+4);return u>d&&(u=d),(h<a.scrollTop||n&&o.bottom-r.bottom>s.height)&&(h=r.bottom-o.top+14+a.scrollTop),[h,u]})},Lce=(t,{css:e})=>{const n=(i,s=1)=>t.get(_r,[i,s]),r=t.get(sn,"lineWidth");return e`
        display: inline-flex;
        cursor: pointer;
        justify-content: space-evenly;
        position: absolute;
        border-radius: ${t.get(sn,"radius")};
        z-index: 2;

        ${t.get(Cr,void 0)}
        ${t.get(Lo,void 0)}

        overflow: hidden;
        background: ${n("surface")};

        .icon {
            position: relative;
            color: ${n("solid",.87)};

            width: 48px;
            line-height: 48px;
            text-align: center;
            transition: all 0.4s ease-in-out;
            &:hover {
                background-color: ${n("secondary",.12)};
            }
            &.active {
                color: ${n("primary")};
            }
            &:not(:last-child)::after {
                content: '';
                position: absolute;
                top: 0;
                right: calc(-0.5 * ${r});
                width: ${r};
                bottom: 0;
                background: ${n("line")};
            }
        }
        &.hide,
        .hide {
            display: none;
        }
    `},Ice=(t,e,n)=>{const r=document.createElement("div");return e.themeManager.onFlush(()=>{const i=e.getStyle(s=>Lce(e.themeManager,s))||"";i&&r.classList.add(i)}),r.classList.add(e.getClassName({},n)),{dom:r,render:i=>{var s;t.filter(o=>o.enable(i)&&o.$!=null).forEach(({$:o})=>r.appendChild(o)),(s=i.dom.parentNode)==null||s.appendChild(r)}}},Nce=(t,e)=>Object.values(t).filter(n=>n.enable(e)&&n.$!=null).every(({$:n})=>n.classList.contains("hide")),Fce=(t,e)=>(t.filter(n=>n.enable(e)&&n.$!=null).forEach(n=>{var r;if((r=n.disable)!=null&&r.call(n,e)){n.$.classList.add("hide");return}if(n.$.classList.remove("hide"),n.active(e)){n.$.classList.add("active");return}n.$.classList.remove("active")}),Nce(t,e)),E8=(t,e,n,r)=>{const{dom:i,render:s}=Ice(t,e,r),o=l=>{const u=t.find(({$:h})=>l.target instanceof Element&&h.contains(l.target));!u||(l.stopPropagation(),l.preventDefault(),u.command())},a=()=>{i.classList.add("hide")};return i.addEventListener("mousedown",o),{destroy:()=>{i.removeEventListener("mousedown",o),i.remove()},hide:a,update:l=>{if(Fce(t,l)){a();return}Rce(i,l,n)},render:s}},Bce=(t,e,n,r)=>{let i=E8(t,e,n,r),s=!1;const o=()=>{i.hide()},a=(l,u)=>{const{state:h}=l;if(!l.editable||s){o();return}u!=null&&u.doc.eq(h.doc)&&u.selection.eq(h.selection)||i.update(l)};return{recreate:l=>{i=E8(t,e,n,r),i.render(l),a(l)},update:a,destroy:()=>{i.destroy()},render:l=>{i.render(l),a(l)},setHide:l=>{s=l}}},Qce=new en("MILKDOWN_TOOLTIP"),zce=ao((t,e)=>({id:"tooltip",prosePlugins:(n,r)=>{var i;const s=Bce($ce(r,e==null?void 0:e.items),t,(i=e==null?void 0:e.bottom)!=null?i:!1,"tooltip");return[new Xt({key:Qce,props:{handleClick:o=>(s.setHide(!1),s.update(o),!1),handleDOMEvents:{mousedown:()=>(s.setHide(!1),!1)}},view:o=>(s.recreate(o),{update:s.update,destroy:s.destroy})})]}})),Vce=oo.create([zce()]);var Wce=typeof gc=="object"&&gc&&gc.Object===Object&&gc,bB=Wce,Uce=bB,jce=typeof self=="object"&&self&&self.Object===Object&&self,qce=Uce||jce||Function("return this")(),tu=qce,Yce=tu,Zce=Yce.Symbol,uE=Zce;function Xce(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Hce=Xce,T8=uE,OB=Object.prototype,Gce=OB.hasOwnProperty,Kce=OB.toString,cp=T8?T8.toStringTag:void 0;function Jce(t){var e=Gce.call(t,cp),n=t[cp];try{t[cp]=void 0;var r=!0}catch{}var i=Kce.call(t);return r&&(e?t[cp]=n:delete t[cp]),i}var eue=Jce,tue=Object.prototype,nue=tue.toString;function rue(t){return nue.call(t)}var iue=rue,D8=uE,sue=eue,oue=iue,aue="[object Null]",lue="[object Undefined]",A8=D8?D8.toStringTag:void 0;function cue(t){return t==null?t===void 0?lue:aue:A8&&A8 in Object(t)?sue(t):oue(t)}var F0=cue;function uue(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kB=uue,hue=F0,due=kB,fue="[object AsyncFunction]",pue="[object Function]",gue="[object GeneratorFunction]",mue="[object Proxy]";function yue(t){if(!due(t))return!1;var e=hue(t);return e==pue||e==gue||e==fue||e==mue}var xB=yue,bue=tu,Oue=bue["__core-js_shared__"],kue=Oue,Bw=kue,M8=function(){var t=/[^.]+$/.exec(Bw&&Bw.keys&&Bw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xue(t){return!!M8&&M8 in t}var wue=xue,_ue=Function.prototype,vue=_ue.toString;function Sue(t){if(t!=null){try{return vue.call(t)}catch{}try{return t+""}catch{}}return""}var wB=Sue,Cue=xB,Eue=wue,Tue=kB,Due=wB,Aue=/[\\^$.*+?()[\]{}|]/g,Mue=/^\[object .+?Constructor\]$/,Pue=Function.prototype,$ue=Object.prototype,Rue=Pue.toString,Lue=$ue.hasOwnProperty,Iue=RegExp("^"+Rue.call(Lue).replace(Aue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nue(t){if(!Tue(t)||Eue(t))return!1;var e=Cue(t)?Iue:Mue;return e.test(Due(t))}var Fue=Nue;function Bue(t,e){return t==null?void 0:t[e]}var Que=Bue,zue=Fue,Vue=Que;function Wue(t,e){var n=Vue(t,e);return zue(n)?n:void 0}var B0=Wue,Uue=B0,jue=tu,que=Uue(jue,"DataView"),Yue=que,Zue=B0,Xue=tu,Hue=Zue(Xue,"Map"),Gue=Hue,Kue=B0,Jue=tu,ehe=Kue(Jue,"Promise"),the=ehe,nhe=B0,rhe=tu,ihe=nhe(rhe,"Set"),she=ihe,ohe=B0,ahe=tu,lhe=ohe(ahe,"WeakMap"),che=lhe,R3=Yue,L3=Gue,I3=the,N3=she,F3=che,_B=F0,Vf=wB,P8="[object Map]",uhe="[object Object]",$8="[object Promise]",R8="[object Set]",L8="[object WeakMap]",I8="[object DataView]",hhe=Vf(R3),dhe=Vf(L3),fhe=Vf(I3),phe=Vf(N3),ghe=Vf(F3),xu=_B;(R3&&xu(new R3(new ArrayBuffer(1)))!=I8||L3&&xu(new L3)!=P8||I3&&xu(I3.resolve())!=$8||N3&&xu(new N3)!=R8||F3&&xu(new F3)!=L8)&&(xu=function(t){var e=_B(t),n=e==uhe?t.constructor:void 0,r=n?Vf(n):"";if(r)switch(r){case hhe:return I8;case dhe:return P8;case fhe:return $8;case phe:return R8;case ghe:return L8}return e});var mhe=xu,yhe=9007199254740991;function bhe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yhe}var vB=bhe,Ohe=xB,khe=vB;function xhe(t){return t!=null&&khe(t.length)&&!Ohe(t)}var SB=xhe,whe=Array.isArray,CB=whe;function _he(t){return t!=null&&typeof t=="object"}var $k=_he,vhe=F0,She=CB,Che=$k,Ehe="[object String]";function The(t){return typeof t=="string"||!She(t)&&Che(t)&&vhe(t)==Ehe}var Dhe=The;function Ahe(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var Mhe=Ahe;function Phe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $he=Phe;function Rhe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Lhe=Rhe;function Ihe(t){return t.split("")}var Nhe=Ihe,Fhe="\\ud800-\\udfff",Bhe="\\u0300-\\u036f",Qhe="\\ufe20-\\ufe2f",zhe="\\u20d0-\\u20ff",Vhe=Bhe+Qhe+zhe,Whe="\\ufe0e\\ufe0f",Uhe="\\u200d",jhe=RegExp("["+Uhe+Fhe+Vhe+Whe+"]");function qhe(t){return jhe.test(t)}var Yhe=qhe,EB="\\ud800-\\udfff",Zhe="\\u0300-\\u036f",Xhe="\\ufe20-\\ufe2f",Hhe="\\u20d0-\\u20ff",Ghe=Zhe+Xhe+Hhe,Khe="\\ufe0e\\ufe0f",Jhe="["+EB+"]",B3="["+Ghe+"]",Q3="\\ud83c[\\udffb-\\udfff]",ede="(?:"+B3+"|"+Q3+")",TB="[^"+EB+"]",DB="(?:\\ud83c[\\udde6-\\uddff]){2}",AB="[\\ud800-\\udbff][\\udc00-\\udfff]",tde="\\u200d",MB=ede+"?",PB="["+Khe+"]?",nde="(?:"+tde+"(?:"+[TB,DB,AB].join("|")+")"+PB+MB+")*",rde=PB+MB+nde,ide="(?:"+[TB+B3+"?",B3,DB,AB,Jhe].join("|")+")",sde=RegExp(Q3+"(?="+Q3+")|"+ide+rde,"g");function ode(t){return t.match(sde)||[]}var ade=ode,lde=Nhe,cde=Yhe,ude=ade;function hde(t){return cde(t)?ude(t):lde(t)}var dde=hde;function fde(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var pde=fde,gde=pde;function mde(t,e){return gde(e,function(n){return t[n]})}var yde=mde;function bde(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ode=bde,kde=F0,xde=$k,wde="[object Arguments]";function _de(t){return xde(t)&&kde(t)==wde}var vde=_de,N8=vde,Sde=$k,$B=Object.prototype,Cde=$B.hasOwnProperty,Ede=$B.propertyIsEnumerable,Tde=N8(function(){return arguments}())?N8:function(t){return Sde(t)&&Cde.call(t,"callee")&&!Ede.call(t,"callee")},Dde=Tde,m2={exports:{}};function Ade(){return!1}var Mde=Ade;m2.exports;(function(t,e){var n=tu,r=Mde,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(m2,m2.exports);var Pde=m2.exports,$de=9007199254740991,Rde=/^(?:0|[1-9]\d*)$/;function Lde(t,e){var n=typeof t;return e=e??$de,!!e&&(n=="number"||n!="symbol"&&Rde.test(t))&&t>-1&&t%1==0&&t<e}var Ide=Lde,Nde=F0,Fde=vB,Bde=$k,Qde="[object Arguments]",zde="[object Array]",Vde="[object Boolean]",Wde="[object Date]",Ude="[object Error]",jde="[object Function]",qde="[object Map]",Yde="[object Number]",Zde="[object Object]",Xde="[object RegExp]",Hde="[object Set]",Gde="[object String]",Kde="[object WeakMap]",Jde="[object ArrayBuffer]",efe="[object DataView]",tfe="[object Float32Array]",nfe="[object Float64Array]",rfe="[object Int8Array]",ife="[object Int16Array]",sfe="[object Int32Array]",ofe="[object Uint8Array]",afe="[object Uint8ClampedArray]",lfe="[object Uint16Array]",cfe="[object Uint32Array]",kn={};kn[tfe]=kn[nfe]=kn[rfe]=kn[ife]=kn[sfe]=kn[ofe]=kn[afe]=kn[lfe]=kn[cfe]=!0;kn[Qde]=kn[zde]=kn[Jde]=kn[Vde]=kn[efe]=kn[Wde]=kn[Ude]=kn[jde]=kn[qde]=kn[Yde]=kn[Zde]=kn[Xde]=kn[Hde]=kn[Gde]=kn[Kde]=!1;function ufe(t){return Bde(t)&&Fde(t.length)&&!!kn[Nde(t)]}var hfe=ufe;function dfe(t){return function(e){return t(e)}}var ffe=dfe,y2={exports:{}};y2.exports;(function(t,e){var n=bB,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(y2,y2.exports);var pfe=y2.exports,gfe=hfe,mfe=ffe,F8=pfe,B8=F8&&F8.isTypedArray,yfe=B8?mfe(B8):gfe,bfe=yfe,Ofe=Ode,kfe=Dde,xfe=CB,wfe=Pde,_fe=Ide,vfe=bfe,Sfe=Object.prototype,Cfe=Sfe.hasOwnProperty;function Efe(t,e){var n=xfe(t),r=!n&&kfe(t),i=!n&&!r&&wfe(t),s=!n&&!r&&!i&&vfe(t),o=n||r||i||s,a=o?Ofe(t.length,String):[],l=a.length;for(var u in t)(e||Cfe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_fe(u,l)))&&a.push(u);return a}var Tfe=Efe,Dfe=Object.prototype;function Afe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Dfe;return t===n}var Mfe=Afe;function Pfe(t,e){return function(n){return t(e(n))}}var $fe=Pfe,Rfe=$fe,Lfe=Rfe(Object.keys,Object),Ife=Lfe,Nfe=Mfe,Ffe=Ife,Bfe=Object.prototype,Qfe=Bfe.hasOwnProperty;function zfe(t){if(!Nfe(t))return Ffe(t);var e=[];for(var n in Object(t))Qfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Vfe=zfe,Wfe=Tfe,Ufe=Vfe,jfe=SB;function qfe(t){return jfe(t)?Wfe(t):Ufe(t)}var Yfe=qfe,Zfe=yde,Xfe=Yfe;function Hfe(t){return t==null?[]:Zfe(t,Xfe(t))}var Gfe=Hfe,Q8=uE,Kfe=Hce,Jfe=mhe,epe=SB,tpe=Dhe,npe=Mhe,rpe=$he,ipe=Lhe,spe=dde,ope=Gfe,ape="[object Map]",lpe="[object Set]",Qw=Q8?Q8.iterator:void 0;function cpe(t){if(!t)return[];if(epe(t))return tpe(t)?spe(t):Kfe(t);if(Qw&&t[Qw])return npe(t[Qw]());var e=Jfe(t),n=e==ape?rpe:e==lpe?ipe:ope;return n(t)}var upe=cpe;const hpe="☔",dpe="☕",fpe="♈",ppe="♉",gpe="♐",mpe="♑",ype="♒",bpe="♓",Ope="⚓",kpe="✅",xpe="✨",wpe="❓",_pe="❔",vpe="❕",Spe="❗",Cpe="❗",Epe="➕",Tpe="➖",Dpe="➗",Ape="#️⃣",Mpe="*️⃣",Ppe="0️⃣",$pe="1️⃣",Rpe="2️⃣",Lpe="3️⃣",Ipe="4️⃣",Npe="5️⃣",Fpe="6️⃣",Bpe="7️⃣",Qpe="8️⃣",zpe="9️⃣",Vpe="©️",Wpe="®️",Upe="🀄",jpe="🃏",qpe="🅰️",Ype="🅱️",Zpe="🅾️",Xpe="🅿️",Hpe="🆎",Gpe="🆑",Kpe="🆒",Jpe="🆓",ege="🆔",tge="🆖",nge="🆗",rge="🆘",ige="🆙",sge="🆚",oge="🇨🇳",age="🇩🇪",lge="🇪🇸",cge="🇫🇷",uge="🇬🇧",hge="🇬🇧",dge="🇮🇹",fge="🇯🇵",pge="🇰🇷",gge="🇷🇺",mge="🇺🇸",yge="🈁",bge="🈂️",Oge="🈚",kge="🈯",xge="🈲",wge="🈳",_ge="🈴",vge="🈵",Sge="🈶",Cge="🈷️",Ege="🈸",Tge="🈹",Dge="🈺",Age="🉐",Mge="🉑",Pge="🌀",$ge="🌁",Rge="🌂",Lge="🌃",Ige="🌄",Nge="🌅",Fge="🌆",Bge="🌇",Qge="🌈",zge="🌉",Vge="🌊",Wge="🌋",Uge="🌌",jge="🌍",qge="🌎",Yge="🌏",Zge="🌐",Xge="🌑",Hge="🌒",Gge="🌓",Kge="🌔",Jge="🌔",eme="🌕",tme="🌖",nme="🌗",rme="🌘",ime="🌙",sme="🌚",ome="🌛",ame="🌜",lme="🌝",cme="🌞",ume="🌟",hme="🌠",dme="🌡️",fme="🌤️",pme="🌤️",gme="🌥️",mme="🌥️",yme="🌦️",bme="🌦️",Ome="🌧️",kme="🌨️",xme="🌩️",wme="🌩️",_me="🌪️",vme="🌪️",Sme="🌫️",Cme="🌬️",Eme="🌭",Tme="🌮",Dme="🌯",Ame="🌰",Mme="🌱",Pme="🌲",$me="🌳",Rme="🌴",Lme="🌵",Ime="🌶️",Nme="🌷",Fme="🌸",Bme="🌹",Qme="🌺",zme="🌻",Vme="🌼",Wme="🌽",Ume="🌾",jme="🌿",qme="🍀",Yme="🍁",Zme="🍂",Xme="🍃",Hme="🍄",Gme="🍅",Kme="🍆",Jme="🍇",e0e="🍈",t0e="🍉",n0e="🍊",r0e="🍋",i0e="🍌",s0e="🍍",o0e="🍎",a0e="🍏",l0e="🍐",c0e="🍑",u0e="🍒",h0e="🍓",d0e="🍔",f0e="🍕",p0e="🍖",g0e="🍗",m0e="🍘",y0e="🍙",b0e="🍚",O0e="🍛",k0e="🍜",x0e="🍝",w0e="🍞",_0e="🍟",v0e="🍠",S0e="🍡",C0e="🍢",E0e="🍣",T0e="🍤",D0e="🍥",A0e="🍦",M0e="🍧",P0e="🍨",$0e="🍩",R0e="🍪",L0e="🍫",I0e="🍬",N0e="🍭",F0e="🍮",B0e="🍯",Q0e="🍰",z0e="🍱",V0e="🍲",W0e="🍳",U0e="🍳",j0e="🍴",q0e="🍵",Y0e="🍶",Z0e="🍷",X0e="🍸",H0e="🍹",G0e="🍺",K0e="🍻",J0e="🍼",e1e="🍽️",t1e="🍾",n1e="🍿",r1e="🎀",i1e="🎁",s1e="🎂",o1e="🎃",a1e="🎄",l1e="🎅",c1e="🎆",u1e="🎇",h1e="🎈",d1e="🎉",f1e="🎊",p1e="🎋",g1e="🎌",m1e="🎍",y1e="🎎",b1e="🎏",O1e="🎐",k1e="🎑",x1e="🎒",w1e="🎓",_1e="🎖️",v1e="🎗️",S1e="🎙️",C1e="🎚️",E1e="🎛️",T1e="🎞️",D1e="🎟️",A1e="🎠",M1e="🎡",P1e="🎢",$1e="🎣",R1e="🎤",L1e="🎥",I1e="🎦",N1e="🎧",F1e="🎨",B1e="🎩",Q1e="🎪",z1e="🎫",V1e="🎬",W1e="🎭",U1e="🎮",j1e="🎯",q1e="🎰",Y1e="🎲",Z1e="🎳",X1e="🎴",H1e="🎵",G1e="🎶",K1e="🎷",J1e="🎸",eye="🎹",tye="🎺",nye="🎻",rye="🎼",iye="🎽",sye="🎾",oye="🎿",aye="🏀",lye="🏁",cye="🏂",uye="🏃‍♂️",hye="🏃‍♂️",dye="🏄‍♂️",fye="🏅",pye="🏆",gye="🏇",mye="🏈",yye="🏉",bye="🏊‍♂️",Oye="🏋️‍♂️",kye="🏌️‍♂️",xye="🏍️",wye="🏎️",_ye="🏏",vye="🏐",Sye="🏑",Cye="🏒",Eye="🏓",Tye="🏔️",Dye="🏕️",Aye="🏖️",Mye="🏗️",Pye="🏘️",$ye="🏙️",Rye="🏚️",Lye="🏛️",Iye="🏜️",Nye="🏝️",Fye="🏞️",Bye="🏟️",Qye="🏠",zye="🏡",Vye="🏢",Wye="🏣",Uye="🏤",jye="🏥",qye="🏦",Yye="🏧",Zye="🏨",Xye="🏩",Hye="🏪",Gye="🏫",Kye="🏬",Jye="🏭",ebe="🏮",tbe="🏮",nbe="🏯",rbe="🏰",ibe="🏳️‍⚧️",sbe="🏳️",obe="🏴‍☠️",abe="🏴",lbe="🏵️",cbe="🏷️",ube="🏸",hbe="🏹",dbe="🏺",fbe="🐀",pbe="🐁",gbe="🐂",mbe="🐃",ybe="🐄",bbe="🐅",Obe="🐆",kbe="🐇",xbe="🐈‍⬛",wbe="🐈",_be="🐉",vbe="🐊",Sbe="🐋",Cbe="🐌",Ebe="🐍",Tbe="🐎",Dbe="🐏",Abe="🐐",Mbe="🐑",Pbe="🐒",$be="🐓",Rbe="🐔",Lbe="🐕‍🦺",Ibe="🐕",Nbe="🐖",Fbe="🐗",Bbe="🐘",Qbe="🐙",zbe="🐚",Vbe="🐛",Wbe="🐜",Ube="🐝",jbe="🐝",qbe="🐞",Ybe="🐞",Zbe="🐟",Xbe="🐠",Hbe="🐡",Gbe="🐢",Kbe="🐣",Jbe="🐤",e2e="🐥",t2e="🐦",n2e="🐧",r2e="🐨",i2e="🐩",s2e="🐪",o2e="🐫",a2e="🐬",l2e="🐬",c2e="🐭",u2e="🐮",h2e="🐯",d2e="🐰",f2e="🐱",p2e="🐲",g2e="🐳",m2e="🐴",y2e="🐵",b2e="🐶",O2e="🐷",k2e="🐸",x2e="🐹",w2e="🐺",_2e="🐻‍❄️",v2e="🐻",S2e="🐼",C2e="🐽",E2e="🐾",T2e="🐾",D2e="🐿️",A2e="👀",M2e="👁️",P2e="👂",$2e="👃",R2e="👄",L2e="👅",I2e="👆",N2e="👇",F2e="👈",B2e="👉",Q2e="👊",z2e="👊",V2e="👋",W2e="👌",U2e="👍",j2e="👎",q2e="👏",Y2e="👐",Z2e="👑",X2e="👒",H2e="👓",G2e="👔",K2e="👕",J2e="👕",eOe="👖",tOe="👗",nOe="👘",rOe="👙",iOe="👚",sOe="👛",oOe="👜",aOe="👝",lOe="👞",cOe="👞",uOe="👟",hOe="👠",dOe="👡",fOe="👢",pOe="👣",gOe="👤",mOe="👥",yOe="👦",bOe="👧",OOe="👨‍🍼",kOe="👨‍👩‍👦",xOe="👨‍🦯",wOe="👨‍🦰",_Oe="👨‍🦱",vOe="👨‍🦲",SOe="👨‍🦳",COe="👨‍🦼",EOe="👨‍🦽",TOe="👨",DOe="👩‍🍼",AOe="👩‍🦯",MOe="👩‍🦰",POe="👩‍🦱",$Oe="👩‍🦲",ROe="👩‍🦳",LOe="👩‍🦼",IOe="👩‍🦽",NOe="👩",FOe="👫",BOe="👫",QOe="👫",zOe="👬",VOe="👬",WOe="👭",UOe="👭",jOe="👮‍♂️",qOe="👯‍♀️",YOe="👰‍♀️",ZOe="👰‍♂️",XOe="👰",HOe="👱‍♂️",GOe="👲",KOe="👳‍♂️",JOe="👴",eke="👵",tke="👶",nke="👷‍♂️",rke="👸",ike="👹",ske="👺",oke="👻",ake="👼",lke="👽",cke="👾",uke="👿",hke="💀",dke="💁‍♀️",fke="💂‍♂️",pke="💃",gke="💄",mke="💅",yke="💆‍♀️",bke="💇‍♀️",Oke="💈",kke="💉",xke="💊",wke="💋",_ke="💌",vke="💍",Ske="💎",Cke="💏",Eke="💐",Tke="💑",Dke="💒",Ake="💓",Mke="💔",Pke="💕",$ke="💖",Rke="💗",Lke="💘",Ike="💙",Nke="💚",Fke="💛",Bke="💜",Qke="💝",zke="💞",Vke="💟",Wke="💠",Uke="💡",jke="💢",qke="💣",Yke="💤",Zke="💥",Xke="💥",Hke="💦",Gke="💧",Kke="💨",Jke="💩",exe="💩",txe="💩",nxe="💪",rxe="💫",ixe="💬",sxe="💭",oxe="💮",axe="💰",lxe="💱",cxe="💲",uxe="💳",hxe="💴",dxe="💵",fxe="💶",pxe="💷",gxe="💸",mxe="💹",yxe="💺",bxe="💻",Oxe="💼",kxe="💽",xxe="💾",wxe="💿",_xe="📀",vxe="📁",Sxe="📂",Cxe="📃",Exe="📄",Txe="📅",Dxe="📆",Axe="📇",Mxe="📈",Pxe="📉",$xe="📊",Rxe="📋",Lxe="📌",Ixe="📍",Nxe="📎",Fxe="📏",Bxe="📐",Qxe="📑",zxe="📒",Vxe="📓",Wxe="📔",Uxe="📕",jxe="📖",qxe="📖",Yxe="📗",Zxe="📘",Xxe="📙",Hxe="📚",Gxe="📛",Kxe="📜",Jxe="📝",ewe="📝",twe="📞",nwe="📟",rwe="📠",iwe="📡",swe="📢",owe="📣",awe="📤",lwe="📥",cwe="📨",uwe="📩",hwe="📪",dwe="📫",fwe="📬",pwe="📭",gwe="📮",mwe="📯",ywe="📰",bwe="📱",Owe="📲",kwe="📳",xwe="📴",wwe="📵",_we="📶",vwe="📷",Swe="📸",Cwe="📹",Ewe="📺",Twe="📻",Dwe="📼",Awe="📽️",Mwe="📿",Pwe="🔀",$we="🔁",Rwe="🔂",Lwe="🔃",Iwe="🔄",Nwe="🔅",Fwe="🔆",Bwe="🔇",Qwe="🔈",zwe="🔉",Vwe="🔊",Wwe="🔋",Uwe="🔌",jwe="🔍",qwe="🔎",Ywe="🔏",Zwe="🔐",Xwe="🔑",Hwe="🔒",Gwe="🔓",Kwe="🔔",Jwe="🔕",e_e="🔖",t_e="🔗",n_e="🔘",r_e="🔙",i_e="🔚",s_e="🔛",o_e="🔜",a_e="🔝",l_e="🔞",c_e="🔟",u_e="🔠",h_e="🔡",d_e="🔣",f_e="🔤",p_e="🔥",g_e="🔦",m_e="🔧",y_e="🔨",b_e="🔩",O_e="🔪",k_e="🔪",x_e="🔫",w_e="🔬",__e="🔭",v_e="🔮",S_e="🔯",C_e="🔰",E_e="🔱",T_e="🔲",D_e="🔳",A_e="🔴",M_e="🔵",P_e="🔶",$_e="🔷",R_e="🔸",L_e="🔹",I_e="🔺",N_e="🔻",F_e="🔼",B_e="🔽",Q_e="🕉️",z_e="🕊️",V_e="🕋",W_e="🕌",U_e="🕍",j_e="🕎",q_e="🕐",Y_e="🕑",Z_e="🕒",X_e="🕓",H_e="🕔",G_e="🕕",K_e="🕖",J_e="🕗",eve="🕘",tve="🕙",nve="🕚",rve="🕛",ive="🕜",sve="🕝",ove="🕞",ave="🕟",lve="🕠",cve="🕡",uve="🕢",hve="🕣",dve="🕤",fve="🕥",pve="🕦",gve="🕧",mve="🕯️",yve="🕰️",bve="🕳️",Ove="🕴️",kve="🕵️‍♂️",xve="🕶️",wve="🕷️",_ve="🕸️",vve="🕹️",Sve="🕺",Cve="🖇️",Eve="🖊️",Tve="🖋️",Dve="🖌️",Ave="🖍️",Mve="🖐️",Pve="🖕",$ve="🖕",Rve="🖤",Lve="🖥️",Ive="🖨️",Nve="🖱️",Fve="🖲️",Bve="🖼️",Qve="🗂️",zve="🗃️",Vve="🗄️",Wve="🗑️",Uve="🗒️",jve="🗓️",qve="🗜️",Yve="🗝️",Zve="🗞️",Xve="🗡️",Hve="🗣️",Gve="🗨️",Kve="🗯️",Jve="🗳️",e3e="🗺️",t3e="🗻",n3e="🗼",r3e="🗽",i3e="🗾",s3e="🗿",o3e="😀",a3e="😁",l3e="😂",c3e="😃",u3e="😄",h3e="😅",d3e="😆",f3e="😆",p3e="😇",g3e="😈",m3e="😉",y3e="😊",b3e="😋",O3e="😌",k3e="😍",x3e="😎",w3e="😏",_3e="😐",v3e="😑",S3e="😒",C3e="😓",E3e="😔",T3e="😕",D3e="😖",A3e="😗",M3e="😘",P3e="😙",$3e="😚",R3e="😛",L3e="😜",I3e="😝",N3e="😞",F3e="😟",B3e="😠",Q3e="😡",z3e="😢",V3e="😣",W3e="😤",U3e="😥",j3e="😦",q3e="😧",Y3e="😨",Z3e="😩",X3e="😪",H3e="😫",G3e="😬",K3e="😭",J3e="😮‍💨",eSe="😮",tSe="😯",nSe="😰",rSe="😱",iSe="😲",sSe="😳",oSe="😴",aSe="😵‍💫",lSe="😵",cSe="😶‍🌫️",uSe="😶",hSe="😷",dSe="😸",fSe="😹",pSe="😺",gSe="😻",mSe="😼",ySe="😽",bSe="😾",OSe="😿",kSe="🙀",xSe="🙁",wSe="🙂",_Se="🙃",vSe="🙄",SSe="🙅‍♀️",CSe="🙆‍♀️",ESe="🙇‍♂️",TSe="🙈",DSe="🙉",ASe="🙊",MSe="🙋‍♀️",PSe="🙌",$Se="🙍‍♀️",RSe="🙎‍♀️",LSe="🙏",ISe="🚀",NSe="🚁",FSe="🚂",BSe="🚃",QSe="🚄",zSe="🚅",VSe="🚆",WSe="🚇",USe="🚈",jSe="🚉",qSe="🚊",YSe="🚋",ZSe="🚌",XSe="🚍",HSe="🚎",GSe="🚏",KSe="🚐",JSe="🚑",e4e="🚒",t4e="🚓",n4e="🚔",r4e="🚕",i4e="🚖",s4e="🚗",o4e="🚗",a4e="🚘",l4e="🚙",c4e="🚚",u4e="🚛",h4e="🚜",d4e="🚝",f4e="🚞",p4e="🚟",g4e="🚠",m4e="🚡",y4e="🚢",b4e="🚣‍♂️",O4e="🚤",k4e="🚥",x4e="🚦",w4e="🚧",_4e="🚨",v4e="🚩",S4e="🚪",C4e="🚫",E4e="🚬",T4e="🚭",D4e="🚮",A4e="🚯",M4e="🚰",P4e="🚲",$4e="🚳",R4e="🚴‍♂️",L4e="🚵‍♂️",I4e="🚶‍♂️",N4e="🚷",F4e="🚸",B4e="🚹",Q4e="🚺",z4e="🚻",V4e="🚼",W4e="🚽",U4e="🚾",j4e="🚿",q4e="🛀",Y4e="🛁",Z4e="🛂",X4e="🛃",H4e="🛄",G4e="🛅",K4e="🛋️",J4e="🛌",eCe="🛍️",tCe="🛎️",nCe="🛏️",rCe="🛐",iCe="🛑",sCe="🛒",oCe="🛕",aCe="🛖",lCe="🛗",cCe="🛠️",uCe="🛡️",hCe="🛢️",dCe="🛣️",fCe="🛤️",pCe="🛥️",gCe="🛩️",mCe="🛫",yCe="🛬",bCe="🛰️",OCe="🛳️",kCe="🛴",xCe="🛵",wCe="🛶",_Ce="🛷",vCe="🛸",SCe="🛹",CCe="🛺",ECe="🛻",TCe="🛼",DCe="🟠",ACe="🟡",MCe="🟢",PCe="🟣",$Ce="🟤",RCe="🟥",LCe="🟦",ICe="🟧",NCe="🟨",FCe="🟩",BCe="🟪",QCe="🟫",zCe="🤌",VCe="🤍",WCe="🤎",UCe="🤏",jCe="🤐",qCe="🤑",YCe="🤒",ZCe="🤓",XCe="🤔",HCe="🤕",GCe="🤖",KCe="🤗",JCe="🤘",e5e="🤘",t5e="🤙",n5e="🤚",r5e="🤝",i5e="🤞",s5e="🤞",o5e="🤟",a5e="🤠",l5e="🤡",c5e="🤢",u5e="🤣",h5e="🤤",d5e="🤥",f5e="🤦",p5e="🤧",g5e="🤨",m5e="🤨",y5e="🤩",b5e="🤪",O5e="🤪",k5e="🤫",x5e="🤫",w5e="🤬",_5e="🤬",v5e="🤭",S5e="🤭",C5e="🤮",E5e="🤮",T5e="🤯",D5e="🤯",A5e="🤰",M5e="🤲",P5e="🤳",$5e="🤴",R5e="🤵‍♀️",L5e="🤵‍♂️",I5e="🤵",N5e="🤶",F5e="🤶",B5e="🤷",Q5e="🤸",z5e="🤹",V5e="🤺",W5e="🤼",U5e="🤽",j5e="🤾",q5e="🤿",Y5e="🥀",Z5e="🥁",X5e="🥂",H5e="🥃",G5e="🥄",K5e="🥅",J5e="🥇",eEe="🥈",tEe="🥉",nEe="🥊",rEe="🥋",iEe="🥌",sEe="🥍",oEe="🥎",aEe="🥏",lEe="🥐",cEe="🥑",uEe="🥒",hEe="🥓",dEe="🥔",fEe="🥕",pEe="🥖",gEe="🥗",mEe="🥘",yEe="🥙",bEe="🥚",OEe="🥛",kEe="🥜",xEe="🥝",wEe="🥞",_Ee="🥟",vEe="🥠",SEe="🥡",CEe="🥢",EEe="🥣",TEe="🥤",DEe="🥥",AEe="🥦",MEe="🥧",PEe="🥨",$Ee="🥩",REe="🥪",LEe="🥫",IEe="🥬",NEe="🥭",FEe="🥮",BEe="🥯",QEe="🥰",zEe="🥱",VEe="🥲",WEe="🥳",UEe="🥴",jEe="🥵",qEe="🥶",YEe="🥷",ZEe="🥸",XEe="🥺",HEe="🥻",GEe="🥼",KEe="🥽",JEe="🥾",eTe="🥿",tTe="🦀",nTe="🦁",rTe="🦂",iTe="🦃",sTe="🦄",oTe="🦅",aTe="🦆",lTe="🦇",cTe="🦈",uTe="🦉",hTe="🦊",dTe="🦋",fTe="🦌",pTe="🦍",gTe="🦎",mTe="🦏",yTe="🦐",bTe="🦑",OTe="🦒",kTe="🦓",xTe="🦔",wTe="🦕",_Te="🦗",vTe="🦘",STe="🦙",CTe="🦚",ETe="🦛",TTe="🦜",DTe="🦝",ATe="🦞",MTe="🦟",PTe="🦠",$Te="🦡",RTe="🦢",LTe="🦣",ITe="🦤",NTe="🦥",FTe="🦦",BTe="🦧",QTe="🦨",zTe="🦩",VTe="🦪",WTe="🦫",UTe="🦬",jTe="🦭",qTe="🦮",YTe="🦯",ZTe="🦴",XTe="🦵",HTe="🦶",GTe="🦷",KTe="🦸‍♀️",JTe="🦸‍♂️",eDe="🦸",tDe="🦹‍♀️",nDe="🦹‍♂️",rDe="🦹",iDe="🦺",sDe="🦻",oDe="🦼",aDe="🦽",lDe="🦾",cDe="🦿",uDe="🧀",hDe="🧁",dDe="🧂",fDe="🧃",pDe="🧄",gDe="🧅",mDe="🧆",yDe="🧇",bDe="🧈",ODe="🧉",kDe="🧊",xDe="🧋",wDe="🧍‍♀️",_De="🧍‍♂️",vDe="🧍",SDe="🧎‍♀️",CDe="🧎‍♂️",EDe="🧎",TDe="🧏‍♀️",DDe="🧏‍♂️",ADe="🧏",MDe="🧐",PDe="🧑‍🌾",$De="🧑‍🍳",RDe="🧑‍🍼",LDe="🧑‍🎄",IDe="🧑‍🎓",NDe="🧑‍🎤",FDe="🧑‍🎨",BDe="🧑‍🏫",QDe="🧑‍🏭",zDe="🧑‍💻",VDe="🧑‍💼",WDe="🧑‍🔧",UDe="🧑‍🔬",jDe="🧑‍🚀",qDe="🧑‍🚒",YDe="🧑‍🤝‍🧑",ZDe="🧑‍🦯",XDe="🧑‍🦰",HDe="🧑‍🦱",GDe="🧑‍🦲",KDe="🧑‍🦳",JDe="🧑‍🦼",e6e="🧑‍🦽",t6e="🧑‍⚕️",n6e="🧑‍⚖️",r6e="🧑‍✈️",i6e="🧑",s6e="🧒",o6e="🧓",a6e="🧔‍♀️",l6e="🧔‍♂️",c6e="🧔",u6e="🧕",h6e="🧖‍♀️",d6e="🧖‍♂️",f6e="🧖‍♂️",p6e="🧗‍♀️",g6e="🧗‍♀️",m6e="🧗‍♂️",y6e="🧘‍♀️",b6e="🧘‍♀️",O6e="🧘‍♂️",k6e="🧙‍♀️",x6e="🧙‍♀️",w6e="🧙‍♂️",_6e="🧚‍♀️",v6e="🧚‍♀️",S6e="🧚‍♂️",C6e="🧛‍♀️",E6e="🧛‍♀️",T6e="🧛‍♂️",D6e="🧜‍♀️",A6e="🧜‍♂️",M6e="🧜‍♂️",P6e="🧝‍♀️",$6e="🧝‍♂️",R6e="🧝‍♂️",L6e="🧞‍♀️",I6e="🧞‍♂️",N6e="🧞‍♂️",F6e="🧟‍♀️",B6e="🧟‍♂️",Q6e="🧟‍♂️",z6e="🧠",V6e="🧡",W6e="🧢",U6e="🧣",j6e="🧤",q6e="🧥",Y6e="🧦",Z6e="🧧",X6e="🧨",H6e="🧩",G6e="🧪",K6e="🧫",J6e="🧬",eAe="🧭",tAe="🧮",nAe="🧯",rAe="🧰",iAe="🧱",sAe="🧲",oAe="🧳",aAe="🧴",lAe="🧵",cAe="🧶",uAe="🧷",hAe="🧸",dAe="🧹",fAe="🧺",pAe="🧻",gAe="🧼",mAe="🧽",yAe="🧾",bAe="🧿",OAe="🩰",kAe="🩲",xAe="🩳",wAe="🩴",_Ae="🩸",vAe="🩹",SAe="🩺",CAe="🪁",EAe="🪂",TAe="🪃",DAe="🪄",AAe="🪅",MAe="🪆",PAe="🪐",$Ae="🪑",RAe="🪒",LAe="🪓",IAe="🪔",NAe="🪕",FAe="🪖",BAe="🪗",QAe="🪘",zAe="🪙",VAe="🪚",WAe="🪛",UAe="🪜",jAe="🪝",qAe="🪞",YAe="🪟",ZAe="🪠",XAe="🪡",HAe="🪢",GAe="🪣",KAe="🪤",JAe="🪥",e8e="🪦",t8e="🪧",n8e="🪨",r8e="🪰",i8e="🪱",s8e="🪲",o8e="🪳",a8e="🪴",l8e="🪵",c8e="🪶",u8e="🫀",h8e="🫁",d8e="🫂",f8e="🫐",p8e="🫑",g8e="🫒",m8e="🫓",y8e="🫔",b8e="🫕",O8e="🫖",k8e="‼️",x8e="⁉️",w8e="™️",_8e="ℹ️",v8e="↔️",S8e="↕️",C8e="↖️",E8e="↗️",T8e="↘️",D8e="↙️",A8e="↩️",M8e="↪️",P8e="⌚",$8e="⌛",R8e="⌨️",L8e="⏏️",I8e="⏩",N8e="⏪",F8e="⏫",B8e="⏬",Q8e="⏭️",z8e="⏮️",V8e="⏯️",W8e="⏰",U8e="⏱️",j8e="⏲️",q8e="⏳",Y8e="⏸️",Z8e="⏹️",X8e="⏺️",H8e="Ⓜ️",G8e="▪️",K8e="▫️",J8e="▶️",e7e="◀️",t7e="◻️",n7e="◼️",r7e="◽",i7e="◾",s7e="☀️",o7e="☁️",a7e="☂️",l7e="☃️",c7e="☄️",u7e="☎️",h7e="☎️",d7e="☑️",f7e="☘️",p7e="☝️",g7e="☠️",m7e="☢️",y7e="☣️",b7e="☦️",O7e="☪️",k7e="☮️",x7e="☯️",w7e="☸️",_7e="☹️",v7e="☺️",S7e="♀️",C7e="♂️",E7e="♊",T7e="♋",D7e="♌",A7e="♍",M7e="♎",P7e="♏",$7e="♟️",R7e="♠️",L7e="♣️",I7e="♥️",N7e="♦️",F7e="♨️",B7e="♻️",Q7e="♾️",z7e="♿",V7e="⚒️",W7e="⚔️",U7e="⚕️",j7e="⚕️",q7e="⚖️",Y7e="⚗️",Z7e="⚙️",X7e="⚛️",H7e="⚜️",G7e="⚠️",K7e="⚡",J7e="⚧️",eMe="⚪",tMe="⚫",nMe="⚰️",rMe="⚱️",iMe="⚽",sMe="⚾",oMe="⛄",aMe="⛅",lMe="⛈️",cMe="⛎",uMe="⛏️",hMe="⛑️",dMe="⛓️",fMe="⛔",pMe="⛩️",gMe="⛪",mMe="⛰️",yMe="⛱️",bMe="⛲",OMe="⛳",kMe="⛴️",xMe="⛵",wMe="⛵",_Me="⛷️",vMe="⛸️",SMe="⛹️‍♂️",CMe="⛺",EMe="⛽",TMe="✂️",DMe="✈️",AMe="✉️",MMe="✉️",PMe="✊",$Me="✋",RMe="✋",LMe="✌️",IMe="✍️",NMe="✏️",FMe="✒️",BMe="✔️",QMe="✖️",zMe="✝️",VMe="✡️",WMe="✳️",UMe="✴️",jMe="❄️",qMe="❇️",YMe="❌",ZMe="❎",XMe="❣️",HMe="❤️‍🔥",GMe="❤️‍🩹",KMe="❤️",JMe="➡️",ePe="➰",tPe="➿",nPe="⤴️",rPe="⤵️",iPe="⬅️",sPe="⬆️",oPe="⬇️",aPe="⬛",lPe="⬜",cPe="⭐",uPe="⭕",hPe="〰️",dPe="〽️",fPe="㊗️",pPe="㊙️",gPe={100:"💯",1234:"🔢",umbrella_with_rain_drops:hpe,coffee:dpe,aries:fpe,taurus:ppe,sagittarius:gpe,capricorn:mpe,aquarius:ype,pisces:bpe,anchor:Ope,white_check_mark:kpe,sparkles:xpe,question:wpe,grey_question:_pe,grey_exclamation:vpe,exclamation:Spe,heavy_exclamation_mark:Cpe,heavy_plus_sign:Epe,heavy_minus_sign:Tpe,heavy_division_sign:Dpe,hash:Ape,keycap_star:Mpe,zero:Ppe,one:$pe,two:Rpe,three:Lpe,four:Ipe,five:Npe,six:Fpe,seven:Bpe,eight:Qpe,nine:zpe,copyright:Vpe,registered:Wpe,mahjong:Upe,black_joker:jpe,a:qpe,b:Ype,o2:Zpe,parking:Xpe,ab:Hpe,cl:Gpe,cool:Kpe,free:Jpe,id:ege,new:"🆕",ng:tge,ok:nge,sos:rge,up:ige,vs:sge,"flag-ac":"🇦🇨","flag-ad":"🇦🇩","flag-ae":"🇦🇪","flag-af":"🇦🇫","flag-ag":"🇦🇬","flag-ai":"🇦🇮","flag-al":"🇦🇱","flag-am":"🇦🇲","flag-ao":"🇦🇴","flag-aq":"🇦🇶","flag-ar":"🇦🇷","flag-as":"🇦🇸","flag-at":"🇦🇹","flag-au":"🇦🇺","flag-aw":"🇦🇼","flag-ax":"🇦🇽","flag-az":"🇦🇿","flag-ba":"🇧🇦","flag-bb":"🇧🇧","flag-bd":"🇧🇩","flag-be":"🇧🇪","flag-bf":"🇧🇫","flag-bg":"🇧🇬","flag-bh":"🇧🇭","flag-bi":"🇧🇮","flag-bj":"🇧🇯","flag-bl":"🇧🇱","flag-bm":"🇧🇲","flag-bn":"🇧🇳","flag-bo":"🇧🇴","flag-bq":"🇧🇶","flag-br":"🇧🇷","flag-bs":"🇧🇸","flag-bt":"🇧🇹","flag-bv":"🇧🇻","flag-bw":"🇧🇼","flag-by":"🇧🇾","flag-bz":"🇧🇿","flag-ca":"🇨🇦","flag-cc":"🇨🇨","flag-cd":"🇨🇩","flag-cf":"🇨🇫","flag-cg":"🇨🇬","flag-ch":"🇨🇭","flag-ci":"🇨🇮","flag-ck":"🇨🇰","flag-cl":"🇨🇱","flag-cm":"🇨🇲",cn:oge,"flag-cn":"🇨🇳","flag-co":"🇨🇴","flag-cp":"🇨🇵","flag-cr":"🇨🇷","flag-cu":"🇨🇺","flag-cv":"🇨🇻","flag-cw":"🇨🇼","flag-cx":"🇨🇽","flag-cy":"🇨🇾","flag-cz":"🇨🇿",de:age,"flag-de":"🇩🇪","flag-dg":"🇩🇬","flag-dj":"🇩🇯","flag-dk":"🇩🇰","flag-dm":"🇩🇲","flag-do":"🇩🇴","flag-dz":"🇩🇿","flag-ea":"🇪🇦","flag-ec":"🇪🇨","flag-ee":"🇪🇪","flag-eg":"🇪🇬","flag-eh":"🇪🇭","flag-er":"🇪🇷",es:lge,"flag-es":"🇪🇸","flag-et":"🇪🇹","flag-eu":"🇪🇺","flag-fi":"🇫🇮","flag-fj":"🇫🇯","flag-fk":"🇫🇰","flag-fm":"🇫🇲","flag-fo":"🇫🇴",fr:cge,"flag-fr":"🇫🇷","flag-ga":"🇬🇦",gb:uge,uk:hge,"flag-gb":"🇬🇧","flag-gd":"🇬🇩","flag-ge":"🇬🇪","flag-gf":"🇬🇫","flag-gg":"🇬🇬","flag-gh":"🇬🇭","flag-gi":"🇬🇮","flag-gl":"🇬🇱","flag-gm":"🇬🇲","flag-gn":"🇬🇳","flag-gp":"🇬🇵","flag-gq":"🇬🇶","flag-gr":"🇬🇷","flag-gs":"🇬🇸","flag-gt":"🇬🇹","flag-gu":"🇬🇺","flag-gw":"🇬🇼","flag-gy":"🇬🇾","flag-hk":"🇭🇰","flag-hm":"🇭🇲","flag-hn":"🇭🇳","flag-hr":"🇭🇷","flag-ht":"🇭🇹","flag-hu":"🇭🇺","flag-ic":"🇮🇨","flag-id":"🇮🇩","flag-ie":"🇮🇪","flag-il":"🇮🇱","flag-im":"🇮🇲","flag-in":"🇮🇳","flag-io":"🇮🇴","flag-iq":"🇮🇶","flag-ir":"🇮🇷","flag-is":"🇮🇸",it:dge,"flag-it":"🇮🇹","flag-je":"🇯🇪","flag-jm":"🇯🇲","flag-jo":"🇯🇴",jp:fge,"flag-jp":"🇯🇵","flag-ke":"🇰🇪","flag-kg":"🇰🇬","flag-kh":"🇰🇭","flag-ki":"🇰🇮","flag-km":"🇰🇲","flag-kn":"🇰🇳","flag-kp":"🇰🇵",kr:pge,"flag-kr":"🇰🇷","flag-kw":"🇰🇼","flag-ky":"🇰🇾","flag-kz":"🇰🇿","flag-la":"🇱🇦","flag-lb":"🇱🇧","flag-lc":"🇱🇨","flag-li":"🇱🇮","flag-lk":"🇱🇰","flag-lr":"🇱🇷","flag-ls":"🇱🇸","flag-lt":"🇱🇹","flag-lu":"🇱🇺","flag-lv":"🇱🇻","flag-ly":"🇱🇾","flag-ma":"🇲🇦","flag-mc":"🇲🇨","flag-md":"🇲🇩","flag-me":"🇲🇪","flag-mf":"🇲🇫","flag-mg":"🇲🇬","flag-mh":"🇲🇭","flag-mk":"🇲🇰","flag-ml":"🇲🇱","flag-mm":"🇲🇲","flag-mn":"🇲🇳","flag-mo":"🇲🇴","flag-mp":"🇲🇵","flag-mq":"🇲🇶","flag-mr":"🇲🇷","flag-ms":"🇲🇸","flag-mt":"🇲🇹","flag-mu":"🇲🇺","flag-mv":"🇲🇻","flag-mw":"🇲🇼","flag-mx":"🇲🇽","flag-my":"🇲🇾","flag-mz":"🇲🇿","flag-na":"🇳🇦","flag-nc":"🇳🇨","flag-ne":"🇳🇪","flag-nf":"🇳🇫","flag-ng":"🇳🇬","flag-ni":"🇳🇮","flag-nl":"🇳🇱","flag-no":"🇳🇴","flag-np":"🇳🇵","flag-nr":"🇳🇷","flag-nu":"🇳🇺","flag-nz":"🇳🇿","flag-om":"🇴🇲","flag-pa":"🇵🇦","flag-pe":"🇵🇪","flag-pf":"🇵🇫","flag-pg":"🇵🇬","flag-ph":"🇵🇭","flag-pk":"🇵🇰","flag-pl":"🇵🇱","flag-pm":"🇵🇲","flag-pn":"🇵🇳","flag-pr":"🇵🇷","flag-ps":"🇵🇸","flag-pt":"🇵🇹","flag-pw":"🇵🇼","flag-py":"🇵🇾","flag-qa":"🇶🇦","flag-re":"🇷🇪","flag-ro":"🇷🇴","flag-rs":"🇷🇸",ru:gge,"flag-ru":"🇷🇺","flag-rw":"🇷🇼","flag-sa":"🇸🇦","flag-sb":"🇸🇧","flag-sc":"🇸🇨","flag-sd":"🇸🇩","flag-se":"🇸🇪","flag-sg":"🇸🇬","flag-sh":"🇸🇭","flag-si":"🇸🇮","flag-sj":"🇸🇯","flag-sk":"🇸🇰","flag-sl":"🇸🇱","flag-sm":"🇸🇲","flag-sn":"🇸🇳","flag-so":"🇸🇴","flag-sr":"🇸🇷","flag-ss":"🇸🇸","flag-st":"🇸🇹","flag-sv":"🇸🇻","flag-sx":"🇸🇽","flag-sy":"🇸🇾","flag-sz":"🇸🇿","flag-ta":"🇹🇦","flag-tc":"🇹🇨","flag-td":"🇹🇩","flag-tf":"🇹🇫","flag-tg":"🇹🇬","flag-th":"🇹🇭","flag-tj":"🇹🇯","flag-tk":"🇹🇰","flag-tl":"🇹🇱","flag-tm":"🇹🇲","flag-tn":"🇹🇳","flag-to":"🇹🇴","flag-tr":"🇹🇷","flag-tt":"🇹🇹","flag-tv":"🇹🇻","flag-tw":"🇹🇼","flag-tz":"🇹🇿","flag-ua":"🇺🇦","flag-ug":"🇺🇬","flag-um":"🇺🇲","flag-un":"🇺🇳",us:mge,"flag-us":"🇺🇸","flag-uy":"🇺🇾","flag-uz":"🇺🇿","flag-va":"🇻🇦","flag-vc":"🇻🇨","flag-ve":"🇻🇪","flag-vg":"🇻🇬","flag-vi":"🇻🇮","flag-vn":"🇻🇳","flag-vu":"🇻🇺","flag-wf":"🇼🇫","flag-ws":"🇼🇸","flag-xk":"🇽🇰","flag-ye":"🇾🇪","flag-yt":"🇾🇹","flag-za":"🇿🇦","flag-zm":"🇿🇲","flag-zw":"🇿🇼",koko:yge,sa:bge,u7121:Oge,u6307:kge,u7981:xge,u7a7a:wge,u5408:_ge,u6e80:vge,u6709:Sge,u6708:Cge,u7533:Ege,u5272:Tge,u55b6:Dge,ideograph_advantage:Age,accept:Mge,cyclone:Pge,foggy:$ge,closed_umbrella:Rge,night_with_stars:Lge,sunrise_over_mountains:Ige,sunrise:Nge,city_sunset:Fge,city_sunrise:Bge,rainbow:Qge,bridge_at_night:zge,ocean:Vge,volcano:Wge,milky_way:Uge,earth_africa:jge,earth_americas:qge,earth_asia:Yge,globe_with_meridians:Zge,new_moon:Xge,waxing_crescent_moon:Hge,first_quarter_moon:Gge,moon:Kge,waxing_gibbous_moon:Jge,full_moon:eme,waning_gibbous_moon:tme,last_quarter_moon:nme,waning_crescent_moon:rme,crescent_moon:ime,new_moon_with_face:sme,first_quarter_moon_with_face:ome,last_quarter_moon_with_face:ame,full_moon_with_face:lme,sun_with_face:cme,star2:ume,stars:hme,thermometer:dme,mostly_sunny:fme,sun_small_cloud:pme,barely_sunny:gme,sun_behind_cloud:mme,partly_sunny_rain:yme,sun_behind_rain_cloud:bme,rain_cloud:Ome,snow_cloud:kme,lightning:xme,lightning_cloud:wme,tornado:_me,tornado_cloud:vme,fog:Sme,wind_blowing_face:Cme,hotdog:Eme,taco:Tme,burrito:Dme,chestnut:Ame,seedling:Mme,evergreen_tree:Pme,deciduous_tree:$me,palm_tree:Rme,cactus:Lme,hot_pepper:Ime,tulip:Nme,cherry_blossom:Fme,rose:Bme,hibiscus:Qme,sunflower:zme,blossom:Vme,corn:Wme,ear_of_rice:Ume,herb:jme,four_leaf_clover:qme,maple_leaf:Yme,fallen_leaf:Zme,leaves:Xme,mushroom:Hme,tomato:Gme,eggplant:Kme,grapes:Jme,melon:e0e,watermelon:t0e,tangerine:n0e,lemon:r0e,banana:i0e,pineapple:s0e,apple:o0e,green_apple:a0e,pear:l0e,peach:c0e,cherries:u0e,strawberry:h0e,hamburger:d0e,pizza:f0e,meat_on_bone:p0e,poultry_leg:g0e,rice_cracker:m0e,rice_ball:y0e,rice:b0e,curry:O0e,ramen:k0e,spaghetti:x0e,bread:w0e,fries:_0e,sweet_potato:v0e,dango:S0e,oden:C0e,sushi:E0e,fried_shrimp:T0e,fish_cake:D0e,icecream:A0e,shaved_ice:M0e,ice_cream:P0e,doughnut:$0e,cookie:R0e,chocolate_bar:L0e,candy:I0e,lollipop:N0e,custard:F0e,honey_pot:B0e,cake:Q0e,bento:z0e,stew:V0e,fried_egg:W0e,cooking:U0e,fork_and_knife:j0e,tea:q0e,sake:Y0e,wine_glass:Z0e,cocktail:X0e,tropical_drink:H0e,beer:G0e,beers:K0e,baby_bottle:J0e,knife_fork_plate:e1e,champagne:t1e,popcorn:n1e,ribbon:r1e,gift:i1e,birthday:s1e,jack_o_lantern:o1e,christmas_tree:a1e,santa:l1e,fireworks:c1e,sparkler:u1e,balloon:h1e,tada:d1e,confetti_ball:f1e,tanabata_tree:p1e,crossed_flags:g1e,bamboo:m1e,dolls:y1e,flags:b1e,wind_chime:O1e,rice_scene:k1e,school_satchel:x1e,mortar_board:w1e,medal:_1e,reminder_ribbon:v1e,studio_microphone:S1e,level_slider:C1e,control_knobs:E1e,film_frames:T1e,admission_tickets:D1e,carousel_horse:A1e,ferris_wheel:M1e,roller_coaster:P1e,fishing_pole_and_fish:$1e,microphone:R1e,movie_camera:L1e,cinema:I1e,headphones:N1e,art:F1e,tophat:B1e,circus_tent:Q1e,ticket:z1e,clapper:V1e,performing_arts:W1e,video_game:U1e,dart:j1e,slot_machine:q1e,"8ball":"🎱",game_die:Y1e,bowling:Z1e,flower_playing_cards:X1e,musical_note:H1e,notes:G1e,saxophone:K1e,guitar:J1e,musical_keyboard:eye,trumpet:tye,violin:nye,musical_score:rye,running_shirt_with_sash:iye,tennis:sye,ski:oye,basketball:aye,checkered_flag:lye,snowboarder:cye,"woman-running":"🏃‍♀️","man-running":"🏃‍♂️",runner:uye,running:hye,"woman-surfing":"🏄‍♀️","man-surfing":"🏄‍♂️",surfer:dye,sports_medal:fye,trophy:pye,horse_racing:gye,football:mye,rugby_football:yye,"woman-swimming":"🏊‍♀️","man-swimming":"🏊‍♂️",swimmer:bye,"woman-lifting-weights":"🏋️‍♀️","man-lifting-weights":"🏋️‍♂️",weight_lifter:Oye,"woman-golfing":"🏌️‍♀️","man-golfing":"🏌️‍♂️",golfer:kye,racing_motorcycle:xye,racing_car:wye,cricket_bat_and_ball:_ye,volleyball:vye,field_hockey_stick_and_ball:Sye,ice_hockey_stick_and_puck:Cye,table_tennis_paddle_and_ball:Eye,snow_capped_mountain:Tye,camping:Dye,beach_with_umbrella:Aye,building_construction:Mye,house_buildings:Pye,cityscape:$ye,derelict_house_building:Rye,classical_building:Lye,desert:Iye,desert_island:Nye,national_park:Fye,stadium:Bye,house:Qye,house_with_garden:zye,office:Vye,post_office:Wye,european_post_office:Uye,hospital:jye,bank:qye,atm:Yye,hotel:Zye,love_hotel:Xye,convenience_store:Hye,school:Gye,department_store:Kye,factory:Jye,izakaya_lantern:ebe,lantern:tbe,japanese_castle:nbe,european_castle:rbe,"rainbow-flag":"🏳️‍🌈",transgender_flag:ibe,waving_white_flag:sbe,pirate_flag:obe,"flag-england":"🏴󠁧󠁢󠁥󠁮󠁧󠁿","flag-scotland":"🏴󠁧󠁢󠁳󠁣󠁴󠁿","flag-wales":"🏴󠁧󠁢󠁷󠁬󠁳󠁿",waving_black_flag:abe,rosette:lbe,label:cbe,badminton_racquet_and_shuttlecock:ube,bow_and_arrow:hbe,amphora:dbe,"skin-tone-2":"🏻","skin-tone-3":"🏼","skin-tone-4":"🏽","skin-tone-5":"🏾","skin-tone-6":"🏿",rat:fbe,mouse2:pbe,ox:gbe,water_buffalo:mbe,cow2:ybe,tiger2:bbe,leopard:Obe,rabbit2:kbe,black_cat:xbe,cat2:wbe,dragon:_be,crocodile:vbe,whale2:Sbe,snail:Cbe,snake:Ebe,racehorse:Tbe,ram:Dbe,goat:Abe,sheep:Mbe,monkey:Pbe,rooster:$be,chicken:Rbe,service_dog:Lbe,dog2:Ibe,pig2:Nbe,boar:Fbe,elephant:Bbe,octopus:Qbe,shell:zbe,bug:Vbe,ant:Wbe,bee:Ube,honeybee:jbe,ladybug:qbe,lady_beetle:Ybe,fish:Zbe,tropical_fish:Xbe,blowfish:Hbe,turtle:Gbe,hatching_chick:Kbe,baby_chick:Jbe,hatched_chick:e2e,bird:t2e,penguin:n2e,koala:r2e,poodle:i2e,dromedary_camel:s2e,camel:o2e,dolphin:a2e,flipper:l2e,mouse:c2e,cow:u2e,tiger:h2e,rabbit:d2e,cat:f2e,dragon_face:p2e,whale:g2e,horse:m2e,monkey_face:y2e,dog:b2e,pig:O2e,frog:k2e,hamster:x2e,wolf:w2e,polar_bear:_2e,bear:v2e,panda_face:S2e,pig_nose:C2e,feet:E2e,paw_prints:T2e,chipmunk:D2e,eyes:A2e,"eye-in-speech-bubble":"👁️‍🗨️",eye:M2e,ear:P2e,nose:$2e,lips:R2e,tongue:L2e,point_up_2:I2e,point_down:N2e,point_left:F2e,point_right:B2e,facepunch:Q2e,punch:z2e,wave:V2e,ok_hand:W2e,"+1":"👍",thumbsup:U2e,"-1":"👎",thumbsdown:j2e,clap:q2e,open_hands:Y2e,crown:Z2e,womans_hat:X2e,eyeglasses:H2e,necktie:G2e,shirt:K2e,tshirt:J2e,jeans:eOe,dress:tOe,kimono:nOe,bikini:rOe,womans_clothes:iOe,purse:sOe,handbag:oOe,pouch:aOe,mans_shoe:lOe,shoe:cOe,athletic_shoe:uOe,high_heel:hOe,sandal:dOe,boot:fOe,footprints:pOe,bust_in_silhouette:gOe,busts_in_silhouette:mOe,boy:yOe,girl:bOe,"male-farmer":"👨‍🌾","male-cook":"👨‍🍳",man_feeding_baby:OOe,"male-student":"👨‍🎓","male-singer":"👨‍🎤","male-artist":"👨‍🎨","male-teacher":"👨‍🏫","male-factory-worker":"👨‍🏭","man-boy-boy":"👨‍👦‍👦","man-boy":"👨‍👦","man-girl-boy":"👨‍👧‍👦","man-girl-girl":"👨‍👧‍👧","man-girl":"👨‍👧","man-man-boy":"👨‍👨‍👦","man-man-boy-boy":"👨‍👨‍👦‍👦","man-man-girl":"👨‍👨‍👧","man-man-girl-boy":"👨‍👨‍👧‍👦","man-man-girl-girl":"👨‍👨‍👧‍👧","man-woman-boy":"👨‍👩‍👦",family:kOe,"man-woman-boy-boy":"👨‍👩‍👦‍👦","man-woman-girl":"👨‍👩‍👧","man-woman-girl-boy":"👨‍👩‍👧‍👦","man-woman-girl-girl":"👨‍👩‍👧‍👧","male-technologist":"👨‍💻","male-office-worker":"👨‍💼","male-mechanic":"👨‍🔧","male-scientist":"👨‍🔬","male-astronaut":"👨‍🚀","male-firefighter":"👨‍🚒",man_with_probing_cane:xOe,red_haired_man:wOe,curly_haired_man:_Oe,bald_man:vOe,white_haired_man:SOe,man_in_motorized_wheelchair:COe,man_in_manual_wheelchair:EOe,"male-doctor":"👨‍⚕️","male-judge":"👨‍⚖️","male-pilot":"👨‍✈️","man-heart-man":"👨‍❤️‍👨","man-kiss-man":"👨‍❤️‍💋‍👨",man:TOe,"female-farmer":"👩‍🌾","female-cook":"👩‍🍳",woman_feeding_baby:DOe,"female-student":"👩‍🎓","female-singer":"👩‍🎤","female-artist":"👩‍🎨","female-teacher":"👩‍🏫","female-factory-worker":"👩‍🏭","woman-boy-boy":"👩‍👦‍👦","woman-boy":"👩‍👦","woman-girl-boy":"👩‍👧‍👦","woman-girl-girl":"👩‍👧‍👧","woman-girl":"👩‍👧","woman-woman-boy":"👩‍👩‍👦","woman-woman-boy-boy":"👩‍👩‍👦‍👦","woman-woman-girl":"👩‍👩‍👧","woman-woman-girl-boy":"👩‍👩‍👧‍👦","woman-woman-girl-girl":"👩‍👩‍👧‍👧","female-technologist":"👩‍💻","female-office-worker":"👩‍💼","female-mechanic":"👩‍🔧","female-scientist":"👩‍🔬","female-astronaut":"👩‍🚀","female-firefighter":"👩‍🚒",woman_with_probing_cane:AOe,red_haired_woman:MOe,curly_haired_woman:POe,bald_woman:$Oe,white_haired_woman:ROe,woman_in_motorized_wheelchair:LOe,woman_in_manual_wheelchair:IOe,"female-doctor":"👩‍⚕️","female-judge":"👩‍⚖️","female-pilot":"👩‍✈️","woman-heart-man":"👩‍❤️‍👨","woman-heart-woman":"👩‍❤️‍👩","woman-kiss-man":"👩‍❤️‍💋‍👨","woman-kiss-woman":"👩‍❤️‍💋‍👩",woman:NOe,man_and_woman_holding_hands:FOe,woman_and_man_holding_hands:BOe,couple:QOe,two_men_holding_hands:zOe,men_holding_hands:VOe,two_women_holding_hands:WOe,women_holding_hands:UOe,"female-police-officer":"👮‍♀️","male-police-officer":"👮‍♂️",cop:jOe,"women-with-bunny-ears-partying":"👯‍♀️","woman-with-bunny-ears-partying":"👯‍♀️",dancers:qOe,"men-with-bunny-ears-partying":"👯‍♂️","man-with-bunny-ears-partying":"👯‍♂️",woman_with_veil:YOe,man_with_veil:ZOe,bride_with_veil:XOe,"blond-haired-woman":"👱‍♀️","blond-haired-man":"👱‍♂️",person_with_blond_hair:HOe,man_with_gua_pi_mao:GOe,"woman-wearing-turban":"👳‍♀️","man-wearing-turban":"👳‍♂️",man_with_turban:KOe,older_man:JOe,older_woman:eke,baby:tke,"female-construction-worker":"👷‍♀️","male-construction-worker":"👷‍♂️",construction_worker:nke,princess:rke,japanese_ogre:ike,japanese_goblin:ske,ghost:oke,angel:ake,alien:lke,space_invader:cke,imp:uke,skull:hke,"woman-tipping-hand":"💁‍♀️",information_desk_person:dke,"man-tipping-hand":"💁‍♂️","female-guard":"💂‍♀️","male-guard":"💂‍♂️",guardsman:fke,dancer:pke,lipstick:gke,nail_care:mke,"woman-getting-massage":"💆‍♀️",massage:yke,"man-getting-massage":"💆‍♂️","woman-getting-haircut":"💇‍♀️",haircut:bke,"man-getting-haircut":"💇‍♂️",barber:Oke,syringe:kke,pill:xke,kiss:wke,love_letter:_ke,ring:vke,gem:Ske,couplekiss:Cke,bouquet:Eke,couple_with_heart:Tke,wedding:Dke,heartbeat:Ake,broken_heart:Mke,two_hearts:Pke,sparkling_heart:$ke,heartpulse:Rke,cupid:Lke,blue_heart:Ike,green_heart:Nke,yellow_heart:Fke,purple_heart:Bke,gift_heart:Qke,revolving_hearts:zke,heart_decoration:Vke,diamond_shape_with_a_dot_inside:Wke,bulb:Uke,anger:jke,bomb:qke,zzz:Yke,boom:Zke,collision:Xke,sweat_drops:Hke,droplet:Gke,dash:Kke,hankey:Jke,poop:exe,shit:txe,muscle:nxe,dizzy:rxe,speech_balloon:ixe,thought_balloon:sxe,white_flower:oxe,moneybag:axe,currency_exchange:lxe,heavy_dollar_sign:cxe,credit_card:uxe,yen:hxe,dollar:dxe,euro:fxe,pound:pxe,money_with_wings:gxe,chart:mxe,seat:yxe,computer:bxe,briefcase:Oxe,minidisc:kxe,floppy_disk:xxe,cd:wxe,dvd:_xe,file_folder:vxe,open_file_folder:Sxe,page_with_curl:Cxe,page_facing_up:Exe,date:Txe,calendar:Dxe,card_index:Axe,chart_with_upwards_trend:Mxe,chart_with_downwards_trend:Pxe,bar_chart:$xe,clipboard:Rxe,pushpin:Lxe,round_pushpin:Ixe,paperclip:Nxe,straight_ruler:Fxe,triangular_ruler:Bxe,bookmark_tabs:Qxe,ledger:zxe,notebook:Vxe,notebook_with_decorative_cover:Wxe,closed_book:Uxe,book:jxe,open_book:qxe,green_book:Yxe,blue_book:Zxe,orange_book:Xxe,books:Hxe,name_badge:Gxe,scroll:Kxe,memo:Jxe,pencil:ewe,telephone_receiver:twe,pager:nwe,fax:rwe,satellite_antenna:iwe,loudspeaker:swe,mega:owe,outbox_tray:awe,inbox_tray:lwe,package:"📦","e-mail":"📧",incoming_envelope:cwe,envelope_with_arrow:uwe,mailbox_closed:hwe,mailbox:dwe,mailbox_with_mail:fwe,mailbox_with_no_mail:pwe,postbox:gwe,postal_horn:mwe,newspaper:ywe,iphone:bwe,calling:Owe,vibration_mode:kwe,mobile_phone_off:xwe,no_mobile_phones:wwe,signal_strength:_we,camera:vwe,camera_with_flash:Swe,video_camera:Cwe,tv:Ewe,radio:Twe,vhs:Dwe,film_projector:Awe,prayer_beads:Mwe,twisted_rightwards_arrows:Pwe,repeat:$we,repeat_one:Rwe,arrows_clockwise:Lwe,arrows_counterclockwise:Iwe,low_brightness:Nwe,high_brightness:Fwe,mute:Bwe,speaker:Qwe,sound:zwe,loud_sound:Vwe,battery:Wwe,electric_plug:Uwe,mag:jwe,mag_right:qwe,lock_with_ink_pen:Ywe,closed_lock_with_key:Zwe,key:Xwe,lock:Hwe,unlock:Gwe,bell:Kwe,no_bell:Jwe,bookmark:e_e,link:t_e,radio_button:n_e,back:r_e,end:i_e,on:s_e,soon:o_e,top:a_e,underage:l_e,keycap_ten:c_e,capital_abcd:u_e,abcd:h_e,symbols:d_e,abc:f_e,fire:p_e,flashlight:g_e,wrench:m_e,hammer:y_e,nut_and_bolt:b_e,hocho:O_e,knife:k_e,gun:x_e,microscope:w_e,telescope:__e,crystal_ball:v_e,six_pointed_star:S_e,beginner:C_e,trident:E_e,black_square_button:T_e,white_square_button:D_e,red_circle:A_e,large_blue_circle:M_e,large_orange_diamond:P_e,large_blue_diamond:$_e,small_orange_diamond:R_e,small_blue_diamond:L_e,small_red_triangle:I_e,small_red_triangle_down:N_e,arrow_up_small:F_e,arrow_down_small:B_e,om_symbol:Q_e,dove_of_peace:z_e,kaaba:V_e,mosque:W_e,synagogue:U_e,menorah_with_nine_branches:j_e,clock1:q_e,clock2:Y_e,clock3:Z_e,clock4:X_e,clock5:H_e,clock6:G_e,clock7:K_e,clock8:J_e,clock9:eve,clock10:tve,clock11:nve,clock12:rve,clock130:ive,clock230:sve,clock330:ove,clock430:ave,clock530:lve,clock630:cve,clock730:uve,clock830:hve,clock930:dve,clock1030:fve,clock1130:pve,clock1230:gve,candle:mve,mantelpiece_clock:yve,hole:bve,man_in_business_suit_levitating:Ove,"female-detective":"🕵️‍♀️","male-detective":"🕵️‍♂️",sleuth_or_spy:kve,dark_sunglasses:xve,spider:wve,spider_web:_ve,joystick:vve,man_dancing:Sve,linked_paperclips:Cve,lower_left_ballpoint_pen:Eve,lower_left_fountain_pen:Tve,lower_left_paintbrush:Dve,lower_left_crayon:Ave,raised_hand_with_fingers_splayed:Mve,middle_finger:Pve,reversed_hand_with_middle_finger_extended:$ve,"spock-hand":"🖖",black_heart:Rve,desktop_computer:Lve,printer:Ive,three_button_mouse:Nve,trackball:Fve,frame_with_picture:Bve,card_index_dividers:Qve,card_file_box:zve,file_cabinet:Vve,wastebasket:Wve,spiral_note_pad:Uve,spiral_calendar_pad:jve,compression:qve,old_key:Yve,rolled_up_newspaper:Zve,dagger_knife:Xve,speaking_head_in_silhouette:Hve,left_speech_bubble:Gve,right_anger_bubble:Kve,ballot_box_with_ballot:Jve,world_map:e3e,mount_fuji:t3e,tokyo_tower:n3e,statue_of_liberty:r3e,japan:i3e,moyai:s3e,grinning:o3e,grin:a3e,joy:l3e,smiley:c3e,smile:u3e,sweat_smile:h3e,laughing:d3e,satisfied:f3e,innocent:p3e,smiling_imp:g3e,wink:m3e,blush:y3e,yum:b3e,relieved:O3e,heart_eyes:k3e,sunglasses:x3e,smirk:w3e,neutral_face:_3e,expressionless:v3e,unamused:S3e,sweat:C3e,pensive:E3e,confused:T3e,confounded:D3e,kissing:A3e,kissing_heart:M3e,kissing_smiling_eyes:P3e,kissing_closed_eyes:$3e,stuck_out_tongue:R3e,stuck_out_tongue_winking_eye:L3e,stuck_out_tongue_closed_eyes:I3e,disappointed:N3e,worried:F3e,angry:B3e,rage:Q3e,cry:z3e,persevere:V3e,triumph:W3e,disappointed_relieved:U3e,frowning:j3e,anguished:q3e,fearful:Y3e,weary:Z3e,sleepy:X3e,tired_face:H3e,grimacing:G3e,sob:K3e,face_exhaling:J3e,open_mouth:eSe,hushed:tSe,cold_sweat:nSe,scream:rSe,astonished:iSe,flushed:sSe,sleeping:oSe,face_with_spiral_eyes:aSe,dizzy_face:lSe,face_in_clouds:cSe,no_mouth:uSe,mask:hSe,smile_cat:dSe,joy_cat:fSe,smiley_cat:pSe,heart_eyes_cat:gSe,smirk_cat:mSe,kissing_cat:ySe,pouting_cat:bSe,crying_cat_face:OSe,scream_cat:kSe,slightly_frowning_face:xSe,slightly_smiling_face:wSe,upside_down_face:_Se,face_with_rolling_eyes:vSe,"woman-gesturing-no":"🙅‍♀️",no_good:SSe,"man-gesturing-no":"🙅‍♂️","woman-gesturing-ok":"🙆‍♀️",ok_woman:CSe,"man-gesturing-ok":"🙆‍♂️","woman-bowing":"🙇‍♀️","man-bowing":"🙇‍♂️",bow:ESe,see_no_evil:TSe,hear_no_evil:DSe,speak_no_evil:ASe,"woman-raising-hand":"🙋‍♀️",raising_hand:MSe,"man-raising-hand":"🙋‍♂️",raised_hands:PSe,"woman-frowning":"🙍‍♀️",person_frowning:$Se,"man-frowning":"🙍‍♂️","woman-pouting":"🙎‍♀️",person_with_pouting_face:RSe,"man-pouting":"🙎‍♂️",pray:LSe,rocket:ISe,helicopter:NSe,steam_locomotive:FSe,railway_car:BSe,bullettrain_side:QSe,bullettrain_front:zSe,train2:VSe,metro:WSe,light_rail:USe,station:jSe,tram:qSe,train:YSe,bus:ZSe,oncoming_bus:XSe,trolleybus:HSe,busstop:GSe,minibus:KSe,ambulance:JSe,fire_engine:e4e,police_car:t4e,oncoming_police_car:n4e,taxi:r4e,oncoming_taxi:i4e,car:s4e,red_car:o4e,oncoming_automobile:a4e,blue_car:l4e,truck:c4e,articulated_lorry:u4e,tractor:h4e,monorail:d4e,mountain_railway:f4e,suspension_railway:p4e,mountain_cableway:g4e,aerial_tramway:m4e,ship:y4e,"woman-rowing-boat":"🚣‍♀️","man-rowing-boat":"🚣‍♂️",rowboat:b4e,speedboat:O4e,traffic_light:k4e,vertical_traffic_light:x4e,construction:w4e,rotating_light:_4e,triangular_flag_on_post:v4e,door:S4e,no_entry_sign:C4e,smoking:E4e,no_smoking:T4e,put_litter_in_its_place:D4e,do_not_litter:A4e,potable_water:M4e,"non-potable_water":"🚱",bike:P4e,no_bicycles:$4e,"woman-biking":"🚴‍♀️","man-biking":"🚴‍♂️",bicyclist:R4e,"woman-mountain-biking":"🚵‍♀️","man-mountain-biking":"🚵‍♂️",mountain_bicyclist:L4e,"woman-walking":"🚶‍♀️","man-walking":"🚶‍♂️",walking:I4e,no_pedestrians:N4e,children_crossing:F4e,mens:B4e,womens:Q4e,restroom:z4e,baby_symbol:V4e,toilet:W4e,wc:U4e,shower:j4e,bath:q4e,bathtub:Y4e,passport_control:Z4e,customs:X4e,baggage_claim:H4e,left_luggage:G4e,couch_and_lamp:K4e,sleeping_accommodation:J4e,shopping_bags:eCe,bellhop_bell:tCe,bed:nCe,place_of_worship:rCe,octagonal_sign:iCe,shopping_trolley:sCe,hindu_temple:oCe,hut:aCe,elevator:lCe,hammer_and_wrench:cCe,shield:uCe,oil_drum:hCe,motorway:dCe,railway_track:fCe,motor_boat:pCe,small_airplane:gCe,airplane_departure:mCe,airplane_arriving:yCe,satellite:bCe,passenger_ship:OCe,scooter:kCe,motor_scooter:xCe,canoe:wCe,sled:_Ce,flying_saucer:vCe,skateboard:SCe,auto_rickshaw:CCe,pickup_truck:ECe,roller_skate:TCe,large_orange_circle:DCe,large_yellow_circle:ACe,large_green_circle:MCe,large_purple_circle:PCe,large_brown_circle:$Ce,large_red_square:RCe,large_blue_square:LCe,large_orange_square:ICe,large_yellow_square:NCe,large_green_square:FCe,large_purple_square:BCe,large_brown_square:QCe,pinched_fingers:zCe,white_heart:VCe,brown_heart:WCe,pinching_hand:UCe,zipper_mouth_face:jCe,money_mouth_face:qCe,face_with_thermometer:YCe,nerd_face:ZCe,thinking_face:XCe,face_with_head_bandage:HCe,robot_face:GCe,hugging_face:KCe,the_horns:JCe,sign_of_the_horns:e5e,call_me_hand:t5e,raised_back_of_hand:n5e,"left-facing_fist":"🤛","right-facing_fist":"🤜",handshake:r5e,crossed_fingers:i5e,hand_with_index_and_middle_fingers_crossed:s5e,i_love_you_hand_sign:o5e,face_with_cowboy_hat:a5e,clown_face:l5e,nauseated_face:c5e,rolling_on_the_floor_laughing:u5e,drooling_face:h5e,lying_face:d5e,"woman-facepalming":"🤦‍♀️","man-facepalming":"🤦‍♂️",face_palm:f5e,sneezing_face:p5e,face_with_raised_eyebrow:g5e,face_with_one_eyebrow_raised:m5e,"star-struck":"🤩",grinning_face_with_star_eyes:y5e,zany_face:b5e,grinning_face_with_one_large_and_one_small_eye:O5e,shushing_face:k5e,face_with_finger_covering_closed_lips:x5e,face_with_symbols_on_mouth:w5e,serious_face_with_symbols_covering_mouth:_5e,face_with_hand_over_mouth:v5e,smiling_face_with_smiling_eyes_and_hand_covering_mouth:S5e,face_vomiting:C5e,face_with_open_mouth_vomiting:E5e,exploding_head:T5e,shocked_face_with_exploding_head:D5e,pregnant_woman:A5e,"breast-feeding":"🤱",palms_up_together:M5e,selfie:P5e,prince:$5e,woman_in_tuxedo:R5e,man_in_tuxedo:L5e,person_in_tuxedo:I5e,mrs_claus:N5e,mother_christmas:F5e,"woman-shrugging":"🤷‍♀️","man-shrugging":"🤷‍♂️",shrug:B5e,"woman-cartwheeling":"🤸‍♀️","man-cartwheeling":"🤸‍♂️",person_doing_cartwheel:Q5e,"woman-juggling":"🤹‍♀️","man-juggling":"🤹‍♂️",juggling:z5e,fencer:V5e,"woman-wrestling":"🤼‍♀️","man-wrestling":"🤼‍♂️",wrestlers:W5e,"woman-playing-water-polo":"🤽‍♀️","man-playing-water-polo":"🤽‍♂️",water_polo:U5e,"woman-playing-handball":"🤾‍♀️","man-playing-handball":"🤾‍♂️",handball:j5e,diving_mask:q5e,wilted_flower:Y5e,drum_with_drumsticks:Z5e,clinking_glasses:X5e,tumbler_glass:H5e,spoon:G5e,goal_net:K5e,first_place_medal:J5e,second_place_medal:eEe,third_place_medal:tEe,boxing_glove:nEe,martial_arts_uniform:rEe,curling_stone:iEe,lacrosse:sEe,softball:oEe,flying_disc:aEe,croissant:lEe,avocado:cEe,cucumber:uEe,bacon:hEe,potato:dEe,carrot:fEe,baguette_bread:pEe,green_salad:gEe,shallow_pan_of_food:mEe,stuffed_flatbread:yEe,egg:bEe,glass_of_milk:OEe,peanuts:kEe,kiwifruit:xEe,pancakes:wEe,dumpling:_Ee,fortune_cookie:vEe,takeout_box:SEe,chopsticks:CEe,bowl_with_spoon:EEe,cup_with_straw:TEe,coconut:DEe,broccoli:AEe,pie:MEe,pretzel:PEe,cut_of_meat:$Ee,sandwich:REe,canned_food:LEe,leafy_green:IEe,mango:NEe,moon_cake:FEe,bagel:BEe,smiling_face_with_3_hearts:QEe,yawning_face:zEe,smiling_face_with_tear:VEe,partying_face:WEe,woozy_face:UEe,hot_face:jEe,cold_face:qEe,ninja:YEe,disguised_face:ZEe,pleading_face:XEe,sari:HEe,lab_coat:GEe,goggles:KEe,hiking_boot:JEe,womans_flat_shoe:eTe,crab:tTe,lion_face:nTe,scorpion:rTe,turkey:iTe,unicorn_face:sTe,eagle:oTe,duck:aTe,bat:lTe,shark:cTe,owl:uTe,fox_face:hTe,butterfly:dTe,deer:fTe,gorilla:pTe,lizard:gTe,rhinoceros:mTe,shrimp:yTe,squid:bTe,giraffe_face:OTe,zebra_face:kTe,hedgehog:xTe,sauropod:wTe,"t-rex":"🦖",cricket:_Te,kangaroo:vTe,llama:STe,peacock:CTe,hippopotamus:ETe,parrot:TTe,raccoon:DTe,lobster:ATe,mosquito:MTe,microbe:PTe,badger:$Te,swan:RTe,mammoth:LTe,dodo:ITe,sloth:NTe,otter:FTe,orangutan:BTe,skunk:QTe,flamingo:zTe,oyster:VTe,beaver:WTe,bison:UTe,seal:jTe,guide_dog:qTe,probing_cane:YTe,bone:ZTe,leg:XTe,foot:HTe,tooth:GTe,female_superhero:KTe,male_superhero:JTe,superhero:eDe,female_supervillain:tDe,male_supervillain:nDe,supervillain:rDe,safety_vest:iDe,ear_with_hearing_aid:sDe,motorized_wheelchair:oDe,manual_wheelchair:aDe,mechanical_arm:lDe,mechanical_leg:cDe,cheese_wedge:uDe,cupcake:hDe,salt:dDe,beverage_box:fDe,garlic:pDe,onion:gDe,falafel:mDe,waffle:yDe,butter:bDe,mate_drink:ODe,ice_cube:kDe,bubble_tea:xDe,woman_standing:wDe,man_standing:_De,standing_person:vDe,woman_kneeling:SDe,man_kneeling:CDe,kneeling_person:EDe,deaf_woman:TDe,deaf_man:DDe,deaf_person:ADe,face_with_monocle:MDe,farmer:PDe,cook:$De,person_feeding_baby:RDe,mx_claus:LDe,student:IDe,singer:NDe,artist:FDe,teacher:BDe,factory_worker:QDe,technologist:zDe,office_worker:VDe,mechanic:WDe,scientist:UDe,astronaut:jDe,firefighter:qDe,people_holding_hands:YDe,person_with_probing_cane:ZDe,red_haired_person:XDe,curly_haired_person:HDe,bald_person:GDe,white_haired_person:KDe,person_in_motorized_wheelchair:JDe,person_in_manual_wheelchair:e6e,health_worker:t6e,judge:n6e,pilot:r6e,adult:i6e,child:s6e,older_adult:o6e,woman_with_beard:a6e,man_with_beard:l6e,bearded_person:c6e,person_with_headscarf:u6e,woman_in_steamy_room:h6e,man_in_steamy_room:d6e,person_in_steamy_room:f6e,woman_climbing:p6e,person_climbing:g6e,man_climbing:m6e,woman_in_lotus_position:y6e,person_in_lotus_position:b6e,man_in_lotus_position:O6e,female_mage:k6e,mage:x6e,male_mage:w6e,female_fairy:_6e,fairy:v6e,male_fairy:S6e,female_vampire:C6e,vampire:E6e,male_vampire:T6e,mermaid:D6e,merman:A6e,merperson:M6e,female_elf:P6e,male_elf:$6e,elf:R6e,female_genie:L6e,male_genie:I6e,genie:N6e,female_zombie:F6e,male_zombie:B6e,zombie:Q6e,brain:z6e,orange_heart:V6e,billed_cap:W6e,scarf:U6e,gloves:j6e,coat:q6e,socks:Y6e,red_envelope:Z6e,firecracker:X6e,jigsaw:H6e,test_tube:G6e,petri_dish:K6e,dna:J6e,compass:eAe,abacus:tAe,fire_extinguisher:nAe,toolbox:rAe,bricks:iAe,magnet:sAe,luggage:oAe,lotion_bottle:aAe,thread:lAe,yarn:cAe,safety_pin:uAe,teddy_bear:hAe,broom:dAe,basket:fAe,roll_of_paper:pAe,soap:gAe,sponge:mAe,receipt:yAe,nazar_amulet:bAe,ballet_shoes:OAe,"one-piece_swimsuit":"🩱",briefs:kAe,shorts:xAe,thong_sandal:wAe,drop_of_blood:_Ae,adhesive_bandage:vAe,stethoscope:SAe,"yo-yo":"🪀",kite:CAe,parachute:EAe,boomerang:TAe,magic_wand:DAe,pinata:AAe,nesting_dolls:MAe,ringed_planet:PAe,chair:$Ae,razor:RAe,axe:LAe,diya_lamp:IAe,banjo:NAe,military_helmet:FAe,accordion:BAe,long_drum:QAe,coin:zAe,carpentry_saw:VAe,screwdriver:WAe,ladder:UAe,hook:jAe,mirror:qAe,window:YAe,plunger:ZAe,sewing_needle:XAe,knot:HAe,bucket:GAe,mouse_trap:KAe,toothbrush:JAe,headstone:e8e,placard:t8e,rock:n8e,fly:r8e,worm:i8e,beetle:s8e,cockroach:o8e,potted_plant:a8e,wood:l8e,feather:c8e,anatomical_heart:u8e,lungs:h8e,people_hugging:d8e,blueberries:f8e,bell_pepper:p8e,olive:g8e,flatbread:m8e,tamale:y8e,fondue:b8e,teapot:O8e,bangbang:k8e,interrobang:x8e,tm:w8e,information_source:_8e,left_right_arrow:v8e,arrow_up_down:S8e,arrow_upper_left:C8e,arrow_upper_right:E8e,arrow_lower_right:T8e,arrow_lower_left:D8e,leftwards_arrow_with_hook:A8e,arrow_right_hook:M8e,watch:P8e,hourglass:$8e,keyboard:R8e,eject:L8e,fast_forward:I8e,rewind:N8e,arrow_double_up:F8e,arrow_double_down:B8e,black_right_pointing_double_triangle_with_vertical_bar:Q8e,black_left_pointing_double_triangle_with_vertical_bar:z8e,black_right_pointing_triangle_with_double_vertical_bar:V8e,alarm_clock:W8e,stopwatch:U8e,timer_clock:j8e,hourglass_flowing_sand:q8e,double_vertical_bar:Y8e,black_square_for_stop:Z8e,black_circle_for_record:X8e,m:H8e,black_small_square:G8e,white_small_square:K8e,arrow_forward:J8e,arrow_backward:e7e,white_medium_square:t7e,black_medium_square:n7e,white_medium_small_square:r7e,black_medium_small_square:i7e,sunny:s7e,cloud:o7e,umbrella:a7e,snowman:l7e,comet:c7e,phone:u7e,telephone:h7e,ballot_box_with_check:d7e,shamrock:f7e,point_up:p7e,skull_and_crossbones:g7e,radioactive_sign:m7e,biohazard_sign:y7e,orthodox_cross:b7e,star_and_crescent:O7e,peace_symbol:k7e,yin_yang:x7e,wheel_of_dharma:w7e,white_frowning_face:_7e,relaxed:v7e,female_sign:S7e,male_sign:C7e,gemini:E7e,cancer:T7e,leo:D7e,virgo:A7e,libra:M7e,scorpius:P7e,chess_pawn:$7e,spades:R7e,clubs:L7e,hearts:I7e,diamonds:N7e,hotsprings:F7e,recycle:B7e,infinity:Q7e,wheelchair:z7e,hammer_and_pick:V7e,crossed_swords:W7e,medical_symbol:U7e,staff_of_aesculapius:j7e,scales:q7e,alembic:Y7e,gear:Z7e,atom_symbol:X7e,fleur_de_lis:H7e,warning:G7e,zap:K7e,transgender_symbol:J7e,white_circle:eMe,black_circle:tMe,coffin:nMe,funeral_urn:rMe,soccer:iMe,baseball:sMe,snowman_without_snow:oMe,partly_sunny:aMe,thunder_cloud_and_rain:lMe,ophiuchus:cMe,pick:uMe,helmet_with_white_cross:hMe,chains:dMe,no_entry:fMe,shinto_shrine:pMe,church:gMe,mountain:mMe,umbrella_on_ground:yMe,fountain:bMe,golf:OMe,ferry:kMe,boat:xMe,sailboat:wMe,skier:_Me,ice_skate:vMe,"woman-bouncing-ball":"⛹️‍♀️","man-bouncing-ball":"⛹️‍♂️",person_with_ball:SMe,tent:CMe,fuelpump:EMe,scissors:TMe,airplane:DMe,email:AMe,envelope:MMe,fist:PMe,hand:$Me,raised_hand:RMe,v:LMe,writing_hand:IMe,pencil2:NMe,black_nib:FMe,heavy_check_mark:BMe,heavy_multiplication_x:QMe,latin_cross:zMe,star_of_david:VMe,eight_spoked_asterisk:WMe,eight_pointed_black_star:UMe,snowflake:jMe,sparkle:qMe,x:YMe,negative_squared_cross_mark:ZMe,heavy_heart_exclamation_mark_ornament:XMe,heart_on_fire:HMe,mending_heart:GMe,heart:KMe,arrow_right:JMe,curly_loop:ePe,loop:tPe,arrow_heading_up:nPe,arrow_heading_down:rPe,arrow_left:iPe,arrow_up:sPe,arrow_down:oPe,black_large_square:aPe,white_large_square:lPe,star:cPe,o:uPe,wavy_dash:hPe,part_alternation_mark:dPe,congratulations:fPe,secret:pPe};var RB=upe,Cl=gPe,mPe=/:([a-zA-Z0-9_\-\+]+):/g,yPe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Jd(t){var e=t.indexOf(":");return e>-1?e===t.length-1?(t=t.substring(0,e),Jd(t)):(t=t.substr(e+1),Jd(t)):t}function LB(t){return typeof t=="string"&&t.length>0?":"+t+":":t}function bPe(t){return typeof t=="string"&&t[0]!==":"?LB(t):t}var OPe="️",kPe=new RegExp(OPe,"g");function ef(t){return t.replace(kPe,"")}var hE=Object.keys(Cl).reduce(function(t,e){return t[ef(Cl[e])]=e,t},{}),on={emoji:Cl};on._get=function(e){return hE[ef(e)]?e:Cl.hasOwnProperty(e)?Cl[e]:bPe(e)};on.get=function(e){return e=Jd(e),on._get(e)};on.find=function(e){return on.findByName(e)||on.findByCode(e)};on.findByName=function(e){var n=Jd(e),r=Cl[n];return r?{emoji:r,key:n}:void 0};on.findByCode=function(e){var n=ef(e),r=hE[n];return r?{emoji:Cl[r],key:r}:void 0};on.hasEmoji=function(e){return on.hasEmojiByName(e)||on.hasEmojiByCode(e)};on.hasEmojiByName=function(e){var n=on.findByName(e);return!!n&&n.key===Jd(e)};on.hasEmojiByCode=function(e){var n=on.findByCode(e);return!!n&&ef(n.emoji)===ef(e)};on.which=function(e,n){var r=ef(e),i=hE[r];return n?LB(i):i};on.emojify=function(e,n,r){return e?e.split(mPe).map(function(s,o){if(o%2===0)return s;var a=on._get(s),l=a.indexOf(":")>-1;return l&&typeof n=="function"?n(s):!l&&typeof r=="function"?r(a,s):a}).join(""):""};on.random=function(){var e=Object.keys(Cl),n=Math.floor(Math.random()*e.length),r=e[n],i=on._get(r);return{key:r,emoji:i}};on.search=function(e){var n=Object.keys(Cl),r=Jd(e),i=n.filter(function(s){return s.toString().indexOf(r)===0});return i.map(function(s){return{key:s,emoji:on._get(s)}})};on.unemojify=function(e){if(!e)return"";var n=RB(e);return n.map(function(r){return on.which(r,!0)||r}).join("")};on.replace=function(e,n,r){if(!e)return"";var i=typeof n=="function"?n:function(){return n},s=RB(e),o=s.map(function(a,l){var u=on.findByCode(a);return u&&r&&s[l+1]===" "&&(s[l+1]=""),u?i(u):a}).join("");return r?o.replace(yPe,""):o};on.strip=function(e){return on.replace(e,"",!0)};var xPe=on,wPe=xPe;const Dg=Th(wPe),z8=[{name:"angry",emoji:"😠",tags:["mad","annoyed"],description:"angry face",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["]},{name:"blush",emoji:"😊",tags:["proud"],description:"smiling face with smiling eyes",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D']},{name:"broken_heart",emoji:"💔",tags:[],description:"broken heart",emoticons:["<\\3","</3"]},{name:"confused",emoji:"😕",tags:[],description:"confused face",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"]},{name:"cry",emoji:"😢",tags:["sad","tear"],description:"crying face",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|"]},{name:"frowning",emoji:"😦",tags:[],description:"frowning face with open mouth",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["]},{name:"heart",emoji:"❤️",tags:["love"],description:"red heart",emoticons:["<3"]},{name:"imp",emoji:"👿",tags:["angry","devil","evil","horns"],description:"angry face with horns",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["]},{name:"innocent",emoji:"😇",tags:["angel"],description:"smiling face with halo",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"]},{name:"joy",emoji:"😂",tags:["tears"],description:"face with tears of joy",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"]},{name:"kissing",emoji:"😗",tags:[],description:"kissing face",emoticons:[":*",":-*","=*","=-*"]},{name:"laughing",emoji:"😆",tags:["happy","haha"],description:"grinning squinting face",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"]},{name:"man",emoji:"👨",tags:["mustache","father","dad"],description:"man",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"]},{name:"neutral_face",emoji:"😐",tags:["meh"],description:"neutral face",emoticons:[":|",":-|","=|","=-|"]},{name:"no_mouth",emoji:"😶",tags:["mute","silence"],description:"face without mouth",emoticons:[":-"]},{name:"open_mouth",emoji:"😮",tags:["surprise","impressed","wow"],description:"face with open mouth",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"]},{name:"rage",emoji:"😡",tags:["angry"],description:"pouting face",emoticons:[":@",":-@","=@","=-@"]},{name:"smile",emoji:"😄",tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",emoticons:[":D",":-D","=D","=-D"]},{name:"smiley",emoji:"😃",tags:["happy","joy","haha"],description:"grinning face with big eyes",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"]},{name:"smiling_imp",emoji:"😈",tags:["devil","evil","horns"],description:"smiling face with horns",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"]},{name:"sob",emoji:"😭",tags:["sad","cry","bawling"],description:"loudly crying face",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["]},{name:"stuck_out_tongue",emoji:"😛",tags:[],description:"face with tongue",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"]},{name:"stuck_out_tongue_closed_eyes",emoji:"😝",tags:["prank"],description:"squinting face with tongue",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"]},{name:"stuck_out_tongue_winking_eye",emoji:"😜",tags:["prank","silly"],description:"winking face with tongue",emoticons:[";p",";P",";d",";-p",";-P",";-d"]},{name:"sunglasses",emoji:"😎",tags:["cool"],description:"smiling face with sunglasses",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"]},{name:"sweat",emoji:"😓",tags:[],description:"downcast face with sweat",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["]},{name:"sweat_smile",emoji:"😅",tags:["hot"],description:"grinning face with sweat",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"]},{name:"unamused",emoji:"😒",tags:["meh"],description:"unamused face",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"]},{name:"wink",emoji:"😉",tags:["flirt"],description:"winking face",emoticons:[";)",";]",";D",";-)",";-]",";-D"]}];function _Pe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const vPe={}.hasOwnProperty,IB=function(t,e,n,r){let i,s;typeof e=="string"||e instanceof RegExp?(s=[[e,n]],i=r):(s=e,i=n),i||(i={});const o=kk(i.ignore||[]),a=SPe(s);let l=-1;for(;++l<a.length;)MN(t,"text",u);return t;function u(d,f){let p=-1,g;for(;++p<f.length;){const m=f[p];if(o(m,g?g.children.indexOf(m):void 0,g))return;g=m}if(g)return h(d,f)}function h(d,f){const p=f[f.length-1],g=a[l][0],m=a[l][1];let y=0;const b=p.children.indexOf(d);let O=!1,x=[];g.lastIndex=0;let T=g.exec(d.value);for(;T;){const A=T.index,v={index:T.index,input:T.input,stack:[...f,d]};let S=m(...T,v);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S!==!1&&(y!==A&&x.push({type:"text",value:d.value.slice(y,A)}),Array.isArray(S)?x.push(...S):S&&x.push(S),y=A+T[0].length,O=!0),!g.global)break;T=g.exec(d.value)}return O?(y<d.value.length&&x.push({type:"text",value:d.value.slice(y)}),p.children.splice(b,1,...x)):x=[d],b+x.length}};function SPe(t){const e=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let n=-1;for(;++n<t.length;)e.push([V8(t[n][0]),W8(t[n][1])])}else{let n;for(n in t)vPe.call(t,n)&&e.push([V8(n),W8(t[n])])}return e}function V8(t){return typeof t=="string"?new RegExp(_Pe(t),"g"):t}function W8(t){return typeof t=="function"?t:()=>t}const CPe=/:\+1:|:-1:|:[\w-]+:/g,EPe=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,U8=/_/g,TPe=/(?:_|-(?!1))/g,DPe={padSpaceAfter:!1,emoticon:!1,accessible:!1};function APe(t){const e=Object.assign({},DPe,t),n=!!e.padSpaceAfter,r=!!e.emoticon,i=!!e.accessible;function s(h,d){return{type:"text",meta:null,value:h,data:{hName:"span",hProperties:{role:"img",ariaLabel:d},hChildren:[{type:"text",value:h}]}}}function o(h){const d=z8.find(b=>b.emoticons.includes(h)),f=z8.find(b=>b.emoticons.includes(h.slice(0,-1))),p=d||f;if(!p)return!1;const g=!d&&f?h.slice(-1):"",m=n?" ":"",y=p.emoji+m+g;return i?s(y,p.name+" emoticon"):y}function a(h){let d=Dg.get(h);if(h.endsWith("_man:")&&d===h){const f="man-"+h.slice(1,-5).replace(U8,"-"),p=Dg.get(f);p!==f&&(d=p)}else if(h.endsWith("_woman:")&&d===h){const f="woman-"+h.slice(1,-7).replace(U8,"-"),p=Dg.get(f);p!==f&&(d=p)}if(d===h)return!1;if(n&&(d=d+" "),i){const f=h.slice(1,-1).replace(TPe," ")+" emoji";return s(d,f)}return d}const l=[[CPe,a]];r&&l.push([EPe,o]);function u(h){IB(h,l)}return u}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var MPe=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:O,toCodePoint:v},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:x,replace:T,test:A},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,i="‍",s=/[&<>'"]/g,o=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return t;function l(S,I){return document.createTextNode(I?S.replace(r,""):S)}function u(S){return S.replace(s,m)}function h(S,I){return"".concat(I.base,I.size,"/",S,I.ext)}function d(S,I){for(var M=S.childNodes,C=M.length,E,_;C--;)E=M[C],_=E.nodeType,_===3?I.push(E):_===1&&!("ownerSVGElement"in E)&&!o.test(E.nodeName.toLowerCase())&&d(E,I);return I}function f(S){return v(S.indexOf(i)<0?S.replace(r,""):S)}function p(S,I){for(var M=d(S,[]),C=M.length,E,_,L,k,B,w,Q,U,W,$,X,Y,N;C--;){for(L=!1,k=document.createDocumentFragment(),B=M[C],w=B.nodeValue,U=0;Q=n.exec(w);){if(W=Q.index,W!==U&&k.appendChild(l(w.slice(U,W),!0)),X=Q[0],Y=f(X),U=W+X.length,N=I.callback(Y,I),Y&&N){$=new Image,$.onerror=I.onerror,$.setAttribute("draggable","false"),E=I.attributes(X,Y);for(_ in E)E.hasOwnProperty(_)&&_.indexOf("on")!==0&&!$.hasAttribute(_)&&$.setAttribute(_,E[_]);$.className=I.className,$.alt=X,$.src=N,L=!0,k.appendChild($)}$||k.appendChild(l(X,!1)),$=null}L&&(U<w.length&&k.appendChild(l(w.slice(U),!0)),B.parentNode.replaceChild(k,B))}return S}function g(S,I){return T(S,function(M){var C=M,E=f(M),_=I.callback(E,I),L,k;if(E&&_){C="<img ".concat('class="',I.className,'" ','draggable="false" ','alt="',M,'"',' src="',_,'"'),L=I.attributes(M,E);for(k in L)L.hasOwnProperty(k)&&k.indexOf("on")!==0&&C.indexOf(" "+k+"=")===-1&&(C=C.concat(" ",k,'="',u(L[k]),'"'));C=C.concat("/>")}return C})}function m(S){return e[S]}function y(){return null}function b(S){return typeof S=="number"?S+"x"+S:S}function O(S){var I=typeof S=="string"?parseInt(S,16):S;return I<65536?a(I):(I-=65536,a(55296+(I>>10),56320+(I&1023)))}function x(S,I){return(!I||typeof I=="function")&&(I={callback:I}),(typeof S=="string"?g:p)(S,{callback:I.callback||h,attributes:typeof I.attributes=="function"?I.attributes:y,base:typeof I.base=="string"?I.base:t.base,ext:I.ext||t.ext,size:I.folder||b(I.size||t.size),className:I.className||t.className,onerror:I.onerror||t.onerror})}function T(S,I){return String(S).replace(n,I)}function A(S){n.lastIndex=0;var I=n.test(S);return n.lastIndex=0,I}function v(S,I){for(var M=[],C=0,E=0,_=0;_<S.length;)C=S.charCodeAt(_++),E?(M.push((65536+(E-55296<<10)+(C-56320)).toString(16)),E=0):55296<=C&&C<=56319?E=C:M.push(C.toString(16));return M.join(I||"-")}}();const PPe=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,$Pe=/:\+1|:-1|:[\w-]+/,RPe=/:\+1:|:-1:|:[\w-]+:/,LPe=/(:([^:\s]+):)$/,IPe=t=>({title:t}),dE=(t,e)=>MPe.parse(t,{attributes:IPe,...e}),NPe=(t,e,n,r,i,s)=>{if(t.composing)return!1;const{state:o}=t,a=o.doc.resolve(e);if(a.parent.type.spec.code)return!1;const l=(a.parent.textBetween(Math.max(0,a.parentOffset-10),a.parentOffset,void 0,"￼")+r).toLowerCase();if(RPe.test(l))return!1;const u=$Pe.exec(l);if(u&&u[0]&&l.endsWith(u[0])){const h=u[0];return i(e-(h.length-r.length),n),s(h),!0}return!1},FPe=(t,e,n,r,i)=>{for(;e.firstChild;)e.firstChild.remove();t.forEach(({emoji:s,key:o},a)=>{const l=document.createElement("div");l.className="milkdown-emoji-filter_item";const u=document.createElement("span");u.innerHTML=dE(s,i),u.className="milkdown-emoji-filter_item-emoji";const h=document.createElement("span");h.textContent=`:${o}:`,h.className="milkdown-emoji-filter_item-key",l.appendChild(u),l.appendChild(h),e.appendChild(l),a===0&&r(l);const d=p=>{const{target:g}=p;g instanceof HTMLElement&&r(g)},f=p=>{p.preventDefault(),n()};l.addEventListener("mouseenter",d),l.addEventListener("mousedown",f)})},BPe=(t,{css:e,cx:n})=>{const r=t.get(Cr,void 0),i=t.get(Lo,void 0),s=t.get(Do,void 0),o=t.get(sn,"radius"),a=t.get(To,"typography"),l=(h,d=1)=>t.get(_r,[h,d]),u=e`
        min-height: 36px;
        max-height: 320px;
        overflow-y: auto;
        border-radius: ${o};
        position: absolute;
        background: ${l("surface")};

        &.hide {
            display: none;
        }

        .milkdown-emoji-filter_item {
            display: flex;
            gap: 8px;
            height: 36px;
            padding: 0 14px;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 2;
            font-family: ${a};
            font-size: 14px;
            &.active {
                background: ${l("secondary",.12)};
                color: ${l("primary")};
            }
        }

        .emoji {
            height: 14px;
            width: 14px;
            margin: 0 1px 0 1.5px;
            vertical-align: -1.5px;
        }
    `;return n(r,i,s,u)},QPe=new en("MILKDOWN_EMOJI_FILTER"),zPe=(t,e,n)=>{let r=!1,i=0,s="",o=null;const a=()=>{r=!1,i=0,s="",o=null},l=u=>{o&&o.classList.remove("active"),u&&u.classList.add("active"),o=u};return new Xt({key:QPe,props:{handleKeyDown(u,h){return["Delete","Backspace"].includes(h.key)?(s=s.slice(0,-1),s.length<=1&&a(),!1):!(!r||!["ArrowUp","ArrowDown","Enter"].includes(h.key))},handleTextInput(u,h,d,f){return r=NPe(u,h,d,f,p=>{i=p},p=>{s=p}),r||a(),!1}},view:u=>{const{parentNode:h}=u.dom;if(!h)throw Mi();const d=document.createElement("div");d.classList.add("milkdown-emoji-filter","hide"),t.themeManager.onFlush(()=>{const m=d.className.split(" ").filter(b=>["hide","milkdown-emoji-filter"].includes(b));d.className=m.join(" ");const y=t.getStyle(b=>BPe(t.themeManager,b));y&&y.split(" ").forEach(b=>d.classList.add(b))});const f=()=>{var m;if(!o)return;const{tr:y}=u.state,b=u.state.schema.node("emoji",{html:(m=o.firstElementChild)==null?void 0:m.innerHTML});u.dispatch(y.delete(i,i+s.length).insert(i,b)),a(),d.classList.add("hide")};h.appendChild(d);const p=m=>{if(!r||!(m instanceof KeyboardEvent))return;const{key:y}=m;if(y==="Enter"){f();return}if(["ArrowDown","ArrowUp"].includes(y)){const b=y==="ArrowDown"?(o==null?void 0:o.nextElementSibling)||d.firstElementChild:(o==null?void 0:o.previousElementSibling)||d.lastElementChild;if(!b)return;l(b)}},g=m=>{!r||(m.stopPropagation(),a(),d.classList.add("hide"))};return h.addEventListener("keydown",p),h.addEventListener("mousedown",g),{update:m=>{const{selection:y}=m.state;if(y.from-y.to!==0||!r)return a(),d.classList.add("hide"),null;const b=Dg.search(s).slice(0,e),{node:O}=m.domAtPos(i);return b.length===0||!O?(d.classList.add("hide"),null):(d.style.maxHeight="",d.classList.remove("hide"),FPe(b,d,f,l,n),h5(m,d,(x,T,A)=>{const v=d.parentElement;if(!v)throw Mi();const S=m.coordsAtPos(i);let I=S.left-A.left;I<0&&(I=0);let M,C;const E=S.top-A.top,_=A.height+A.top-S.bottom;_>=T.height+28?M="bottom":E>=T.height+28?M="top":_>=E?(M="bottom",C=_-28):(M="top",C=E-28),(E<0||_<0)&&(C=A.height-(S.bottom-S.top)-28,C>T.height&&(C=void 0));const L=M==="top"?S.top-A.top-(C??T.height)-14+v.scrollTop:S.bottom-A.top+14+v.scrollTop;d.style.maxHeight=C!==void 0&&C>0?`${C}px`:"";const k=v.clientWidth-(d.offsetWidth+4);return I>k&&(I=k),[L,I]}),null)},destroy:()=>{h.removeEventListener("keydown",p),h.removeEventListener("mousedown",g),d.remove()}}}})},j8=PPe(),VPe=t=>!!t.children,WPe=t=>!!t.value;function UPe(t,e){return n(t,0,null)[0];function n(r,i,s){if(VPe(r)){const o=[];for(let a=0,l=r.children.length;a<l;a++){const u=r.children[a];if(u){const h=n(u,a,r);if(h)for(let d=0,f=h.length;d<f;d++){const p=h[d];p&&o.push(p)}}}r.children=o}return e(r,i,s)}}const jPe=t=>()=>{function e(n){UPe(n,r=>{if(!WPe(r))return[r];const i=r.value,s=[];let o,a=i;for(;o=j8.exec(a);){const{index:l}=o,u=o[0];u&&(l>0&&s.push({...r,value:a.slice(0,l)}),s.push({...r,value:dE(u,t),type:"emoji"}),a=a.slice(l+u.length)),j8.lastIndex=0}return a.length&&s.push({...r,value:a}),s})}return e},qPe=Mr((t,e)=>{const n=()=>t.getStyle(({css:r})=>r`
                .emoji {
                    height: 1em;
                    width: 1em;
                    margin: 0 1px 0 1.5px;
                    vertical-align: -1.5px;
                }
            `);return{id:"emoji",schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{html:{default:""}},parseDOM:[{tag:'span[data-type="emoji"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw Yr(r);return{html:r.innerHTML}}}],toDOM:r=>{const i=document.createElement("span");return i.classList.add("emoji-wrapper"),i.dataset.type="emoji",t.themeManager.onFlush(()=>{const s=n();s&&i.classList.add(s)}),i.innerHTML=r.attrs.html,{dom:i}},parseMarkdown:{match:({type:r})=>r==="emoji",runner:(r,i,s)=>{r.addNode(s,{html:i.value})}},toMarkdown:{match:r=>r.type.name==="emoji",runner:(r,i)=>{const s=document.createElement("span");s.innerHTML=i.attrs.html;const o=s.querySelector("img"),a=o==null?void 0:o.title;s.remove(),r.addNode("text",void 0,a)}}}),inputRules:r=>[new Li(LPe,(i,s,o,a)=>{const l=s[0];if(!l)return null;const u=Dg.get(l);if(!u||l.includes(u))return null;const h=dE(u,e==null?void 0:e.twemojiOptions);return i.tr.setMeta("emoji",!0).replaceRangeWith(o,a,r.create({html:h})).scrollIntoView()})],remarkPlugins:()=>[APe,jPe(e==null?void 0:e.twemojiOptions)],prosePlugins:()=>{var r;return[zPe(t,(r=e==null?void 0:e.maxListSize)!=null?r:6,e==null?void 0:e.twemojiOptions)]}}}),YPe=oo.create([qPe()]),z3=t=>{if(!t)return!1;if(Array.isArray(t))return t.length>1?!1:z3(t[0]);const e=t.content;return e?z3(e):t.type==="text"},ZPe=new en("MILKDOWN_CLIPBOARD"),XPe=ao(()=>({prosePlugins:(t,e)=>{const n=e.get(Fn);return e.update(Cg,r=>{var i;return{...r,editable:(i=r.editable)!=null?i:()=>!0}}),[new Xt({key:ZPe,props:{handlePaste:(r,i,s)=>{var o,a;const l=e.get(Dc),u=e.get(Xu),h=(a=(o=r.props).editable)==null?void 0:a.call(o,r.state),{clipboardData:d}=i;if(!h||!d||r.state.selection.$from.node().type.spec.code)return!1;let f=d.getData("text/plain");const p=d.getData("vscode-editor-data");if(p){const y=JSON.parse(p),b=y==null?void 0:y.mode;if(f&&b){const{tr:O}=r.state,x=Eu("fence",n);return O.replaceSelectionWith(x.create({language:b})).setSelection(ht.near(O.doc.resolve(Math.max(0,O.selection.from-2)))).insertText(f.replace(/\r\n?/g,`
`)),r.dispatch(O),!0}}const g=d.getData("text/html");if(g.length===0&&f.length===0)return!1;if(g.length>0||f.length===0){const y=document.createElement("template");y.innerHTML=g;const b=pk.fromSchema(n).parse(y.content);y.remove(),f=u(b)}const m=l(f);return!m||typeof m=="string"?!1:(r.dispatch(r.state.tr.replaceSelection(new Be(m.content,s.openStart,s.openEnd))),!0)},clipboardTextSerializer:r=>{const i=e.get(Xu);if(z3(r.content.toJSON()))return r.content.textBetween(0,r.content.size,`

`);const s=n.topNodeType.createAndFill(void 0,r.content);return s?i(s):""}}})]}})),HPe=XPe(),GPe=(t,e)=>{const{doc:n,selection:r}=t;if(!n||!r||!(r instanceof ht||r instanceof es))return t;const{to:i}=r,s=e.type==="space"?Array(e.size).fill(" ").join(""):"	";return t.insertText(s,i)},KPe=(t,e)=>{t.type==="tab"&&e.getStyle(({injectGlobal:n})=>n`
                .milkdown {
                    tab-size: ${t.size};
                }
            `)};Qt("Indent");const NB=ao((t,e)=>({prosePlugins:()=>{const n={type:"tab",size:4,...e??{}};return t.themeManager.onFlush(()=>{KPe(n,t)}),[sh({Tab:(r,i)=>{const{tr:s}=r,o=GPe(s,n);return o.docChanged?(i==null||i(o),!0):!1}})]}})),JPe=oo.create([NB()]);function FB(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(a,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?a.concat(u.map(function(h){var d,f;return(f=(d=h.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&f!==void 0?f:0})):a},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(a){return a.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];return e.forEach(function(a,l){var u=o.match(/(?:^|\n)( *)$/),h=u?u[1]:"",d=a;typeof a=="string"&&a.includes(`
`)&&(d=String(a).split(`
`).map(function(f,p){return p===0?f:""+h+f}).join(`
`)),o+=d+r[l+1]}),o}const e$e="modulepreload",t$e=function(t){return"/milkdown-vue/"+t},q8={},fE=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=t$e(a),a in q8)return;q8[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":e$e,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var BB={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gc,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",h="week",d="month",f="quarter",p="year",g="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var B=["th","st","nd","rd"],w=k%100;return"["+k+(B[(w-20)%10]||B[w]||B[0])+"]"}},x=function(k,B,w){var Q=String(k);return!Q||Q.length>=B?k:""+Array(B+1-Q.length).join(w)+k},T={s:x,z:function(k){var B=-k.utcOffset(),w=Math.abs(B),Q=Math.floor(w/60),U=w%60;return(B<=0?"+":"-")+x(Q,2,"0")+":"+x(U,2,"0")},m:function k(B,w){if(B.date()<w.date())return-k(w,B);var Q=12*(w.year()-B.year())+(w.month()-B.month()),U=B.clone().add(Q,d),W=w-U<0,$=B.clone().add(Q+(W?-1:1),d);return+(-(Q+(w-U)/(W?U-$:$-U))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:d,y:p,w:h,d:u,D:g,h:l,m:a,s:o,ms:s,Q:f}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},A="en",v={};v[A]=O;var S="$isDayjsObject",I=function(k){return k instanceof _||!(!k||!k[S])},M=function k(B,w,Q){var U;if(!B)return A;if(typeof B=="string"){var W=B.toLowerCase();v[W]&&(U=W),w&&(v[W]=w,U=W);var $=B.split("-");if(!U&&$.length>1)return k($[0])}else{var X=B.name;v[X]=B,U=X}return!Q&&U&&(A=U),U||!Q&&A},C=function(k,B){if(I(k))return k.clone();var w=typeof B=="object"?B:{};return w.date=k,w.args=arguments,new _(w)},E=T;E.l=M,E.i=I,E.w=function(k,B){return C(k,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var _=function(){function k(w){this.$L=M(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[S]=!0}var B=k.prototype;return B.parse=function(w){this.$d=function(Q){var U=Q.date,W=Q.utc;if(U===null)return new Date(NaN);if(E.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var $=U.match(y);if($){var X=$[2]-1||0,Y=($[7]||"0").substring(0,3);return W?new Date(Date.UTC($[1],X,$[3]||1,$[4]||0,$[5]||0,$[6]||0,Y)):new Date($[1],X,$[3]||1,$[4]||0,$[5]||0,$[6]||0,Y)}}return new Date(U)}(w),this.init()},B.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},B.$utils=function(){return E},B.isValid=function(){return this.$d.toString()!==m},B.isSame=function(w,Q){var U=C(w);return this.startOf(Q)<=U&&U<=this.endOf(Q)},B.isAfter=function(w,Q){return C(w)<this.startOf(Q)},B.isBefore=function(w,Q){return this.endOf(Q)<C(w)},B.$g=function(w,Q,U){return E.u(w)?this[Q]:this.set(U,w)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(w,Q){var U=this,W=!!E.u(Q)||Q,$=E.p(w),X=function(ee,H){var G=E.w(U.$u?Date.UTC(U.$y,H,ee):new Date(U.$y,H,ee),U);return W?G:G.endOf(u)},Y=function(ee,H){return E.w(U.toDate()[ee].apply(U.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(H)),U)},N=this.$W,he=this.$M,ge=this.$D,j="set"+(this.$u?"UTC":"");switch($){case p:return W?X(1,0):X(31,11);case d:return W?X(1,he):X(0,he+1);case h:var Te=this.$locale().weekStart||0,K=(N<Te?N+7:N)-Te;return X(W?ge-K:ge+(6-K),he);case u:case g:return Y(j+"Hours",0);case l:return Y(j+"Minutes",1);case a:return Y(j+"Seconds",2);case o:return Y(j+"Milliseconds",3);default:return this.clone()}},B.endOf=function(w){return this.startOf(w,!1)},B.$set=function(w,Q){var U,W=E.p(w),$="set"+(this.$u?"UTC":""),X=(U={},U[u]=$+"Date",U[g]=$+"Date",U[d]=$+"Month",U[p]=$+"FullYear",U[l]=$+"Hours",U[a]=$+"Minutes",U[o]=$+"Seconds",U[s]=$+"Milliseconds",U)[W],Y=W===u?this.$D+(Q-this.$W):Q;if(W===d||W===p){var N=this.clone().set(g,1);N.$d[X](Y),N.init(),this.$d=N.set(g,Math.min(this.$D,N.daysInMonth())).$d}else X&&this.$d[X](Y);return this.init(),this},B.set=function(w,Q){return this.clone().$set(w,Q)},B.get=function(w){return this[E.p(w)]()},B.add=function(w,Q){var U,W=this;w=Number(w);var $=E.p(Q),X=function(he){var ge=C(W);return E.w(ge.date(ge.date()+Math.round(he*w)),W)};if($===d)return this.set(d,this.$M+w);if($===p)return this.set(p,this.$y+w);if($===u)return X(1);if($===h)return X(7);var Y=(U={},U[a]=r,U[l]=i,U[o]=n,U)[$]||1,N=this.$d.getTime()+w*Y;return E.w(N,this)},B.subtract=function(w,Q){return this.add(-1*w,Q)},B.format=function(w){var Q=this,U=this.$locale();if(!this.isValid())return U.invalidDate||m;var W=w||"YYYY-MM-DDTHH:mm:ssZ",$=E.z(this),X=this.$H,Y=this.$m,N=this.$M,he=U.weekdays,ge=U.months,j=U.meridiem,Te=function(H,G,z,D){return H&&(H[G]||H(Q,W))||z[G].slice(0,D)},K=function(H){return E.s(X%12||12,H,"0")},ee=j||function(H,G,z){var D=H<12?"AM":"PM";return z?D.toLowerCase():D};return W.replace(b,function(H,G){return G||function(z){switch(z){case"YY":return String(Q.$y).slice(-2);case"YYYY":return E.s(Q.$y,4,"0");case"M":return N+1;case"MM":return E.s(N+1,2,"0");case"MMM":return Te(U.monthsShort,N,ge,3);case"MMMM":return Te(ge,N);case"D":return Q.$D;case"DD":return E.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return Te(U.weekdaysMin,Q.$W,he,2);case"ddd":return Te(U.weekdaysShort,Q.$W,he,3);case"dddd":return he[Q.$W];case"H":return String(X);case"HH":return E.s(X,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return ee(X,Y,!0);case"A":return ee(X,Y,!1);case"m":return String(Y);case"mm":return E.s(Y,2,"0");case"s":return String(Q.$s);case"ss":return E.s(Q.$s,2,"0");case"SSS":return E.s(Q.$ms,3,"0");case"Z":return $}return null}(H)||$.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(w,Q,U){var W,$=this,X=E.p(Q),Y=C(w),N=(Y.utcOffset()-this.utcOffset())*r,he=this-Y,ge=function(){return E.m($,Y)};switch(X){case p:W=ge()/12;break;case d:W=ge();break;case f:W=ge()/3;break;case h:W=(he-N)/6048e5;break;case u:W=(he-N)/864e5;break;case l:W=he/i;break;case a:W=he/r;break;case o:W=he/n;break;default:W=he}return U?W:E.a(W)},B.daysInMonth=function(){return this.endOf(d).$D},B.$locale=function(){return v[this.$L]},B.locale=function(w,Q){if(!w)return this.$L;var U=this.clone(),W=M(w,Q,!0);return W&&(U.$L=W),U},B.clone=function(){return E.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},k}(),L=_.prototype;return C.prototype=L,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",p],["$D",g]].forEach(function(k){L[k[1]]=function(B){return this.$g(B,k[0],k[1])}}),C.extend=function(k,B){return k.$i||(k(B,_,C),k.$i=!0),C},C.locale=M,C.isDayjs=I,C.unix=function(k){return C(1e3*k)},C.en=v[A],C.Ls=v,C.p={},C})})(BB);var n$e=BB.exports;const Gi=Th(n$e);var Il={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeUrl=t.BLANK_URL=void 0;var e=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,r=/&(newline|tab);/gi,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,s=/^.+(:|&colon;)/gim,o=[".","/"];t.BLANK_URL="about:blank";function a(h){return o.indexOf(h[0])>-1}function l(h){var d=h.replace(i,"");return d.replace(n,function(f,p){return String.fromCharCode(p)})}function u(h){if(!h)return t.BLANK_URL;var d=l(h).replace(r,"").replace(i,"").trim();if(!d)return t.BLANK_URL;if(a(d))return d;var f=d.match(s);if(!f)return d;var p=f[0];return e.test(p)?t.BLANK_URL:d}t.sanitizeUrl=u})(Il);function ob(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r$e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pE(t){let e,n,r;t.length!==2?(e=ob,n=(a,l)=>ob(t(a),l),r=(a,l)=>t(a)-l):(e=t===ob||t===r$e?t:i$e,n=t,r=t);function i(a,l,u=0,h=a.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;n(a[d],l)<0?u=d+1:h=d}while(u<h)}return u}function s(a,l,u=0,h=a.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;n(a[d],l)<=0?u=d+1:h=d}while(u<h)}return u}function o(a,l,u=0,h=a.length){const d=i(a,l,u,h-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function i$e(){return 0}function s$e(t){return t===null?NaN:+t}const o$e=pE(ob),a$e=o$e.right;pE(s$e).center;class Y8 extends Map{constructor(e,n=u$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Z8(this,e))}has(e){return super.has(Z8(this,e))}set(e,n){return super.set(l$e(this,e),n)}delete(e){return super.delete(c$e(this,e))}}function Z8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function l$e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function c$e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function u$e(t){return t!==null&&typeof t=="object"?t.valueOf():t}const h$e=Math.sqrt(50),d$e=Math.sqrt(10),f$e=Math.sqrt(2);function b2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=h$e?10:s>=d$e?5:s>=f$e?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?b2(t,e,n*2):[a,l,u]}function p$e(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?b2(e,t,n):b2(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function V3(t,e,n){return e=+e,t=+t,n=+n,b2(t,e,n)[2]}function W3(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?V3(e,t,n):V3(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function g$e(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function m$e(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function y$e(t){return t}var ab=1,zw=2,U3=3,M1=4,X8=1e-6;function b$e(t){return"translate("+t+",0)"}function O$e(t){return"translate(0,"+t+")"}function k$e(t){return e=>+t(e)}function x$e(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function w$e(){return!this.__axis}function QB(t,e){var n=[],r=null,i=null,s=6,o=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ab||t===M1?-1:1,h=t===M1||t===zw?"x":"y",d=t===ab||t===U3?b$e:O$e;function f(p){var g=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):y$e),y=Math.max(s,0)+a,b=e.range(),O=+b[0]+l,x=+b[b.length-1]+l,T=(e.bandwidth?x$e:k$e)(e.copy(),l),A=p.selection?p.selection():p,v=A.selectAll(".domain").data([null]),S=A.selectAll(".tick").data(g,e).order(),I=S.exit(),M=S.enter().append("g").attr("class","tick"),C=S.select("line"),E=S.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(M),C=C.merge(M.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),E=E.merge(M.append("text").attr("fill","currentColor").attr(h,u*y).attr("dy",t===ab?"0em":t===U3?"0.71em":"0.32em")),p!==A&&(v=v.transition(p),S=S.transition(p),C=C.transition(p),E=E.transition(p),I=I.transition(p).attr("opacity",X8).attr("transform",function(_){return isFinite(_=T(_))?d(_+l):this.getAttribute("transform")}),M.attr("opacity",X8).attr("transform",function(_){var L=this.parentNode.__axis;return d((L&&isFinite(L=L(_))?L:T(_))+l)})),I.remove(),v.attr("d",t===M1||t===zw?o?"M"+u*o+","+O+"H"+l+"V"+x+"H"+u*o:"M"+l+","+O+"V"+x:o?"M"+O+","+u*o+"V"+l+"H"+x+"V"+u*o:"M"+O+","+l+"H"+x),S.attr("opacity",1).attr("transform",function(_){return d(T(_)+l)}),C.attr(h+"2",u*s),E.attr(h,u*y).text(m),A.filter(w$e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===zw?"start":t===M1?"end":"middle"),A.each(function(){this.__axis=T})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(s=o=+p,f):s},f.tickSizeInner=function(p){return arguments.length?(s=+p,f):s},f.tickSizeOuter=function(p){return arguments.length?(o=+p,f):o},f.tickPadding=function(p){return arguments.length?(a=+p,f):a},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function _$e(t){return QB(ab,t)}function v$e(t){return QB(U3,t)}var S$e={value:()=>{}};function zB(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new lb(n)}function lb(t){this._=t}function C$e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}lb.prototype=zB.prototype={constructor:lb,on:function(t,e){var n=this._,r=C$e(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=E$e(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=H8(n[i],t.name,e);else if(e==null)for(i in n)n[i]=H8(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new lb(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function E$e(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function H8(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=S$e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var j3="http://www.w3.org/1999/xhtml";const G8={svg:"http://www.w3.org/2000/svg",xhtml:j3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rk(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),G8.hasOwnProperty(e)?{space:G8[e],local:t}:t}function T$e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===j3&&e.documentElement.namespaceURI===j3?e.createElement(t):e.createElementNS(n,t)}}function D$e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function VB(t){var e=Rk(t);return(e.local?D$e:T$e)(e)}function A$e(){}function gE(t){return t==null?A$e:function(){return this.querySelector(t)}}function M$e(t){typeof t!="function"&&(t=gE(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,h=0;h<o;++h)(l=s[h])&&(u=t.call(l,l.__data__,h,s))&&("__data__"in l&&(u.__data__=l.__data__),a[h]=u);return new Ii(r,this._parents)}function WB(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function P$e(){return[]}function UB(t){return t==null?P$e:function(){return this.querySelectorAll(t)}}function $$e(t){return function(){return WB(t.apply(this,arguments))}}function R$e(t){typeof t=="function"?t=$$e(t):t=UB(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new Ii(r,i)}function jB(t){return function(){return this.matches(t)}}function qB(t){return function(e){return e.matches(t)}}var L$e=Array.prototype.find;function I$e(t){return function(){return L$e.call(this.children,t)}}function N$e(){return this.firstElementChild}function F$e(t){return this.select(t==null?N$e:I$e(typeof t=="function"?t:qB(t)))}var B$e=Array.prototype.filter;function Q$e(){return Array.from(this.children)}function z$e(t){return function(){return B$e.call(this.children,t)}}function V$e(t){return this.selectAll(t==null?Q$e:z$e(typeof t=="function"?t:qB(t)))}function W$e(t){typeof t!="function"&&(t=jB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new Ii(r,this._parents)}function YB(t){return new Array(t.length)}function U$e(){return new Ii(this._enter||this._groups.map(YB),this._parents)}function O2(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}O2.prototype={constructor:O2,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function j$e(t){return function(){return t}}function q$e(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new O2(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function Y$e(t,e,n,r,i,s,o){var a,l,u=new Map,h=e.length,d=s.length,f=new Array(h),p;for(a=0;a<h;++a)(l=e[a])&&(f[a]=p=o.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=o.call(t,s[a],a,s)+"",(l=u.get(p))?(r[a]=l,l.__data__=s[a],u.delete(p)):n[a]=new O2(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function Z$e(t){return t.__data__}function X$e(t,e){if(!arguments.length)return Array.from(this,Z$e);var n=e?Y$e:q$e,r=this._parents,i=this._groups;typeof t!="function"&&(t=j$e(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var h=r[u],d=i[u],f=d.length,p=H$e(t.call(h,h&&h.__data__,u,r)),g=p.length,m=a[u]=new Array(g),y=o[u]=new Array(g),b=l[u]=new Array(f);n(h,d,m,y,b,p,e);for(var O=0,x=0,T,A;O<g;++O)if(T=m[O]){for(O>=x&&(x=O+1);!(A=y[x])&&++x<g;);T._next=A||null}}return o=new Ii(o,r),o._enter=a,o._exit=l,o}function H$e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function G$e(){return new Ii(this._exit||this._groups.map(YB),this._parents)}function K$e(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function J$e(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],h=r[l],d=u.length,f=a[l]=new Array(d),p,g=0;g<d;++g)(p=u[g]||h[g])&&(f[g]=p);for(;l<i;++l)a[l]=n[l];return new Ii(a,this._parents)}function e9e(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function t9e(t){t||(t=n9e);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,h=0;h<a;++h)(u=o[h])&&(l[h]=u);l.sort(e)}return new Ii(i,this._parents).order()}function n9e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function r9e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function i9e(){return Array.from(this)}function s9e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function o9e(){let t=0;for(const e of this)++t;return t}function a9e(){return!this.node()}function l9e(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function c9e(t){return function(){this.removeAttribute(t)}}function u9e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function h9e(t,e){return function(){this.setAttribute(t,e)}}function d9e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function f9e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function p9e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function g9e(t,e){var n=Rk(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?u9e:c9e:typeof e=="function"?n.local?p9e:f9e:n.local?d9e:h9e)(n,e))}function ZB(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function m9e(t){return function(){this.style.removeProperty(t)}}function y9e(t,e,n){return function(){this.style.setProperty(t,e,n)}}function b9e(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function O9e(t,e,n){return arguments.length>1?this.each((e==null?m9e:typeof e=="function"?b9e:y9e)(t,e,n??"")):tf(this.node(),t)}function tf(t,e){return t.style.getPropertyValue(e)||ZB(t).getComputedStyle(t,null).getPropertyValue(e)}function k9e(t){return function(){delete this[t]}}function x9e(t,e){return function(){this[t]=e}}function w9e(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function _9e(t,e){return arguments.length>1?this.each((e==null?k9e:typeof e=="function"?w9e:x9e)(t,e)):this.node()[t]}function XB(t){return t.trim().split(/^|\s+/)}function mE(t){return t.classList||new HB(t)}function HB(t){this._node=t,this._names=XB(t.getAttribute("class")||"")}HB.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function GB(t,e){for(var n=mE(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function KB(t,e){for(var n=mE(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function v9e(t){return function(){GB(this,t)}}function S9e(t){return function(){KB(this,t)}}function C9e(t,e){return function(){(e.apply(this,arguments)?GB:KB)(this,t)}}function E9e(t,e){var n=XB(t+"");if(arguments.length<2){for(var r=mE(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?C9e:e?v9e:S9e)(n,e))}function T9e(){this.textContent=""}function D9e(t){return function(){this.textContent=t}}function A9e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function M9e(t){return arguments.length?this.each(t==null?T9e:(typeof t=="function"?A9e:D9e)(t)):this.node().textContent}function P9e(){this.innerHTML=""}function $9e(t){return function(){this.innerHTML=t}}function R9e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function L9e(t){return arguments.length?this.each(t==null?P9e:(typeof t=="function"?R9e:$9e)(t)):this.node().innerHTML}function I9e(){this.nextSibling&&this.parentNode.appendChild(this)}function N9e(){return this.each(I9e)}function F9e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function B9e(){return this.each(F9e)}function Q9e(t){var e=typeof t=="function"?t:VB(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function z9e(){return null}function V9e(t,e){var n=typeof t=="function"?t:VB(t),r=e==null?z9e:typeof e=="function"?e:gE(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function W9e(){var t=this.parentNode;t&&t.removeChild(this)}function U9e(){return this.each(W9e)}function j9e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function q9e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Y9e(t){return this.select(t?q9e:j9e)}function Z9e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function X9e(t){return function(e){t.call(this,e,this.__data__)}}function H9e(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function G9e(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function K9e(t,e,n){return function(){var r=this.__on,i,s=X9e(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function J9e(t,e,n){var r=H9e(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,h;l<u;++l)for(i=0,h=a[l];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(a=e?K9e:G9e,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function JB(t,e,n){var r=ZB(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function eRe(t,e){return function(){return JB(this,t,e)}}function tRe(t,e){return function(){return JB(this,t,e.apply(this,arguments))}}function nRe(t,e){return this.each((typeof e=="function"?tRe:eRe)(t,e))}function*rRe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var yE=[null];function Ii(t,e){this._groups=t,this._parents=e}function Q0(){return new Ii([[document.documentElement]],yE)}function iRe(){return this}Ii.prototype=Q0.prototype={constructor:Ii,select:M$e,selectAll:R$e,selectChild:F$e,selectChildren:V$e,filter:W$e,data:X$e,enter:U$e,exit:G$e,join:K$e,merge:J$e,selection:iRe,order:e9e,sort:t9e,call:r9e,nodes:i9e,node:s9e,size:o9e,empty:a9e,each:l9e,attr:g9e,style:O9e,property:_9e,classed:E9e,text:M9e,html:L9e,raise:N9e,lower:B9e,append:Q9e,insert:V9e,remove:U9e,clone:Y9e,datum:Z9e,on:J9e,dispatch:nRe,[Symbol.iterator]:rRe};function De(t){return typeof t=="string"?new Ii([[document.querySelector(t)]],[document.documentElement]):new Ii([[t]],yE)}function bE(t){return typeof t=="string"?new Ii([document.querySelectorAll(t)],[document.documentElement]):new Ii([WB(t)],yE)}function z0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Lk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ah(){}var xm=.7,k2=1/xm,Dd="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sRe=/^#([0-9a-f]{3,8})$/,oRe=new RegExp(`^rgb\\(${Dd},${Dd},${Dd}\\)$`),aRe=new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),lRe=new RegExp(`^rgba\\(${Dd},${Dd},${Dd},${wm}\\)$`),cRe=new RegExp(`^rgba\\(${_a},${_a},${_a},${wm}\\)$`),uRe=new RegExp(`^hsl\\(${wm},${_a},${_a}\\)$`),hRe=new RegExp(`^hsla\\(${wm},${_a},${_a},${wm}\\)$`),K8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};z0(Ah,oh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:J8,formatHex:J8,formatHex8:dRe,formatHsl:fRe,formatRgb:e7,toString:e7});function J8(){return this.rgb().formatHex()}function dRe(){return this.rgb().formatHex8()}function fRe(){return tQ(this).formatHsl()}function e7(){return this.rgb().formatRgb()}function oh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sRe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?t7(e):n===3?new ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?P1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?P1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oRe.exec(t))?new ui(e[1],e[2],e[3],1):(e=aRe.exec(t))?new ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lRe.exec(t))?P1(e[1],e[2],e[3],e[4]):(e=cRe.exec(t))?P1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uRe.exec(t))?i7(e[1],e[2]/100,e[3]/100,1):(e=hRe.exec(t))?i7(e[1],e[2]/100,e[3]/100,e[4]):K8.hasOwnProperty(t)?t7(K8[t]):t==="transparent"?new ui(NaN,NaN,NaN,0):null}function t7(t){return new ui(t>>16&255,t>>8&255,t&255,1)}function P1(t,e,n,r){return r<=0&&(t=e=n=NaN),new ui(t,e,n,r)}function eQ(t){return t instanceof Ah||(t=oh(t)),t?(t=t.rgb(),new ui(t.r,t.g,t.b,t.opacity)):new ui}function q3(t,e,n,r){return arguments.length===1?eQ(t):new ui(t,e,n,r??1)}function ui(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}z0(ui,q3,Lk(Ah,{brighter(t){return t=t==null?k2:Math.pow(k2,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xm:Math.pow(xm,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ui(Ku(this.r),Ku(this.g),Ku(this.b),x2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n7,formatHex:n7,formatHex8:pRe,formatRgb:r7,toString:r7}));function n7(){return`#${Ru(this.r)}${Ru(this.g)}${Ru(this.b)}`}function pRe(){return`#${Ru(this.r)}${Ru(this.g)}${Ru(this.b)}${Ru((isNaN(this.opacity)?1:this.opacity)*255)}`}function r7(){const t=x2(this.opacity);return`${t===1?"rgb(":"rgba("}${Ku(this.r)}, ${Ku(this.g)}, ${Ku(this.b)}${t===1?")":`, ${t})`}`}function x2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ku(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ru(t){return t=Ku(t),(t<16?"0":"")+t.toString(16)}function i7(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oo(t,e,n,r)}function tQ(t){if(t instanceof Oo)return new Oo(t.h,t.s,t.l,t.opacity);if(t instanceof Ah||(t=oh(t)),!t)return new Oo;if(t instanceof Oo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Oo(o,a,l,t.opacity)}function gRe(t,e,n,r){return arguments.length===1?tQ(t):new Oo(t,e,n,r??1)}function Oo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}z0(Oo,gRe,Lk(Ah,{brighter(t){return t=t==null?k2:Math.pow(k2,t),new Oo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xm:Math.pow(xm,t),new Oo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ui(Vw(t>=240?t-240:t+120,i,r),Vw(t,i,r),Vw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Oo(s7(this.h),$1(this.s),$1(this.l),x2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=x2(this.opacity);return`${t===1?"hsl(":"hsla("}${s7(this.h)}, ${$1(this.s)*100}%, ${$1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function s7(t){return t=(t||0)%360,t<0?t+360:t}function $1(t){return Math.max(0,Math.min(1,t||0))}function Vw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mRe=Math.PI/180,yRe=180/Math.PI,w2=18,nQ=.96422,rQ=1,iQ=.82521,sQ=4/29,Ad=6/29,oQ=3*Ad*Ad,bRe=Ad*Ad*Ad;function aQ(t){if(t instanceof va)return new va(t.l,t.a,t.b,t.opacity);if(t instanceof ul)return lQ(t);t instanceof ui||(t=eQ(t));var e=qw(t.r),n=qw(t.g),r=qw(t.b),i=Ww((.2225045*e+.7168786*n+.0606169*r)/rQ),s,o;return e===n&&n===r?s=o=i:(s=Ww((.4360747*e+.3850649*n+.1430804*r)/nQ),o=Ww((.0139322*e+.0971045*n+.7141733*r)/iQ)),new va(116*i-16,500*(s-i),200*(i-o),t.opacity)}function ORe(t,e,n,r){return arguments.length===1?aQ(t):new va(t,e,n,r??1)}function va(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}z0(va,ORe,Lk(Ah,{brighter(t){return new va(this.l+w2*(t??1),this.a,this.b,this.opacity)},darker(t){return new va(this.l-w2*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=nQ*Uw(e),t=rQ*Uw(t),n=iQ*Uw(n),new ui(jw(3.1338561*e-1.6168667*t-.4906146*n),jw(-.9787684*e+1.9161415*t+.033454*n),jw(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ww(t){return t>bRe?Math.pow(t,1/3):t/oQ+sQ}function Uw(t){return t>Ad?t*t*t:oQ*(t-sQ)}function jw(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function qw(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kRe(t){if(t instanceof ul)return new ul(t.h,t.c,t.l,t.opacity);if(t instanceof va||(t=aQ(t)),t.a===0&&t.b===0)return new ul(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*yRe;return new ul(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Y3(t,e,n,r){return arguments.length===1?kRe(t):new ul(t,e,n,r??1)}function ul(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function lQ(t){if(isNaN(t.h))return new va(t.l,0,0,t.opacity);var e=t.h*mRe;return new va(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}z0(ul,Y3,Lk(Ah,{brighter(t){return new ul(this.h,this.c,this.l+w2*(t??1),this.opacity)},darker(t){return new ul(this.h,this.c,this.l-w2*(t??1),this.opacity)},rgb(){return lQ(this).rgb()}}));const Ik=t=>()=>t;function cQ(t,e){return function(n){return t+n*e}}function xRe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wRe(t,e){var n=e-t;return n?cQ(t,n>180||n<-180?n-360*Math.round(n/360):n):Ik(isNaN(t)?e:t)}function _Re(t){return(t=+t)==1?Ag:function(e,n){return n-e?xRe(e,n,t):Ik(isNaN(e)?n:e)}}function Ag(t,e){var n=e-t;return n?cQ(t,n):Ik(isNaN(t)?e:t)}const _2=function t(e){var n=_Re(e);function r(i,s){var o=n((i=q3(i)).r,(s=q3(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=Ag(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function vRe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function SRe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CRe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=OE(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function ERe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function mo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function TRe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=OE(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Z3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yw=new RegExp(Z3.source,"g");function DRe(t){return function(){return t}}function ARe(t){return function(e){return t(e)+""}}function uQ(t,e){var n=Z3.lastIndex=Yw.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Z3.exec(t))&&(i=Yw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:mo(r,i)})),n=Yw.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?ARe(l[0].x):DRe(e):(e=l.length,function(u){for(var h=0,d;h<e;++h)a[(d=l[h]).i]=d.x(u);return a.join("")})}function OE(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ik(e):(n==="number"?mo:n==="string"?(r=oh(e))?(e=r,_2):uQ:e instanceof oh?_2:e instanceof Date?ERe:SRe(e)?vRe:Array.isArray(e)?CRe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?TRe:mo)(t,e)}function MRe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var o7=180/Math.PI,X3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hQ(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*o7,skewX:Math.atan(l)*o7,scaleX:o,scaleY:a}}var R1;function PRe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?X3:hQ(e.a,e.b,e.c,e.d,e.e,e.f)}function $Re(t){return t==null||(R1||(R1=document.createElementNS("http://www.w3.org/2000/svg","g")),R1.setAttribute("transform",t),!(t=R1.transform.baseVal.consolidate()))?X3:(t=t.matrix,hQ(t.a,t.b,t.c,t.d,t.e,t.f))}function dQ(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,h,d,f,p,g){if(u!==d||h!==f){var m=p.push("translate(",null,e,null,n);g.push({i:m-4,x:mo(u,d)},{i:m-2,x:mo(h,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function o(u,h,d,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:mo(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}function a(u,h,d,f){u!==h?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:mo(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}function l(u,h,d,f,p,g){if(u!==d||h!==f){var m=p.push(i(p)+"scale(",null,",",null,")");g.push({i:m-4,x:mo(u,d)},{i:m-2,x:mo(h,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,h){var d=[],f=[];return u=t(u),h=t(h),s(u.translateX,u.translateY,h.translateX,h.translateY,d,f),o(u.rotate,h.rotate,d,f),a(u.skewX,h.skewX,d,f),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,f),u=h=null,function(p){for(var g=-1,m=f.length,y;++g<m;)d[(y=f[g]).i]=y.x(p);return d.join("")}}}var RRe=dQ(PRe,"px, ","px)","deg)"),LRe=dQ($Re,", ",")",")");function IRe(t){return function(e,n){var r=t((e=Y3(e)).h,(n=Y3(n)).h),i=Ag(e.c,n.c),s=Ag(e.l,n.l),o=Ag(e.opacity,n.opacity);return function(a){return e.h=r(a),e.c=i(a),e.l=s(a),e.opacity=o(a),e+""}}}const NRe=IRe(wRe);var nf=0,Wp=0,up=0,fQ=1e3,v2,Up,S2=0,ah=0,Nk=0,_m=typeof performance=="object"&&performance.now?performance:Date,pQ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kE(){return ah||(pQ(FRe),ah=_m.now()+Nk)}function FRe(){ah=0}function C2(){this._call=this._time=this._next=null}C2.prototype=gQ.prototype={constructor:C2,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?kE():+n)+(e==null?0:+e),!this._next&&Up!==this&&(Up?Up._next=this:v2=this,Up=this),this._call=t,this._time=n,H3()},stop:function(){this._call&&(this._call=null,this._time=1/0,H3())}};function gQ(t,e,n){var r=new C2;return r.restart(t,e,n),r}function BRe(){kE(),++nf;for(var t=v2,e;t;)(e=ah-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nf}function a7(){ah=(S2=_m.now())+Nk,nf=Wp=0;try{BRe()}finally{nf=0,zRe(),ah=0}}function QRe(){var t=_m.now(),e=t-S2;e>fQ&&(Nk-=e,S2=t)}function zRe(){for(var t,e=v2,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:v2=n);Up=t,H3(r)}function H3(t){if(!nf){Wp&&(Wp=clearTimeout(Wp));var e=t-ah;e>24?(t<1/0&&(Wp=setTimeout(a7,t-_m.now()-Nk)),up&&(up=clearInterval(up))):(up||(S2=_m.now(),up=setInterval(QRe,fQ)),nf=1,pQ(a7))}}function l7(t,e,n){var r=new C2;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var VRe=zB("start","end","cancel","interrupt"),WRe=[],mQ=0,c7=1,G3=2,cb=3,u7=4,K3=5,ub=6;function Fk(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;URe(t,n,{name:e,index:r,group:i,on:VRe,tween:WRe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:mQ})}function xE(t,e){var n=Wo(t,e);if(n.state>mQ)throw new Error("too late; already scheduled");return n}function La(t,e){var n=Wo(t,e);if(n.state>cb)throw new Error("too late; already running");return n}function Wo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function URe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=gQ(s,0,n.time);function s(u){n.state=c7,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var h,d,f,p;if(n.state!==c7)return l();for(h in r)if(p=r[h],p.name===n.name){if(p.state===cb)return l7(o);p.state===u7?(p.state=ub,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=ub,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(l7(function(){n.state===cb&&(n.state=u7,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=G3,n.on.call("start",t,t.__data__,n.index,n.group),n.state===G3){for(n.state=cb,i=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=K3,1),d=-1,f=i.length;++d<f;)i[d].call(t,h);n.state===K3&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=ub,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function jRe(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>G3&&r.state<K3,r.state=ub,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function qRe(t){return this.each(function(){jRe(this,t)})}function YRe(t,e){var n,r;return function(){var i=La(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function ZRe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=La(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function XRe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Wo(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?YRe:ZRe)(n,t,e))}function wE(t,e,n){var r=t._id;return t.each(function(){var i=La(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Wo(i,r).value[e]}}function yQ(t,e){var n;return(typeof e=="number"?mo:e instanceof oh?_2:(n=oh(e))?(e=n,_2):uQ)(t,e)}function HRe(t){return function(){this.removeAttribute(t)}}function GRe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function KRe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function JRe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function eLe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function tLe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function nLe(t,e){var n=Rk(t),r=n==="transform"?LRe:yQ;return this.attrTween(t,typeof e=="function"?(n.local?tLe:eLe)(n,r,wE(this,"attr."+t,e)):e==null?(n.local?GRe:HRe)(n):(n.local?JRe:KRe)(n,r,e))}function rLe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function iLe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function sLe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&iLe(t,s)),n}return i._value=e,i}function oLe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&rLe(t,s)),n}return i._value=e,i}function aLe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Rk(t);return this.tween(n,(r.local?sLe:oLe)(r,e))}function lLe(t,e){return function(){xE(this,t).delay=+e.apply(this,arguments)}}function cLe(t,e){return e=+e,function(){xE(this,t).delay=e}}function uLe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lLe:cLe)(e,t)):Wo(this.node(),e).delay}function hLe(t,e){return function(){La(this,t).duration=+e.apply(this,arguments)}}function dLe(t,e){return e=+e,function(){La(this,t).duration=e}}function fLe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hLe:dLe)(e,t)):Wo(this.node(),e).duration}function pLe(t,e){if(typeof e!="function")throw new Error;return function(){La(this,t).ease=e}}function gLe(t){var e=this._id;return arguments.length?this.each(pLe(e,t)):Wo(this.node(),e).ease}function mLe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;La(this,t).ease=n}}function yLe(t){if(typeof t!="function")throw new Error;return this.each(mLe(this._id,t))}function bLe(t){typeof t!="function"&&(t=jB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new El(r,this._parents,this._name,this._id)}function OLe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],h=l.length,d=o[a]=new Array(h),f,p=0;p<h;++p)(f=l[p]||u[p])&&(d[p]=f);for(;a<r;++a)o[a]=e[a];return new El(o,this._parents,this._name,this._id)}function kLe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function xLe(t,e,n){var r,i,s=kLe(e)?xE:La;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function wLe(t,e){var n=this._id;return arguments.length<2?Wo(this.node(),n).on.on(t):this.each(xLe(n,t,e))}function _Le(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function vLe(){return this.on("end.remove",_Le(this._id))}function SLe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=gE(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),h,d,f=0;f<l;++f)(h=a[f])&&(d=t.call(h,h.__data__,f,a))&&("__data__"in h&&(d.__data__=h.__data__),u[f]=d,Fk(u[f],e,n,f,u,Wo(h,n)));return new El(s,this._parents,e,n)}function CLe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=UB(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var f=t.call(h,h.__data__,d,l),p,g=Wo(h,n),m=0,y=f.length;m<y;++m)(p=f[m])&&Fk(p,e,n,m,f,g);s.push(f),o.push(h)}return new El(s,o,e,n)}var ELe=Q0.prototype.constructor;function TLe(){return new ELe(this._groups,this._parents)}function DLe(t,e){var n,r,i;return function(){var s=tf(this,t),o=(this.style.removeProperty(t),tf(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function bQ(t){return function(){this.style.removeProperty(t)}}function ALe(t,e,n){var r,i=n+"",s;return function(){var o=tf(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function MLe(t,e,n){var r,i,s;return function(){var o=tf(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),tf(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function PLe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=La(this,t),u=l.on,h=l.value[s]==null?a||(a=bQ(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(o,i=h),l.on=r}}function $Le(t,e,n){var r=(t+="")=="transform"?RRe:yQ;return e==null?this.styleTween(t,DLe(t,r)).on("end.style."+t,bQ(t)):typeof e=="function"?this.styleTween(t,MLe(t,r,wE(this,"style."+t,e))).each(PLe(this._id,t)):this.styleTween(t,ALe(t,r,e),n).on("end.style."+t,null)}function RLe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function LLe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&RLe(t,o,n)),r}return s._value=e,s}function ILe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,LLe(t,e,n??""))}function NLe(t){return function(){this.textContent=t}}function FLe(t){return function(){var e=t(this);this.textContent=e??""}}function BLe(t){return this.tween("text",typeof t=="function"?FLe(wE(this,"text",t)):NLe(t==null?"":t+""))}function QLe(t){return function(e){this.textContent=t.call(this,e)}}function zLe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&QLe(i)),e}return r._value=t,r}function VLe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,zLe(t))}function WLe(){for(var t=this._name,e=this._id,n=OQ(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var h=Wo(l,e);Fk(l,t,n,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new El(r,this._parents,t,n)}function ULe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=La(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var jLe=0;function El(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function OQ(){return++jLe}var qa=Q0.prototype;El.prototype={constructor:El,select:SLe,selectAll:CLe,selectChild:qa.selectChild,selectChildren:qa.selectChildren,filter:bLe,merge:OLe,selection:TLe,transition:WLe,call:qa.call,nodes:qa.nodes,node:qa.node,size:qa.size,empty:qa.empty,each:qa.each,on:wLe,attr:nLe,attrTween:aLe,style:$Le,styleTween:ILe,text:BLe,textTween:VLe,remove:vLe,tween:XRe,delay:uLe,duration:fLe,ease:gLe,easeVarying:yLe,end:ULe,[Symbol.iterator]:qa[Symbol.iterator]};function qLe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var YLe={time:null,delay:0,duration:250,ease:qLe};function ZLe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function XLe(t){var e,n;t instanceof El?(e=t._id,t=t._name):(e=OQ(),(n=YLe).time=kE(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&Fk(l,t,e,u,o,n||ZLe(l,e));return new El(r,this._parents,t,e)}Q0.prototype.interrupt=qRe;Q0.prototype.transition=XLe;const J3=Math.PI,eS=2*J3,wu=1e-6,HLe=eS-wu;function kQ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function GLe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kQ;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class KLe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kQ:GLe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,h=o-e,d=a-n,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>wu)if(!(Math.abs(d*l-u*h)>wu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,g=i-a,m=l*l+u*u,y=p*p+g*g,b=Math.sqrt(m),O=Math.sqrt(f),x=s*Math.tan((J3-Math.acos((m+f-y)/(2*b*O)))/2),T=x/O,A=x/b;Math.abs(T-1)>wu&&this._append`L${e+T*h},${n+T*d}`,this._append`A${s},${s},0,0,${+(d*p>h*g)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,h=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>wu||Math.abs(this._y1-h)>wu)&&this._append`L${u},${h}`,r&&(f<0&&(f=f%eS+eS),f>HLe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:f>wu&&this._append`A${r},${r},0,${+(f>=J3)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function JLe(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function eIe(t,e){return fetch(t,e).then(JLe)}function tIe(t){return(e,n)=>eIe(e,n).then(r=>new DOMParser().parseFromString(r,t))}var nIe=tIe("image/svg+xml");function rIe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function E2(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function rf(t){return t=E2(Math.abs(t)),t?t[1]:NaN}function iIe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function sIe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var oIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T2(t){if(!(e=oIe.exec(t)))throw new Error("invalid format: "+t);var e;return new _E({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}T2.prototype=_E.prototype;function _E(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_E.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aIe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xQ;function lIe(t,e){var n=E2(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(xQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+E2(t,Math.max(0,e+s-1))[0]}function h7(t,e){var n=E2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const d7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rIe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>h7(t*100,e),r:h7,s:lIe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function f7(t){return t}var p7=Array.prototype.map,g7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cIe(t){var e=t.grouping===void 0||t.thousands===void 0?f7:iIe(p7.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?f7:sIe(p7.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=T2(d);var f=d.fill,p=d.align,g=d.sign,m=d.symbol,y=d.zero,b=d.width,O=d.comma,x=d.precision,T=d.trim,A=d.type;A==="n"?(O=!0,A="g"):d7[A]||(x===void 0&&(x=12),T=!0,A="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var v=m==="$"?n:m==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",S=m==="$"?r:/[%p]/.test(A)?o:"",I=d7[A],M=/[defgprs%]/.test(A);x=x===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(E){var _=v,L=S,k,B,w;if(A==="c")L=I(E)+L,E="";else{E=+E;var Q=E<0||1/E<0;if(E=isNaN(E)?l:I(Math.abs(E),x),T&&(E=aIe(E)),Q&&+E==0&&g!=="+"&&(Q=!1),_=(Q?g==="("?g:a:g==="-"||g==="("?"":g)+_,L=(A==="s"?g7[8+xQ/3]:"")+L+(Q&&g==="("?")":""),M){for(k=-1,B=E.length;++k<B;)if(w=E.charCodeAt(k),48>w||w>57){L=(w===46?i+E.slice(k+1):E.slice(k))+L,E=E.slice(0,k);break}}}O&&!y&&(E=e(E,1/0));var U=_.length+E.length+L.length,W=U<b?new Array(b-U+1).join(f):"";switch(O&&y&&(E=e(W+E,W.length?b-L.length:1/0),W=""),p){case"<":E=_+E+L+W;break;case"=":E=_+W+E+L;break;case"^":E=W.slice(0,U=W.length>>1)+_+E+L+W.slice(U);break;default:E=W+_+E+L;break}return s(E)}return C.toString=function(){return d+""},C}function h(d,f){var p=u((d=T2(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(rf(f)/3)))*3,m=Math.pow(10,-g),y=g7[8+g/3];return function(b){return p(m*b)+y}}return{format:u,formatPrefix:h}}var L1,wQ,_Q;uIe({thousands:",",grouping:[3],currency:["$",""]});function uIe(t){return L1=cIe(t),wQ=L1.format,_Q=L1.formatPrefix,L1}function hIe(t){return Math.max(0,-rf(Math.abs(t)))}function dIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rf(e)/3)))*3-rf(Math.abs(t)))}function fIe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rf(e)-rf(t))+1}function vE(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const m7=Symbol("implicit");function vQ(){var t=new Y8,e=[],n=[],r=m7;function i(s){let o=t.get(s);if(o===void 0){if(r!==m7)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Y8;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return vQ(e,n).unknown(r)},vE.apply(i,arguments),i}function pIe(t){return function(){return t}}function gIe(t){return+t}var y7=[0,1];function cd(t){return t}function tS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pIe(isNaN(e)?NaN:.5)}function mIe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yIe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=tS(i,r),s=n(o,s)):(r=tS(r,i),s=n(s,o)),function(a){return s(r(a))}}function bIe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=tS(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=a$e(t,a,1,r)-1;return s[l](i[l](a))}}function SQ(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function OIe(){var t=y7,e=y7,n=OE,r,i,s,o=cd,a,l,u;function h(){var f=Math.min(t.length,e.length);return o!==cd&&(o=mIe(t[0],t[f-1])),a=f>2?bIe:yIe,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(e,t.map(r),mo)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,gIe),h()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),h()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=MRe,h()},d.clamp=function(f){return arguments.length?(o=f?!0:cd,h()):o!==cd},d.interpolate=function(f){return arguments.length?(n=f,h()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,p){return r=f,i=p,h()}}function CQ(){return OIe()(cd,cd)}function kIe(t,e,n,r){var i=W3(t,e,n),s;switch(r=T2(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=dIe(i,o))&&(r.precision=s),_Q(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=fIe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=hIe(i))&&(r.precision=s-(r.type==="%")*2);break}}return wQ(r)}function xIe(t){var e=t.domain;return t.ticks=function(n){var r=e();return p$e(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return kIe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,h=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);h-- >0;){if(u=V3(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function EQ(){var t=CQ();return t.copy=function(){return SQ(t,EQ())},vE.apply(t,arguments),xIe(t)}function wIe(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}const Zw=new Date,Xw=new Date;function br(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},i.filter=s=>br(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(Zw.setTime(+s),Xw.setTime(+o),t(Zw),t(Xw),Math.floor(n(Zw,Xw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const D2=br(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);D2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?br(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):D2);D2.range;const hl=1e3,js=hl*60,dl=js*60,Tl=dl*24,SE=Tl*7,b7=Tl*30,Hw=Tl*365,ud=br(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*hl)},(t,e)=>(e-t)/hl,t=>t.getUTCSeconds());ud.range;const vm=br(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hl)},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getMinutes());vm.range;const _Ie=br(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCMinutes());_Ie.range;const Sm=br(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hl-t.getMinutes()*js)},(t,e)=>{t.setTime(+t+e*dl)},(t,e)=>(e-t)/dl,t=>t.getHours());Sm.range;const vIe=br(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*dl)},(t,e)=>(e-t)/dl,t=>t.getUTCHours());vIe.range;const lh=br(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*js)/Tl,t=>t.getDate()-1);lh.range;const CE=br(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tl,t=>t.getUTCDate()-1);CE.range;const SIe=br(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tl,t=>Math.floor(t/Tl));SIe.range;function Mh(t){return br(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*js)/SE)}const sf=Mh(0),A2=Mh(1),CIe=Mh(2),EIe=Mh(3),of=Mh(4),TIe=Mh(5),DIe=Mh(6);sf.range;A2.range;CIe.range;EIe.range;of.range;TIe.range;DIe.range;function Ph(t){return br(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/SE)}const TQ=Ph(0),M2=Ph(1),AIe=Ph(2),MIe=Ph(3),af=Ph(4),PIe=Ph(5),$Ie=Ph(6);TQ.range;M2.range;AIe.range;MIe.range;af.range;PIe.range;$Ie.range;const Cm=br(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Cm.range;const RIe=br(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RIe.range;const Dl=br(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:br(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Dl.range;const ch=br(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ch.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:br(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ch.range;function LIe(t,e,n,r,i,s){const o=[[ud,1,hl],[ud,5,5*hl],[ud,15,15*hl],[ud,30,30*hl],[s,1,js],[s,5,5*js],[s,15,15*js],[s,30,30*js],[i,1,dl],[i,3,3*dl],[i,6,6*dl],[i,12,12*dl],[r,1,Tl],[r,2,2*Tl],[n,1,SE],[e,1,b7],[e,3,3*b7],[t,1,Hw]];function a(u,h,d){const f=h<u;f&&([u,h]=[h,u]);const p=d&&typeof d.range=="function"?d:l(u,h,d),g=p?p.range(u,+h+1):[];return f?g.reverse():g}function l(u,h,d){const f=Math.abs(h-u)/d,p=pE(([,,y])=>y).right(o,f);if(p===o.length)return t.every(W3(u/Hw,h/Hw,d));if(p===0)return D2.every(Math.max(W3(u,h,d),1));const[g,m]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return g.every(m)}return[a,l]}const[IIe,NIe]=LIe(Dl,Cm,sf,lh,Sm,vm);function Gw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function FIe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=dp(i),h=fp(i),d=dp(s),f=fp(s),p=dp(o),g=fp(o),m=dp(a),y=fp(a),b=dp(l),O=fp(l),x={a:Q,A:U,b:W,B:$,c:null,d:v7,e:v7,f:aNe,g:yNe,G:ONe,H:iNe,I:sNe,j:oNe,L:DQ,m:lNe,M:cNe,p:X,q:Y,Q:E7,s:T7,S:uNe,u:hNe,U:dNe,V:fNe,w:pNe,W:gNe,x:null,X:null,y:mNe,Y:bNe,Z:kNe,"%":C7},T={a:N,A:he,b:ge,B:j,c:null,d:S7,e:S7,f:vNe,g:RNe,G:INe,H:xNe,I:wNe,j:_Ne,L:MQ,m:SNe,M:CNe,p:Te,q:K,Q:E7,s:T7,S:ENe,u:TNe,U:DNe,V:ANe,w:MNe,W:PNe,x:null,X:null,y:$Ne,Y:LNe,Z:NNe,"%":C7},A={a:C,A:E,b:_,B:L,c:k,d:w7,e:w7,f:eNe,g:x7,G:k7,H:_7,I:_7,j:HIe,L:JIe,m:XIe,M:GIe,p:M,q:ZIe,Q:nNe,s:rNe,S:KIe,u:WIe,U:UIe,V:jIe,w:VIe,W:qIe,x:B,X:w,y:x7,Y:k7,Z:YIe,"%":tNe};x.x=v(n,x),x.X=v(r,x),x.c=v(e,x),T.x=v(n,T),T.X=v(r,T),T.c=v(e,T);function v(ee,H){return function(G){var z=[],D=-1,F=0,R=ee.length,Z,P,ye;for(G instanceof Date||(G=new Date(+G));++D<R;)ee.charCodeAt(D)===37&&(z.push(ee.slice(F,D)),(P=O7[Z=ee.charAt(++D)])!=null?Z=ee.charAt(++D):P=Z==="e"?" ":"0",(ye=H[Z])&&(Z=ye(G,P)),z.push(Z),F=D+1);return z.push(ee.slice(F,D)),z.join("")}}function S(ee,H){return function(G){var z=hp(1900,void 0,1),D=I(z,ee,G+="",0),F,R;if(D!=G.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(H&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(F=Kw(hp(z.y,0,1)),R=F.getUTCDay(),F=R>4||R===0?M2.ceil(F):M2(F),F=CE.offset(F,(z.V-1)*7),z.y=F.getUTCFullYear(),z.m=F.getUTCMonth(),z.d=F.getUTCDate()+(z.w+6)%7):(F=Gw(hp(z.y,0,1)),R=F.getDay(),F=R>4||R===0?A2.ceil(F):A2(F),F=lh.offset(F,(z.V-1)*7),z.y=F.getFullYear(),z.m=F.getMonth(),z.d=F.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),R="Z"in z?Kw(hp(z.y,0,1)).getUTCDay():Gw(hp(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(R+5)%7:z.w+z.U*7-(R+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Kw(z)):Gw(z)}}function I(ee,H,G,z){for(var D=0,F=H.length,R=G.length,Z,P;D<F;){if(z>=R)return-1;if(Z=H.charCodeAt(D++),Z===37){if(Z=H.charAt(D++),P=A[Z in O7?H.charAt(D++):Z],!P||(z=P(ee,G,z))<0)return-1}else if(Z!=G.charCodeAt(z++))return-1}return z}function M(ee,H,G){var z=u.exec(H.slice(G));return z?(ee.p=h.get(z[0].toLowerCase()),G+z[0].length):-1}function C(ee,H,G){var z=p.exec(H.slice(G));return z?(ee.w=g.get(z[0].toLowerCase()),G+z[0].length):-1}function E(ee,H,G){var z=d.exec(H.slice(G));return z?(ee.w=f.get(z[0].toLowerCase()),G+z[0].length):-1}function _(ee,H,G){var z=b.exec(H.slice(G));return z?(ee.m=O.get(z[0].toLowerCase()),G+z[0].length):-1}function L(ee,H,G){var z=m.exec(H.slice(G));return z?(ee.m=y.get(z[0].toLowerCase()),G+z[0].length):-1}function k(ee,H,G){return I(ee,e,H,G)}function B(ee,H,G){return I(ee,n,H,G)}function w(ee,H,G){return I(ee,r,H,G)}function Q(ee){return o[ee.getDay()]}function U(ee){return s[ee.getDay()]}function W(ee){return l[ee.getMonth()]}function $(ee){return a[ee.getMonth()]}function X(ee){return i[+(ee.getHours()>=12)]}function Y(ee){return 1+~~(ee.getMonth()/3)}function N(ee){return o[ee.getUTCDay()]}function he(ee){return s[ee.getUTCDay()]}function ge(ee){return l[ee.getUTCMonth()]}function j(ee){return a[ee.getUTCMonth()]}function Te(ee){return i[+(ee.getUTCHours()>=12)]}function K(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var H=v(ee+="",x);return H.toString=function(){return ee},H},parse:function(ee){var H=S(ee+="",!1);return H.toString=function(){return ee},H},utcFormat:function(ee){var H=v(ee+="",T);return H.toString=function(){return ee},H},utcParse:function(ee){var H=S(ee+="",!0);return H.toString=function(){return ee},H}}}var O7={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,BIe=/^%/,QIe=/[\\^$*+?|[\]().{}]/g;function Ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function zIe(t){return t.replace(QIe,"\\$&")}function dp(t){return new RegExp("^(?:"+t.map(zIe).join("|")+")","i")}function fp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function VIe(t,e,n){var r=Pr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function WIe(t,e,n){var r=Pr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function UIe(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function jIe(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function qIe(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function k7(t,e,n){var r=Pr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function x7(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function YIe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ZIe(t,e,n){var r=Pr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function XIe(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function w7(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function HIe(t,e,n){var r=Pr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _7(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function GIe(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function KIe(t,e,n){var r=Pr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function JIe(t,e,n){var r=Pr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eNe(t,e,n){var r=Pr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tNe(t,e,n){var r=BIe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function nNe(t,e,n){var r=Pr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rNe(t,e,n){var r=Pr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function v7(t,e){return Ht(t.getDate(),e,2)}function iNe(t,e){return Ht(t.getHours(),e,2)}function sNe(t,e){return Ht(t.getHours()%12||12,e,2)}function oNe(t,e){return Ht(1+lh.count(Dl(t),t),e,3)}function DQ(t,e){return Ht(t.getMilliseconds(),e,3)}function aNe(t,e){return DQ(t,e)+"000"}function lNe(t,e){return Ht(t.getMonth()+1,e,2)}function cNe(t,e){return Ht(t.getMinutes(),e,2)}function uNe(t,e){return Ht(t.getSeconds(),e,2)}function hNe(t){var e=t.getDay();return e===0?7:e}function dNe(t,e){return Ht(sf.count(Dl(t)-1,t),e,2)}function AQ(t){var e=t.getDay();return e>=4||e===0?of(t):of.ceil(t)}function fNe(t,e){return t=AQ(t),Ht(of.count(Dl(t),t)+(Dl(t).getDay()===4),e,2)}function pNe(t){return t.getDay()}function gNe(t,e){return Ht(A2.count(Dl(t)-1,t),e,2)}function mNe(t,e){return Ht(t.getFullYear()%100,e,2)}function yNe(t,e){return t=AQ(t),Ht(t.getFullYear()%100,e,2)}function bNe(t,e){return Ht(t.getFullYear()%1e4,e,4)}function ONe(t,e){var n=t.getDay();return t=n>=4||n===0?of(t):of.ceil(t),Ht(t.getFullYear()%1e4,e,4)}function kNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ht(e/60|0,"0",2)+Ht(e%60,"0",2)}function S7(t,e){return Ht(t.getUTCDate(),e,2)}function xNe(t,e){return Ht(t.getUTCHours(),e,2)}function wNe(t,e){return Ht(t.getUTCHours()%12||12,e,2)}function _Ne(t,e){return Ht(1+CE.count(ch(t),t),e,3)}function MQ(t,e){return Ht(t.getUTCMilliseconds(),e,3)}function vNe(t,e){return MQ(t,e)+"000"}function SNe(t,e){return Ht(t.getUTCMonth()+1,e,2)}function CNe(t,e){return Ht(t.getUTCMinutes(),e,2)}function ENe(t,e){return Ht(t.getUTCSeconds(),e,2)}function TNe(t){var e=t.getUTCDay();return e===0?7:e}function DNe(t,e){return Ht(TQ.count(ch(t)-1,t),e,2)}function PQ(t){var e=t.getUTCDay();return e>=4||e===0?af(t):af.ceil(t)}function ANe(t,e){return t=PQ(t),Ht(af.count(ch(t),t)+(ch(t).getUTCDay()===4),e,2)}function MNe(t){return t.getUTCDay()}function PNe(t,e){return Ht(M2.count(ch(t)-1,t),e,2)}function $Ne(t,e){return Ht(t.getUTCFullYear()%100,e,2)}function RNe(t,e){return t=PQ(t),Ht(t.getUTCFullYear()%100,e,2)}function LNe(t,e){return Ht(t.getUTCFullYear()%1e4,e,4)}function INe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?af(t):af.ceil(t),Ht(t.getUTCFullYear()%1e4,e,4)}function NNe(){return"+0000"}function C7(){return"%"}function E7(t){return+t}function T7(t){return Math.floor(+t/1e3)}var Uh,P2;FNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FNe(t){return Uh=FIe(t),P2=Uh.format,Uh.parse,Uh.utcFormat,Uh.utcParse,Uh}function BNe(t){return new Date(t)}function QNe(t){return t instanceof Date?+t:+new Date(+t)}function $Q(t,e,n,r,i,s,o,a,l,u){var h=CQ(),d=h.invert,f=h.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),O=u("%b %d"),x=u("%B"),T=u("%Y");function A(v){return(l(v)<v?p:a(v)<v?g:o(v)<v?m:s(v)<v?y:r(v)<v?i(v)<v?b:O:n(v)<v?x:T)(v)}return h.invert=function(v){return new Date(d(v))},h.domain=function(v){return arguments.length?f(Array.from(v,QNe)):f().map(BNe)},h.ticks=function(v){var S=f();return t(S[0],S[S.length-1],v??10)},h.tickFormat=function(v,S){return S==null?A:u(S)},h.nice=function(v){var S=f();return(!v||typeof v.range!="function")&&(v=e(S[0],S[S.length-1],v??10)),v?f(wIe(S,v)):h},h.copy=function(){return SQ(h,$Q(t,e,n,r,i,s,o,a,l,u))},h}function zNe(){return vE.apply($Q(IIe,NIe,Dl,Cm,sf,lh,Sm,vm,ud,P2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jn(t){return function(){return t}}const D7=Math.abs,Hr=Math.atan2,fu=Math.cos,VNe=Math.max,Jw=Math.min,Ho=Math.sin,hd=Math.sqrt,Kr=1e-12,Em=Math.PI,$2=Em/2,hb=2*Em;function WNe(t){return t>1?0:t<-1?Em:Math.acos(t)}function A7(t){return t>=1?$2:t<=-1?-$2:Math.asin(t)}function RQ(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KLe(e)}function UNe(t){return t.innerRadius}function jNe(t){return t.outerRadius}function qNe(t){return t.startAngle}function YNe(t){return t.endAngle}function ZNe(t){return t&&t.padAngle}function XNe(t,e,n,r,i,s,o,a){var l=n-t,u=r-e,h=o-i,d=a-s,f=d*l-h*u;if(!(f*f<Kr))return f=(h*(e-s)-d*(t-i))/f,[t+f*l,e+f*u]}function I1(t,e,n,r,i,s,o){var a=t-n,l=e-r,u=(o?s:-s)/hd(a*a+l*l),h=u*l,d=-u*a,f=t+h,p=e+d,g=n+h,m=r+d,y=(f+g)/2,b=(p+m)/2,O=g-f,x=m-p,T=O*O+x*x,A=i-s,v=f*m-g*p,S=(x<0?-1:1)*hd(VNe(0,A*A*T-v*v)),I=(v*x-O*S)/T,M=(-v*O-x*S)/T,C=(v*x+O*S)/T,E=(-v*O+x*S)/T,_=I-y,L=M-b,k=C-y,B=E-b;return _*_+L*L>k*k+B*B&&(I=C,M=E),{cx:I,cy:M,x01:-h,y01:-d,x11:I*(i/A-1),y11:M*(i/A-1)}}function nS(){var t=UNe,e=jNe,n=jn(0),r=null,i=qNe,s=YNe,o=ZNe,a=null,l=RQ(u);function u(){var h,d,f=+t.apply(this,arguments),p=+e.apply(this,arguments),g=i.apply(this,arguments)-$2,m=s.apply(this,arguments)-$2,y=D7(m-g),b=m>g;if(a||(a=h=l()),p<f&&(d=p,p=f,f=d),!(p>Kr))a.moveTo(0,0);else if(y>hb-Kr)a.moveTo(p*fu(g),p*Ho(g)),a.arc(0,0,p,g,m,!b),f>Kr&&(a.moveTo(f*fu(m),f*Ho(m)),a.arc(0,0,f,m,g,b));else{var O=g,x=m,T=g,A=m,v=y,S=y,I=o.apply(this,arguments)/2,M=I>Kr&&(r?+r.apply(this,arguments):hd(f*f+p*p)),C=Jw(D7(p-f)/2,+n.apply(this,arguments)),E=C,_=C,L,k;if(M>Kr){var B=A7(M/f*Ho(I)),w=A7(M/p*Ho(I));(v-=B*2)>Kr?(B*=b?1:-1,T+=B,A-=B):(v=0,T=A=(g+m)/2),(S-=w*2)>Kr?(w*=b?1:-1,O+=w,x-=w):(S=0,O=x=(g+m)/2)}var Q=p*fu(O),U=p*Ho(O),W=f*fu(A),$=f*Ho(A);if(C>Kr){var X=p*fu(x),Y=p*Ho(x),N=f*fu(T),he=f*Ho(T),ge;if(y<Em)if(ge=XNe(Q,U,N,he,X,Y,W,$)){var j=Q-ge[0],Te=U-ge[1],K=X-ge[0],ee=Y-ge[1],H=1/Ho(WNe((j*K+Te*ee)/(hd(j*j+Te*Te)*hd(K*K+ee*ee)))/2),G=hd(ge[0]*ge[0]+ge[1]*ge[1]);E=Jw(C,(f-G)/(H-1)),_=Jw(C,(p-G)/(H+1))}else E=_=0}S>Kr?_>Kr?(L=I1(N,he,Q,U,p,_,b),k=I1(X,Y,W,$,p,_,b),a.moveTo(L.cx+L.x01,L.cy+L.y01),_<C?a.arc(L.cx,L.cy,_,Hr(L.y01,L.x01),Hr(k.y01,k.x01),!b):(a.arc(L.cx,L.cy,_,Hr(L.y01,L.x01),Hr(L.y11,L.x11),!b),a.arc(0,0,p,Hr(L.cy+L.y11,L.cx+L.x11),Hr(k.cy+k.y11,k.cx+k.x11),!b),a.arc(k.cx,k.cy,_,Hr(k.y11,k.x11),Hr(k.y01,k.x01),!b))):(a.moveTo(Q,U),a.arc(0,0,p,O,x,!b)):a.moveTo(Q,U),!(f>Kr)||!(v>Kr)?a.lineTo(W,$):E>Kr?(L=I1(W,$,X,Y,f,-E,b),k=I1(Q,U,N,he,f,-E,b),a.lineTo(L.cx+L.x01,L.cy+L.y01),E<C?a.arc(L.cx,L.cy,E,Hr(L.y01,L.x01),Hr(k.y01,k.x01),!b):(a.arc(L.cx,L.cy,E,Hr(L.y01,L.x01),Hr(L.y11,L.x11),!b),a.arc(0,0,f,Hr(L.cy+L.y11,L.cx+L.x11),Hr(k.cy+k.y11,k.cx+k.x11),b),a.arc(k.cx,k.cy,E,Hr(k.y11,k.x11),Hr(k.y01,k.x01),!b))):a.arc(0,0,f,A,T,b)}if(a.closePath(),h)return a=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Em/2;return[fu(d)*h,Ho(d)*h]},u.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:jn(+h),u):t},u.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:jn(+h),u):e},u.cornerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:jn(+h),u):n},u.padRadius=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:jn(+h),u):r},u.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:jn(+h),u):i},u.endAngle=function(h){return arguments.length?(s=typeof h=="function"?h:jn(+h),u):s},u.padAngle=function(h){return arguments.length?(o=typeof h=="function"?h:jn(+h),u):o},u.context=function(h){return arguments.length?(a=h??null,u):a},u}function LQ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IQ(t){this._context=t}IQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vs(t){return new IQ(t)}function HNe(t){return t[0]}function GNe(t){return t[1]}function Wf(t,e){var n=jn(!0),r=null,i=vs,s=null,o=RQ(a);t=typeof t=="function"?t:t===void 0?HNe:jn(t),e=typeof e=="function"?e:e===void 0?GNe:jn(e);function a(l){var u,h=(l=LQ(l)).length,d,f=!1,p;for(r==null&&(s=i(p=o())),u=0;u<=h;++u)!(u<h&&n(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,u,l),+e(d,u,l));if(p)return s=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:jn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:jn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:jn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function KNe(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function JNe(t){return t}function eFe(){var t=JNe,e=KNe,n=null,r=jn(0),i=jn(hb),s=jn(0);function o(a){var l,u=(a=LQ(a)).length,h,d,f=0,p=new Array(u),g=new Array(u),m=+r.apply(this,arguments),y=Math.min(hb,Math.max(-hb,i.apply(this,arguments)-m)),b,O=Math.min(Math.abs(y)/u,s.apply(this,arguments)),x=O*(y<0?-1:1),T;for(l=0;l<u;++l)(T=g[p[l]=l]=+t(a[l],l,a))>0&&(f+=T);for(e!=null?p.sort(function(A,v){return e(g[A],g[v])}):n!=null&&p.sort(function(A,v){return n(a[A],a[v])}),l=0,d=f?(y-u*x)/f:0;l<u;++l,m=b)h=p[l],T=g[h],b=m+(T>0?T*d:0)+x,g[h]={data:a[h],index:l,value:T,startAngle:m,endAngle:b,padAngle:O};return g}return o.value=function(a){return arguments.length?(t=typeof a=="function"?a:jn(+a),o):t},o.sortValues=function(a){return arguments.length?(e=a,n=null,o):e},o.sort=function(a){return arguments.length?(n=a,e=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:jn(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:jn(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:jn(+a),o):s},o}class NQ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function tFe(t){return new NQ(t,!0)}function nFe(t){return new NQ(t,!1)}function Vc(){}function R2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Bk(t){this._context=t}Bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:R2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:R2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lf(t){return new Bk(t)}function FQ(t){this._context=t}FQ.prototype={areaStart:Vc,areaEnd:Vc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:R2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rFe(t){return new FQ(t)}function BQ(t){this._context=t}BQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:R2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iFe(t){return new BQ(t)}function QQ(t,e){this._basis=new Bk(t),this._beta=e}QQ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,o=e[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(r+l*s),this._beta*e[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const sFe=function t(e){function n(r){return e===1?new Bk(r):new QQ(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function L2(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function EE(t,e){this._context=t,this._k=(1-e)/6}EE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:L2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:L2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const oFe=function t(e){function n(r){return new EE(r,e)}return n.tension=function(r){return t(+r)},n}(0);function TE(t,e){this._context=t,this._k=(1-e)/6}TE.prototype={areaStart:Vc,areaEnd:Vc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:L2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const aFe=function t(e){function n(r){return new TE(r,e)}return n.tension=function(r){return t(+r)},n}(0);function DE(t,e){this._context=t,this._k=(1-e)/6}DE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:L2(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const lFe=function t(e){function n(r){return new DE(r,e)}return n.tension=function(r){return t(+r)},n}(0);function AE(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>Kr){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Kr){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*u+t._x1*t._l23_2a-e*t._l12_2a)/h,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function zQ(t,e){this._context=t,this._alpha=e}zQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:AE(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const cFe=function t(e){function n(r){return e?new zQ(r,e):new EE(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function VQ(t,e){this._context=t,this._alpha=e}VQ.prototype={areaStart:Vc,areaEnd:Vc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:AE(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const uFe=function t(e){function n(r){return e?new VQ(r,e):new TE(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function WQ(t,e){this._context=t,this._alpha=e}WQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:AE(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const hFe=function t(e){function n(r){return e?new WQ(r,e):new DE(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function UQ(t){this._context=t}UQ.prototype={areaStart:Vc,areaEnd:Vc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function dFe(t){return new UQ(t)}function M7(t){return t<0?-1:1}function P7(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(M7(s)+M7(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function $7(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function e_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function I2(t){this._context=t}I2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e_(this,this._t0,$7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,e_(this,$7(this,n=P7(this,t,e)),n);break;default:e_(this,this._t0,n=P7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jQ(t){this._context=new qQ(t)}(jQ.prototype=Object.create(I2.prototype)).point=function(t,e){I2.prototype.point.call(this,e,t)};function qQ(t){this._context=t}qQ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function fFe(t){return new I2(t)}function pFe(t){return new jQ(t)}function YQ(t){this._context=t}YQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=R7(t),i=R7(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function R7(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function gFe(t){return new YQ(t)}function Qk(t,e){this._context=t,this._t=e}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function mFe(t){return new Qk(t,.5)}function yFe(t){return new Qk(t,0)}function bFe(t){return new Qk(t,1)}function jp(t,e,n){this.k=t,this.x=e,this.y=n}jp.prototype={constructor:jp,scale:function(t){return t===1?this:new jp(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jp(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jp.prototype;/*! @license DOMPurify 2.4.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.3/LICENSE */function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function rS(t,e){return rS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rS(t,e)}function OFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function db(t,e,n){return OFe()?db=Reflect.construct:db=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),u=new l;return o&&rS(u,o.prototype),u},db.apply(null,arguments)}function fo(t){return kFe(t)||xFe(t)||wFe(t)||_Fe()}function kFe(t){if(Array.isArray(t))return iS(t)}function xFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wFe(t,e){if(t){if(typeof t=="string")return iS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(t,e)}}function iS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vFe=Object.hasOwnProperty,L7=Object.setPrototypeOf,SFe=Object.isFrozen,CFe=Object.getPrototypeOf,EFe=Object.getOwnPropertyDescriptor,Ni=Object.freeze,No=Object.seal,TFe=Object.create,ZQ=typeof Reflect<"u"&&Reflect,N2=ZQ.apply,sS=ZQ.construct;N2||(N2=function(e,n,r){return e.apply(n,r)});Ni||(Ni=function(e){return e});No||(No=function(e){return e});sS||(sS=function(e,n){return db(e,fo(n))});var DFe=Gs(Array.prototype.forEach),I7=Gs(Array.prototype.pop),pp=Gs(Array.prototype.push),fb=Gs(String.prototype.toLowerCase),t_=Gs(String.prototype.toString),AFe=Gs(String.prototype.match),ho=Gs(String.prototype.replace),MFe=Gs(String.prototype.indexOf),PFe=Gs(String.prototype.trim),Oi=Gs(RegExp.prototype.test),n_=$Fe(TypeError);function Gs(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return N2(t,e,r)}}function $Fe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return sS(t,n)}}function It(t,e,n){n=n||fb,L7&&L7(t,null);for(var r=e.length;r--;){var i=e[r];if(typeof i=="string"){var s=n(i);s!==i&&(SFe(e)||(e[r]=s),i=s)}t[i]=!0}return t}function pu(t){var e=TFe(null),n;for(n in t)N2(vFe,t,[n])===!0&&(e[n]=t[n]);return e}function N1(t,e){for(;t!==null;){var n=EFe(t,e);if(n){if(n.get)return Gs(n.get);if(typeof n.value=="function")return Gs(n.value)}t=CFe(t)}function r(i){return console.warn("fallback value for",i),null}return r}var N7=Ni(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),r_=Ni(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),i_=Ni(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),RFe=Ni(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),s_=Ni(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),LFe=Ni(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F7=Ni(["#text"]),B7=Ni(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),o_=Ni(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Q7=Ni(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F1=Ni(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),IFe=No(/\{\{[\w\W]*|[\w\W]*\}\}/gm),NFe=No(/<%[\w\W]*|[\w\W]*%>/gm),FFe=No(/\${[\w\W]*}/gm),BFe=No(/^data-[\-\w.\u00B7-\uFFFF]/),QFe=No(/^aria-[\-\w]+$/),zFe=No(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),VFe=No(/^(?:\w+script|data):/i),WFe=No(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UFe=No(/^html$/i),jFe=function(){return typeof window>"u"?null:window},qFe=function(e,n){if(lc(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function XQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jFe(),e=function(ie){return XQ(ie)};if(e.version="2.4.3",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,o=t.Node,a=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,h=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,d=t.HTMLFormElement,f=t.DOMParser,p=t.trustedTypes,g=a.prototype,m=N1(g,"cloneNode"),y=N1(g,"nextSibling"),b=N1(g,"childNodes"),O=N1(g,"parentNode");if(typeof s=="function"){var x=r.createElement("template");x.content&&x.content.ownerDocument&&(r=x.content.ownerDocument)}var T=qFe(p,n),A=T?T.createHTML(""):"",v=r,S=v.implementation,I=v.createNodeIterator,M=v.createDocumentFragment,C=v.getElementsByTagName,E=n.importNode,_={};try{_=pu(r).documentMode?r.documentMode:{}}catch{}var L={};e.isSupported=typeof O=="function"&&S&&typeof S.createHTMLDocument<"u"&&_!==9;var k=IFe,B=NFe,w=FFe,Q=BFe,U=QFe,W=VFe,$=WFe,X=zFe,Y=null,N=It({},[].concat(fo(N7),fo(r_),fo(i_),fo(s_),fo(F7))),he=null,ge=It({},[].concat(fo(B7),fo(o_),fo(Q7),fo(F1))),j=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Te=null,K=null,ee=!0,H=!0,G=!1,z=!1,D=!1,F=!1,R=!1,Z=!1,P=!1,ye=!1,q=!0,de=!1,ce="user-content-",te=!0,se=!1,fe={},le=null,me=It({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),oe=null,be=It({},["audio","video","img","source","image","track"]),_e=null,Ee=It({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ie="http://www.w3.org/1998/Math/MathML",lt="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml",Ve=Ge,Fe=!1,ve=null,Oe=It({},[Ie,lt,Ge],t_),Pe,xe=["application/xhtml+xml","text/html"],qe="text/html",pe,at=null,we=r.createElement("form"),dt=function(ie){return ie instanceof RegExp||ie instanceof Function},St=function(ie){at&&at===ie||((!ie||lc(ie)!=="object")&&(ie={}),ie=pu(ie),Pe=xe.indexOf(ie.PARSER_MEDIA_TYPE)===-1?Pe=qe:Pe=ie.PARSER_MEDIA_TYPE,pe=Pe==="application/xhtml+xml"?t_:fb,Y="ALLOWED_TAGS"in ie?It({},ie.ALLOWED_TAGS,pe):N,he="ALLOWED_ATTR"in ie?It({},ie.ALLOWED_ATTR,pe):ge,ve="ALLOWED_NAMESPACES"in ie?It({},ie.ALLOWED_NAMESPACES,t_):Oe,_e="ADD_URI_SAFE_ATTR"in ie?It(pu(Ee),ie.ADD_URI_SAFE_ATTR,pe):Ee,oe="ADD_DATA_URI_TAGS"in ie?It(pu(be),ie.ADD_DATA_URI_TAGS,pe):be,le="FORBID_CONTENTS"in ie?It({},ie.FORBID_CONTENTS,pe):me,Te="FORBID_TAGS"in ie?It({},ie.FORBID_TAGS,pe):{},K="FORBID_ATTR"in ie?It({},ie.FORBID_ATTR,pe):{},fe="USE_PROFILES"in ie?ie.USE_PROFILES:!1,ee=ie.ALLOW_ARIA_ATTR!==!1,H=ie.ALLOW_DATA_ATTR!==!1,G=ie.ALLOW_UNKNOWN_PROTOCOLS||!1,z=ie.SAFE_FOR_TEMPLATES||!1,D=ie.WHOLE_DOCUMENT||!1,Z=ie.RETURN_DOM||!1,P=ie.RETURN_DOM_FRAGMENT||!1,ye=ie.RETURN_TRUSTED_TYPE||!1,R=ie.FORCE_BODY||!1,q=ie.SANITIZE_DOM!==!1,de=ie.SANITIZE_NAMED_PROPS||!1,te=ie.KEEP_CONTENT!==!1,se=ie.IN_PLACE||!1,X=ie.ALLOWED_URI_REGEXP||X,Ve=ie.NAMESPACE||Ge,ie.CUSTOM_ELEMENT_HANDLING&&dt(ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ie.CUSTOM_ELEMENT_HANDLING&&dt(ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ie.CUSTOM_ELEMENT_HANDLING&&typeof ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),z&&(H=!1),P&&(Z=!0),fe&&(Y=It({},fo(F7)),he=[],fe.html===!0&&(It(Y,N7),It(he,B7)),fe.svg===!0&&(It(Y,r_),It(he,o_),It(he,F1)),fe.svgFilters===!0&&(It(Y,i_),It(he,o_),It(he,F1)),fe.mathMl===!0&&(It(Y,s_),It(he,Q7),It(he,F1))),ie.ADD_TAGS&&(Y===N&&(Y=pu(Y)),It(Y,ie.ADD_TAGS,pe)),ie.ADD_ATTR&&(he===ge&&(he=pu(he)),It(he,ie.ADD_ATTR,pe)),ie.ADD_URI_SAFE_ATTR&&It(_e,ie.ADD_URI_SAFE_ATTR,pe),ie.FORBID_CONTENTS&&(le===me&&(le=pu(le)),It(le,ie.FORBID_CONTENTS,pe)),te&&(Y["#text"]=!0),D&&It(Y,["html","head","body"]),Y.table&&(It(Y,["tbody"]),delete Te.tbody),Ni&&Ni(ie),at=ie)},Pt=It({},["mi","mo","mn","ms","mtext"]),Tt=It({},["foreignobject","desc","title","annotation-xml"]),Rt=It({},["title","style","font","a","script"]),Xe=It({},r_);It(Xe,i_),It(Xe,RFe);var ct=It({},s_);It(ct,LFe);var Dt=function(ie){var Me=O(ie);(!Me||!Me.tagName)&&(Me={namespaceURI:Ve,tagName:"template"});var Ne=fb(ie.tagName),Ct=fb(Me.tagName);return ve[ie.namespaceURI]?ie.namespaceURI===lt?Me.namespaceURI===Ge?Ne==="svg":Me.namespaceURI===Ie?Ne==="svg"&&(Ct==="annotation-xml"||Pt[Ct]):!!Xe[Ne]:ie.namespaceURI===Ie?Me.namespaceURI===Ge?Ne==="math":Me.namespaceURI===lt?Ne==="math"&&Tt[Ct]:!!ct[Ne]:ie.namespaceURI===Ge?Me.namespaceURI===lt&&!Tt[Ct]||Me.namespaceURI===Ie&&!Pt[Ct]?!1:!ct[Ne]&&(Rt[Ne]||!Xe[Ne]):!!(Pe==="application/xhtml+xml"&&ve[ie.namespaceURI]):!1},ot=function(ie){pp(e.removed,{element:ie});try{ie.parentNode.removeChild(ie)}catch{try{ie.outerHTML=A}catch{ie.remove()}}},za=function(ie,Me){try{pp(e.removed,{attribute:Me.getAttributeNode(ie),from:Me})}catch{pp(e.removed,{attribute:null,from:Me})}if(Me.removeAttribute(ie),ie==="is"&&!he[ie])if(Z||P)try{ot(Me)}catch{}else try{Me.setAttribute(ie,"")}catch{}},au=function(ie){var Me,Ne;if(R)ie="<remove></remove>"+ie;else{var Ct=AFe(ie,/^[\r\n\t ]+/);Ne=Ct&&Ct[0]}Pe==="application/xhtml+xml"&&Ve===Ge&&(ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ie+"</body></html>");var fn=T?T.createHTML(ie):ie;if(Ve===Ge)try{Me=new f().parseFromString(fn,Pe)}catch{}if(!Me||!Me.documentElement){Me=S.createDocument(Ve,"template",null);try{Me.documentElement.innerHTML=Fe?A:fn}catch{}}var On=Me.body||Me.documentElement;return ie&&Ne&&On.insertBefore(r.createTextNode(Ne),On.childNodes[0]||null),Ve===Ge?C.call(Me,D?"html":"body")[0]:D?Me.documentElement:On},vn=function(ie){return I.call(ie.ownerDocument||ie,ie,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},ft=function(ie){return ie instanceof d&&(typeof ie.nodeName!="string"||typeof ie.textContent!="string"||typeof ie.removeChild!="function"||!(ie.attributes instanceof h)||typeof ie.removeAttribute!="function"||typeof ie.setAttribute!="function"||typeof ie.namespaceURI!="string"||typeof ie.insertBefore!="function"||typeof ie.hasChildNodes!="function")},Qn=function(ie){return lc(o)==="object"?ie instanceof o:ie&&lc(ie)==="object"&&typeof ie.nodeType=="number"&&typeof ie.nodeName=="string"},Xr=function(ie,Me,Ne){L[ie]&&DFe(L[ie],function(Ct){Ct.call(e,Me,Ne,at)})},zn=function(ie){var Me;if(Xr("beforeSanitizeElements",ie,null),ft(ie)||Oi(/[\u0080-\uFFFF]/,ie.nodeName))return ot(ie),!0;var Ne=pe(ie.nodeName);if(Xr("uponSanitizeElement",ie,{tagName:Ne,allowedTags:Y}),ie.hasChildNodes()&&!Qn(ie.firstElementChild)&&(!Qn(ie.content)||!Qn(ie.content.firstElementChild))&&Oi(/<[/\w]/g,ie.innerHTML)&&Oi(/<[/\w]/g,ie.textContent)||Ne==="select"&&Oi(/<template/i,ie.innerHTML))return ot(ie),!0;if(!Y[Ne]||Te[Ne]){if(!Te[Ne]&&Sn(Ne)&&(j.tagNameCheck instanceof RegExp&&Oi(j.tagNameCheck,Ne)||j.tagNameCheck instanceof Function&&j.tagNameCheck(Ne)))return!1;if(te&&!le[Ne]){var Ct=O(ie)||ie.parentNode,fn=b(ie)||ie.childNodes;if(fn&&Ct)for(var On=fn.length,Hn=On-1;Hn>=0;--Hn)Ct.insertBefore(m(fn[Hn],!0),y(ie))}return ot(ie),!0}return ie instanceof a&&!Dt(ie)||(Ne==="noscript"||Ne==="noembed")&&Oi(/<\/no(script|embed)/i,ie.innerHTML)?(ot(ie),!0):(z&&ie.nodeType===3&&(Me=ie.textContent,Me=ho(Me,k," "),Me=ho(Me,B," "),Me=ho(Me,w," "),ie.textContent!==Me&&(pp(e.removed,{element:ie.cloneNode()}),ie.textContent=Me)),Xr("afterSanitizeElements",ie,null),!1)},lr=function(ie,Me,Ne){if(q&&(Me==="id"||Me==="name")&&(Ne in r||Ne in we))return!1;if(!(H&&!K[Me]&&Oi(Q,Me))){if(!(ee&&Oi(U,Me))){if(!he[Me]||K[Me]){if(!(Sn(ie)&&(j.tagNameCheck instanceof RegExp&&Oi(j.tagNameCheck,ie)||j.tagNameCheck instanceof Function&&j.tagNameCheck(ie))&&(j.attributeNameCheck instanceof RegExp&&Oi(j.attributeNameCheck,Me)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(Me))||Me==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&Oi(j.tagNameCheck,Ne)||j.tagNameCheck instanceof Function&&j.tagNameCheck(Ne))))return!1}else if(!_e[Me]){if(!Oi(X,ho(Ne,$,""))){if(!((Me==="src"||Me==="xlink:href"||Me==="href")&&ie!=="script"&&MFe(Ne,"data:")===0&&oe[ie])){if(!(G&&!Oi(W,ho(Ne,$,"")))){if(Ne)return!1}}}}}}return!0},Sn=function(ie){return ie.indexOf("-")>0},$r=function(ie){var Me,Ne,Ct,fn;Xr("beforeSanitizeAttributes",ie,null);var On=ie.attributes;if(On){var Hn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:he};for(fn=On.length;fn--;){Me=On[fn];var kr=Me,Ln=kr.name,np=kr.namespaceURI;if(Ne=Ln==="value"?Me.value:PFe(Me.value),Ct=pe(Ln),Hn.attrName=Ct,Hn.attrValue=Ne,Hn.keepAttr=!0,Hn.forceKeepAttr=void 0,Xr("uponSanitizeAttribute",ie,Hn),Ne=Hn.attrValue,!Hn.forceKeepAttr&&(za(Ln,ie),!!Hn.keepAttr)){if(Oi(/\/>/i,Ne)){za(Ln,ie);continue}z&&(Ne=ho(Ne,k," "),Ne=ho(Ne,B," "),Ne=ho(Ne,w," "));var Bh=pe(ie.nodeName);if(lr(Bh,Ct,Ne)){if(de&&(Ct==="id"||Ct==="name")&&(za(Ln,ie),Ne=ce+Ne),T&&lc(p)==="object"&&typeof p.getAttributeType=="function"&&!np)switch(p.getAttributeType(Bh,Ct)){case"TrustedHTML":Ne=T.createHTML(Ne);break;case"TrustedScriptURL":Ne=T.createScriptURL(Ne);break}try{np?ie.setAttributeNS(np,Ln,Ne):ie.setAttribute(Ln,Ne),I7(e.removed)}catch{}}}}Xr("afterSanitizeAttributes",ie,null)}},Or=function Ue(ie){var Me,Ne=vn(ie);for(Xr("beforeSanitizeShadowDOM",ie,null);Me=Ne.nextNode();)Xr("uponSanitizeShadowNode",Me,null),!zn(Me)&&(Me.content instanceof i&&Ue(Me.content),$r(Me));Xr("afterSanitizeShadowDOM",ie,null)};return e.sanitize=function(Ue){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Me,Ne,Ct,fn,On;if(Fe=!Ue,Fe&&(Ue="<!-->"),typeof Ue!="string"&&!Qn(Ue)){if(typeof Ue.toString!="function")throw n_("toString is not a function");if(Ue=Ue.toString(),typeof Ue!="string")throw n_("dirty is not a string, aborting")}if(!e.isSupported){if(lc(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Ue=="string")return t.toStaticHTML(Ue);if(Qn(Ue))return t.toStaticHTML(Ue.outerHTML)}return Ue}if(F||St(ie),e.removed=[],typeof Ue=="string"&&(se=!1),se){if(Ue.nodeName){var Hn=pe(Ue.nodeName);if(!Y[Hn]||Te[Hn])throw n_("root node is forbidden and cannot be sanitized in-place")}}else if(Ue instanceof o)Me=au("<!---->"),Ne=Me.ownerDocument.importNode(Ue,!0),Ne.nodeType===1&&Ne.nodeName==="BODY"||Ne.nodeName==="HTML"?Me=Ne:Me.appendChild(Ne);else{if(!Z&&!z&&!D&&Ue.indexOf("<")===-1)return T&&ye?T.createHTML(Ue):Ue;if(Me=au(Ue),!Me)return Z?null:ye?A:""}Me&&R&&ot(Me.firstChild);for(var kr=vn(se?Ue:Me);Ct=kr.nextNode();)Ct.nodeType===3&&Ct===fn||zn(Ct)||(Ct.content instanceof i&&Or(Ct.content),$r(Ct),fn=Ct);if(fn=null,se)return Ue;if(Z){if(P)for(On=M.call(Me.ownerDocument);Me.firstChild;)On.appendChild(Me.firstChild);else On=Me;return he.shadowroot&&(On=E.call(n,On,!0)),On}var Ln=D?Me.outerHTML:Me.innerHTML;return D&&Y["!doctype"]&&Me.ownerDocument&&Me.ownerDocument.doctype&&Me.ownerDocument.doctype.name&&Oi(UFe,Me.ownerDocument.doctype.name)&&(Ln="<!DOCTYPE "+Me.ownerDocument.doctype.name+`>
`+Ln),z&&(Ln=ho(Ln,k," "),Ln=ho(Ln,B," "),Ln=ho(Ln,w," ")),T&&ye?T.createHTML(Ln):Ln},e.setConfig=function(Ue){St(Ue),F=!0},e.clearConfig=function(){at=null,F=!1},e.isValidAttribute=function(Ue,ie,Me){at||St({});var Ne=pe(Ue),Ct=pe(ie);return lr(Ne,Ct,Me)},e.addHook=function(Ue,ie){typeof ie=="function"&&(L[Ue]=L[Ue]||[],pp(L[Ue],ie))},e.removeHook=function(Ue){if(L[Ue])return I7(L[Ue])},e.removeHooks=function(Ue){L[Ue]&&(L[Ue]=[])},e.removeAllHooks=function(){L={}},e}var Tm=XQ();const pb={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return pb.hue2rgb(s,i,t+1/3)*255;case"g":return pb.hue2rgb(s,i,t)*255;case"b":return pb.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),o=(i+s)/2;if(r==="l")return o*100;if(i===s)return 0;const a=i-s,l=o>.5?a/(2-i-s):a/(i+s);if(r==="s")return l*100;switch(i){case t:return((e-n)/a+(e<n?6:0))*60;case e:return((n-t)/a+2)*60;case n:return((t-e)/a+4)*60;default:return-1}}},YFe={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},ZFe={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Et={channel:pb,lang:YFe,unit:ZFe},Kl={};for(let t=0;t<=255;t++)Kl[t]=Et.unit.dec2hex(t);const Jr={ALL:0,RGB:1,HSL:2};let XFe=class{constructor(){this.type=Jr.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Jr.ALL}is(e){return this.type===e}};class HFe{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new XFe}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Jr.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=Et.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Et.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Et.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=Et.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Et.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Et.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Jr.HSL)&&n!==void 0?n:(this._ensureHSL(),Et.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Jr.HSL)&&n!==void 0?n:(this._ensureHSL(),Et.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Jr.HSL)&&n!==void 0?n:(this._ensureHSL(),Et.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Jr.RGB)&&n!==void 0?n:(this._ensureRGB(),Et.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Jr.RGB)&&n!==void 0?n:(this._ensureRGB(),Et.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Jr.RGB)&&n!==void 0?n:(this._ensureRGB(),Et.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Jr.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Jr.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Jr.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Jr.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Jr.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Jr.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const zk=new HFe({r:0,g:0,b:0,a:0},"transparent"),Md={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Md.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,o=i>4,a=o?1:17,l=o?8:4,u=s?0:-1,h=o?255:15;return zk.set({r:(r>>l*(u+3)&h)*a,g:(r>>l*(u+2)&h)*a,b:(r>>l*(u+1)&h)*a,a:s?(r&h)*a/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${Kl[Math.round(e)]}${Kl[Math.round(n)]}${Kl[Math.round(r)]}${Kl[Math.round(i*255)]}`:`#${Kl[Math.round(e)]}${Kl[Math.round(n)]}${Kl[Math.round(r)]}`}},Lu={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Lu.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return Et.channel.clamp.h(parseFloat(n)*.9);case"rad":return Et.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Et.channel.clamp.h(parseFloat(n)*360)}}return Et.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(Lu.re);if(!n)return;const[,r,i,s,o,a]=n;return zk.set({h:Lu._hue2deg(r),s:Et.channel.clamp.s(parseFloat(i)),l:Et.channel.clamp.l(parseFloat(s)),a:o?Et.channel.clamp.a(a?parseFloat(o)/100:parseFloat(o)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${Et.lang.round(e)}, ${Et.lang.round(n)}%, ${Et.lang.round(r)}%, ${i})`:`hsl(${Et.lang.round(e)}, ${Et.lang.round(n)}%, ${Et.lang.round(r)}%)`}},Mg={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Mg.colors[t];if(e)return Md.parse(e)},stringify:t=>{const e=Md.stringify(t);for(const n in Mg.colors)if(Mg.colors[n]===e)return n}},qp={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(qp.re);if(!n)return;const[,r,i,s,o,a,l,u,h]=n;return zk.set({r:Et.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:Et.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:Et.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:u?Et.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${Et.lang.round(e)}, ${Et.lang.round(n)}, ${Et.lang.round(r)}, ${Et.lang.round(i)})`:`rgb(${Et.lang.round(e)}, ${Et.lang.round(n)}, ${Et.lang.round(r)})`}},Al={format:{keyword:Mg,hex:Md,rgb:qp,rgba:qp,hsl:Lu,hsla:Lu},parse:t=>{if(typeof t!="string")return t;const e=Md.parse(t)||qp.parse(t)||Lu.parse(t)||Mg.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Jr.HSL)||t.data.r===void 0?Lu.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?qp.stringify(t):Md.stringify(t)},HQ=(t,e)=>{const n=Al.parse(t);for(const r in e)n[r]=Et.channel.clamp[r](e[r]);return Al.stringify(n)},Pg=(t,e,n=0,r=1)=>{if(typeof t!="number")return HQ(t,{a:e});const i=zk.set({r:Et.channel.clamp.r(t),g:Et.channel.clamp.g(e),b:Et.channel.clamp.b(n),a:Et.channel.clamp.a(r)});return Al.stringify(i)},GQ=(t,e,n)=>{const r=Al.parse(t),i=r[e],s=Et.channel.clamp[e](i+n);return i!==s&&(r[e]=s),Al.stringify(r)},st=(t,e)=>GQ(t,"l",e),bt=(t,e)=>GQ(t,"l",-e),ke=(t,e)=>{const n=Al.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return HQ(t,r)},GFe=(t,e,n=50)=>{const{r,g:i,b:s,a:o}=Al.parse(t),{r:a,g:l,b:u,a:h}=Al.parse(e),d=n/100,f=d*2-1,p=o-h,m=((f*p===-1?f:(f+p)/(1+f*p))+1)/2,y=1-m,b=r*m+a*y,O=i*m+l*y,x=s*m+u*y,T=o*d+h*(1-d);return Pg(b,O,x,T)},We=(t,e=100)=>{const n=Al.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,GFe(n,t,e)};var KQ=typeof global=="object"&&global&&global.Object===Object&&global,KFe=typeof self=="object"&&self&&self.Object===Object&&self,Ia=KQ||KFe||Function("return this")(),Ks=Ia.Symbol,JQ=Object.prototype,JFe=JQ.hasOwnProperty,eBe=JQ.toString,gp=Ks?Ks.toStringTag:void 0;function tBe(t){var e=JFe.call(t,gp),n=t[gp];try{t[gp]=void 0;var r=!0}catch{}var i=eBe.call(t);return r&&(e?t[gp]=n:delete t[gp]),i}var nBe=Object.prototype,rBe=nBe.toString;function iBe(t){return rBe.call(t)}var sBe="[object Null]",oBe="[object Undefined]",z7=Ks?Ks.toStringTag:void 0;function $h(t){return t==null?t===void 0?oBe:sBe:z7&&z7 in Object(t)?tBe(t):iBe(t)}function Ss(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var aBe="[object AsyncFunction]",lBe="[object Function]",cBe="[object GeneratorFunction]",uBe="[object Proxy]";function cf(t){if(!Ss(t))return!1;var e=$h(t);return e==lBe||e==cBe||e==aBe||e==uBe}var a_=Ia["__core-js_shared__"],V7=function(){var t=/[^.]+$/.exec(a_&&a_.keys&&a_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hBe(t){return!!V7&&V7 in t}var dBe=Function.prototype,fBe=dBe.toString;function Rh(t){if(t!=null){try{return fBe.call(t)}catch{}try{return t+""}catch{}}return""}var pBe=/[\\^$.*+?()[\]{}|]/g,gBe=/^\[object .+?Constructor\]$/,mBe=Function.prototype,yBe=Object.prototype,bBe=mBe.toString,OBe=yBe.hasOwnProperty,kBe=RegExp("^"+bBe.call(OBe).replace(pBe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xBe(t){if(!Ss(t)||hBe(t))return!1;var e=cf(t)?kBe:gBe;return e.test(Rh(t))}function wBe(t,e){return t==null?void 0:t[e]}function Lh(t,e){var n=wBe(t,e);return xBe(n)?n:void 0}var Dm=Lh(Object,"create");function _Be(){this.__data__=Dm?Dm(null):{},this.size=0}function vBe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var SBe="__lodash_hash_undefined__",CBe=Object.prototype,EBe=CBe.hasOwnProperty;function TBe(t){var e=this.__data__;if(Dm){var n=e[t];return n===SBe?void 0:n}return EBe.call(e,t)?e[t]:void 0}var DBe=Object.prototype,ABe=DBe.hasOwnProperty;function MBe(t){var e=this.__data__;return Dm?e[t]!==void 0:ABe.call(e,t)}var PBe="__lodash_hash_undefined__";function $Be(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dm&&e===void 0?PBe:e,this}function uh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}uh.prototype.clear=_Be;uh.prototype.delete=vBe;uh.prototype.get=TBe;uh.prototype.has=MBe;uh.prototype.set=$Be;function RBe(){this.__data__=[],this.size=0}function Uf(t,e){return t===e||t!==t&&e!==e}function Vk(t,e){for(var n=t.length;n--;)if(Uf(t[n][0],e))return n;return-1}var LBe=Array.prototype,IBe=LBe.splice;function NBe(t){var e=this.__data__,n=Vk(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():IBe.call(e,n,1),--this.size,!0}function FBe(t){var e=this.__data__,n=Vk(e,t);return n<0?void 0:e[n][1]}function BBe(t){return Vk(this.__data__,t)>-1}function QBe(t,e){var n=this.__data__,r=Vk(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Nl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nl.prototype.clear=RBe;Nl.prototype.delete=NBe;Nl.prototype.get=FBe;Nl.prototype.has=BBe;Nl.prototype.set=QBe;var Am=Lh(Ia,"Map");function zBe(){this.size=0,this.__data__={hash:new uh,map:new(Am||Nl),string:new uh}}function VBe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Wk(t,e){var n=t.__data__;return VBe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function WBe(t){var e=Wk(this,t).delete(t);return this.size-=e?1:0,e}function UBe(t){return Wk(this,t).get(t)}function jBe(t){return Wk(this,t).has(t)}function qBe(t,e){var n=Wk(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Fl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fl.prototype.clear=zBe;Fl.prototype.delete=WBe;Fl.prototype.get=UBe;Fl.prototype.has=jBe;Fl.prototype.set=qBe;var YBe="Expected a function";function jf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(YBe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(jf.Cache||Fl),n}jf.Cache=Fl;var ez="comm",tz="rule",nz="decl",ZBe="@import",XBe="@keyframes",HBe="@layer",rz=Math.abs,ME=String.fromCharCode;function iz(t){return t.trim()}function gb(t,e,n){return t.replace(e,n)}function GBe(t,e,n){return t.indexOf(e,n)}function Mm(t,e){return t.charCodeAt(e)|0}function Pm(t,e,n){return t.slice(e,n)}function sl(t){return t.length}function KBe(t){return t.length}function B1(t,e){return e.push(t),t}var Uk=1,uf=1,sz=0,Js=0,er=0,qf="";function PE(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Uk,column:uf,length:o,return:"",siblings:a}}function JBe(){return er}function eQe(){return er=Js>0?Mm(qf,--Js):0,uf--,er===10&&(uf=1,Uk--),er}function Mo(){return er=Js<sz?Mm(qf,Js++):0,uf++,er===10&&(uf=1,Uk++),er}function Ju(){return Mm(qf,Js)}function mb(){return Js}function jk(t,e){return Pm(qf,t,e)}function oS(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tQe(t){return Uk=uf=1,sz=sl(qf=t),Js=0,[]}function nQe(t){return qf="",t}function l_(t){return iz(jk(Js-1,aS(t===91?t+2:t===40?t+1:t)))}function rQe(t){for(;(er=Ju())&&er<33;)Mo();return oS(t)>2||oS(er)>3?"":" "}function iQe(t,e){for(;--e&&Mo()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return jk(t,mb()+(e<6&&Ju()==32&&Mo()==32))}function aS(t){for(;Mo();)switch(er){case t:return Js;case 34:case 39:t!==34&&t!==39&&aS(er);break;case 40:t===41&&aS(t);break;case 92:Mo();break}return Js}function sQe(t,e){for(;Mo()&&t+er!==57;)if(t+er===84&&Ju()===47)break;return"/*"+jk(e,Js-1)+"*"+ME(t===47?t:Mo())}function oQe(t){for(;!oS(Ju());)Mo();return jk(t,Js)}function aQe(t){return nQe(yb("",null,null,null,[""],t=tQe(t),0,[0],t))}function yb(t,e,n,r,i,s,o,a,l){for(var u=0,h=0,d=o,f=0,p=0,g=0,m=1,y=1,b=1,O=0,x="",T=i,A=s,v=r,S=x;y;)switch(g=O,O=Mo()){case 40:if(g!=108&&Mm(S,d-1)==58){GBe(S+=gb(l_(O),"&","&\f"),"&\f",rz(u?a[u-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:S+=l_(O);break;case 9:case 10:case 13:case 32:S+=rQe(g);break;case 92:S+=iQe(mb()-1,7);continue;case 47:switch(Ju()){case 42:case 47:B1(lQe(sQe(Mo(),mb()),e,n,l),l);break;default:S+="/"}break;case 123*m:a[u++]=sl(S)*b;case 125*m:case 59:case 0:switch(O){case 0:case 125:y=0;case 59+h:b==-1&&(S=gb(S,/\f/g,"")),p>0&&sl(S)-d&&B1(p>32?U7(S+";",r,n,d-1,l):U7(gb(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(B1(v=W7(S,e,n,u,h,i,a,x,T=[],A=[],d,s),s),O===123)if(h===0)yb(S,e,v,v,T,s,d,a,A);else switch(f===99&&Mm(S,3)===110?100:f){case 100:case 108:case 109:case 115:yb(t,v,v,r&&B1(W7(t,v,v,0,0,i,a,x,i,T=[],d,A),A),i,A,d,a,r?T:A);break;default:yb(S,v,v,v,[""],A,0,a,A)}}u=h=p=0,m=b=1,x=S="",d=o;break;case 58:d=1+sl(S),p=g;default:if(m<1){if(O==123)--m;else if(O==125&&m++==0&&eQe()==125)continue}switch(S+=ME(O),O*m){case 38:b=h>0?1:(S+="\f",-1);break;case 44:a[u++]=(sl(S)-1)*b,b=1;break;case 64:Ju()===45&&(S+=l_(Mo())),f=Ju(),h=d=sl(x=S+=oQe(mb())),O++;break;case 45:g===45&&sl(S)==2&&(m=0)}}return s}function W7(t,e,n,r,i,s,o,a,l,u,h,d){for(var f=i-1,p=i===0?s:[""],g=KBe(p),m=0,y=0,b=0;m<r;++m)for(var O=0,x=Pm(t,f+1,f=rz(y=o[m])),T=t;O<g;++O)(T=iz(y>0?p[O]+" "+x:gb(x,/&\f/g,p[O])))&&(l[b++]=T);return PE(t,e,n,i===0?tz:a,l,u,h,d)}function lQe(t,e,n,r){return PE(t,e,n,ez,ME(JBe()),Pm(t,2,-2),0,r)}function U7(t,e,n,r,i){return PE(t,e,n,nz,Pm(t,0,r),Pm(t,r+1,-1),r,i)}function lS(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function cQe(t,e,n,r){switch(t.type){case HBe:if(t.children.length)break;case ZBe:case nz:return t.return=t.return||t.value;case ez:return"";case XBe:return t.return=t.value+"{"+lS(t.children,r)+"}";case tz:if(!sl(t.value=t.props.join(",")))return""}return sl(n=lS(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ma(t){return t!=null&&typeof t=="object"}var uQe="[object Symbol]";function hh(t){return typeof t=="symbol"||Ma(t)&&$h(t)==uQe}function Pd(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var or=Array.isArray,hQe=1/0,j7=Ks?Ks.prototype:void 0,q7=j7?j7.toString:void 0;function oz(t){if(typeof t=="string")return t;if(or(t))return Pd(t,oz)+"";if(hh(t))return q7?q7.call(t):"";var e=t+"";return e=="0"&&1/t==-hQe?"-0":e}var dQe=/\s/;function fQe(t){for(var e=t.length;e--&&dQe.test(t.charAt(e)););return e}var pQe=/^\s+/;function gQe(t){return t&&t.slice(0,fQe(t)+1).replace(pQe,"")}var Y7=NaN,mQe=/^[-+]0x[0-9a-f]+$/i,yQe=/^0b[01]+$/i,bQe=/^0o[0-7]+$/i,OQe=parseInt;function kQe(t){if(typeof t=="number")return t;if(hh(t))return Y7;if(Ss(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ss(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=gQe(t);var n=yQe.test(t);return n||bQe.test(t)?OQe(t.slice(2),n?2:8):mQe.test(t)?Y7:+t}var Z7=1/0,xQe=17976931348623157e292;function bb(t){if(!t)return t===0?t:0;if(t=kQe(t),t===Z7||t===-Z7){var e=t<0?-1:1;return e*xQe}return t===t?t:0}function wQe(t){var e=bb(t),n=e%1;return e===e?n?e-n:e:0}function Ih(t){return t}var cS=Lh(Ia,"WeakMap"),X7=Object.create,_Qe=function(){function t(){}return function(e){if(!Ss(e))return{};if(X7)return X7(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function vQe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function SQe(){}function az(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var CQe=800,EQe=16,TQe=Date.now;function DQe(t){var e=0,n=0;return function(){var r=TQe(),i=EQe-(r-n);if(n=r,i>0){if(++e>=CQe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function dd(t){return function(){return t}}var F2=function(){try{var t=Lh(Object,"defineProperty");return t({},"",{}),t}catch{}}(),AQe=F2?function(t,e){return F2(t,"toString",{configurable:!0,enumerable:!1,value:dd(e),writable:!0})}:Ih,lz=DQe(AQe);function cz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function uz(t,e,n,r){for(var i=t.length,s=n+-1;++s<i;)if(e(t[s],s,t))return s;return-1}function MQe(t){return t!==t}function PQe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function $Qe(t,e,n){return e===e?PQe(t,e,n):uz(t,MQe,n)}function RQe(t,e){var n=t==null?0:t.length;return!!n&&$Qe(t,e,0)>-1}var LQe=9007199254740991,IQe=/^(?:0|[1-9]\d*)$/;function qk(t,e){var n=typeof t;return e=e??LQe,!!e&&(n=="number"||n!="symbol"&&IQe.test(t))&&t>-1&&t%1==0&&t<e}function Yk(t,e,n){e=="__proto__"&&F2?F2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var NQe=Object.prototype,FQe=NQe.hasOwnProperty;function Zk(t,e,n){var r=t[e];(!(FQe.call(t,e)&&Uf(r,n))||n===void 0&&!(e in t))&&Yk(t,e,n)}function V0(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=t[a]),i?Yk(n,a,l):Zk(n,a,l)}return n}var H7=Math.max;function hz(t,e,n){return e=H7(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=H7(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),vQe(t,this,a)}}function Xk(t,e){return lz(hz(t,e,Ih),t+"")}var BQe=9007199254740991;function $E(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=BQe}function nu(t){return t!=null&&$E(t.length)&&!cf(t)}function $m(t,e,n){if(!Ss(n))return!1;var r=typeof e;return(r=="number"?nu(n)&&qk(e,n.length):r=="string"&&e in n)?Uf(n[e],t):!1}function QQe(t){return Xk(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&$m(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var zQe=Object.prototype;function Hk(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||zQe;return t===n}function VQe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var WQe="[object Arguments]";function G7(t){return Ma(t)&&$h(t)==WQe}var dz=Object.prototype,UQe=dz.hasOwnProperty,jQe=dz.propertyIsEnumerable,hf=G7(function(){return arguments}())?G7:function(t){return Ma(t)&&UQe.call(t,"callee")&&!jQe.call(t,"callee")};function qQe(){return!1}var fz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,K7=fz&&typeof module=="object"&&module&&!module.nodeType&&module,YQe=K7&&K7.exports===fz,J7=YQe?Ia.Buffer:void 0,ZQe=J7?J7.isBuffer:void 0,df=ZQe||qQe,XQe="[object Arguments]",HQe="[object Array]",GQe="[object Boolean]",KQe="[object Date]",JQe="[object Error]",eze="[object Function]",tze="[object Map]",nze="[object Number]",rze="[object Object]",ize="[object RegExp]",sze="[object Set]",oze="[object String]",aze="[object WeakMap]",lze="[object ArrayBuffer]",cze="[object DataView]",uze="[object Float32Array]",hze="[object Float64Array]",dze="[object Int8Array]",fze="[object Int16Array]",pze="[object Int32Array]",gze="[object Uint8Array]",mze="[object Uint8ClampedArray]",yze="[object Uint16Array]",bze="[object Uint32Array]",xn={};xn[uze]=xn[hze]=xn[dze]=xn[fze]=xn[pze]=xn[gze]=xn[mze]=xn[yze]=xn[bze]=!0;xn[XQe]=xn[HQe]=xn[lze]=xn[GQe]=xn[cze]=xn[KQe]=xn[JQe]=xn[eze]=xn[tze]=xn[nze]=xn[rze]=xn[ize]=xn[sze]=xn[oze]=xn[aze]=!1;function Oze(t){return Ma(t)&&$E(t.length)&&!!xn[$h(t)]}function Gk(t){return function(e){return t(e)}}var pz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$g=pz&&typeof module=="object"&&module&&!module.nodeType&&module,kze=$g&&$g.exports===pz,c_=kze&&KQ.process,ff=function(){try{var t=$g&&$g.require&&$g.require("util").types;return t||c_&&c_.binding&&c_.binding("util")}catch{}}(),eM=ff&&ff.isTypedArray,Kk=eM?Gk(eM):Oze,xze=Object.prototype,wze=xze.hasOwnProperty;function gz(t,e){var n=or(t),r=!n&&hf(t),i=!n&&!r&&df(t),s=!n&&!r&&!i&&Kk(t),o=n||r||i||s,a=o?VQe(t.length,String):[],l=a.length;for(var u in t)(e||wze.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qk(u,l)))&&a.push(u);return a}function mz(t,e){return function(n){return t(e(n))}}var _ze=mz(Object.keys,Object),vze=Object.prototype,Sze=vze.hasOwnProperty;function yz(t){if(!Hk(t))return _ze(t);var e=[];for(var n in Object(t))Sze.call(t,n)&&n!="constructor"&&e.push(n);return e}function ys(t){return nu(t)?gz(t):yz(t)}function Cze(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Eze=Object.prototype,Tze=Eze.hasOwnProperty;function Dze(t){if(!Ss(t))return Cze(t);var e=Hk(t),n=[];for(var r in t)r=="constructor"&&(e||!Tze.call(t,r))||n.push(r);return n}function Nh(t){return nu(t)?gz(t,!0):Dze(t)}var Aze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mze=/^\w*$/;function RE(t,e){if(or(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||hh(t)?!0:Mze.test(t)||!Aze.test(t)||e!=null&&t in Object(e)}var Pze=500;function $ze(t){var e=jf(t,function(r){return n.size===Pze&&n.clear(),r}),n=e.cache;return e}var Rze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lze=/\\(\\)?/g,Ize=$ze(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Rze,function(n,r,i,s){e.push(i?s.replace(Lze,"$1"):r||n)}),e});function bz(t){return t==null?"":oz(t)}function Jk(t,e){return or(t)?t:RE(t,e)?[t]:Ize(bz(t))}var Nze=1/0;function W0(t){if(typeof t=="string"||hh(t))return t;var e=t+"";return e=="0"&&1/t==-Nze?"-0":e}function ex(t,e){e=Jk(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[W0(e[n++])];return n&&n==r?t:void 0}function Fze(t,e,n){var r=t==null?void 0:ex(t,e);return r===void 0?n:r}function LE(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var tM=Ks?Ks.isConcatSpreadable:void 0;function Bze(t){return or(t)||hf(t)||!!(tM&&t&&t[tM])}function IE(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=Bze),i||(i=[]);++s<o;){var a=t[s];n(a)?LE(i,a):r||(i[i.length]=a)}return i}function Yf(t){var e=t==null?0:t.length;return e?IE(t):[]}function Qze(t){return lz(hz(t,void 0,Yf),t+"")}var NE=mz(Object.getPrototypeOf,Object),zze="[object Object]",Vze=Function.prototype,Wze=Object.prototype,Oz=Vze.toString,Uze=Wze.hasOwnProperty,jze=Oz.call(Object);function kz(t){if(!Ma(t)||$h(t)!=zze)return!1;var e=NE(t);if(e===null)return!0;var n=Uze.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Oz.call(n)==jze}function qze(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Yze(){this.__data__=new Nl,this.size=0}function Zze(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Xze(t){return this.__data__.get(t)}function Hze(t){return this.__data__.has(t)}var Gze=200;function Kze(t,e){var n=this.__data__;if(n instanceof Nl){var r=n.__data__;if(!Am||r.length<Gze-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fl(r)}return n.set(t,e),this.size=n.size,this}function Po(t){var e=this.__data__=new Nl(t);this.size=e.size}Po.prototype.clear=Yze;Po.prototype.delete=Zze;Po.prototype.get=Xze;Po.prototype.has=Hze;Po.prototype.set=Kze;function Jze(t,e){return t&&V0(e,ys(e),t)}function eVe(t,e){return t&&V0(e,Nh(e),t)}var xz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nM=xz&&typeof module=="object"&&module&&!module.nodeType&&module,tVe=nM&&nM.exports===xz,rM=tVe?Ia.Buffer:void 0,iM=rM?rM.allocUnsafe:void 0;function wz(t,e){if(e)return t.slice();var n=t.length,r=iM?iM(n):new t.constructor(n);return t.copy(r),r}function _z(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function vz(){return[]}var nVe=Object.prototype,rVe=nVe.propertyIsEnumerable,sM=Object.getOwnPropertySymbols,FE=sM?function(t){return t==null?[]:(t=Object(t),_z(sM(t),function(e){return rVe.call(t,e)}))}:vz;function iVe(t,e){return V0(t,FE(t),e)}var sVe=Object.getOwnPropertySymbols,Sz=sVe?function(t){for(var e=[];t;)LE(e,FE(t)),t=NE(t);return e}:vz;function oVe(t,e){return V0(t,Sz(t),e)}function Cz(t,e,n){var r=e(t);return or(t)?r:LE(r,n(t))}function uS(t){return Cz(t,ys,FE)}function aVe(t){return Cz(t,Nh,Sz)}var hS=Lh(Ia,"DataView"),dS=Lh(Ia,"Promise"),$d=Lh(Ia,"Set"),oM="[object Map]",lVe="[object Object]",aM="[object Promise]",lM="[object Set]",cM="[object WeakMap]",uM="[object DataView]",cVe=Rh(hS),uVe=Rh(Am),hVe=Rh(dS),dVe=Rh($d),fVe=Rh(cS),Vs=$h;(hS&&Vs(new hS(new ArrayBuffer(1)))!=uM||Am&&Vs(new Am)!=oM||dS&&Vs(dS.resolve())!=aM||$d&&Vs(new $d)!=lM||cS&&Vs(new cS)!=cM)&&(Vs=function(t){var e=$h(t),n=e==lVe?t.constructor:void 0,r=n?Rh(n):"";if(r)switch(r){case cVe:return uM;case uVe:return oM;case hVe:return aM;case dVe:return lM;case fVe:return cM}return e});var pVe=Object.prototype,gVe=pVe.hasOwnProperty;function mVe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&gVe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var B2=Ia.Uint8Array;function BE(t){var e=new t.constructor(t.byteLength);return new B2(e).set(new B2(t)),e}function yVe(t,e){var n=e?BE(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var bVe=/\w*$/;function OVe(t){var e=new t.constructor(t.source,bVe.exec(t));return e.lastIndex=t.lastIndex,e}var hM=Ks?Ks.prototype:void 0,dM=hM?hM.valueOf:void 0;function kVe(t){return dM?Object(dM.call(t)):{}}function Ez(t,e){var n=e?BE(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var xVe="[object Boolean]",wVe="[object Date]",_Ve="[object Map]",vVe="[object Number]",SVe="[object RegExp]",CVe="[object Set]",EVe="[object String]",TVe="[object Symbol]",DVe="[object ArrayBuffer]",AVe="[object DataView]",MVe="[object Float32Array]",PVe="[object Float64Array]",$Ve="[object Int8Array]",RVe="[object Int16Array]",LVe="[object Int32Array]",IVe="[object Uint8Array]",NVe="[object Uint8ClampedArray]",FVe="[object Uint16Array]",BVe="[object Uint32Array]";function QVe(t,e,n){var r=t.constructor;switch(e){case DVe:return BE(t);case xVe:case wVe:return new r(+t);case AVe:return yVe(t,n);case MVe:case PVe:case $Ve:case RVe:case LVe:case IVe:case NVe:case FVe:case BVe:return Ez(t,n);case _Ve:return new r;case vVe:case EVe:return new r(t);case SVe:return OVe(t);case CVe:return new r;case TVe:return kVe(t)}}function Tz(t){return typeof t.constructor=="function"&&!Hk(t)?_Qe(NE(t)):{}}var zVe="[object Map]";function VVe(t){return Ma(t)&&Vs(t)==zVe}var fM=ff&&ff.isMap,WVe=fM?Gk(fM):VVe,UVe="[object Set]";function jVe(t){return Ma(t)&&Vs(t)==UVe}var pM=ff&&ff.isSet,qVe=pM?Gk(pM):jVe,YVe=1,ZVe=2,XVe=4,Dz="[object Arguments]",HVe="[object Array]",GVe="[object Boolean]",KVe="[object Date]",JVe="[object Error]",Az="[object Function]",eWe="[object GeneratorFunction]",tWe="[object Map]",nWe="[object Number]",Mz="[object Object]",rWe="[object RegExp]",iWe="[object Set]",sWe="[object String]",oWe="[object Symbol]",aWe="[object WeakMap]",lWe="[object ArrayBuffer]",cWe="[object DataView]",uWe="[object Float32Array]",hWe="[object Float64Array]",dWe="[object Int8Array]",fWe="[object Int16Array]",pWe="[object Int32Array]",gWe="[object Uint8Array]",mWe="[object Uint8ClampedArray]",yWe="[object Uint16Array]",bWe="[object Uint32Array]",pn={};pn[Dz]=pn[HVe]=pn[lWe]=pn[cWe]=pn[GVe]=pn[KVe]=pn[uWe]=pn[hWe]=pn[dWe]=pn[fWe]=pn[pWe]=pn[tWe]=pn[nWe]=pn[Mz]=pn[rWe]=pn[iWe]=pn[sWe]=pn[oWe]=pn[gWe]=pn[mWe]=pn[yWe]=pn[bWe]=!0;pn[JVe]=pn[Az]=pn[aWe]=!1;function Rg(t,e,n,r,i,s){var o,a=e&YVe,l=e&ZVe,u=e&XVe;if(o!==void 0)return o;if(!Ss(t))return t;var h=or(t);if(h){if(o=mVe(t),!a)return az(t,o)}else{var d=Vs(t),f=d==Az||d==eWe;if(df(t))return wz(t,a);if(d==Mz||d==Dz||f&&!i){if(o=l||f?{}:Tz(t),!a)return l?oVe(t,eVe(o,t)):iVe(t,Jze(o,t))}else{if(!pn[d])return i?t:{};o=QVe(t,d,a)}}s||(s=new Po);var p=s.get(t);if(p)return p;s.set(t,o),qVe(t)?t.forEach(function(y){o.add(Rg(y,e,n,y,t,s))}):WVe(t)&&t.forEach(function(y,b){o.set(b,Rg(y,e,n,b,t,s))});var g=u?l?aVe:uS:l?Nh:ys,m=h?void 0:g(t);return cz(m||t,function(y,b){m&&(b=y,y=t[b]),Zk(o,b,Rg(y,e,n,b,t,s))}),o}var OWe=4;function kWe(t){return Rg(t,OWe)}var xWe=1,wWe=4;function _We(t){return Rg(t,xWe|wWe)}var vWe="__lodash_hash_undefined__";function SWe(t){return this.__data__.set(t,vWe),this}function CWe(t){return this.__data__.has(t)}function Rm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Fl;++e<n;)this.add(t[e])}Rm.prototype.add=Rm.prototype.push=SWe;Rm.prototype.has=CWe;function EWe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Pz(t,e){return t.has(e)}var TWe=1,DWe=2;function $z(t,e,n,r,i,s){var o=n&TWe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,p=n&DWe?new Rm:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var g=t[d],m=e[d];if(r)var y=o?r(m,g,d,e,t,s):r(g,m,d,t,e,s);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!EWe(e,function(b,O){if(!Pz(p,O)&&(g===b||i(g,b,n,r,s)))return p.push(O)})){f=!1;break}}else if(!(g===m||i(g,m,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function AWe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function QE(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var MWe=1,PWe=2,$We="[object Boolean]",RWe="[object Date]",LWe="[object Error]",IWe="[object Map]",NWe="[object Number]",FWe="[object RegExp]",BWe="[object Set]",QWe="[object String]",zWe="[object Symbol]",VWe="[object ArrayBuffer]",WWe="[object DataView]",gM=Ks?Ks.prototype:void 0,u_=gM?gM.valueOf:void 0;function UWe(t,e,n,r,i,s,o){switch(n){case WWe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case VWe:return!(t.byteLength!=e.byteLength||!s(new B2(t),new B2(e)));case $We:case RWe:case NWe:return Uf(+t,+e);case LWe:return t.name==e.name&&t.message==e.message;case FWe:case QWe:return t==e+"";case IWe:var a=AWe;case BWe:var l=r&MWe;if(a||(a=QE),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=PWe,o.set(t,e);var h=$z(a(t),a(e),r,i,s,o);return o.delete(t),h;case zWe:if(u_)return u_.call(t)==u_.call(e)}return!1}var jWe=1,qWe=Object.prototype,YWe=qWe.hasOwnProperty;function ZWe(t,e,n,r,i,s){var o=n&jWe,a=uS(t),l=a.length,u=uS(e),h=u.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:YWe.call(e,f)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);for(var y=o;++d<l;){f=a[d];var b=t[f],O=e[f];if(r)var x=o?r(O,b,f,e,t,s):r(b,O,f,t,e,s);if(!(x===void 0?b===O||i(b,O,n,r,s):x)){m=!1;break}y||(y=f=="constructor")}if(m&&!y){var T=t.constructor,A=e.constructor;T!=A&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof A=="function"&&A instanceof A)&&(m=!1)}return s.delete(t),s.delete(e),m}var XWe=1,mM="[object Arguments]",yM="[object Array]",Q1="[object Object]",HWe=Object.prototype,bM=HWe.hasOwnProperty;function GWe(t,e,n,r,i,s){var o=or(t),a=or(e),l=o?yM:Vs(t),u=a?yM:Vs(e);l=l==mM?Q1:l,u=u==mM?Q1:u;var h=l==Q1,d=u==Q1,f=l==u;if(f&&df(t)){if(!df(e))return!1;o=!0,h=!1}if(f&&!h)return s||(s=new Po),o||Kk(t)?$z(t,e,n,r,i,s):UWe(t,e,l,n,r,i,s);if(!(n&XWe)){var p=h&&bM.call(t,"__wrapped__"),g=d&&bM.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return s||(s=new Po),i(m,y,n,r,s)}}return f?(s||(s=new Po),ZWe(t,e,n,r,i,s)):!1}function zE(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ma(t)&&!Ma(e)?t!==t&&e!==e:GWe(t,e,n,r,zE,i)}var KWe=1,JWe=2;function eUe(t,e,n,r){var i=n.length,s=i;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var a=o[0],l=t[a],u=o[1];if(o[2]){if(l===void 0&&!(a in t))return!1}else{var h=new Po,d;if(!(d===void 0?zE(u,l,KWe|JWe,r,h):d))return!1}}return!0}function Rz(t){return t===t&&!Ss(t)}function tUe(t){for(var e=ys(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Rz(i)]}return e}function Lz(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function nUe(t){var e=tUe(t);return e.length==1&&e[0][2]?Lz(e[0][0],e[0][1]):function(n){return n===t||eUe(n,t,e)}}function rUe(t,e){return t!=null&&e in Object(t)}function Iz(t,e,n){e=Jk(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=W0(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&$E(i)&&qk(o,i)&&(or(t)||hf(t)))}function Nz(t,e){return t!=null&&Iz(t,e,rUe)}var iUe=1,sUe=2;function oUe(t,e){return RE(t)&&Rz(e)?Lz(W0(t),e):function(n){var r=Fze(n,t);return r===void 0&&r===e?Nz(n,t):zE(e,r,iUe|sUe)}}function aUe(t){return function(e){return e==null?void 0:e[t]}}function lUe(t){return function(e){return ex(e,t)}}function cUe(t){return RE(t)?aUe(W0(t)):lUe(t)}function ru(t){return typeof t=="function"?t:t==null?Ih:typeof t=="object"?or(t)?oUe(t[0],t[1]):nUe(t):cUe(t)}function uUe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[++i];if(n(s[l],l,s)===!1)break}return e}}var VE=uUe();function Fz(t,e){return t&&VE(t,e,ys)}function hUe(t,e){return function(n,r){if(n==null)return n;if(!nu(n))return t(n,r);for(var i=n.length,s=-1,o=Object(n);++s<i&&r(o[s],s,o)!==!1;);return n}}var tx=hUe(Fz),Bz=Object.prototype,dUe=Bz.hasOwnProperty,ed=Xk(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&$m(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Nh(s),a=-1,l=o.length;++a<l;){var u=o[a],h=t[u];(h===void 0||Uf(h,Bz[u])&&!dUe.call(t,u))&&(t[u]=s[u])}return t});function fS(t,e,n){(n!==void 0&&!Uf(t[e],n)||n===void 0&&!(e in t))&&Yk(t,e,n)}function Qz(t){return Ma(t)&&nu(t)}function pS(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function fUe(t){return V0(t,Nh(t))}function pUe(t,e,n,r,i,s,o){var a=pS(t,n),l=pS(e,n),u=o.get(l);if(u){fS(t,n,u);return}var h=s?s(a,l,n+"",t,e,o):void 0,d=h===void 0;if(d){var f=or(l),p=!f&&df(l),g=!f&&!p&&Kk(l);h=l,f||p||g?or(a)?h=a:Qz(a)?h=az(a):p?(d=!1,h=wz(l,!0)):g?(d=!1,h=Ez(l,!0)):h=[]:kz(l)||hf(l)?(h=a,hf(a)?h=fUe(a):(!Ss(a)||cf(a))&&(h=Tz(l))):d=!1}d&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),fS(t,n,h)}function zz(t,e,n,r,i){t!==e&&VE(e,function(s,o){if(i||(i=new Po),Ss(s))pUe(t,e,o,n,zz,r,i);else{var a=r?r(pS(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),fS(t,o,a)}},Nh)}function Q2(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Vz(t){return typeof t=="function"?t:Ih}function Ce(t,e){var n=or(t)?cz:tx;return n(t,Vz(e))}function gUe(t,e){var n=[];return tx(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function fl(t,e){var n=or(t)?_z:gUe;return n(t,ru(e))}function mUe(t){return function(e,n,r){var i=Object(e);if(!nu(e)){var s=ru(n);e=ys(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var yUe=Math.max;function bUe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:wQe(n);return i<0&&(i=yUe(r+i,0)),uz(t,ru(e),i)}var WE=mUe(bUe);function Wz(t,e){var n=-1,r=nu(t)?Array(t.length):[];return tx(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ir(t,e){var n=or(t)?Pd:Wz;return n(t,ru(e))}function OUe(t,e){return t==null?t:VE(t,Vz(e),Nh)}function kUe(t,e){return t>e}var xUe=Object.prototype,wUe=xUe.hasOwnProperty;function _Ue(t,e){return t!=null&&wUe.call(t,e)}function vt(t,e){return t!=null&&Iz(t,e,_Ue)}function vUe(t,e){return Pd(e,function(n){return t[n]})}function wl(t){return t==null?[]:vUe(t,ys(t))}var SUe="[object Map]",CUe="[object Set]",EUe=Object.prototype,TUe=EUe.hasOwnProperty;function Rd(t){if(t==null)return!0;if(nu(t)&&(or(t)||typeof t=="string"||typeof t.splice=="function"||df(t)||Kk(t)||hf(t)))return!t.length;var e=Vs(t);if(e==SUe||e==CUe)return!t.size;if(Hk(t))return!yz(t).length;for(var n in t)if(TUe.call(t,n))return!1;return!0}function qn(t){return t===void 0}function Uz(t,e){return t<e}function nx(t,e){var n={};return e=ru(e),Fz(t,function(r,i,s){Yk(n,i,e(r,i,s))}),n}function UE(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!hh(o):n(o,a)))var a=o,l=s}return l}function dh(t){return t&&t.length?UE(t,Ih,kUe):void 0}var gS=QQe(function(t,e,n){zz(t,e,n)});function Lm(t){return t&&t.length?UE(t,Ih,Uz):void 0}function jE(t,e){return t&&t.length?UE(t,ru(e),Uz):void 0}function DUe(t,e,n,r){if(!Ss(t))return t;e=Jk(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=W0(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var h=a[l];u=void 0,u===void 0&&(u=Ss(h)?h:qk(e[i+1])?[]:{})}Zk(a,l,u),a=a[l]}return t}function AUe(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=ex(t,o);n(a,o)&&DUe(s,Jk(o,t),a)}return s}function MUe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function PUe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=hh(t),o=e!==void 0,a=e===null,l=e===e,u=hh(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function $Ue(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=PUe(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function RUe(t,e,n){e.length?e=Pd(e,function(s){return or(s)?function(o){return ex(o,s.length===1?s[0]:s)}:s}):e=[Ih];var r=-1;e=Pd(e,Gk(ru));var i=Wz(t,function(s,o,a){var l=Pd(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return MUe(i,function(s,o){return $Ue(s,o,n)})}function LUe(t,e){return AUe(t,e,function(n,r){return Nz(t,r)})}var Im=Qze(function(t,e){return t==null?{}:LUe(t,e)}),IUe=Math.ceil,NUe=Math.max;function FUe(t,e,n,r){for(var i=-1,s=NUe(IUe((e-t)/(n||1)),0),o=Array(s);s--;)o[++i]=t,t+=n;return o}function BUe(t){return function(e,n,r){return r&&typeof r!="number"&&$m(e,n,r)&&(n=r=void 0),e=bb(e),n===void 0?(n=e,e=0):n=bb(n),r=r===void 0?e<n?1:-1:bb(r),FUe(e,n,r)}}var fh=BUe();function QUe(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function U0(t,e,n){var r=or(t)?qze:QUe,i=arguments.length<3;return r(t,ru(e),n,i,tx)}var j0=Xk(function(t,e){if(t==null)return[];var n=e.length;return n>1&&$m(t,e[0],e[1])?e=[]:n>2&&$m(e[0],e[1],e[2])&&(e=[e[0]]),RUe(t,IE(e),[])}),zUe=1/0,VUe=$d&&1/QE(new $d([,-0]))[1]==zUe?function(t){return new $d(t)}:SQe,WUe=200;function UUe(t,e,n){var r=-1,i=RQe,s=t.length,o=!0,a=[],l=a;if(s>=WUe){var u=VUe(t);if(u)return QE(u);o=!1,i=Pz,l=new Rm}else l=a;e:for(;++r<s;){var h=t[r],d=h;if(h=h!==0?h:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;a.push(h)}else i(l,d,n)||(l!==a&&l.push(d),a.push(h))}return a}var jUe=Xk(function(t){return UUe(IE(t,1,Qz,!0))}),qUe=0;function rx(t){var e=++qUe;return bz(t)+e}function YUe(t,e,n){for(var r=-1,i=t.length,s=e.length,o={};++r<i;){var a=r<s?e[r]:void 0;n(o,t[r],a)}return o}function ZUe(t,e){return YUe(t||[],e||[],Zk)}var XUe="\0",gu="\0",OM="";class ar{constructor(e={}){this._isDirected=vt(e,"directed")?e.directed:!0,this._isMultigraph=vt(e,"multigraph")?e.multigraph:!1,this._isCompound=vt(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=dd(void 0),this._defaultEdgeLabelFn=dd(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[gu]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return cf(e)||(e=dd(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return ys(this._nodes)}sources(){var e=this;return fl(this.nodes(),function(n){return Rd(e._in[n])})}sinks(){var e=this;return fl(this.nodes(),function(n){return Rd(e._out[n])})}setNodes(e,n){var r=arguments,i=this;return Ce(e,function(s){r.length>1?i.setNode(s,n):i.setNode(s)}),this}setNode(e,n){return vt(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=gu,this._children[e]={},this._children[gu][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return vt(this._nodes,e)}removeNode(e){var n=this;if(vt(this._nodes,e)){var r=function(i){n.removeEdge(n._edgeObjs[i])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Ce(this.children(e),function(i){n.setParent(i)}),delete this._children[e]),Ce(ys(this._in[e]),r),delete this._in[e],delete this._preds[e],Ce(ys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(qn(n))n=gu;else{n+="";for(var r=n;!qn(r);r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==gu)return n}}children(e){if(qn(e)&&(e=gu),this._isCompound){var n=this._children[e];if(n)return ys(n)}else{if(e===gu)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return ys(n)}successors(e){var n=this._sucs[e];if(n)return ys(n)}neighbors(e){var n=this.predecessors(e);if(n)return jUe(n,this.successors(e))}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Ce(this._nodes,function(o,a){e(a)&&n.setNode(a,o)}),Ce(this._edgeObjs,function(o){n.hasNode(o.v)&&n.hasNode(o.w)&&n.setEdge(o,r.edge(o))});var i={};function s(o){var a=r.parent(o);return a===void 0||n.hasNode(a)?(i[o]=a,a):a in i?i[a]:s(a)}return this._isCompound&&Ce(n.nodes(),function(o){n.setParent(o,s(o))}),n}setDefaultEdgeLabel(e){return cf(e)||(e=dd(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return wl(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return U0(e,function(s,o){return i.length>1?r.setEdge(s,o,n):r.setEdge(s,o),o}),this}setEdge(){var e,n,r,i,s=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(e=o.v,n=o.w,r=o.name,arguments.length===2&&(i=arguments[1],s=!0)):(e=o,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),e=""+e,n=""+n,qn(r)||(r=""+r);var a=Yp(this._isDirected,e,n,r);if(vt(this._edgeLabels,a))return s&&(this._edgeLabels[a]=i),this;if(!qn(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[a]=s?i:this._defaultEdgeLabelFn(e,n,r);var l=HUe(this._isDirected,e,n,r);return e=l.v,n=l.w,Object.freeze(l),this._edgeObjs[a]=l,kM(this._preds[n],e),kM(this._sucs[e],n),this._in[n][a]=l,this._out[e][a]=l,this._edgeCount++,this}edge(e,n,r){var i=arguments.length===1?h_(this._isDirected,arguments[0]):Yp(this._isDirected,e,n,r);return this._edgeLabels[i]}hasEdge(e,n,r){var i=arguments.length===1?h_(this._isDirected,arguments[0]):Yp(this._isDirected,e,n,r);return vt(this._edgeLabels,i)}removeEdge(e,n,r){var i=arguments.length===1?h_(this._isDirected,arguments[0]):Yp(this._isDirected,e,n,r),s=this._edgeObjs[i];return s&&(e=s.v,n=s.w,delete this._edgeLabels[i],delete this._edgeObjs[i],xM(this._preds[n],e),xM(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=wl(r);return n?fl(i,function(s){return s.v===n}):i}}outEdges(e,n){var r=this._out[e];if(r){var i=wl(r);return n?fl(i,function(s){return s.w===n}):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}}ar.prototype._nodeCount=0;ar.prototype._edgeCount=0;function kM(t,e){t[e]?t[e]++:t[e]=1}function xM(t,e){--t[e]||delete t[e]}function Yp(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var o=i;i=s,s=o}return i+OM+s+OM+(qn(r)?XUe:r)}function HUe(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var o=i;i=s,s=o}var a={v:i,w:s};return r&&(a.name=r),a}function h_(t,e){return Yp(t,e.v,e.w,e.name)}class GUe{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return wM(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&wM(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,r=n._prev;r!==n;)e.push(JSON.stringify(r,KUe)),r=r._prev;return"["+e.join(", ")+"]"}}function wM(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function KUe(t,e){if(t!=="_next"&&t!=="_prev")return e}var JUe=dd(1);function eje(t,e){if(t.nodeCount()<=1)return[];var n=nje(t,e||JUe),r=tje(n.graph,n.buckets,n.zeroIdx);return Yf(ir(r,function(i){return t.outEdges(i.v,i.w)}))}function tje(t,e,n){for(var r=[],i=e[e.length-1],s=e[0],o;t.nodeCount();){for(;o=s.dequeue();)d_(t,e,n,o);for(;o=i.dequeue();)d_(t,e,n,o);if(t.nodeCount()){for(var a=e.length-2;a>0;--a)if(o=e[a].dequeue(),o){r=r.concat(d_(t,e,n,o,!0));break}}}return r}function d_(t,e,n,r,i){var s=i?[]:void 0;return Ce(t.inEdges(r.v),function(o){var a=t.edge(o),l=t.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=a,mS(e,n,l)}),Ce(t.outEdges(r.v),function(o){var a=t.edge(o),l=o.w,u=t.node(l);u.in-=a,mS(e,n,u)}),t.removeNode(r.v),s}function nje(t,e){var n=new ar,r=0,i=0;Ce(t.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),Ce(t.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=e(a),h=l+u;n.setEdge(a.v,a.w,h),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var s=fh(i+r+3).map(function(){return new GUe}),o=r+1;return Ce(n.nodes(),function(a){mS(s,o,n.node(a))}),{graph:n,buckets:s,zeroIdx:o}}function mS(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function rje(t){var e=t.graph().acyclicer==="greedy"?eje(t,n(t)):ije(t);Ce(e,function(r){var i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,rx("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function ije(t){var e=[],n={},r={};function i(s){vt(r,s)||(r[s]=!0,n[s]=!0,Ce(t.outEdges(s),function(o){vt(n,o.w)?e.push(o):i(o.w)}),delete n[s])}return Ce(t.nodes(),i),e}function sje(t){Ce(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}function Zf(t,e,n,r){var i;do i=rx(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function oje(t){var e=new ar().setGraph(t.graph());return Ce(t.nodes(),function(n){e.setNode(n,t.node(n))}),Ce(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function jz(t){var e=new ar({multigraph:t.isMultigraph()}).setGraph(t.graph());return Ce(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),Ce(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function _M(t,e){var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,a=t.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=a*i/s,u=a):(i<0&&(o=-o),l=o,u=o*s/i),{x:n+l,y:r+u}}function ix(t){var e=ir(fh(qz(t)+1),function(){return[]});return Ce(t.nodes(),function(n){var r=t.node(n),i=r.rank;qn(i)||(e[i][r.order]=n)}),e}function aje(t){var e=Lm(ir(t.nodes(),function(n){return t.node(n).rank}));Ce(t.nodes(),function(n){var r=t.node(n);vt(r,"rank")&&(r.rank-=e)})}function lje(t){var e=Lm(ir(t.nodes(),function(s){return t.node(s).rank})),n=[];Ce(t.nodes(),function(s){var o=t.node(s).rank-e;n[o]||(n[o]=[]),n[o].push(s)});var r=0,i=t.graph().nodeRankFactor;Ce(n,function(s,o){qn(s)&&o%i!==0?--r:r&&Ce(s,function(a){t.node(a).rank+=r})})}function vM(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Zf(t,"border",i,e)}function qz(t){return dh(ir(t.nodes(),function(e){var n=t.node(e).rank;if(!qn(n))return n}))}function cje(t,e){var n={lhs:[],rhs:[]};return Ce(t,function(r){e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function uje(t,e){return e()}function hje(t){function e(n){var r=t.children(n),i=t.node(n);if(r.length&&Ce(r,e),vt(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)SM(t,"borderLeft","_bl",n,i,s),SM(t,"borderRight","_br",n,i,s)}}Ce(t.children(),e)}function SM(t,e,n,r,i,s){var o={width:0,height:0,rank:s,borderType:e},a=i[e][s-1],l=Zf(t,"border",o,n);i[e][s]=l,t.setParent(l,r),a&&t.setEdge(a,l,{weight:1})}function dje(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&Yz(t)}function fje(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&pje(t),(e==="lr"||e==="rl")&&(gje(t),Yz(t))}function Yz(t){Ce(t.nodes(),function(e){CM(t.node(e))}),Ce(t.edges(),function(e){CM(t.edge(e))})}function CM(t){var e=t.width;t.width=t.height,t.height=e}function pje(t){Ce(t.nodes(),function(e){f_(t.node(e))}),Ce(t.edges(),function(e){var n=t.edge(e);Ce(n.points,f_),vt(n,"y")&&f_(n)})}function f_(t){t.y=-t.y}function gje(t){Ce(t.nodes(),function(e){p_(t.node(e))}),Ce(t.edges(),function(e){var n=t.edge(e);Ce(n.points,p_),vt(n,"x")&&p_(n)})}function p_(t){var e=t.x;t.x=t.y,t.y=e}function mje(t){t.graph().dummyChains=[],Ce(t.edges(),function(e){yje(t,e)})}function yje(t,e){var n=e.v,r=t.node(n).rank,i=e.w,s=t.node(i).rank,o=e.name,a=t.edge(e),l=a.labelRank;if(s!==r+1){t.removeEdge(e);var u,h,d;for(d=0,++r;r<s;++d,++r)a.points=[],h={width:0,height:0,edgeLabel:a,edgeObj:e,rank:r},u=Zf(t,"edge",h,"_d"),r===l&&(h.width=a.width,h.height=a.height,h.dummy="edge-label",h.labelpos=a.labelpos),t.setEdge(n,u,{weight:a.weight},o),d===0&&t.graph().dummyChains.push(u),n=u;t.setEdge(n,i,{weight:a.weight},o)}}function bje(t){Ce(t.graph().dummyChains,function(e){var n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}function qE(t){var e={};function n(r){var i=t.node(r);if(vt(e,r))return i.rank;e[r]=!0;var s=Lm(ir(t.outEdges(r),function(o){return n(o.w)-t.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}Ce(t.sources(),n)}function Nm(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function Zz(t){var e=new ar({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,s;Oje(e,t)<r;)i=kje(e,t),s=e.hasNode(i.v)?Nm(t,i):-Nm(t,i),xje(e,t,s);return e}function Oje(t,e){function n(r){Ce(e.nodeEdges(r),function(i){var s=i.v,o=r===s?i.w:s;!t.hasNode(o)&&!Nm(e,i)&&(t.setNode(o,{}),t.setEdge(r,o,{}),n(o))})}return Ce(t.nodes(),n),t.nodeCount()}function kje(t,e){return jE(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return Nm(e,n)})}function xje(t,e,n){Ce(t.nodes(),function(r){e.node(r).rank+=n})}function wje(){}wje.prototype=new Error;function Xz(t,e,n){or(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],s={};return Ce(e,function(o){if(!t.hasNode(o))throw new Error("Graph does not have node: "+o);Hz(t,o,n==="post",s,r,i)}),i}function Hz(t,e,n,r,i,s){vt(r,e)||(r[e]=!0,n||s.push(e),Ce(i(e),function(o){Hz(t,o,n,r,i,s)}),n&&s.push(e))}function _je(t,e){return Xz(t,e,"post")}function vje(t,e){return Xz(t,e,"pre")}Fh.initLowLimValues=ZE;Fh.initCutValues=YE;Fh.calcCutValue=Gz;Fh.leaveEdge=Jz;Fh.enterEdge=eV;Fh.exchangeEdges=tV;function Fh(t){t=oje(t),qE(t);var e=Zz(t);ZE(e),YE(e,t);for(var n,r;n=Jz(e);)r=eV(e,t,n),tV(e,t,n,r)}function YE(t,e){var n=_je(t,t.nodes());n=n.slice(0,n.length-1),Ce(n,function(r){Sje(t,e,r)})}function Sje(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=Gz(t,e,n)}function Gz(t,e,n){var r=t.node(n),i=r.parent,s=!0,o=e.edge(n,i),a=0;return o||(s=!1,o=e.edge(i,n)),a=o.weight,Ce(e.nodeEdges(n),function(l){var u=l.v===n,h=u?l.w:l.v;if(h!==i){var d=u===s,f=e.edge(l).weight;if(a+=d?f:-f,Eje(t,n,h)){var p=t.edge(n,h).cutvalue;a+=d?-p:p}}}),a}function ZE(t,e){arguments.length<2&&(e=t.nodes()[0]),Kz(t,{},1,e)}function Kz(t,e,n,r,i){var s=n,o=t.node(r);return e[r]=!0,Ce(t.neighbors(r),function(a){vt(e,a)||(n=Kz(t,e,n,a,r))}),o.low=s,o.lim=n++,i?o.parent=i:delete o.parent,n}function Jz(t){return WE(t.edges(),function(e){return t.edge(e).cutvalue<0})}function eV(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var s=t.node(r),o=t.node(i),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var u=fl(e.edges(),function(h){return l===EM(t,t.node(h.v),a)&&l!==EM(t,t.node(h.w),a)});return jE(u,function(h){return Nm(e,h)})}function tV(t,e,n,r){var i=n.v,s=n.w;t.removeEdge(i,s),t.setEdge(r.v,r.w,{}),ZE(t),YE(t,e),Cje(t,e)}function Cje(t,e){var n=WE(t.nodes(),function(i){return!e.node(i).parent}),r=vje(t,n);r=r.slice(1),Ce(r,function(i){var s=t.node(i).parent,o=e.edge(i,s),a=!1;o||(o=e.edge(s,i),a=!0),e.node(i).rank=e.node(s).rank+(a?o.minlen:-o.minlen)})}function Eje(t,e,n){return t.hasEdge(e,n)}function EM(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function Tje(t){switch(t.graph().ranker){case"network-simplex":TM(t);break;case"tight-tree":Aje(t);break;case"longest-path":Dje(t);break;default:TM(t)}}var Dje=qE;function Aje(t){qE(t),Zz(t)}function TM(t){Fh(t)}function Mje(t){var e=Zf(t,"root",{},"_root"),n=Pje(t),r=dh(wl(n))-1,i=2*r+1;t.graph().nestingRoot=e,Ce(t.edges(),function(o){t.edge(o).minlen*=i});var s=$je(t)+1;Ce(t.children(),function(o){nV(t,e,i,s,r,n,o)}),t.graph().nodeRankFactor=i}function nV(t,e,n,r,i,s,o){var a=t.children(o);if(!a.length){o!==e&&t.setEdge(e,o,{weight:0,minlen:n});return}var l=vM(t,"_bt"),u=vM(t,"_bb"),h=t.node(o);t.setParent(l,o),h.borderTop=l,t.setParent(u,o),h.borderBottom=u,Ce(a,function(d){nV(t,e,n,r,i,s,d);var f=t.node(d),p=f.borderTop?f.borderTop:d,g=f.borderBottom?f.borderBottom:d,m=f.borderTop?r:2*r,y=p!==g?1:i-s[o]+1;t.setEdge(l,p,{weight:m,minlen:y,nestingEdge:!0}),t.setEdge(g,u,{weight:m,minlen:y,nestingEdge:!0})}),t.parent(o)||t.setEdge(e,l,{weight:0,minlen:i+s[o]})}function Pje(t){var e={};function n(r,i){var s=t.children(r);s&&s.length&&Ce(s,function(o){n(o,i+1)}),e[r]=i}return Ce(t.children(),function(r){n(r,1)}),e}function $je(t){return U0(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function Rje(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Ce(t.edges(),function(n){var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}function Lje(t,e,n){var r={},i;Ce(n,function(s){for(var o=t.parent(s),a,l;o;){if(a=t.parent(o),a?(l=r[a],r[a]=o):(l=i,i=o),l&&l!==o){e.setEdge(l,o);return}o=a}})}function Ije(t,e,n){var r=Nje(t),i=new ar({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return t.node(s)});return Ce(t.nodes(),function(s){var o=t.node(s),a=t.parent(s);(o.rank===e||o.minRank<=e&&e<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||r),Ce(t[n](s),function(l){var u=l.v===s?l.w:l.v,h=i.edge(u,s),d=qn(h)?0:h.weight;i.setEdge(u,s,{weight:t.edge(l).weight+d})}),vt(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[e],borderRight:o.borderRight[e]}))}),i}function Nje(t){for(var e;t.hasNode(e=rx("_root")););return e}function Fje(t,e){for(var n=0,r=1;r<e.length;++r)n+=Bje(t,e[r-1],e[r]);return n}function Bje(t,e,n){for(var r=ZUe(n,ir(n,function(u,h){return h})),i=Yf(ir(e,function(u){return j0(ir(t.outEdges(u),function(h){return{pos:r[h.w],weight:t.edge(h).weight}}),"pos")})),s=1;s<n.length;)s<<=1;var o=2*s-1;s-=1;var a=ir(new Array(o),function(){return 0}),l=0;return Ce(i.forEach(function(u){var h=u.pos+s;a[h]+=u.weight;for(var d=0;h>0;)h%2&&(d+=a[h+1]),h=h-1>>1,a[h]+=u.weight;l+=u.weight*d})),l}function Qje(t){var e={},n=fl(t.nodes(),function(a){return!t.children(a).length}),r=dh(ir(n,function(a){return t.node(a).rank})),i=ir(fh(r+1),function(){return[]});function s(a){if(!vt(e,a)){e[a]=!0;var l=t.node(a);i[l.rank].push(a),Ce(t.successors(a),s)}}var o=j0(n,function(a){return t.node(a).rank});return Ce(o,s),i}function zje(t,e){return ir(e,function(n){var r=t.inEdges(n);if(r.length){var i=U0(r,function(s,o){var a=t.edge(o),l=t.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}function Vje(t,e){var n={};Ce(t,function(i,s){var o=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};qn(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Ce(e.edges(),function(i){var s=n[i.v],o=n[i.w];!qn(s)&&!qn(o)&&(o.indegree++,s.out.push(n[i.w]))});var r=fl(n,function(i){return!i.indegree});return Wje(r)}function Wje(t){var e=[];function n(s){return function(o){o.merged||(qn(o.barycenter)||qn(s.barycenter)||o.barycenter>=s.barycenter)&&Uje(s,o)}}function r(s){return function(o){o.in.push(s),--o.indegree===0&&t.push(o)}}for(;t.length;){var i=t.pop();e.push(i),Ce(i.in.reverse(),n(i)),Ce(i.out,r(i))}return ir(fl(e,function(s){return!s.merged}),function(s){return Im(s,["vs","i","barycenter","weight"])})}function Uje(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}function jje(t,e){var n=cje(t,function(h){return vt(h,"barycenter")}),r=n.lhs,i=j0(n.rhs,function(h){return-h.i}),s=[],o=0,a=0,l=0;r.sort(qje(!!e)),l=DM(s,i,l),Ce(r,function(h){l+=h.vs.length,s.push(h.vs),o+=h.barycenter*h.weight,a+=h.weight,l=DM(s,i,l)});var u={vs:Yf(s)};return a&&(u.barycenter=o/a,u.weight=a),u}function DM(t,e,n){for(var r;e.length&&(r=Q2(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function qje(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}function rV(t,e,n,r){var i=t.children(e),s=t.node(e),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(i=fl(i,function(g){return g!==o&&g!==a}));var u=zje(t,i);Ce(u,function(g){if(t.children(g.v).length){var m=rV(t,g.v,n,r);l[g.v]=m,vt(m,"barycenter")&&Zje(g,m)}});var h=Vje(u,n);Yje(h,l);var d=jje(h,r);if(o&&(d.vs=Yf([o,d.vs,a]),t.predecessors(o).length)){var f=t.node(t.predecessors(o)[0]),p=t.node(t.predecessors(a)[0]);vt(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d}function Yje(t,e){Ce(t,function(n){n.vs=Yf(n.vs.map(function(r){return e[r]?e[r].vs:r}))})}function Zje(t,e){qn(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function Xje(t){var e=qz(t),n=AM(t,fh(1,e+1),"inEdges"),r=AM(t,fh(e-1,-1,-1),"outEdges"),i=Qje(t);MM(t,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){Hje(a%2?n:r,a%4>=2),i=ix(t);var u=Fje(t,i);u<s&&(l=0,o=_We(i),s=u)}MM(t,o)}function AM(t,e,n){return ir(e,function(r){return Ije(t,r,n)})}function Hje(t,e){var n=new ar;Ce(t,function(r){var i=r.graph().root,s=rV(r,i,n,e);Ce(s.vs,function(o,a){r.node(o).order=a}),Lje(r,n,s.vs)})}function MM(t,e){Ce(e,function(n){Ce(n,function(r,i){t.node(r).order=i})})}function Gje(t){var e=Jje(t);Ce(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,s=Kje(t,e,i.v,i.w),o=s.path,a=s.lca,l=0,u=o[l],h=!0;n!==i.w;){if(r=t.node(n),h){for(;(u=o[l])!==a&&t.node(u).maxRank<r.rank;)l++;u===a&&(h=!1)}if(!h){for(;l<o.length-1&&t.node(u=o[l+1]).minRank<=r.rank;)l++;u=o[l]}t.setParent(n,u),n=t.successors(n)[0]}})}function Kje(t,e,n,r){var i=[],s=[],o=Math.min(e[n].low,e[r].low),a=Math.max(e[n].lim,e[r].lim),l,u;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>o||a>e[l].lim));for(u=l,l=r;(l=t.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function Jje(t){var e={},n=0;function r(i){var s=n;Ce(t.children(i),r),e[i]={low:s,lim:n++}}return Ce(t.children(),r),e}function eqe(t,e){var n={};function r(i,s){var o=0,a=0,l=i.length,u=Q2(s);return Ce(s,function(h,d){var f=nqe(t,h),p=f?t.node(f).order:l;(f||h===u)&&(Ce(s.slice(a,d+1),function(g){Ce(t.predecessors(g),function(m){var y=t.node(m),b=y.order;(b<o||p<b)&&!(y.dummy&&t.node(g).dummy)&&iV(n,m,g)})}),a=d+1,o=p)}),s}return U0(e,r),n}function tqe(t,e){var n={};function r(s,o,a,l,u){var h;Ce(fh(o,a),function(d){h=s[d],t.node(h).dummy&&Ce(t.predecessors(h),function(f){var p=t.node(f);p.dummy&&(p.order<l||p.order>u)&&iV(n,f,h)})})}function i(s,o){var a=-1,l,u=0;return Ce(o,function(h,d){if(t.node(h).dummy==="border"){var f=t.predecessors(h);f.length&&(l=t.node(f[0]).order,r(o,u,d,a,l),u=d,a=l)}r(o,u,o.length,l,s.length)}),o}return U0(e,i),n}function nqe(t,e){if(t.node(e).dummy)return WE(t.predecessors(e),function(n){return t.node(n).dummy})}function iV(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function rqe(t,e,n){if(e>n){var r=e;e=n,n=r}return vt(t[e],n)}function iqe(t,e,n,r){var i={},s={},o={};return Ce(e,function(a){Ce(a,function(l,u){i[l]=l,s[l]=l,o[l]=u})}),Ce(e,function(a){var l=-1;Ce(a,function(u){var h=r(u);if(h.length){h=j0(h,function(m){return o[m]});for(var d=(h.length-1)/2,f=Math.floor(d),p=Math.ceil(d);f<=p;++f){var g=h[f];s[u]===u&&l<o[g]&&!rqe(n,u,g)&&(s[g]=u,s[u]=i[u]=i[g],l=o[g])}}})}),{root:i,align:s}}function sqe(t,e,n,r,i){var s={},o=oqe(t,e,n,i),a=i?"borderLeft":"borderRight";function l(d,f){for(var p=o.nodes(),g=p.pop(),m={};g;)m[g]?d(g):(m[g]=!0,p.push(g),p=p.concat(f(g))),g=p.pop()}function u(d){s[d]=o.inEdges(d).reduce(function(f,p){return Math.max(f,s[p.v]+o.edge(p))},0)}function h(d){var f=o.outEdges(d).reduce(function(g,m){return Math.min(g,s[m.w]-o.edge(m))},Number.POSITIVE_INFINITY),p=t.node(d);f!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(s[d]=Math.max(s[d],f))}return l(u,o.predecessors.bind(o)),l(h,o.successors.bind(o)),Ce(r,function(d){s[d]=s[n[d]]}),s}function oqe(t,e,n,r){var i=new ar,s=t.graph(),o=hqe(s.nodesep,s.edgesep,r);return Ce(e,function(a){var l;Ce(a,function(u){var h=n[u];if(i.setNode(h),l){var d=n[l],f=i.edge(d,h);i.setEdge(d,h,Math.max(o(t,u,l),f||0))}l=u})}),i}function aqe(t,e){return jE(wl(e),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return OUe(n,function(s,o){var a=dqe(t,o)/2;r=Math.max(s+a,r),i=Math.min(s-a,i)}),r-i})}function lqe(t,e){var n=wl(e),r=Lm(n),i=dh(n);Ce(["u","d"],function(s){Ce(["l","r"],function(o){var a=s+o,l=t[a],u;if(l!==e){var h=wl(l);u=o==="l"?r-Lm(h):i-dh(h),u&&(t[a]=nx(l,function(d){return d+u}))}})})}function cqe(t,e){return nx(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=j0(ir(t,r));return(i[1]+i[2])/2})}function uqe(t){var e=ix(t),n=gS(eqe(t,e),tqe(t,e)),r={},i;Ce(["u","d"],function(o){i=o==="u"?e:wl(e).reverse(),Ce(["l","r"],function(a){a==="r"&&(i=ir(i,function(d){return wl(d).reverse()}));var l=(o==="u"?t.predecessors:t.successors).bind(t),u=iqe(t,i,n,l),h=sqe(t,i,u.root,u.align,a==="r");a==="r"&&(h=nx(h,function(d){return-d})),r[o+a]=h})});var s=aqe(t,r);return lqe(r,s),cqe(r,t.graph().align)}function hqe(t,e,n){return function(r,i,s){var o=r.node(i),a=r.node(s),l=0,u;if(l+=o.width/2,vt(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(o.dummy?e:t)/2,l+=(a.dummy?e:t)/2,l+=a.width/2,vt(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function dqe(t,e){return t.node(e).width}function fqe(t){t=jz(t),pqe(t),Ce(uqe(t),function(e,n){t.node(n).x=e})}function pqe(t){var e=ix(t),n=t.graph().ranksep,r=0;Ce(e,function(i){var s=dh(ir(i,function(o){return t.node(o).height}));Ce(i,function(o){t.node(o).y=r+s/2}),r+=s+n})}function Xf(t,e){var n=uje;n("layout",function(){var r=n("  buildLayoutGraph",function(){return Sqe(t)});n("  runLayout",function(){gqe(r,n)}),n("  updateInputGraph",function(){mqe(t,r)})})}function gqe(t,e){e("    makeSpaceForEdgeLabels",function(){Cqe(t)}),e("    removeSelfEdges",function(){Lqe(t)}),e("    acyclic",function(){rje(t)}),e("    nestingGraph.run",function(){Mje(t)}),e("    rank",function(){Tje(jz(t))}),e("    injectEdgeLabelProxies",function(){Eqe(t)}),e("    removeEmptyRanks",function(){lje(t)}),e("    nestingGraph.cleanup",function(){Rje(t)}),e("    normalizeRanks",function(){aje(t)}),e("    assignRankMinMax",function(){Tqe(t)}),e("    removeEdgeLabelProxies",function(){Dqe(t)}),e("    normalize.run",function(){mje(t)}),e("    parentDummyChains",function(){Gje(t)}),e("    addBorderSegments",function(){hje(t)}),e("    order",function(){Xje(t)}),e("    insertSelfEdges",function(){Iqe(t)}),e("    adjustCoordinateSystem",function(){dje(t)}),e("    position",function(){fqe(t)}),e("    positionSelfEdges",function(){Nqe(t)}),e("    removeBorderNodes",function(){Rqe(t)}),e("    normalize.undo",function(){bje(t)}),e("    fixupEdgeLabelCoords",function(){Pqe(t)}),e("    undoCoordinateSystem",function(){fje(t)}),e("    translateGraph",function(){Aqe(t)}),e("    assignNodeIntersects",function(){Mqe(t)}),e("    reversePoints",function(){$qe(t)}),e("    acyclic.undo",function(){sje(t)})}function mqe(t,e){Ce(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),Ce(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,vt(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var yqe=["nodesep","edgesep","ranksep","marginx","marginy"],bqe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Oqe=["acyclicer","ranker","rankdir","align"],kqe=["width","height"],xqe={width:0,height:0},wqe=["minlen","weight","width","height","labeloffset"],_qe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},vqe=["labelpos"];function Sqe(t){var e=new ar({multigraph:!0,compound:!0}),n=m_(t.graph());return e.setGraph(gS({},bqe,g_(n,yqe),Im(n,Oqe))),Ce(t.nodes(),function(r){var i=m_(t.node(r));e.setNode(r,ed(g_(i,kqe),xqe)),e.setParent(r,t.parent(r))}),Ce(t.edges(),function(r){var i=m_(t.edge(r));e.setEdge(r,gS({},_qe,g_(i,wqe),Im(i,vqe)))}),e}function Cqe(t){var e=t.graph();e.ranksep/=2,Ce(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Eqe(t){Ce(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),s={rank:(i.rank-r.rank)/2+r.rank,e};Zf(t,"edge-proxy",s,"_ep")}})}function Tqe(t){var e=0;Ce(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=dh(e,r.maxRank))}),t.graph().maxRank=e}function Dqe(t){Ce(t.nodes(),function(e){var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function Aqe(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=t.graph(),o=s.marginx||0,a=s.marginy||0;function l(u){var h=u.x,d=u.y,f=u.width,p=u.height;e=Math.min(e,h-f/2),n=Math.max(n,h+f/2),r=Math.min(r,d-p/2),i=Math.max(i,d+p/2)}Ce(t.nodes(),function(u){l(t.node(u))}),Ce(t.edges(),function(u){var h=t.edge(u);vt(h,"x")&&l(h)}),e-=o,r-=a,Ce(t.nodes(),function(u){var h=t.node(u);h.x-=e,h.y-=r}),Ce(t.edges(),function(u){var h=t.edge(u);Ce(h.points,function(d){d.x-=e,d.y-=r}),vt(h,"x")&&(h.x-=e),vt(h,"y")&&(h.y-=r)}),s.width=n-e+o,s.height=i-r+a}function Mqe(t){Ce(t.edges(),function(e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),s,o;n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=i,o=r),n.points.unshift(_M(r,s)),n.points.push(_M(i,o))})}function Pqe(t){Ce(t.edges(),function(e){var n=t.edge(e);if(vt(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function $qe(t){Ce(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function Rqe(t){Ce(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),s=t.node(Q2(n.borderLeft)),o=t.node(Q2(n.borderRight));n.width=Math.abs(o.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),Ce(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function Lqe(t){Ce(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function Iqe(t){var e=ix(t);Ce(e,function(n){var r=0;Ce(n,function(i,s){var o=t.node(i);o.order=s+r,Ce(o.selfEdges,function(a){Zf(t,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++r,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function Nqe(t){Ce(t.nodes(),function(e){var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,s=r.y,o=n.x-i,a=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}function g_(t,e){return nx(Im(t,e),Number)}function m_(t){var e={};return Ce(t,function(n,r){e[r.toLowerCase()]=n}),e}function pl(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Fqe(t),edges:Bqe(t)};return qn(t.graph())||(e.value=kWe(t.graph())),e}function Fqe(t){return ir(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return qn(n)||(i.value=n),qn(r)||(i.parent=r),i})}function Bqe(t){return ir(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return qn(e.name)||(r.name=e.name),qn(n)||(r.value=n),r})}const Qqe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zqe(t){return typeof t=="string"&&Qqe.test(t)}const Lr=[];for(let t=0;t<256;++t)Lr.push((t+256).toString(16).slice(1));function Vqe(t,e=0){return Lr[t[e+0]]+Lr[t[e+1]]+Lr[t[e+2]]+Lr[t[e+3]]+"-"+Lr[t[e+4]]+Lr[t[e+5]]+"-"+Lr[t[e+6]]+Lr[t[e+7]]+"-"+Lr[t[e+8]]+Lr[t[e+9]]+"-"+Lr[t[e+10]]+Lr[t[e+11]]+Lr[t[e+12]]+Lr[t[e+13]]+Lr[t[e+14]]+Lr[t[e+15]]}function Wqe(t){if(!zqe(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Uqe(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}const jqe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",qqe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Yqe(t,e,n){function r(i,s,o,a){var l;if(typeof i=="string"&&(i=Uqe(i)),typeof s=="string"&&(s=Wqe(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=n(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(let h=0;h<16;++h)o[a+h]=u[h];return o}return Vqe(u)}try{r.name=t}catch{}return r.DNS=jqe,r.URL=qqe,r}function Zqe(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function y_(t,e){return t<<e|t>>>32-e}function Xqe(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const o=unescape(encodeURIComponent(t));t=[];for(let a=0;a<o.length;++a)t.push(o.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const r=t.length/4+2,i=Math.ceil(r/16),s=new Array(i);for(let o=0;o<i;++o){const a=new Uint32Array(16);for(let l=0;l<16;++l)a[l]=t[o*64+l*4]<<24|t[o*64+l*4+1]<<16|t[o*64+l*4+2]<<8|t[o*64+l*4+3];s[o]=a}s[i-1][14]=(t.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<i;++o){const a=new Uint32Array(80);for(let p=0;p<16;++p)a[p]=s[o][p];for(let p=16;p<80;++p)a[p]=y_(a[p-3]^a[p-8]^a[p-14]^a[p-16],1);let l=n[0],u=n[1],h=n[2],d=n[3],f=n[4];for(let p=0;p<80;++p){const g=Math.floor(p/20),m=y_(l,5)+Zqe(g,u,h,d)+f+e[g]+a[p]>>>0;f=d,d=h,h=y_(u,30)>>>0,u=l,l=m}n[0]=n[0]+l>>>0,n[1]=n[1]+u>>>0,n[2]=n[2]+h>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+f>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}const Hqe=Yqe("v5",80,Xqe);function sV(t,e){return!!t.children(e).length}function oV(t){return b_(t.v)+":"+b_(t.w)+":"+b_(t.name)}var Gqe=/:/g;function b_(t){return t?String(t).replace(Gqe,"\\:"):""}function Na(t,e){e&&t.attr("style",e)}function aV(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function Fo(t,e){var n=e.graph();if(kz(n)){var r=n.transition;if(cf(r))return r(t)}return t}var yS={normal:Jqe,vee:eYe,undirected:tYe};function Kqe(t){yS=t}function Jqe(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");Na(s,n[r+"Style"]),n[r+"Class"]&&s.attr("class",n[r+"Class"])}function eYe(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");Na(s,n[r+"Style"]),n[r+"Class"]&&s.attr("class",n[r+"Class"])}function tYe(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),s=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");Na(s,n[r+"Style"]),n[r+"Class"]&&s.attr("class",n[r+"Class"])}function XE(t,e){var n=t.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var i=e.label;switch(typeof i){case"function":r.insert(i);break;case"object":r.insert(function(){return i});break;default:r.html(i)}Na(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var s=r.node().getBoundingClientRect();return n.attr("width",s.width).attr("height",s.height),n}function nYe(t,e){var n=t;return n.node().appendChild(e.label),Na(n,e.labelStyle),n}function rYe(t,e){for(var n=t.append("text"),r=iYe(e.label).split(`
`),i=0;i<r.length;i++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(r[i]);return Na(n,e.labelStyle),n}function iYe(t){for(var e="",n=!1,r,i=0;i<t.length;++i)if(r=t[i],n){switch(r){case"n":e+=`
`;break;default:e+=r}n=!1}else r==="\\"?n=!0:e+=r;return e}function HE(t,e,n){var r=e.label,i=t.append("g");e.labelType==="svg"?nYe(i,e):typeof r!="string"||e.labelType==="html"?XE(i,e):rYe(i,e);var s=i.node().getBBox(),o;switch(n){case"top":o=-e.height/2;break;case"bottom":o=e.height/2-s.height;break;default:o=-s.height/2}return i.attr("transform","translate("+-s.width/2+","+o+")"),i}var bS=function(t,e){var n=e.nodes().filter(function(s){return sV(e,s)}),r=t.selectAll("g.cluster").data(n,function(s){return s});Fo(r.exit(),e).style("opacity",0).remove();var i=r.enter().append("g").attr("class","cluster").attr("id",function(s){var o=e.node(s);return o.id}).style("opacity",0).each(function(s){var o=e.node(s),a=De(this);De(this).append("rect");var l=a.append("g").attr("class","label");HE(l,o,o.clusterLabelPos)});return r=r.merge(i),r=Fo(r,e).style("opacity",1),r.selectAll("rect").each(function(s){var o=e.node(s),a=De(this);Na(a,o.style)}),r};function sYe(t){bS=t}let OS=function(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),function(i){return oV(i)}).classed("update",!0);n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n=t.selectAll("g.edgeLabel"),n.each(function(i){var s=De(this);s.select(".label").remove();var o=e.edge(i),a=HE(s,e.edge(i),0).classed("label",!0),l=a.node().getBBox();o.labelId&&a.attr("id",o.labelId),vt(o,"width")||(o.width=l.width),vt(o,"height")||(o.height=l.height)});var r;return n.exit?r=n.exit():r=n.selectAll(null),Fo(r,e).style("opacity",0).remove(),n};function oYe(t){OS=t}function PM(t,e){return t.intersect(e)}var kS=function(t,e,n){var r=t.selectAll("g.edgePath").data(e.edges(),function(o){return oV(o)}).classed("update",!0),i=hYe(r,e);dYe(r,e);var s=r.merge!==void 0?r.merge(i):r;return Fo(s,e).style("opacity",1),s.each(function(o){var a=De(this),l=e.edge(o);l.elem=this,l.id&&a.attr("id",l.id),aV(a,l.class,(a.classed("update")?"update ":"")+"edgePath")}),s.selectAll("path.path").each(function(o){var a=e.edge(o);a.arrowheadId=rx("arrowhead");var l=De(this).attr("marker-end",function(){return"url("+lYe(location.href,a.arrowheadId)+")"}).style("fill","none");Fo(l,e).attr("d",function(u){return cYe(e,u)}),Na(l,a.style)}),s.selectAll("defs *").remove(),s.selectAll("defs").each(function(o){var a=e.edge(o),l=n[a.arrowhead];l(De(this),a.arrowheadId,a,"arrowhead")}),s};function aYe(t){kS=t}function lYe(t,e){var n=t.split("#")[0];return n+"#"+e}function cYe(t,e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),s=n.points.slice(1,n.points.length-1);return s.unshift(PM(r,s[0])),s.push(PM(i,s[s.length-1])),lV(n,s)}function lV(t,e){var n=(Wf||nIe.line)().x(function(r){return r.x}).y(function(r){return r.y});return(n.curve||n.interpolate)(t.curve),n(e)}function uYe(t){var e=t.getBBox(),n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:n.e,y:n.f}}function hYe(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",function(r){var i=e.edge(r),s=e.node(r.v).elem,o=fh(i.points.length).map(function(){return uYe(s)});return lV(i,o)}),n.append("defs"),n}function dYe(t,e){var n=t.exit();Fo(n,e).style("opacity",0).remove()}var xS=function(t,e,n){var r=e.nodes().filter(function(o){return!sV(e,o)}),i=t.selectAll("g.node").data(r,function(o){return o}).classed("update",!0);i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),i=t.selectAll("g.node"),i.each(function(o){var a=e.node(o),l=De(this);aV(l,a.class,(l.classed("update")?"update ":"")+"node"),l.select("g.label").remove();var u=l.append("g").attr("class","label"),h=HE(u,a),d=n[a.shape],f=Im(h.node().getBBox(),"width","height");a.elem=this,a.id&&l.attr("id",a.id),a.labelId&&u.attr("id",a.labelId),vt(a,"width")&&(f.width=a.width),vt(a,"height")&&(f.height=a.height),f.width+=a.paddingLeft+a.paddingRight,f.height+=a.paddingTop+a.paddingBottom,u.attr("transform","translate("+(a.paddingLeft-a.paddingRight)/2+","+(a.paddingTop-a.paddingBottom)/2+")");var p=De(this);p.select(".label-container").remove();var g=d(p,f,a).classed("label-container",!0);Na(g,a.style);var m=g.node().getBBox();a.width=m.width,a.height=m.height});var s;return i.exit?s=i.exit():s=i.selectAll(null),Fo(s,e).style("opacity",0).remove(),i};function fYe(t){xS=t}function pYe(t,e){var n=t.filter(function(){return!De(this).classed("update")});function r(i){var s=e.node(i);return"translate("+s.x+","+s.y+")"}n.attr("transform",r),Fo(t,e).style("opacity",1).attr("transform",r),Fo(n.selectAll("rect"),e).attr("width",function(i){return e.node(i).width}).attr("height",function(i){return e.node(i).height}).attr("x",function(i){var s=e.node(i);return-s.width/2}).attr("y",function(i){var s=e.node(i);return-s.height/2})}function gYe(t,e){var n=t.filter(function(){return!De(this).classed("update")});function r(i){var s=e.edge(i);return vt(s,"x")?"translate("+s.x+","+s.y+")":""}n.attr("transform",r),Fo(t,e).style("opacity",1).attr("transform",r)}function mYe(t,e){var n=t.filter(function(){return!De(this).classed("update")});function r(i){var s=e.node(i);return"translate("+s.x+","+s.y+")"}n.attr("transform",r),Fo(t,e).style("opacity",1).attr("transform",r)}function cV(t,e,n,r){var i=t.x,s=t.y,o=i-r.x,a=s-r.y,l=Math.sqrt(e*e*a*a+n*n*o*o),u=Math.abs(e*n*o/l);r.x<i&&(u=-u);var h=Math.abs(e*n*a/l);return r.y<s&&(h=-h),{x:i+u,y:s+h}}function yYe(t,e,n){return cV(t,e,e,n)}function bYe(t,e,n,r){var i,s,o,a,l,u,h,d,f,p,g,m,y,b,O;if(i=e.y-t.y,o=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*n.x+o*n.y+l,p=i*r.x+o*r.y+l,!(f!==0&&p!==0&&$M(f,p))&&(s=r.y-n.y,a=n.x-r.x,u=r.x*n.y-n.x*r.y,h=s*t.x+a*t.y+u,d=s*e.x+a*e.y+u,!(h!==0&&d!==0&&$M(h,d))&&(g=i*a-s*o,g!==0)))return m=Math.abs(g/2),y=o*u-a*l,b=y<0?(y-m)/g:(y+m)/g,y=s*l-i*u,O=y<0?(y-m)/g:(y+m)/g,{x:b,y:O}}function $M(t,e){return t*e>0}function Fa(t,e,n){var r=t.x,i=t.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;e.forEach(function(g){o=Math.min(o,g.x),a=Math.min(a,g.y)});for(var l=r-t.width/2-o,u=i-t.height/2-a,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=bYe(t,n,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(g,m){var y=g.x-n.x,b=g.y-n.y,O=Math.sqrt(y*y+b*b),x=m.x-n.x,T=m.y-n.y,A=Math.sqrt(x*x+T*T);return O<A?-1:O===A?0:1}),s[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}function GE(t,e){var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,a=t.height/2,l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=s===0?0:a*i/s,u=a):(i<0&&(o=-o),l=o,u=i===0?0:o*s/i),{x:n+l,y:r+u}}var wS={rect:kYe,ellipse:xYe,circle:wYe,diamond:_Ye};function OYe(t){wS=t}function kYe(t,e,n){var r=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(i){return GE(n,i)},r}function xYe(t,e,n){var r=e.width/2,i=e.height/2,s=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",i);return n.intersect=function(o){return cV(n,r,i,o)},s}function wYe(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(s){return yYe(n,r,s)},i}function _Ye(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,s=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],o=t.insert("polygon",":first-child").attr("points",s.map(function(a){return a.x+","+a.y}).join(" "));return n.intersect=function(a){return Fa(n,s,a)},o}function vYe(){var t=function(e,n){EYe(n);var r=mp(e,"output"),i=mp(r,"clusters"),s=mp(r,"edgePaths"),o=OS(mp(r,"edgeLabels"),n),a=xS(mp(r,"nodes"),n,wS);Xf(n),mYe(a,n),gYe(o,n),kS(s,n,yS);var l=bS(i,n);pYe(l,n),TYe(n)};return t.createNodes=function(e){return arguments.length?(fYe(e),t):xS},t.createClusters=function(e){return arguments.length?(sYe(e),t):bS},t.createEdgeLabels=function(e){return arguments.length?(oYe(e),t):OS},t.createEdgePaths=function(e){return arguments.length?(aYe(e),t):kS},t.shapes=function(e){return arguments.length?(OYe(e),t):wS},t.arrows=function(e){return arguments.length?(Kqe(e),t):yS},t}var SYe={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},CYe={arrowhead:"normal",curve:vs};function EYe(t){t.nodes().forEach(function(e){var n=t.node(e);!vt(n,"label")&&!t.children(e).length&&(n.label=e),vt(n,"paddingX")&&ed(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),vt(n,"paddingY")&&ed(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),vt(n,"padding")&&ed(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),ed(n,SYe),Ce(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(r){n[r]=Number(n[r])}),vt(n,"width")&&(n._prevWidth=n.width),vt(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);vt(n,"label")||(n.label=""),ed(n,CYe)})}function TYe(t){Ce(t.nodes(),function(e){var n=t.node(e);vt(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,vt(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function mp(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}var uV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gc,function(){var n="day";return function(r,i,s){var o=function(u){return u.add(4-u.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return o(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var h,d,f,p,g=o(this),m=(h=this.isoWeekYear(),d=this.$u,f=(d?s.utc:s)().year(h).startOf("year"),p=4-f.isoWeekday(),f.isoWeekday()>4&&(p+=7),f.add(p,n));return g.diff(m,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,h){var d=this.$utils(),f=!!d.u(h)||h;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,h)}}})})(uV);var DYe=uV.exports;const AYe=Th(DYe);var hV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gc,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(m){return(m=+m)+(m>68?1900:2e3)},u=function(m){return function(y){this[m]=+y}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var b=y.match(/([+-]|\d\d)/g),O=60*b[1]+(+b[2]||0);return O===0?0:b[0]==="+"?-O:O}(m)}],d=function(m){var y=a[m];return y&&(y.indexOf?y:y.s.concat(y.f))},f=function(m,y){var b,O=a.meridiem;if(O){for(var x=1;x<=24;x+=1)if(m.indexOf(O(x,0,y))>-1){b=x>12;break}}else b=m===(y?"pm":"PM");return b},p={A:[o,function(m){this.afternoon=f(m,!1)}],a:[o,function(m){this.afternoon=f(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[i,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[i,u("day")],Do:[o,function(m){var y=a.ordinal,b=m.match(/\d+/);if(this.day=b[0],y)for(var O=1;O<=31;O+=1)y(O).replace(/\[|\]/g,"")===m&&(this.day=O)}],M:[s,u("month")],MM:[i,u("month")],MMM:[o,function(m){var y=d("months"),b=(d("monthsShort")||y.map(function(O){return O.slice(0,3)})).indexOf(m)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[o,function(m){var y=d("months").indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(m){this.year=l(m)}],YYYY:[/\d{4}/,u("year")],Z:h,ZZ:h};function g(m){var y,b;y=m,b=a&&a.formats;for(var O=(m=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,C,E){var _=E&&E.toUpperCase();return C||b[E]||n[E]||b[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(L,k,B){return k||B.slice(1)})})).match(r),x=O.length,T=0;T<x;T+=1){var A=O[T],v=p[A],S=v&&v[0],I=v&&v[1];O[T]=I?{regex:S,parser:I}:A.replace(/^\[|\]$/g,"")}return function(M){for(var C={},E=0,_=0;E<x;E+=1){var L=O[E];if(typeof L=="string")_+=L.length;else{var k=L.regex,B=L.parser,w=M.slice(_),Q=k.exec(w)[0];B.call(C,Q),M=M.replace(Q,"")}}return function(U){var W=U.afternoon;if(W!==void 0){var $=U.hours;W?$<12&&(U.hours+=12):$===12&&(U.hours=0),delete U.afternoon}}(C),C}}return function(m,y,b){b.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var O=y.prototype,x=O.parse;O.parse=function(T){var A=T.date,v=T.utc,S=T.args;this.$u=v;var I=S[1];if(typeof I=="string"){var M=S[2]===!0,C=S[3]===!0,E=M||C,_=S[2];C&&(_=S[2]),a=this.$locale(),!M&&_&&(a=b.Ls[_]),this.$d=function(w,Q,U){try{if(["x","X"].indexOf(Q)>-1)return new Date((Q==="X"?1e3:1)*w);var W=g(Q)(w),$=W.year,X=W.month,Y=W.day,N=W.hours,he=W.minutes,ge=W.seconds,j=W.milliseconds,Te=W.zone,K=new Date,ee=Y||($||X?1:K.getDate()),H=$||K.getFullYear(),G=0;$&&!X||(G=X>0?X-1:K.getMonth());var z=N||0,D=he||0,F=ge||0,R=j||0;return Te?new Date(Date.UTC(H,G,ee,z,D,F,R+60*Te.offset*1e3)):U?new Date(Date.UTC(H,G,ee,z,D,F,R)):new Date(H,G,ee,z,D,F,R)}catch{return new Date("")}}(A,I,v),this.init(),_&&_!==!0&&(this.$L=this.locale(_).$L),E&&A!=this.format(I)&&(this.$d=new Date("")),a={}}else if(I instanceof Array)for(var L=I.length,k=1;k<=L;k+=1){S[1]=I[k-1];var B=b.apply(this,S);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}k===L&&(this.$d=new Date(""))}else x.call(this,T)}}})})(hV);var MYe=hV.exports;const PYe=Th(MYe);var dV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gc,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var u=this.$utils(),h=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return u.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(h)}}})})(dV);var $Ye=dV.exports;const RYe=Th($Ye),Ya={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},V={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},KE=function(t="fatal"){let e=Ya.fatal;typeof t=="string"?(t=t.toLowerCase(),t in Ya&&(e=Ya[t])):typeof t=="number"&&(e=t),V.trace=()=>{},V.debug=()=>{},V.info=()=>{},V.warn=()=>{},V.error=()=>{},V.fatal=()=>{},e<=Ya.fatal&&(V.fatal=console.error?console.error.bind(console,Rs("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Rs("FATAL"))),e<=Ya.error&&(V.error=console.error?console.error.bind(console,Rs("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Rs("ERROR"))),e<=Ya.warn&&(V.warn=console.warn?console.warn.bind(console,Rs("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Rs("WARN"))),e<=Ya.info&&(V.info=console.info?console.info.bind(console,Rs("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Rs("INFO"))),e<=Ya.debug&&(V.debug=console.debug?console.debug.bind(console,Rs("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Rs("DEBUG"))),e<=Ya.trace&&(V.trace=console.debug?console.debug.bind(console,Rs("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Rs("TRACE")))},Rs=t=>`%c${Gi().format("ss.SSS")} : ${t} : `,LYe=t=>t?pV(t).replace(/\\n/g,"#br#").split("#br#"):[""],fV=t=>Tm.sanitize(t),RM=(t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const r=e.securityLevel;r==="antiscript"||r==="strict"?t=fV(t):r!=="loose"&&(t=pV(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=BYe(t))}return t},eo=(t,e)=>t&&(e.dompurifyConfig?t=Tm.sanitize(RM(t,e),e.dompurifyConfig).toString():t=Tm.sanitize(RM(t,e),{FORBID_TAGS:["style"]}).toString(),t),IYe=(t,e)=>typeof t=="string"?eo(t,e):t.flat().map(n=>eo(n,e)),sx=/<br\s*\/?>/gi,NYe=t=>sx.test(t),FYe=t=>t.split(sx),BYe=t=>t.replace(/#br#/g,"<br/>"),pV=t=>t.replace(sx,"#br#"),QYe=t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},Er=t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),Ac=function(t){let e=t;if(t.split("~").length-1>=2){let n=e;do e=n,n=e.replace(/~([^\s,:;]+)~/,"<$1>");while(n!=e);return Ac(n)}else return e},gt={getRows:LYe,sanitizeText:eo,sanitizeTextOrArray:IYe,hasBreaks:NYe,splitBreaks:FYe,lineBreakRegex:sx,removeScript:fV,getUrl:QYe,evaluate:Er},Ci=(t,e)=>e?ke(t,{s:-40,l:10}):ke(t,{s:-40,l:-10}),ox="#ffffff",ax="#f2f2f2";let zYe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||ke(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||ke(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ci(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ci(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ci(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ci(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||We(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||We(this.tertiaryColor),this.lineColor=this.lineColor||We(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?bt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||bt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||We(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||st(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ke(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ke(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ke(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ke(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ke(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ke(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||ke(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ke(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ke(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=bt(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=bt(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||We(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||st(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||bt(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||ke(this.mainBkg,{h:180,s:-15,l:e*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||ke(this.mainBkg,{h:180,s:-15,l:e*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||ke(this.primaryColor,{h:64}),this.fillType3=this.fillType3||ke(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||ke(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||ke(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||ke(this.primaryColor,{h:128}),this.fillType7=this.fillType7||ke(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ke(this.primaryColor,{l:-10}),this.pie5=this.pie5||ke(this.secondaryColor,{l:-10}),this.pie6=this.pie6||ke(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||ke(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ke(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ke(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ke(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||ke(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||ke(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?bt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ke(this.primaryColor,{h:-30}),this.git4=this.git4||ke(this.primaryColor,{h:-60}),this.git5=this.git5||ke(this.primaryColor,{h:-90}),this.git6=this.git6||ke(this.primaryColor,{h:60}),this.git7=this.git7||ke(this.primaryColor,{h:120}),this.darkMode?(this.git0=st(this.git0,25),this.git1=st(this.git1,25),this.git2=st(this.git2,25),this.git3=st(this.git3,25),this.git4=st(this.git4,25),this.git5=st(this.git5,25),this.git6=st(this.git6,25),this.git7=st(this.git7,25)):(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)),this.gitInv0=this.gitInv0||We(this.git0),this.gitInv1=this.gitInv1||We(this.git1),this.gitInv2=this.gitInv2||We(this.git2),this.gitInv3=this.gitInv3||We(this.git3),this.gitInv4=this.gitInv4||We(this.git4),this.gitInv5=this.gitInv5||We(this.git5),this.gitInv6=this.gitInv6||We(this.git6),this.gitInv7=this.gitInv7||We(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ox,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ax}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}};const VYe=t=>{const e=new zYe;return e.calculate(t),e};let WYe=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=st(this.primaryColor,16),this.tertiaryColor=ke(this.primaryColor,{h:-160}),this.primaryBorderColor=We(this.background),this.secondaryBorderColor=Ci(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ci(this.tertiaryColor,this.darkMode),this.primaryTextColor=We(this.primaryColor),this.secondaryTextColor=We(this.secondaryColor),this.tertiaryTextColor=We(this.tertiaryColor),this.lineColor=We(this.background),this.textColor=We(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=st(We("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=Pg(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=bt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=Pg(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Pg(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=st(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=st(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=st(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ke(this.primaryColor,{h:64}),this.fillType3=ke(this.secondaryColor,{h:64}),this.fillType4=ke(this.primaryColor,{h:-64}),this.fillType5=ke(this.secondaryColor,{h:-64}),this.fillType6=ke(this.primaryColor,{h:128}),this.fillType7=ke(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ke(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ke(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ke(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ke(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ke(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ke(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ke(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ke(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ke(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||We(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||st(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ke(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ke(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?bt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=st(this.secondaryColor,20),this.git1=st(this.pie2||this.secondaryColor,20),this.git2=st(this.pie3||this.tertiaryColor,20),this.git3=st(this.pie4||ke(this.primaryColor,{h:-30}),20),this.git4=st(this.pie5||ke(this.primaryColor,{h:-60}),20),this.git5=st(this.pie6||ke(this.primaryColor,{h:-90}),10),this.git6=st(this.pie7||ke(this.primaryColor,{h:60}),10),this.git7=st(this.pie8||ke(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||We(this.git0),this.gitInv1=this.gitInv1||We(this.git1),this.gitInv2=this.gitInv2||We(this.git2),this.gitInv3=this.gitInv3||We(this.git3),this.gitInv4=this.gitInv4||We(this.git4),this.gitInv5=this.gitInv5||We(this.git5),this.gitInv6=this.gitInv6||We(this.git6),this.gitInv7=this.gitInv7||We(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||st(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||st(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}};const UYe=t=>{const e=new WYe;return e.calculate(t),e};let jYe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=ke(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=ke(this.primaryColor,{h:-160}),this.primaryBorderColor=Ci(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ci(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ci(this.tertiaryColor,this.darkMode),this.primaryTextColor=We(this.primaryColor),this.secondaryTextColor=We(this.secondaryColor),this.tertiaryTextColor=We(this.tertiaryColor),this.lineColor=We(this.background),this.textColor=We(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Pg(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ke(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ke(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ke(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ke(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ke(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ke(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ke(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ke(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ke(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||bt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||bt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||bt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ke(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ke(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ke(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||We(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||We(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=st(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ke(this.primaryColor,{h:64}),this.fillType3=ke(this.secondaryColor,{h:64}),this.fillType4=ke(this.primaryColor,{h:-64}),this.fillType5=ke(this.secondaryColor,{h:-64}),this.fillType6=ke(this.primaryColor,{h:128}),this.fillType7=ke(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||ke(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||ke(this.primaryColor,{l:-10}),this.pie5=this.pie5||ke(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ke(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||ke(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||ke(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||ke(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||ke(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||ke(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||ke(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ke(this.primaryColor,{h:-30}),this.git4=this.git4||ke(this.primaryColor,{h:-60}),this.git5=this.git5||ke(this.primaryColor,{h:-90}),this.git6=this.git6||ke(this.primaryColor,{h:60}),this.git7=this.git7||ke(this.primaryColor,{h:120}),this.darkMode?(this.git0=st(this.git0,25),this.git1=st(this.git1,25),this.git2=st(this.git2,25),this.git3=st(this.git3,25),this.git4=st(this.git4,25),this.git5=st(this.git5,25),this.git6=st(this.git6,25),this.git7=st(this.git7,25)):(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)),this.gitInv0=this.gitInv0||bt(We(this.git0),25),this.gitInv1=this.gitInv1||We(this.git1),this.gitInv2=this.gitInv2||We(this.git2),this.gitInv3=this.gitInv3||We(this.git3),this.gitInv4=this.gitInv4||We(this.git4),this.gitInv5=this.gitInv5||We(this.git5),this.gitInv6=this.gitInv6||We(this.git6),this.gitInv7=this.gitInv7||We(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||We(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||We(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ox,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ax}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}};const qYe=t=>{const e=new jYe;return e.calculate(t),e};let YYe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=st("#cde498",10),this.primaryBorderColor=Ci(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ci(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ci(this.tertiaryColor,this.darkMode),this.primaryTextColor=We(this.primaryColor),this.secondaryTextColor=We(this.secondaryColor),this.tertiaryTextColor=We(this.primaryColor),this.lineColor=We(this.background),this.textColor=We(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ke(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ke(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ke(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ke(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ke(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ke(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ke(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ke(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ke(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||bt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||bt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||bt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ke(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ke(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ke(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=bt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ke(this.primaryColor,{h:64}),this.fillType3=ke(this.secondaryColor,{h:64}),this.fillType4=ke(this.primaryColor,{h:-64}),this.fillType5=ke(this.secondaryColor,{h:-64}),this.fillType6=ke(this.primaryColor,{h:128}),this.fillType7=ke(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ke(this.primaryColor,{l:-30}),this.pie5=this.pie5||ke(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ke(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||ke(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ke(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ke(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ke(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||ke(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||ke(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ke(this.primaryColor,{h:-30}),this.git4=this.git4||ke(this.primaryColor,{h:-60}),this.git5=this.git5||ke(this.primaryColor,{h:-90}),this.git6=this.git6||ke(this.primaryColor,{h:60}),this.git7=this.git7||ke(this.primaryColor,{h:120}),this.darkMode?(this.git0=st(this.git0,25),this.git1=st(this.git1,25),this.git2=st(this.git2,25),this.git3=st(this.git3,25),this.git4=st(this.git4,25),this.git5=st(this.git5,25),this.git6=st(this.git6,25),this.git7=st(this.git7,25)):(this.git0=bt(this.git0,25),this.git1=bt(this.git1,25),this.git2=bt(this.git2,25),this.git3=bt(this.git3,25),this.git4=bt(this.git4,25),this.git5=bt(this.git5,25),this.git6=bt(this.git6,25),this.git7=bt(this.git7,25)),this.gitInv0=this.gitInv0||We(this.git0),this.gitInv1=this.gitInv1||We(this.git1),this.gitInv2=this.gitInv2||We(this.git2),this.gitInv3=this.gitInv3||We(this.git3),this.gitInv4=this.gitInv4||We(this.git4),this.gitInv5=this.gitInv5||We(this.git5),this.gitInv6=this.gitInv6||We(this.git6),this.gitInv7=this.gitInv7||We(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ox,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ax}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}};const ZYe=t=>{const e=new YYe;return e.calculate(t),e};class XYe{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=st(this.contrast,55),this.background="#ffffff",this.tertiaryColor=ke(this.primaryColor,{h:-160}),this.primaryBorderColor=Ci(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ci(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ci(this.tertiaryColor,this.darkMode),this.primaryTextColor=We(this.primaryColor),this.secondaryTextColor=We(this.secondaryColor),this.tertiaryTextColor=We(this.tertiaryColor),this.lineColor=We(this.background),this.textColor=We(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=st(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||We(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||st(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||bt(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ke(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ke(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=st(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=st(this.contrast,30),this.sectionBkgColor2=st(this.contrast,30),this.taskBorderColor=bt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=st(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=bt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ke(this.primaryColor,{h:64}),this.fillType3=ke(this.secondaryColor,{h:64}),this.fillType4=ke(this.primaryColor,{h:-64}),this.fillType5=ke(this.secondaryColor,{h:-64}),this.fillType6=ke(this.primaryColor,{h:128}),this.fillType7=ke(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=bt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||ke(this.primaryColor,{h:-30}),this.git4=this.pie5||ke(this.primaryColor,{h:-60}),this.git5=this.pie6||ke(this.primaryColor,{h:-90}),this.git6=this.pie7||ke(this.primaryColor,{h:60}),this.git7=this.pie8||ke(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||We(this.git0),this.gitInv1=this.gitInv1||We(this.git1),this.gitInv2=this.gitInv2||We(this.git2),this.gitInv3=this.gitInv3||We(this.git3),this.gitInv4=this.gitInv4||We(this.git4),this.gitInv5=this.gitInv5||We(this.git5),this.gitInv6=this.gitInv6||We(this.git6),this.gitInv7=this.gitInv7||We(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ox,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ax}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}}const HYe=t=>{const e=new XYe;return e.calculate(t),e},_l={base:{getThemeVariables:VYe},dark:{getThemeVariables:UYe},default:{getThemeVariables:qYe},forest:{getThemeVariables:ZYe},neutral:{getThemeVariables:HYe}},Mc={theme:"default",themeVariables:_l.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},timeline:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};Mc.class&&(Mc.class.arrowMarkerAbsolute=Mc.arrowMarkerAbsolute);Mc.gitGraph&&(Mc.gitGraph.arrowMarkerAbsolute=Mc.arrowMarkerAbsolute);const gV=(t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...gV(t[r],"")]:[...n,e+r],[]),GYe=gV(Mc,""),KYe=Mc;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function mV(t){return typeof t>"u"||t===null}function JYe(t){return typeof t=="object"&&t!==null}function eZe(t){return Array.isArray(t)?t:mV(t)?[]:[t]}function tZe(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function nZe(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function rZe(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var iZe=mV,sZe=JYe,oZe=eZe,aZe=nZe,lZe=rZe,cZe=tZe,vi={isNothing:iZe,isObject:sZe,toArray:oZe,repeat:aZe,isNegativeZero:lZe,extend:cZe};function yV(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Fm(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=yV(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Fm.prototype=Object.create(Error.prototype);Fm.prototype.constructor=Fm;Fm.prototype.toString=function(e){return this.name+": "+yV(this,e)};var al=Fm;function O_(t,e,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"→")+o,pos:r-e+s.length}}function k_(t,e){return vi.repeat(" ",e-t.length)+t}function uZe(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,u,h=Math.min(t.line+e.linesAfter,i.length).toString().length,d=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)u=O_(t.buffer,r[o-l],i[o-l],t.position-(r[o]-r[o-l]),d),a=vi.repeat(" ",e.indent)+k_((t.line-l+1).toString(),h)+" | "+u.str+`
`+a;for(u=O_(t.buffer,r[o],i[o],t.position,d),a+=vi.repeat(" ",e.indent)+k_((t.line+1).toString(),h)+" | "+u.str+`
`,a+=vi.repeat("-",e.indent+h+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=i.length);l++)u=O_(t.buffer,r[o+l],i[o+l],t.position-(r[o]-r[o+l]),d),a+=vi.repeat(" ",e.indent)+k_((t.line+l+1).toString(),h)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var hZe=uZe,dZe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],fZe=["scalar","sequence","mapping"];function pZe(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function gZe(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(dZe.indexOf(n)===-1)throw new al('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=pZe(e.styleAliases||null),fZe.indexOf(this.kind)===-1)throw new al('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var di=gZe;function LM(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}function mZe(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function _S(t){return this.extend(t)}_S.prototype.extend=function(e){var n=[],r=[];if(e instanceof di)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new al("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof di))throw new al("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new al("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new al("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof di))throw new al("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(_S.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=LM(i,"implicit"),i.compiledExplicit=LM(i,"explicit"),i.compiledTypeMap=mZe(i.compiledImplicit,i.compiledExplicit),i};var yZe=_S,bZe=new di("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),OZe=new di("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),kZe=new di("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),bV=new yZe({explicit:[bZe,OZe,kZe]});function xZe(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function wZe(){return null}function _Ze(t){return t===null}var vZe=new di("tag:yaml.org,2002:null",{kind:"scalar",resolve:xZe,construct:wZe,predicate:_Ze,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function SZe(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function CZe(t){return t==="true"||t==="True"||t==="TRUE"}function EZe(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var TZe=new di("tag:yaml.org,2002:bool",{kind:"scalar",resolve:SZe,construct:CZe,predicate:EZe,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function DZe(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function AZe(t){return 48<=t&&t<=55}function MZe(t){return 48<=t&&t<=57}function PZe(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!DZe(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!AZe(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!MZe(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function $Ze(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function RZe(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!vi.isNegativeZero(t)}var LZe=new di("tag:yaml.org,2002:int",{kind:"scalar",resolve:PZe,construct:$Ze,predicate:RZe,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),IZe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function NZe(t){return!(t===null||!IZe.test(t)||t[t.length-1]==="_")}function FZe(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var BZe=/^[-+]?[0-9]+e/;function QZe(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(vi.isNegativeZero(t))return"-0.0";return n=t.toString(10),BZe.test(n)?n.replace("e",".e"):n}function zZe(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||vi.isNegativeZero(t))}var VZe=new di("tag:yaml.org,2002:float",{kind:"scalar",resolve:NZe,construct:FZe,predicate:zZe,represent:QZe,defaultStyle:"lowercase"}),WZe=bV.extend({implicit:[vZe,TZe,LZe,VZe]}),UZe=WZe,OV=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),kV=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function jZe(t){return t===null?!1:OV.exec(t)!==null||kV.exec(t)!==null}function qZe(t){var e,n,r,i,s,o,a,l=0,u=null,h,d,f;if(e=OV.exec(t),e===null&&(e=kV.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],d=+(e[11]||0),u=(h*60+d)*6e4,e[9]==="-"&&(u=-u)),f=new Date(Date.UTC(n,r,i,s,o,a,l)),u&&f.setTime(f.getTime()-u),f}function YZe(t){return t.toISOString()}var ZZe=new di("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:jZe,construct:qZe,instanceOf:Date,represent:YZe});function XZe(t){return t==="<<"||t===null}var HZe=new di("tag:yaml.org,2002:merge",{kind:"scalar",resolve:XZe}),JE=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function GZe(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=JE;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function KZe(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=JE,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}function JZe(t){var e="",n=0,r,i,s=t.length,o=JE;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}function eXe(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var tXe=new di("tag:yaml.org,2002:binary",{kind:"scalar",resolve:GZe,construct:KZe,predicate:eXe,represent:JZe}),nXe=Object.prototype.hasOwnProperty,rXe=Object.prototype.toString;function iXe(t){if(t===null)return!0;var e=[],n,r,i,s,o,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,rXe.call(i)!=="[object Object]")return!1;for(s in i)if(nXe.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function sXe(t){return t!==null?t:[]}var oXe=new di("tag:yaml.org,2002:omap",{kind:"sequence",resolve:iXe,construct:sXe}),aXe=Object.prototype.toString;function lXe(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],aXe.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function cXe(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var uXe=new di("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:lXe,construct:cXe}),hXe=Object.prototype.hasOwnProperty;function dXe(t){if(t===null)return!0;var e,n=t;for(e in n)if(hXe.call(n,e)&&n[e]!==null)return!1;return!0}function fXe(t){return t!==null?t:{}}var pXe=new di("tag:yaml.org,2002:set",{kind:"mapping",resolve:dXe,construct:fXe}),gXe=UZe.extend({implicit:[ZZe,HZe],explicit:[tXe,oXe,uXe,pXe]}),Wc=Object.prototype.hasOwnProperty,z2=1,xV=2,wV=3,V2=4,x_=1,mXe=2,IM=3,yXe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,bXe=/[\x85\u2028\u2029]/,OXe=/[,\[\]\{\}]/,_V=/^(?:!|!!|![a-z\-]+!)$/i,vV=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function NM(t){return Object.prototype.toString.call(t)}function Sa(t){return t===10||t===13}function eh(t){return t===9||t===32}function Ki(t){return t===9||t===32||t===10||t===13}function fd(t){return t===44||t===91||t===93||t===123||t===125}function kXe(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function xXe(t){return t===120?2:t===117?4:t===85?8:0}function wXe(t){return 48<=t&&t<=57?t-48:-1}function FM(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function _Xe(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var SV=new Array(256),CV=new Array(256);for(var jh=0;jh<256;jh++)SV[jh]=FM(jh)?1:0,CV[jh]=FM(jh);function vXe(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||gXe,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function EV(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=hZe(n),new al(e,n)}function et(t,e){throw EV(t,e)}function W2(t,e){t.onWarning&&t.onWarning.call(null,EV(t,e))}var BM={YAML:function(e,n,r){var i,s,o;e.version!==null&&et(e,"duplication of %YAML directive"),r.length!==1&&et(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&et(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&et(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&W2(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&et(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],_V.test(i)||et(e,"ill-formed tag handle (first argument) of the TAG directive"),Wc.call(e.tagMap,i)&&et(e,'there is a previously declared suffix for "'+i+'" tag handle'),vV.test(s)||et(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{et(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function Pc(t,e,n,r){var i,s,o,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||et(t,"expected valid JSON character");else yXe.test(a)&&et(t,"the stream contains non-printable characters");t.result+=a}}function QM(t,e,n,r){var i,s,o,a;for(vi.isObject(n)||et(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],Wc.call(e,s)||(e[s]=n[s],r[s]=!0)}function pd(t,e,n,r,i,s,o,a,l){var u,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,h=i.length;u<h;u+=1)Array.isArray(i[u])&&et(t,"nested arrays are not supported inside keys"),typeof i=="object"&&NM(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&NM(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,h=s.length;u<h;u+=1)QM(t,e,s[u],n);else QM(t,e,s,n);else!t.json&&!Wc.call(n,i)&&Wc.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,et(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function eT(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):et(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function nr(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;eh(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Sa(i))for(eT(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&W2(t,"deficient indentation"),r}function lx(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Ki(n)))}function tT(t,e){e===1?t.result+=" ":e>1&&(t.result+=vi.repeat(`
`,e-1))}function SXe(t,e,n){var r,i,s,o,a,l,u,h,d=t.kind,f=t.result,p;if(p=t.input.charCodeAt(t.position),Ki(p)||fd(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),Ki(i)||n&&fd(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),Ki(i)||n&&fd(i))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),Ki(r))break}else{if(t.position===t.lineStart&&lx(t)||n&&fd(p))break;if(Sa(p))if(l=t.line,u=t.lineStart,h=t.lineIndent,nr(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=u,t.lineIndent=h;break}}a&&(Pc(t,s,o,!1),tT(t,t.line-l),s=o=t.position,a=!1),eh(p)||(o=t.position+1),p=t.input.charCodeAt(++t.position)}return Pc(t,s,o,!1),t.result?!0:(t.kind=d,t.result=f,!1)}function CXe(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Pc(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else Sa(n)?(Pc(t,r,i,!0),tT(t,nr(t,!1,e)),r=i=t.position):t.position===t.lineStart&&lx(t)?et(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);et(t,"unexpected end of the stream within a single quoted scalar")}function EXe(t,e){var n,r,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Pc(t,n,t.position,!0),t.position++,!0;if(a===92){if(Pc(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),Sa(a))nr(t,!1,e);else if(a<256&&SV[a])t.result+=CV[a],t.position++;else if((o=xXe(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=kXe(a))>=0?s=(s<<4)+o:et(t,"expected hexadecimal character");t.result+=_Xe(s),t.position++}else et(t,"unknown escape sequence");n=r=t.position}else Sa(a)?(Pc(t,n,r,!0),tT(t,nr(t,!1,e)),n=r=t.position):t.position===t.lineStart&&lx(t)?et(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}et(t,"unexpected end of the stream within a double quoted scalar")}function TXe(t,e){var n=!0,r,i,s,o=t.tag,a,l=t.anchor,u,h,d,f,p,g=Object.create(null),m,y,b,O;if(O=t.input.charCodeAt(t.position),O===91)h=93,p=!1,a=[];else if(O===123)h=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),O=t.input.charCodeAt(++t.position);O!==0;){if(nr(t,!0,e),O=t.input.charCodeAt(t.position),O===h)return t.position++,t.tag=o,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=a,!0;n?O===44&&et(t,"expected the node content, but found ','"):et(t,"missed comma between flow collection entries"),y=m=b=null,d=f=!1,O===63&&(u=t.input.charCodeAt(t.position+1),Ki(u)&&(d=f=!0,t.position++,nr(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,pf(t,e,z2,!1,!0),y=t.tag,m=t.result,nr(t,!0,e),O=t.input.charCodeAt(t.position),(f||t.line===r)&&O===58&&(d=!0,O=t.input.charCodeAt(++t.position),nr(t,!0,e),pf(t,e,z2,!1,!0),b=t.result),p?pd(t,a,g,y,m,b,r,i,s):d?a.push(pd(t,null,g,y,m,b,r,i,s)):a.push(m),nr(t,!0,e),O=t.input.charCodeAt(t.position),O===44?(n=!0,O=t.input.charCodeAt(++t.position)):n=!1}et(t,"unexpected end of the stream within a flow collection")}function DXe(t,e){var n,r,i=x_,s=!1,o=!1,a=e,l=0,u=!1,h,d;if(d=t.input.charCodeAt(t.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)x_===i?i=d===43?IM:mXe:et(t,"repeat of a chomping mode identifier");else if((h=wXe(d))>=0)h===0?et(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?et(t,"repeat of an indentation width identifier"):(a=e+h-1,o=!0);else break;if(eh(d)){do d=t.input.charCodeAt(++t.position);while(eh(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!Sa(d)&&d!==0)}for(;d!==0;){for(eT(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Sa(d)){l++;continue}if(t.lineIndent<a){i===IM?t.result+=vi.repeat(`
`,s?1+l:l):i===x_&&s&&(t.result+=`
`);break}for(r?eh(d)?(u=!0,t.result+=vi.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=vi.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=vi.repeat(`
`,l):t.result+=vi.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!Sa(d)&&d!==0;)d=t.input.charCodeAt(++t.position);Pc(t,n,t.position,!1)}return!0}function zM(t,e){var n,r=t.tag,i=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,et(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Ki(o))));){if(a=!0,t.position++,nr(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,pf(t,e,wV,!1,!0),s.push(t.result),nr(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)et(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function AXe(t,e,n){var r,i,s,o,a,l,u=t.tag,h=t.anchor,d={},f=Object.create(null),p=null,g=null,m=null,y=!1,b=!1,O;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),O=t.input.charCodeAt(t.position);O!==0;){if(!y&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,et(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(O===63||O===58)&&Ki(r))O===63?(y&&(pd(t,d,f,p,g,null,o,a,l),p=g=m=null),b=!0,y=!0,i=!0):y?(y=!1,i=!0):et(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,O=r;else{if(o=t.line,a=t.lineStart,l=t.position,!pf(t,n,xV,!1,!0))break;if(t.line===s){for(O=t.input.charCodeAt(t.position);eh(O);)O=t.input.charCodeAt(++t.position);if(O===58)O=t.input.charCodeAt(++t.position),Ki(O)||et(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(pd(t,d,f,p,g,null,o,a,l),p=g=m=null),b=!0,y=!1,i=!1,p=t.tag,g=t.result;else if(b)et(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=h,!0}else if(b)et(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=h,!0}if((t.line===s||t.lineIndent>e)&&(y&&(o=t.line,a=t.lineStart,l=t.position),pf(t,e,V2,!0,i)&&(y?g=t.result:m=t.result),y||(pd(t,d,f,p,g,m,o,a,l),p=g=m=null),nr(t,!0,-1),O=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&O!==0)et(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&pd(t,d,f,p,g,null,o,a,l),b&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=d),b}function MXe(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&et(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):et(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ki(o);)o===33&&(r?et(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),_V.test(i)||et(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),OXe.test(s)&&et(t,"tag suffix cannot contain flow indicator characters")}s&&!vV.test(s)&&et(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{et(t,"tag name is malformed: "+s)}return n?t.tag=s:Wc.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:et(t,'undeclared tag handle "'+i+'"'),!0}function PXe(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&et(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ki(n)&&!fd(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&et(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function $Xe(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Ki(r)&&!fd(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&et(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Wc.call(t.anchorMap,n)||et(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],nr(t,!0,-1),!0}function pf(t,e,n,r,i){var s,o,a,l=1,u=!1,h=!1,d,f,p,g,m,y;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=V2===n||wV===n,r&&nr(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;MXe(t)||PXe(t);)nr(t,!0,-1)?(u=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||V2===n)&&(z2===n||xV===n?m=e:m=e+1,y=t.position-t.lineStart,l===1?a&&(zM(t,y)||AXe(t,y,m))||TXe(t,m)?h=!0:(o&&DXe(t,m)||CXe(t,m)||EXe(t,m)?h=!0:$Xe(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&et(t,"alias node should not have any properties")):SXe(t,m,z2===n)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=a&&zM(t,y))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&et(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(g=t.implicitTypes[d],g.resolve(t.result)){t.result=g.construct(t.result),t.tag=g.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Wc.call(t.typeMap[t.kind||"fallback"],t.tag))g=t.typeMap[t.kind||"fallback"][t.tag];else for(g=null,p=t.typeMap.multi[t.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(t.tag.slice(0,p[d].tag.length)===p[d].tag){g=p[d];break}g||et(t,"unknown tag !<"+t.tag+">"),t.result!==null&&g.kind!==t.kind&&et(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+g.kind+'", not "'+t.kind+'"'),g.resolve(t.result,t.tag)?(t.result=g.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):et(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}function RXe(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(nr(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!Ki(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&et(t,"directive name must not be less than one character in length");o!==0;){for(;eh(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Sa(o));break}if(Sa(o))break;for(n=t.position;o!==0&&!Ki(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&eT(t),Wc.call(BM,r)?BM[r](t,r,i):W2(t,'unknown document directive "'+r+'"')}if(nr(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,nr(t,!0,-1)):s&&et(t,"directives end mark is expected"),pf(t,t.lineIndent-1,V2,!1,!0),nr(t,!0,-1),t.checkLineBreaks&&bXe.test(t.input.slice(e,t.position))&&W2(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&lx(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,nr(t,!0,-1));return}if(t.position<t.length-1)et(t,"end of the stream or a document separator is expected");else return}function TV(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new vXe(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,et(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)RXe(n);return n.documents}function LXe(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=TV(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function IXe(t,e){var n=TV(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new al("expected a single document in the stream, but found more")}}var NXe=LXe,FXe=IXe,BXe={loadAll:NXe,load:FXe},QXe=bV,zXe=BXe.load;const DV=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function VXe(t,e){var n;const r=t.match(DV);if(r){const i=zXe(r[1],{schema:QXe});return i!=null&&i.title&&((n=e.setDiagramTitle)==null||n.call(e,i.title)),t.slice(r[0].length)}else return t}const WXe=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,UXe=/\s*%%.*\n/gm,U2={},nT=function(t,e){t=t.replace(DV,"").replace(WXe,"").replace(UXe,`
`);for(const[n,{detector:r}]of Object.entries(U2))if(r(t,e))return n;throw new Error(`No diagram type detected for text: ${t}`)},AV=(...t)=>{for(const{id:e,detector:n,loader:r}of t)MV(e,n,r)},MV=(t,e,n)=>{U2[t]?V.error(`Detector with key ${t} already exists`):U2[t]={detector:e,loader:n},V.debug(`Detector with key ${t} added${n?" with loader":""}`)},jXe=t=>U2[t].loader,vS=function(t,e,n){const{depth:r,clobber:i}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>vS(t,s,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=vS(t[s],e[s],{depth:r-1,clobber:i})):(i||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},Sr=vS,qXe={curveBasis:lf,curveBasisClosed:rFe,curveBasisOpen:iFe,curveBumpX:tFe,curveBumpY:nFe,curveBundle:sFe,curveCardinalClosed:aFe,curveCardinalOpen:lFe,curveCardinal:oFe,curveCatmullRomClosed:uFe,curveCatmullRomOpen:hFe,curveCatmullRom:cFe,curveLinear:vs,curveLinearClosed:dFe,curveMonotoneX:fFe,curveMonotoneY:pFe,curveNatural:gFe,curveStep:mFe,curveStepAfter:bFe,curveStepBefore:yFe},w_=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,YXe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ZXe=function(t,e){const n=PV(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const i=n.map(s=>s.args);ph(i),r=Sr(r,[...i])}else r=n.args;if(r){let i=nT(t,e);["config"].forEach(s=>{r[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[s],delete r[s])})}return r},PV=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${YXe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),V.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const i=[];for(;(r=w_.exec(t))!==null;)if(r.index===w_.lastIndex&&w_.lastIndex++,r&&!e||e&&r[1]&&r[1].match(e)||e&&r[2]&&r[2].match(e)){const s=r[1]?r[1]:r[2],o=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:s,args:o})}return i.length===0&&i.push({type:t,args:null}),i.length===1?i[0]:i}catch(n){return V.error(`ERROR: ${n.message} - Unable to parse directive
      ${e!==null?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},XXe=function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1};function $o(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return qXe[n]||e}function HXe(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?Il.sanitizeUrl(n):n}const GXe=(t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let s=window;for(let o=0;o<r;o++)if(s=s[n[o]],!s)return;s[i](...e)};function j2(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function KXe(t){let e,n=0;t.forEach(s=>{n+=j2(s,e),e=s});let r=n/2,i;return e=void 0,t.forEach(s=>{if(e&&!i){const o=j2(s,e);if(o<r)r-=o;else{const a=r/o;a<=0&&(i=e),a>=1&&(i={x:s.x,y:s.y}),a>0&&a<1&&(i={x:(1-a)*e.x+a*s.x,y:(1-a)*e.y+a*s.y})}}e=s}),i}function JXe(t){return t.length===1?t[0]:KXe(t)}const eHe=(t,e,n)=>{let r;V.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());let s=25,o;r=void 0,e.forEach(h=>{if(r&&!o){const d=j2(h,r);if(d<s)s-=d;else{const f=s/d;f<=0&&(o=r),f>=1&&(o={x:h.x,y:h.y}),f>0&&f<1&&(o={x:(1-f)*r.x+f*h.x,y:(1-f)*r.y+f*h.y})}}r=h});const a=t?10:5,l=Math.atan2(e[0].y-o.y,e[0].x-o.x),u={x:0,y:0};return u.x=Math.sin(l)*a+(e[0].x+o.x)/2,u.y=-Math.cos(l)*a+(e[0].y+o.y)/2,u};function tHe(t,e,n){let r=JSON.parse(JSON.stringify(n)),i;V.info("our points",r),e!=="start_left"&&e!=="start_right"&&(r=r.reverse()),r.forEach(d=>{i=d});let o=25+t,a;i=void 0,r.forEach(d=>{if(i&&!a){const f=j2(d,i);if(f<o)o-=f;else{const p=o/f;p<=0&&(a=i),p>=1&&(a={x:d.x,y:d.y}),p>0&&p<1&&(a={x:(1-p)*i.x+p*d.x,y:(1-p)*i.y+p*d.y})}}i=d});const l=10+t*.5,u=Math.atan2(r[0].y-a.y,r[0].x-a.x),h={x:0,y:0};return h.x=Math.sin(u)*l+(r[0].x+a.x)/2,h.y=-Math.cos(u)*l+(r[0].y+a.y)/2,e==="start_left"&&(h.x=Math.sin(u+Math.PI)*l+(r[0].x+a.x)/2,h.y=-Math.cos(u+Math.PI)*l+(r[0].y+a.y)/2),e==="end_right"&&(h.x=Math.sin(u-Math.PI)*l+(r[0].x+a.x)/2-5,h.y=-Math.cos(u-Math.PI)*l+(r[0].y+a.y)/2-5),e==="end_left"&&(h.x=Math.sin(u)*l+(r[0].x+a.x)/2-5,h.y=-Math.cos(u)*l+(r[0].y+a.y)/2-5),h}function Uc(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}let VM=0;const $V=()=>(VM++,"id-"+Math.random().toString(36).substr(2,12)+"-"+VM);function nHe(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}const RV=t=>nHe(t.length),rHe=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},iHe=function(t,e){const n=e.text.replace(gt.lineBreakRegex," "),[,r]=q0(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",r),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},LV=jf((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),gt.lineBreakRegex.test(t)))return t;const r=t.split(" "),i=[];let s="";return r.forEach((o,a)=>{const l=Ca(`${o} `,n),u=Ca(s,n);if(l>e){const{hyphenatedStrings:f,remainingWord:p}=sHe(o,e,"-",n);i.push(s,...f),s=p}else u+l>=e?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");a+1===r.length&&i.push(s)}),i.filter(o=>o!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),sHe=jf((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...t],s=[];let o="";return i.forEach((a,l)=>{const u=`${o}${a}`;if(Ca(u,r)>=e){const d=l+1,f=i.length===d,p=`${u}${n}`;s.push(f?u:p),o=""}else o=u}),{hyphenatedStrings:s,remainingWord:o}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function SS(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),rT(t,e).height}function Ca(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),rT(t,e).width}const rT=jf((t,e)=>{e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:r,fontWeight:i}=e;if(!t)return{width:0,height:0};const[,s]=q0(n),o=["sans-serif",r],a=t.split(gt.lineBreakRegex),l=[],u=De("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const f of o){let p=0;const g={width:0,height:0,lineHeight:0};for(const m of a){const y=rHe();y.text=m;const b=iHe(h,y).style("font-size",s).style("font-weight",i).style("font-family",f),O=(b._groups||b)[0][0].getBBox();g.width=Math.round(Math.max(g.width,O.width)),p=Math.round(O.height),g.height+=p,g.lineHeight=Math.round(Math.max(g.lineHeight,p))}l.push(g)}h.remove();const d=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[d]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),oHe=class{constructor(e,n){this.deterministic=e,this.seed=n,this.count=n?n.length:0}next(){return this.deterministic?this.count++:Date.now()}};let z1;const aHe=function(t){return z1=z1||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),z1.innerHTML=t,unescape(z1.textContent)},ph=t=>{if(V.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>ph(e)):Object.keys(t).forEach(e=>{V.debug("Checking key",e),e.startsWith("__")&&(V.debug("sanitize deleting __ option",e),delete t[e]),e.includes("proto")&&(V.debug("sanitize deleting proto option",e),delete t[e]),e.includes("constr")&&(V.debug("sanitize deleting constr option",e),delete t[e]),e.includes("themeCSS")&&(V.debug("sanitizing themeCss option"),t[e]=Ob(t[e])),e.includes("fontFamily")&&(V.debug("sanitizing fontFamily option"),t[e]=Ob(t[e])),e.includes("altFontFamily")&&(V.debug("sanitizing altFontFamily option"),t[e]=Ob(t[e])),GYe.includes(e)?typeof t[e]=="object"&&(V.debug("sanitize deleting object",e),ph(t[e])):(V.debug("sanitize deleting option",e),delete t[e])})),t.themeVariables){const e=Object.keys(t.themeVariables);for(const n of e){const r=t.themeVariables[n];r&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[n]="")}}V.debug("After sanitization",t)},Ob=t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function iT(t){return"str"in t}function lHe(t){return t instanceof Error?t.message:String(t)}const cHe=(t,e,n,r)=>{if(!r)return;const i=t.node().getBBox();t.append("text").text(r).attr("x",i.x+i.width/2).attr("y",-n).attr("class",e)},q0=t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t,10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},pt={assignWithDepth:Sr,wrapLabel:LV,calculateTextHeight:SS,calculateTextWidth:Ca,calculateTextDimensions:rT,detectInit:ZXe,detectDirective:PV,isSubstringInArray:XXe,interpolateToCurve:$o,calcLabelPosition:JXe,calcCardinalityPosition:eHe,calcTerminalLabelPosition:tHe,formatUrl:HXe,getStylesFromArray:Uc,generateId:$V,random:RV,runFunc:GXe,entityDecode:aHe,initIdGenerator:oHe,directiveSanitizer:ph,sanitizeCss:Ob,insertTitle:cHe,parseFontSize:q0},q2="9.4.3",gf=Object.freeze(KYe);let Wi=Sr({},gf),IV,mf=[],Lg=Sr({},gf);const cx=(t,e)=>{let n=Sr({},t),r={};for(const i of e)BV(i),r=Sr(r,i);if(n=Sr(n,r),r.theme&&r.theme in _l){const i=Sr({},IV),s=Sr(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in _l&&(n.themeVariables=_l[n.theme].getThemeVariables(s))}return Lg=n,zV(Lg),Lg},uHe=t=>(Wi=Sr({},gf),Wi=Sr(Wi,t),t.theme&&_l[t.theme]&&(Wi.themeVariables=_l[t.theme].getThemeVariables(t.themeVariables)),cx(Wi,mf),Wi),hHe=t=>{IV=Sr({},t)},dHe=t=>(Wi=Sr(Wi,t),cx(Wi,mf),Wi),NV=()=>Sr({},Wi),FV=t=>(zV(t),Sr(Lg,t),re()),re=()=>Sr({},Lg),BV=t=>{["secure",...Wi.secure??[]].forEach(e=>{t[e]!==void 0&&(V.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.indexOf("__")===0&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&BV(t[e])})},sT=t=>{t.fontFamily&&(t.themeVariables?t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily}):t.themeVariables={fontFamily:t.fontFamily}),mf.push(t),cx(Wi,mf)},Bm=(t=Wi)=>{mf=[],cx(t,mf)};var QV=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(QV||{});const WM={},fHe=t=>{WM[t]||(V.warn(QV[t]),WM[t]=!0)},zV=t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&fHe("LAZY_LOAD_DEPRECATED")},pHe=function(t,e){for(let n of e)t.attr(n[0],n[1])},gHe=function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},Uo=function(t,e,n,r){const i=gHe(e,n,r);pHe(t,i)},ux=function(t,e,n,r){const i=e.node().getBBox(),s=i.width,o=i.height;V.info(`SVG bounds: ${s}x${o}`,i);let a=0,l=0;V.info(`Graph bounds: ${a}x${l}`,t),a=s+n*2,l=o+n*2,V.info(`Calculated bounds: ${a}x${l}`),Uo(e,l,a,r);const u=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",u)},mHe=t=>`g.classGroup text {
  fill: ${t.nodeBorder};
  fill: ${t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,Ig=mHe,yHe=t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
`,VV=yHe,bHe=()=>"",CS=bHe,OHe=t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,Y2=OHe,kHe=t=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${t.fontFamily};
      fill: ${t.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${t.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${t.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,WV=kHe,xHe=()=>"",UV=xHe,wHe=t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,jV=wHe,_He=t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 100%;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,qV=_He,vHe=t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,YV=vHe,SHe=t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,Z2=SHe,CHe=t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,ZV=CHe,EHe=t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,XV=EHe,kb={flowchart:Y2,"flowchart-v2":Y2,sequence:YV,gantt:WV,classDiagram:Ig,"classDiagram-v2":Ig,class:Ig,stateDiagram:Z2,state:Z2,info:UV,pie:jV,er:VV,error:CS,journey:ZV,requirement:qV,c4:XV},THe=(t,e,n)=>{let r="";return t in kb&&kb[t]?r=kb[t](n):V.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${r}

  ${e}
`},DHe=(t,e)=>{kb[t]=e},AHe=THe;let oT="",hx="",aT="";const lT=t=>eo(t,re()),Ts=function(){oT="",aT="",hx=""},ls=function(t){oT=lT(t).replace(/^\s+/g,"")},Ds=function(){return oT||hx},As=function(t){aT=lT(t).replace(/\n\s+/g,`
`)},Ms=function(){return aT},jo=function(t){hx=lT(t)},qo=function(){return hx},MHe={setAccTitle:ls,getAccTitle:Ds,setDiagramTitle:jo,getDiagramTitle:qo,getAccDescription:Ms,setAccDescription:As,clear:Ts},PHe=Object.freeze(Object.defineProperty({__proto__:null,clear:Ts,default:MHe,getAccDescription:Ms,getAccTitle:Ds,getDiagramTitle:qo,setAccDescription:As,setAccTitle:ls,setDiagramTitle:jo},Symbol.toStringTag,{value:"Module"}));let mu={};const HV=function(t,e,n,r){V.debug("parseDirective is being called",e,n,r);try{if(e!==void 0)switch(e=e.trim(),n){case"open_directive":mu={};break;case"type_directive":if(!mu)throw new Error("currentDirective is undefined");mu.type=e.toLowerCase();break;case"arg_directive":if(!mu)throw new Error("currentDirective is undefined");mu.args=JSON.parse(e);break;case"close_directive":$He(t,mu,r),mu=void 0;break}}catch(i){V.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),V.error(i.message)}},$He=function(t,e,n){switch(V.info(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":{["config"].forEach(r=>{e.args[r]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),e.args[n]=e.args[r],delete e.args[r])}),V.info("sanitize in handleDirective",e.args),ph(e.args),V.info("sanitize in handleDirective (done)",e.args),sT(e.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(e.type==="wrap");break;case"themeCss":V.warn("themeCss encountered");break;default:V.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e);break}},RHe=V,LHe=KE,Y0=re,IHe=t=>eo(t,Y0()),GV=ux,NHe=()=>PHe,FHe=(t,e,n,r)=>HV(t,e,n,r),X2={},cr=(t,e,n)=>{if(X2[t])throw new Error(`Diagram ${t} already registered.`);X2[t]=e,n&&MV(t,n),DHe(t,e.styles),e.injectUtils&&e.injectUtils(RHe,LHe,Y0,IHe,GV,NHe(),FHe)},KV=t=>{if(t in X2)return X2[t];throw new Error(`Diagram ${t} not found.`)};var ES=function(){var t=function(I,M,C,E){for(C=C||{},E=I.length;E--;C[I[E]]=M);return C},e=[1,4],n=[1,7],r=[1,5],i=[1,9],s=[1,6],o=[2,6],a=[1,16],l=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],u=[8,14,20,22,24,25,27,29,32,37,40],h=[8,13,14,20,22,24,25,27,29,32,37,40],d=[1,26],f=[6,8,14,50,55],p=[8,14,55],g=[1,53],m=[1,52],y=[8,14,30,33,35,38,55],b=[1,67],O=[1,68],x=[1,69],T=[8,14,33,35,42,55],A={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(M,C,E,_,L,k,B){var w=k.length-1;switch(L){case 3:return k[w];case 4:return k[w-1];case 5:return _.setDirection(k[w-3]),k[w-1];case 7:_.setOptions(k[w-1]),this.$=k[w];break;case 8:k[w-1]+=k[w],this.$=k[w-1];break;case 10:this.$=[];break;case 11:k[w-1].push(k[w]),this.$=k[w-1];break;case 12:this.$=k[w-1];break;case 17:this.$=k[w].trim(),_.setAccTitle(this.$);break;case 18:case 19:this.$=k[w].trim(),_.setAccDescription(this.$);break;case 20:_.addSection(k[w].substr(8)),this.$=k[w].substr(8);break;case 22:_.checkout(k[w]);break;case 23:_.branch(k[w]);break;case 24:_.branch(k[w-2],k[w]);break;case 25:_.cherryPick(k[w],"",void 0);break;case 26:_.cherryPick(k[w-2],"",k[w]);break;case 27:case 29:_.cherryPick(k[w-2],"","");break;case 28:_.cherryPick(k[w],"",k[w-2]);break;case 30:_.merge(k[w],"","","");break;case 31:_.merge(k[w-2],k[w],"","");break;case 32:_.merge(k[w-2],"",k[w],"");break;case 33:_.merge(k[w-2],"","",k[w]);break;case 34:_.merge(k[w-4],k[w],"",k[w-2]);break;case 35:_.merge(k[w-4],"",k[w],k[w-2]);break;case 36:_.merge(k[w-4],"",k[w-2],k[w]);break;case 37:_.merge(k[w-4],k[w-2],k[w],"");break;case 38:_.merge(k[w-4],k[w-2],"",k[w]);break;case 39:_.merge(k[w-4],k[w],k[w-2],"");break;case 40:_.merge(k[w-6],k[w-4],k[w-2],k[w]);break;case 41:_.merge(k[w-6],k[w],k[w-4],k[w-2]);break;case 42:_.merge(k[w-6],k[w-4],k[w],k[w-2]);break;case 43:_.merge(k[w-6],k[w-2],k[w-4],k[w]);break;case 44:_.merge(k[w-6],k[w],k[w-2],k[w-4]);break;case 45:_.merge(k[w-6],k[w-2],k[w],k[w-4]);break;case 46:_.commit(k[w]);break;case 47:_.commit("","",_.commitType.NORMAL,k[w]);break;case 48:_.commit("","",k[w],"");break;case 49:_.commit("","",k[w],k[w-2]);break;case 50:_.commit("","",k[w-2],k[w]);break;case 51:_.commit("",k[w],_.commitType.NORMAL,"");break;case 52:_.commit("",k[w-2],_.commitType.NORMAL,k[w]);break;case 53:_.commit("",k[w],_.commitType.NORMAL,k[w-2]);break;case 54:_.commit("",k[w-2],k[w],"");break;case 55:_.commit("",k[w],k[w-2],"");break;case 56:_.commit("",k[w-4],k[w-2],k[w]);break;case 57:_.commit("",k[w-4],k[w],k[w-2]);break;case 58:_.commit("",k[w-2],k[w-4],k[w]);break;case 59:_.commit("",k[w],k[w-4],k[w-2]);break;case 60:_.commit("",k[w],k[w-2],k[w-4]);break;case 61:_.commit("",k[w-2],k[w],k[w-4]);break;case 62:_.commit(k[w],"",_.commitType.NORMAL,"");break;case 63:_.commit(k[w],"",_.commitType.NORMAL,k[w-2]);break;case 64:_.commit(k[w-2],"",_.commitType.NORMAL,k[w]);break;case 65:_.commit(k[w-2],"",k[w],"");break;case 66:_.commit(k[w],"",k[w-2],"");break;case 67:_.commit(k[w],k[w-2],_.commitType.NORMAL,"");break;case 68:_.commit(k[w-2],k[w],_.commitType.NORMAL,"");break;case 69:_.commit(k[w-4],"",k[w-2],k[w]);break;case 70:_.commit(k[w-4],"",k[w],k[w-2]);break;case 71:_.commit(k[w-2],"",k[w-4],k[w]);break;case 72:_.commit(k[w],"",k[w-4],k[w-2]);break;case 73:_.commit(k[w],"",k[w-2],k[w-4]);break;case 74:_.commit(k[w-2],"",k[w],k[w-4]);break;case 75:_.commit(k[w-4],k[w],k[w-2],"");break;case 76:_.commit(k[w-4],k[w-2],k[w],"");break;case 77:_.commit(k[w-2],k[w],k[w-4],"");break;case 78:_.commit(k[w],k[w-2],k[w-4],"");break;case 79:_.commit(k[w],k[w-4],k[w-2],"");break;case 80:_.commit(k[w-2],k[w-4],k[w],"");break;case 81:_.commit(k[w-4],k[w],_.commitType.NORMAL,k[w-2]);break;case 82:_.commit(k[w-4],k[w-2],_.commitType.NORMAL,k[w]);break;case 83:_.commit(k[w-2],k[w],_.commitType.NORMAL,k[w-4]);break;case 84:_.commit(k[w],k[w-2],_.commitType.NORMAL,k[w-4]);break;case 85:_.commit(k[w],k[w-4],_.commitType.NORMAL,k[w-2]);break;case 86:_.commit(k[w-2],k[w-4],_.commitType.NORMAL,k[w]);break;case 87:_.commit(k[w-6],k[w-4],k[w-2],k[w]);break;case 88:_.commit(k[w-6],k[w-4],k[w],k[w-2]);break;case 89:_.commit(k[w-6],k[w-2],k[w-4],k[w]);break;case 90:_.commit(k[w-6],k[w],k[w-4],k[w-2]);break;case 91:_.commit(k[w-6],k[w-2],k[w],k[w-4]);break;case 92:_.commit(k[w-6],k[w],k[w-2],k[w-4]);break;case 93:_.commit(k[w-4],k[w-6],k[w-2],k[w]);break;case 94:_.commit(k[w-4],k[w-6],k[w],k[w-2]);break;case 95:_.commit(k[w-2],k[w-6],k[w-4],k[w]);break;case 96:_.commit(k[w],k[w-6],k[w-4],k[w-2]);break;case 97:_.commit(k[w-2],k[w-6],k[w],k[w-4]);break;case 98:_.commit(k[w],k[w-6],k[w-2],k[w-4]);break;case 99:_.commit(k[w],k[w-4],k[w-2],k[w-6]);break;case 100:_.commit(k[w-2],k[w-4],k[w],k[w-6]);break;case 101:_.commit(k[w],k[w-2],k[w-4],k[w-6]);break;case 102:_.commit(k[w-2],k[w],k[w-4],k[w-6]);break;case 103:_.commit(k[w-4],k[w-2],k[w],k[w-6]);break;case 104:_.commit(k[w-4],k[w],k[w-2],k[w-6]);break;case 105:_.commit(k[w-2],k[w-4],k[w-6],k[w]);break;case 106:_.commit(k[w],k[w-4],k[w-6],k[w-2]);break;case 107:_.commit(k[w-2],k[w],k[w-6],k[w-4]);break;case 108:_.commit(k[w],k[w-2],k[w-6],k[w-4]);break;case 109:_.commit(k[w-4],k[w-2],k[w-6],k[w]);break;case 110:_.commit(k[w-4],k[w],k[w-6],k[w-2]);break;case 111:this.$="";break;case 112:this.$=k[w];break;case 113:this.$=_.commitType.NORMAL;break;case 114:this.$=_.commitType.REVERSE;break;case 115:this.$=_.commitType.HIGHLIGHT;break;case 118:_.parseDirective("%%{","open_directive");break;case 119:_.parseDirective(k[w],"type_directive");break;case 120:k[w]=k[w].trim().replace(/'/g,'"'),_.parseDirective(k[w],"arg_directive");break;case 121:_.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:e,8:n,14:r,46:8,50:i,55:s},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:r,46:8,50:i,55:s},{3:11,4:2,5:3,6:e,8:n,14:r,46:8,50:i,55:s},{7:12,8:o,9:[1,13],10:[1,14],11:15,14:a},t(l,[2,124]),t(l,[2,125]),t(l,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:o,11:15,14:a},{9:[1,21]},t(u,[2,10],{12:22,13:[1,23]}),t(h,[2,9]),{9:[1,25],48:24,53:d},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:o,11:15,14:a},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(h,[2,8]),t(f,[2,116]),{49:45,52:[1,46]},t(f,[2,121]),{1:[2,4]},{8:[1,47]},t(u,[2,11]),{4:48,8:n,14:r,55:s},t(u,[2,13]),t(p,[2,14]),t(p,[2,15]),t(p,[2,16]),{21:[1,49]},{23:[1,50]},t(p,[2,19]),t(p,[2,20]),t(p,[2,21]),{28:51,34:g,54:m},t(p,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:g,54:m},{33:[1,61],35:[1,62]},{28:63,34:g,54:m},{48:64,53:d},{53:[2,120]},{1:[2,5]},t(u,[2,12]),t(p,[2,17]),t(p,[2,18]),t(p,[2,22]),t(y,[2,122]),t(y,[2,123]),t(p,[2,46]),{34:[1,65]},{39:66,43:b,44:O,45:x},{34:[1,70]},{34:[1,71]},t(p,[2,112]),t(p,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},t(p,[2,23],{30:[1,78]}),t(f,[2,117]),t(p,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),t(p,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),t(T,[2,113]),t(T,[2,114]),t(T,[2,115]),t(p,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),t(p,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:b,44:O,45:x},{34:[1,93]},t(p,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:b,44:O,45:x},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:b,44:O,45:x},{34:[1,106]},{34:[1,107]},{39:108,43:b,44:O,45:x},{34:[1,109]},t(p,[2,31],{35:[1,111],38:[1,110]}),t(p,[2,32],{33:[1,113],35:[1,112]}),t(p,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},t(p,[2,24]),t(p,[2,49],{33:[1,120],42:[1,121]}),t(p,[2,53],{38:[1,122],42:[1,123]}),t(p,[2,63],{33:[1,125],38:[1,124]}),t(p,[2,50],{33:[1,126],42:[1,127]}),t(p,[2,55],{35:[1,128],42:[1,129]}),t(p,[2,66],{33:[1,131],35:[1,130]}),t(p,[2,52],{38:[1,132],42:[1,133]}),t(p,[2,54],{35:[1,134],42:[1,135]}),t(p,[2,67],{35:[1,137],38:[1,136]}),t(p,[2,64],{33:[1,139],38:[1,138]}),t(p,[2,65],{33:[1,141],35:[1,140]}),t(p,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:b,44:O,45:x},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:b,44:O,45:x},t(p,[2,26]),t(p,[2,27]),t(p,[2,28]),t(p,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:b,44:O,45:x},{34:[1,153]},{39:154,43:b,44:O,45:x},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:b,44:O,45:x},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:b,44:O,45:x},{34:[1,167]},{39:168,43:b,44:O,45:x},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:b,44:O,45:x},{34:[1,173]},t(p,[2,37],{35:[1,174]}),t(p,[2,38],{38:[1,175]}),t(p,[2,36],{33:[1,176]}),t(p,[2,39],{35:[1,177]}),t(p,[2,34],{38:[1,178]}),t(p,[2,35],{33:[1,179]}),t(p,[2,60],{42:[1,180]}),t(p,[2,73],{33:[1,181]}),t(p,[2,61],{42:[1,182]}),t(p,[2,84],{38:[1,183]}),t(p,[2,74],{33:[1,184]}),t(p,[2,83],{38:[1,185]}),t(p,[2,59],{42:[1,186]}),t(p,[2,72],{33:[1,187]}),t(p,[2,58],{42:[1,188]}),t(p,[2,78],{35:[1,189]}),t(p,[2,71],{33:[1,190]}),t(p,[2,77],{35:[1,191]}),t(p,[2,57],{42:[1,192]}),t(p,[2,85],{38:[1,193]}),t(p,[2,56],{42:[1,194]}),t(p,[2,79],{35:[1,195]}),t(p,[2,80],{35:[1,196]}),t(p,[2,86],{38:[1,197]}),t(p,[2,70],{33:[1,198]}),t(p,[2,81],{38:[1,199]}),t(p,[2,69],{33:[1,200]}),t(p,[2,75],{35:[1,201]}),t(p,[2,76],{35:[1,202]}),t(p,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:b,44:O,45:x},{34:[1,206]},{34:[1,207]},{39:208,43:b,44:O,45:x},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:b,44:O,45:x},{34:[1,214]},{39:215,43:b,44:O,45:x},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:b,44:O,45:x},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:b,44:O,45:x},{34:[1,228]},{39:229,43:b,44:O,45:x},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:b,44:O,45:x},t(p,[2,40]),t(p,[2,42]),t(p,[2,41]),t(p,[2,43]),t(p,[2,45]),t(p,[2,44]),t(p,[2,101]),t(p,[2,102]),t(p,[2,99]),t(p,[2,100]),t(p,[2,104]),t(p,[2,103]),t(p,[2,108]),t(p,[2,107]),t(p,[2,106]),t(p,[2,105]),t(p,[2,110]),t(p,[2,109]),t(p,[2,98]),t(p,[2,97]),t(p,[2,96]),t(p,[2,95]),t(p,[2,93]),t(p,[2,94]),t(p,[2,92]),t(p,[2,91]),t(p,[2,90]),t(p,[2,89]),t(p,[2,87]),t(p,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(M,C){if(C.recoverable)this.trace(M);else{var E=new Error(M);throw E.hash=C,E}},parse:function(M){var C=this,E=[0],_=[],L=[null],k=[],B=this.table,w="",Q=0,U=0,W=2,$=1,X=k.slice.call(arguments,1),Y=Object.create(this.lexer),N={yy:{}};for(var he in this.yy)Object.prototype.hasOwnProperty.call(this.yy,he)&&(N.yy[he]=this.yy[he]);Y.setInput(M,N.yy),N.yy.lexer=Y,N.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var ge=Y.yylloc;k.push(ge);var j=Y.options&&Y.options.ranges;typeof N.yy.parseError=="function"?this.parseError=N.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Te(){var ye;return ye=_.pop()||Y.lex()||$,typeof ye!="number"&&(ye instanceof Array&&(_=ye,ye=_.pop()),ye=C.symbols_[ye]||ye),ye}for(var K,ee,H,G,z={},D,F,R,Z;;){if(ee=E[E.length-1],this.defaultActions[ee]?H=this.defaultActions[ee]:((K===null||typeof K>"u")&&(K=Te()),H=B[ee]&&B[ee][K]),typeof H>"u"||!H.length||!H[0]){var P="";Z=[];for(D in B[ee])this.terminals_[D]&&D>W&&Z.push("'"+this.terminals_[D]+"'");Y.showPosition?P="Parse error on line "+(Q+1)+`:
`+Y.showPosition()+`
Expecting `+Z.join(", ")+", got '"+(this.terminals_[K]||K)+"'":P="Parse error on line "+(Q+1)+": Unexpected "+(K==$?"end of input":"'"+(this.terminals_[K]||K)+"'"),this.parseError(P,{text:Y.match,token:this.terminals_[K]||K,line:Y.yylineno,loc:ge,expected:Z})}if(H[0]instanceof Array&&H.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ee+", token: "+K);switch(H[0]){case 1:E.push(K),L.push(Y.yytext),k.push(Y.yylloc),E.push(H[1]),K=null,U=Y.yyleng,w=Y.yytext,Q=Y.yylineno,ge=Y.yylloc;break;case 2:if(F=this.productions_[H[1]][1],z.$=L[L.length-F],z._$={first_line:k[k.length-(F||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(F||1)].first_column,last_column:k[k.length-1].last_column},j&&(z._$.range=[k[k.length-(F||1)].range[0],k[k.length-1].range[1]]),G=this.performAction.apply(z,[w,U,Q,N.yy,H[1],L,k].concat(X)),typeof G<"u")return G;F&&(E=E.slice(0,-1*F*2),L=L.slice(0,-1*F),k=k.slice(0,-1*F)),E.push(this.productions_[H[1]][0]),L.push(z.$),k.push(z._$),R=B[E[E.length-2]][E[E.length-1]],E.push(R);break;case 3:return!0}}return!0}},v=function(){var I={EOF:1,parseError:function(C,E){if(this.yy.parser)this.yy.parser.parseError(C,E);else throw new Error(C)},setInput:function(M,C){return this.yy=C||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var C=M.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},unput:function(M){var C=M.length,E=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1&&(this.yylineno-=E.length-1);var L=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===_.length?this.yylloc.first_column:0)+_[_.length-E.length].length-E[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[L[0],L[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(M){this.unput(this.match.slice(M))},pastInput:function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var M=this.pastInput(),C=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+C+"^"},test_match:function(M,C){var E,_,L;if(this.options.backtrack_lexer&&(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(L.yylloc.range=this.yylloc.range.slice(0))),_=M[0].match(/(?:\r\n?|\n).*/g),_&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],E=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),E)return E;if(this._backtrack){for(var k in L)this[k]=L[k];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var M,C,E,_;this._more||(this.yytext="",this.match="");for(var L=this._currentRules(),k=0;k<L.length;k++)if(E=this._input.match(this.rules[L[k]]),E&&(!C||E[0].length>C[0].length)){if(C=E,_=k,this.options.backtrack_lexer){if(M=this.test_match(E,L[k]),M!==!1)return M;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(M=this.test_match(C,L[_]),M!==!1?M:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var C=this.next();return C||this.lex()},begin:function(C){this.conditionStack.push(C)},popState:function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},pushState:function(C){this.begin(C)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(C,E,_,L){switch(_){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return I}();A.lexer=v;function S(){this.yy={}}return S.prototype=A,A.Parser=S,new S}();ES.parser=ES;const BHe=ES,QHe=t=>t.match(/^\s*gitGraph/)!==null;let H2=re().gitGraph.mainBranchName,zHe=re().gitGraph.mainBranchOrder,pr={},Ei=null,Qm={};Qm[H2]={name:H2,order:zHe};let tr={};tr[H2]=Ei;let vr=H2,JV="LR",gh=0;function cT(){return RV({length:7})}const VHe=function(t,e,n){An.parseDirective(this,t,e,n)};function WHe(t,e){const n=Object.create(null);return t.reduce((r,i)=>{const s=e(i);return n[s]||(n[s]=!0,r.push(i)),r},[])}const UHe=function(t){JV=t};let eW={};const jHe=function(t){V.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{eW=JSON.parse(t)}catch(e){V.error("error while parsing gitGraph options",e.message)}},qHe=function(){return eW},YHe=function(t,e,n,r){V.debug("Entering commit:",t,e,n,r),e=gt.sanitizeText(e,re()),t=gt.sanitizeText(t,re()),r=gt.sanitizeText(r,re());const i={id:e||gh+"-"+cT(),message:t,seq:gh++,type:n||zm.NORMAL,tag:r||"",parents:Ei==null?[]:[Ei.id],branch:vr};Ei=i,pr[i.id]=i,tr[vr]=i.id,V.debug("in pushCommit "+i.id)},ZHe=function(t,e){if(t=gt.sanitizeText(t,re()),tr[t]===void 0)tr[t]=Ei!=null?Ei.id:null,Qm[t]={name:t,order:e?parseInt(e,10):null},tW(t),V.debug("in createBranch");else{let n=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw n.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},n}},XHe=function(t,e,n,r){t=gt.sanitizeText(t,re()),e=gt.sanitizeText(e,re());const i=pr[tr[vr]],s=pr[tr[t]];if(vr===t){let a=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},a}else if(i===void 0||!i){let a=new Error('Incorrect usage of "merge". Current branch ('+vr+")has no commits");throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},a}else if(tr[t]===void 0){let a=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},a}else if(s===void 0||!s){let a=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},a}else if(i===s){let a=new Error('Incorrect usage of "merge". Both branches have same head');throw a.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},a}else if(e&&pr[e]!==void 0){let a=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw a.hash={text:"merge "+t+e+n+r,token:"merge "+t+e+n+r,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+n+" "+r]},a}const o={id:e||gh+"-"+cT(),message:"merged branch "+t+" into "+vr,seq:gh++,parents:[Ei==null?null:Ei.id,tr[t]],branch:vr,type:zm.MERGE,customType:n,customId:!!e,tag:r||""};Ei=o,pr[o.id]=o,tr[vr]=o.id,V.debug(tr),V.debug("in mergeBranch")},HHe=function(t,e,n){if(V.debug("Entering cherryPick:",t,e,n),t=gt.sanitizeText(t,re()),e=gt.sanitizeText(e,re()),n=gt.sanitizeText(n,re()),!t||pr[t]===void 0){let s=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw s.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}let r=pr[t],i=r.branch;if(r.type===zm.MERGE){let s=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw s.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}if(!e||pr[e]===void 0){if(i===vr){let a=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}const s=pr[tr[vr]];if(s===void 0||!s){let a=new Error('Incorrect usage of "cherry-pick". Current branch ('+vr+")has no commits");throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}const o={id:gh+"-"+cT(),message:"cherry-picked "+r+" into "+vr,seq:gh++,parents:[Ei==null?null:Ei.id,r.id],branch:vr,type:zm.CHERRY_PICK,tag:n??"cherry-pick:"+r.id};Ei=o,pr[o.id]=o,tr[vr]=o.id,V.debug(tr),V.debug("in cherryPick")}},tW=function(t){if(t=gt.sanitizeText(t,re()),tr[t]===void 0){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}else{vr=t;const e=tr[vr];Ei=pr[e]}};function UM(t,e,n){const r=t.indexOf(e);r===-1?t.push(n):t.splice(r,1,n)}function nW(t){const e=t.reduce((i,s)=>i.seq>s.seq?i:s,t[0]);let n="";t.forEach(function(i){i===e?n+="	*":n+="	|"});const r=[n,e.id,e.seq];for(let i in tr)tr[i]===e.id&&r.push(i);if(V.debug(r.join(" ")),e.parents&&e.parents.length==2){const i=pr[e.parents[0]];UM(t,e,i),t.push(pr[e.parents[1]])}else{if(e.parents.length==0)return;{const i=pr[e.parents];UM(t,e,i)}}t=WHe(t,i=>i.id),nW(t)}const GHe=function(){V.debug(pr);const t=rW()[0];nW([t])},KHe=function(){pr={},Ei=null;let t=re().gitGraph.mainBranchName,e=re().gitGraph.mainBranchOrder;tr={},tr[t]=null,Qm={},Qm[t]={name:t,order:e},vr=t,gh=0,Ts()},JHe=function(){return Object.values(Qm).map((e,n)=>e.order!==null?e:{...e,order:parseFloat(`0.${n}`,10)}).sort((e,n)=>e.order-n.order).map(({name:e})=>({name:e}))},eGe=function(){return tr},tGe=function(){return pr},rW=function(){const t=Object.keys(pr).map(function(e){return pr[e]});return t.forEach(function(e){V.debug(e.id)}),t.sort((e,n)=>e.seq-n.seq),t},nGe=function(){return vr},rGe=function(){return JV},iGe=function(){return Ei},zm={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},sGe={parseDirective:VHe,getConfig:()=>re().gitGraph,setDirection:UHe,setOptions:jHe,getOptions:qHe,commit:YHe,branch:ZHe,merge:XHe,cherryPick:HHe,checkout:tW,prettyPrint:GHe,clear:KHe,getBranchesAsObjArray:JHe,getBranches:eGe,getCommits:tGe,getCommitsArray:rW,getCurrentBranch:nGe,getDirection:rGe,getHead:iGe,setAccTitle:ls,getAccTitle:Ds,getAccDescription:Ms,setAccDescription:As,setDiagramTitle:jo,getDiagramTitle:qo,commitType:zm};let Zp={};const cs={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Tu=8;let Ui={},G2={},K2=[],J2=0;const oGe=()=>{Ui={},G2={},Zp={},J2=0,K2=[]},aGe=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let n=[];typeof t=="string"?n=t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?n=t:n=[];for(const r of n){const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=r.trim(),e.appendChild(i)}return e},jM=(t,e,n)=>{const r=Y0().gitGraph,i=t.append("g").attr("class","commit-bullets"),s=t.append("g").attr("class","commit-labels");let o=0;Object.keys(e).sort((u,h)=>e[u].seq-e[h].seq).forEach(u=>{const h=e[u],d=Ui[h.branch].pos,f=o+10;if(n){let p,g=h.customType!==void 0&&h.customType!==""?h.customType:h.type;switch(g){case cs.NORMAL:p="commit-normal";break;case cs.REVERSE:p="commit-reverse";break;case cs.HIGHLIGHT:p="commit-highlight";break;case cs.MERGE:p="commit-merge";break;case cs.CHERRY_PICK:p="commit-cherry-pick";break;default:p="commit-normal"}if(g===cs.HIGHLIGHT){const m=i.append("rect");m.attr("x",f-10),m.attr("y",d-10),m.attr("height",20),m.attr("width",20),m.attr("class",`commit ${h.id} commit-highlight${Ui[h.branch].index%Tu} ${p}-outer`),i.append("rect").attr("x",f-6).attr("y",d-6).attr("height",12).attr("width",12).attr("class",`commit ${h.id} commit${Ui[h.branch].index%Tu} ${p}-inner`)}else if(g===cs.CHERRY_PICK)i.append("circle").attr("cx",f).attr("cy",d).attr("r",10).attr("class",`commit ${h.id} ${p}`),i.append("circle").attr("cx",f-3).attr("cy",d+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${p}`),i.append("circle").attr("cx",f+3).attr("cy",d+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${p}`),i.append("line").attr("x1",f+3).attr("y1",d+1).attr("x2",f).attr("y2",d-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${p}`),i.append("line").attr("x1",f-3).attr("y1",d+1).attr("x2",f).attr("y2",d-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${p}`);else{const m=i.append("circle");if(m.attr("cx",f),m.attr("cy",d),m.attr("r",h.type===cs.MERGE?9:10),m.attr("class",`commit ${h.id} commit${Ui[h.branch].index%Tu}`),g===cs.MERGE){const y=i.append("circle");y.attr("cx",f),y.attr("cy",d),y.attr("r",6),y.attr("class",`commit ${p} ${h.id} commit${Ui[h.branch].index%Tu}`)}g===cs.REVERSE&&i.append("path").attr("d",`M ${f-5},${d-5}L${f+5},${d+5}M${f-5},${d+5}L${f+5},${d-5}`).attr("class",`commit ${p} ${h.id} commit${Ui[h.branch].index%Tu}`)}}if(G2[h.id]={x:o+10,y:d},n){if(h.type!==cs.CHERRY_PICK&&(h.customId&&h.type===cs.MERGE||h.type!==cs.MERGE)&&r.showCommitLabel){const m=s.append("g"),y=m.insert("rect").attr("class","commit-label-bkg"),b=m.append("text").attr("x",o).attr("y",d+25).attr("class","commit-label").text(h.id);let O=b.node().getBBox();if(y.attr("x",o+10-O.width/2-2).attr("y",d+13.5).attr("width",O.width+2*2).attr("height",O.height+2*2),b.attr("x",o+10-O.width/2),r.rotateCommitLabel){let x=-7.5-(O.width+10)/25*9.5,T=10+O.width/25*8.5;m.attr("transform","translate("+x+", "+T+") rotate(-45, "+o+", "+d+")")}}if(h.tag){const m=s.insert("polygon"),y=s.append("circle"),b=s.append("text").attr("y",d-16).attr("class","tag-label").text(h.tag);let O=b.node().getBBox();b.attr("x",o+10-O.width/2);const x=O.height/2,T=d-19.2;m.attr("class","tag-label-bkg").attr("points",`
          ${o-O.width/2-4/2},${T+2}
          ${o-O.width/2-4/2},${T-2}
          ${o+10-O.width/2-4},${T-x-2}
          ${o+10+O.width/2+4},${T-x-2}
          ${o+10+O.width/2+4},${T+x+2}
          ${o+10-O.width/2-4},${T+x+2}`),y.attr("cx",o-O.width/2+4/2).attr("cy",T).attr("r",1.5).attr("class","tag-hole")}}o+=50,o>J2&&(J2=o)})},lGe=(t,e,n)=>Object.keys(n).filter(s=>n[s].branch===e.branch&&n[s].seq>t.seq&&n[s].seq<e.seq).length>0,TS=(t,e,n=0)=>{const r=t+Math.abs(t-e)/2;if(n>5)return r;if(K2.every(o=>Math.abs(o-r)>=10))return K2.push(r),r;const s=Math.abs(t-e);return TS(t,e-s/5,n+1)},cGe=(t,e,n,r)=>{const i=G2[e.id],s=G2[n.id],o=lGe(e,n,r);let a="",l="",u=0,h=0,d=Ui[n.branch].index,f;if(o){a="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10,d=Ui[n.branch].index;const p=i.y<s.y?TS(i.y,s.y):TS(s.y,i.y);i.y<s.y?f=`M ${i.x} ${i.y} L ${i.x} ${p-u} ${a} ${i.x+h} ${p} L ${s.x-u} ${p} ${l} ${s.x} ${p+h} L ${s.x} ${s.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${p+u} ${l} ${i.x+h} ${p} L ${s.x-u} ${p} ${a} ${s.x} ${p-h} L ${s.x} ${s.y}`}else i.y<s.y&&(a="A 20 20, 0, 0, 0,",u=20,h=20,d=Ui[n.branch].index,f=`M ${i.x} ${i.y} L ${i.x} ${s.y-u} ${a} ${i.x+h} ${s.y} L ${s.x} ${s.y}`),i.y>s.y&&(a="A 20 20, 0, 0, 0,",u=20,h=20,d=Ui[e.branch].index,f=`M ${i.x} ${i.y} L ${s.x-u} ${i.y} ${a} ${s.x} ${i.y-h} L ${s.x} ${s.y}`),i.y===s.y&&(d=Ui[e.branch].index,f=`M ${i.x} ${i.y} L ${i.x} ${s.y-u} ${a} ${i.x+h} ${s.y} L ${s.x} ${s.y}`);t.append("path").attr("d",f).attr("class","arrow arrow"+d%Tu)},uGe=(t,e)=>{const n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach(r=>{const i=e[r];i.parents&&i.parents.length>0&&i.parents.forEach(s=>{cGe(n,e[s],i,e)})})},hGe=(t,e)=>{const n=Y0().gitGraph,r=t.append("g");e.forEach((i,s)=>{const o=s%Tu,a=Ui[i.name].pos,l=r.append("line");l.attr("x1",0),l.attr("y1",a),l.attr("x2",J2),l.attr("y2",a),l.attr("class","branch branch"+o),K2.push(a);let u=i.name;const h=aGe(u),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);p.node().appendChild(h);let g=h.getBBox();d.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-g.width-4-(n.rotateCommitLabel===!0?30:0)).attr("y",-g.height/2+8).attr("width",g.width+18).attr("height",g.height+4),p.attr("transform","translate("+(-g.width-14-(n.rotateCommitLabel===!0?30:0))+", "+(a-g.height/2-1)+")"),d.attr("transform","translate(-19, "+(a-g.height/2)+")")})},dGe=function(t,e,n,r){oGe();const i=Y0(),s=i.gitGraph;V.debug("in gitgraph renderer",t+`
`,"id:",e,n),Zp=r.db.getCommits();const o=r.db.getBranchesAsObjArray();let a=0;o.forEach((u,h)=>{Ui[u.name]={pos:a,index:h},a+=50+(s.rotateCommitLabel?40:0)});const l=De(`[id="${e}"]`);jM(l,Zp,!1),s.showBranches&&hGe(l,o),uGe(l,Zp),jM(l,Zp,!0),pt.insertTitle(l,"gitTitleText",s.titleTopMargin,r.db.getDiagramTitle()),GV(void 0,l,s.diagramPadding,s.useMaxWidth??i.useMaxWidth)},fGe={draw:dGe},pGe=t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
  }
`,gGe=pGe;var eO=function(){var t=function(Fe,ve,Oe,Pe){for(Oe=Oe||{},Pe=Fe.length;Pe--;Oe[Fe[Pe]]=ve);return Oe},e=[1,6],n=[1,7],r=[1,8],i=[1,9],s=[1,16],o=[1,11],a=[1,12],l=[1,13],u=[1,14],h=[1,15],d=[1,27],f=[1,33],p=[1,34],g=[1,35],m=[1,36],y=[1,37],b=[1,72],O=[1,73],x=[1,74],T=[1,75],A=[1,76],v=[1,77],S=[1,78],I=[1,38],M=[1,39],C=[1,40],E=[1,41],_=[1,42],L=[1,43],k=[1,44],B=[1,45],w=[1,46],Q=[1,47],U=[1,48],W=[1,49],$=[1,50],X=[1,51],Y=[1,52],N=[1,53],he=[1,54],ge=[1,55],j=[1,56],Te=[1,57],K=[1,59],ee=[1,60],H=[1,61],G=[1,62],z=[1,63],D=[1,64],F=[1,65],R=[1,66],Z=[1,67],P=[1,68],ye=[1,69],q=[24,52],de=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],ce=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],te=[1,94],se=[1,95],fe=[1,96],le=[1,97],me=[15,24,52],oe=[7,8,9,10,18,22,25,26,27,28],be=[15,24,43,52],_e=[15,24,43,52,86,87,89,90],Ee=[15,43],Ie=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],lt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(ve,Oe,Pe,xe,qe,pe,at){var we=pe.length-1;switch(qe){case 4:xe.setDirection("TB");break;case 5:xe.setDirection("BT");break;case 6:xe.setDirection("RL");break;case 7:xe.setDirection("LR");break;case 11:xe.parseDirective("%%{","open_directive");break;case 12:break;case 13:pe[we]=pe[we].trim().replace(/'/g,'"'),xe.parseDirective(pe[we],"arg_directive");break;case 14:xe.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:xe.setC4Type(pe[we-3]);break;case 26:xe.setTitle(pe[we].substring(6)),this.$=pe[we].substring(6);break;case 27:xe.setAccDescription(pe[we].substring(15)),this.$=pe[we].substring(15);break;case 28:this.$=pe[we].trim(),xe.setTitle(this.$);break;case 29:case 30:this.$=pe[we].trim(),xe.setAccDescription(this.$);break;case 35:case 36:pe[we].splice(2,0,"ENTERPRISE"),xe.addPersonOrSystemBoundary(...pe[we]),this.$=pe[we];break;case 37:xe.addPersonOrSystemBoundary(...pe[we]),this.$=pe[we];break;case 38:pe[we].splice(2,0,"CONTAINER"),xe.addContainerBoundary(...pe[we]),this.$=pe[we];break;case 39:xe.addDeploymentNode("node",...pe[we]),this.$=pe[we];break;case 40:xe.addDeploymentNode("nodeL",...pe[we]),this.$=pe[we];break;case 41:xe.addDeploymentNode("nodeR",...pe[we]),this.$=pe[we];break;case 42:xe.popBoundaryParseStack();break;case 46:xe.addPersonOrSystem("person",...pe[we]),this.$=pe[we];break;case 47:xe.addPersonOrSystem("external_person",...pe[we]),this.$=pe[we];break;case 48:xe.addPersonOrSystem("system",...pe[we]),this.$=pe[we];break;case 49:xe.addPersonOrSystem("system_db",...pe[we]),this.$=pe[we];break;case 50:xe.addPersonOrSystem("system_queue",...pe[we]),this.$=pe[we];break;case 51:xe.addPersonOrSystem("external_system",...pe[we]),this.$=pe[we];break;case 52:xe.addPersonOrSystem("external_system_db",...pe[we]),this.$=pe[we];break;case 53:xe.addPersonOrSystem("external_system_queue",...pe[we]),this.$=pe[we];break;case 54:xe.addContainer("container",...pe[we]),this.$=pe[we];break;case 55:xe.addContainer("container_db",...pe[we]),this.$=pe[we];break;case 56:xe.addContainer("container_queue",...pe[we]),this.$=pe[we];break;case 57:xe.addContainer("external_container",...pe[we]),this.$=pe[we];break;case 58:xe.addContainer("external_container_db",...pe[we]),this.$=pe[we];break;case 59:xe.addContainer("external_container_queue",...pe[we]),this.$=pe[we];break;case 60:xe.addComponent("component",...pe[we]),this.$=pe[we];break;case 61:xe.addComponent("component_db",...pe[we]),this.$=pe[we];break;case 62:xe.addComponent("component_queue",...pe[we]),this.$=pe[we];break;case 63:xe.addComponent("external_component",...pe[we]),this.$=pe[we];break;case 64:xe.addComponent("external_component_db",...pe[we]),this.$=pe[we];break;case 65:xe.addComponent("external_component_queue",...pe[we]),this.$=pe[we];break;case 67:xe.addRel("rel",...pe[we]),this.$=pe[we];break;case 68:xe.addRel("birel",...pe[we]),this.$=pe[we];break;case 69:xe.addRel("rel_u",...pe[we]),this.$=pe[we];break;case 70:xe.addRel("rel_d",...pe[we]),this.$=pe[we];break;case 71:xe.addRel("rel_l",...pe[we]),this.$=pe[we];break;case 72:xe.addRel("rel_r",...pe[we]),this.$=pe[we];break;case 73:xe.addRel("rel_b",...pe[we]),this.$=pe[we];break;case 74:pe[we].splice(0,1),xe.addRel("rel",...pe[we]),this.$=pe[we];break;case 75:xe.updateElStyle("update_el_style",...pe[we]),this.$=pe[we];break;case 76:xe.updateRelStyle("update_rel_style",...pe[we]),this.$=pe[we];break;case 77:xe.updateLayoutConfig("update_layout_config",...pe[we]),this.$=pe[we];break;case 78:this.$=[pe[we]];break;case 79:pe[we].unshift(pe[we-1]),this.$=pe[we];break;case 80:case 82:this.$=pe[we].trim();break;case 81:let dt={};dt[pe[we-1].trim()]=pe[we].trim(),this.$=dt;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:s,22:o,25:a,26:l,27:u,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:s,22:o,25:a,26:l,27:u,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:d},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:O,47:x,48:T,49:A,50:v,51:S,53:32,54:I,55:M,56:C,57:E,58:_,59:L,60:k,61:B,62:w,63:Q,64:U,65:W,66:$,67:X,68:Y,69:N,70:he,71:ge,72:j,73:Te,74:K,75:ee,76:H,77:G,78:z,79:D,80:F,81:R,82:Z,83:P,84:ye},{23:79,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:O,47:x,48:T,49:A,50:v,51:S,53:32,54:I,55:M,56:C,57:E,58:_,59:L,60:k,61:B,62:w,63:Q,64:U,65:W,66:$,67:X,68:Y,69:N,70:he,71:ge,72:j,73:Te,74:K,75:ee,76:H,77:G,78:z,79:D,80:F,81:R,82:Z,83:P,84:ye},{23:80,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:O,47:x,48:T,49:A,50:v,51:S,53:32,54:I,55:M,56:C,57:E,58:_,59:L,60:k,61:B,62:w,63:Q,64:U,65:W,66:$,67:X,68:Y,69:N,70:he,71:ge,72:j,73:Te,74:K,75:ee,76:H,77:G,78:z,79:D,80:F,81:R,82:Z,83:P,84:ye},{23:81,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:O,47:x,48:T,49:A,50:v,51:S,53:32,54:I,55:M,56:C,57:E,58:_,59:L,60:k,61:B,62:w,63:Q,64:U,65:W,66:$,67:X,68:Y,69:N,70:he,71:ge,72:j,73:Te,74:K,75:ee,76:H,77:G,78:z,79:D,80:F,81:R,82:Z,83:P,84:ye},{23:82,29:29,30:30,31:31,32:f,33:p,34:g,36:m,38:y,39:58,40:70,42:71,44:b,46:O,47:x,48:T,49:A,50:v,51:S,53:32,54:I,55:M,56:C,57:E,58:_,59:L,60:k,61:B,62:w,63:Q,64:U,65:W,66:$,67:X,68:Y,69:N,70:he,71:ge,72:j,73:Te,74:K,75:ee,76:H,77:G,78:z,79:D,80:F,81:R,82:Z,83:P,84:ye},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(q,[2,20],{53:32,39:58,40:70,42:71,30:87,44:b,46:O,47:x,48:T,49:A,50:v,51:S,54:I,55:M,56:C,57:E,58:_,59:L,60:k,61:B,62:w,63:Q,64:U,65:W,66:$,67:X,68:Y,69:N,70:he,71:ge,72:j,73:Te,74:K,75:ee,76:H,77:G,78:z,79:D,80:F,81:R,82:Z,83:P,84:ye}),t(q,[2,21]),t(de,[2,23],{15:[1,88]}),t(q,[2,43],{15:[1,89]}),t(ce,[2,26]),t(ce,[2,27]),{35:[1,90]},{37:[1,91]},t(ce,[2,30]),{45:92,85:93,86:te,87:se,89:fe,90:le},{45:98,85:93,86:te,87:se,89:fe,90:le},{45:99,85:93,86:te,87:se,89:fe,90:le},{45:100,85:93,86:te,87:se,89:fe,90:le},{45:101,85:93,86:te,87:se,89:fe,90:le},{45:102,85:93,86:te,87:se,89:fe,90:le},{45:103,85:93,86:te,87:se,89:fe,90:le},{45:104,85:93,86:te,87:se,89:fe,90:le},{45:105,85:93,86:te,87:se,89:fe,90:le},{45:106,85:93,86:te,87:se,89:fe,90:le},{45:107,85:93,86:te,87:se,89:fe,90:le},{45:108,85:93,86:te,87:se,89:fe,90:le},{45:109,85:93,86:te,87:se,89:fe,90:le},{45:110,85:93,86:te,87:se,89:fe,90:le},{45:111,85:93,86:te,87:se,89:fe,90:le},{45:112,85:93,86:te,87:se,89:fe,90:le},{45:113,85:93,86:te,87:se,89:fe,90:le},{45:114,85:93,86:te,87:se,89:fe,90:le},{45:115,85:93,86:te,87:se,89:fe,90:le},{45:116,85:93,86:te,87:se,89:fe,90:le},t(me,[2,66]),{45:117,85:93,86:te,87:se,89:fe,90:le},{45:118,85:93,86:te,87:se,89:fe,90:le},{45:119,85:93,86:te,87:se,89:fe,90:le},{45:120,85:93,86:te,87:se,89:fe,90:le},{45:121,85:93,86:te,87:se,89:fe,90:le},{45:122,85:93,86:te,87:se,89:fe,90:le},{45:123,85:93,86:te,87:se,89:fe,90:le},{45:124,85:93,86:te,87:se,89:fe,90:le},{45:125,85:93,86:te,87:se,89:fe,90:le},{45:126,85:93,86:te,87:se,89:fe,90:le},{45:127,85:93,86:te,87:se,89:fe,90:le},{30:128,39:58,40:70,42:71,44:b,46:O,47:x,48:T,49:A,50:v,51:S,53:32,54:I,55:M,56:C,57:E,58:_,59:L,60:k,61:B,62:w,63:Q,64:U,65:W,66:$,67:X,68:Y,69:N,70:he,71:ge,72:j,73:Te,74:K,75:ee,76:H,77:G,78:z,79:D,80:F,81:R,82:Z,83:P,84:ye},{15:[1,130],43:[1,129]},{45:131,85:93,86:te,87:se,89:fe,90:le},{45:132,85:93,86:te,87:se,89:fe,90:le},{45:133,85:93,86:te,87:se,89:fe,90:le},{45:134,85:93,86:te,87:se,89:fe,90:le},{45:135,85:93,86:te,87:se,89:fe,90:le},{45:136,85:93,86:te,87:se,89:fe,90:le},{45:137,85:93,86:te,87:se,89:fe,90:le},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(oe,[2,9]),{14:142,21:d},{21:[2,13]},{1:[2,15]},t(q,[2,22]),t(de,[2,24],{31:31,29:143,32:f,33:p,34:g,36:m,38:y}),t(q,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:f,33:p,34:g,36:m,38:y,44:b,46:O,47:x,48:T,49:A,50:v,51:S,54:I,55:M,56:C,57:E,58:_,59:L,60:k,61:B,62:w,63:Q,64:U,65:W,66:$,67:X,68:Y,69:N,70:he,71:ge,72:j,73:Te,74:K,75:ee,76:H,77:G,78:z,79:D,80:F,81:R,82:Z,83:P,84:ye}),t(ce,[2,28]),t(ce,[2,29]),t(me,[2,46]),t(be,[2,78],{85:93,45:145,86:te,87:se,89:fe,90:le}),t(_e,[2,80]),{88:[1,146]},t(_e,[2,82]),t(_e,[2,83]),t(me,[2,47]),t(me,[2,48]),t(me,[2,49]),t(me,[2,50]),t(me,[2,51]),t(me,[2,52]),t(me,[2,53]),t(me,[2,54]),t(me,[2,55]),t(me,[2,56]),t(me,[2,57]),t(me,[2,58]),t(me,[2,59]),t(me,[2,60]),t(me,[2,61]),t(me,[2,62]),t(me,[2,63]),t(me,[2,64]),t(me,[2,65]),t(me,[2,67]),t(me,[2,68]),t(me,[2,69]),t(me,[2,70]),t(me,[2,71]),t(me,[2,72]),t(me,[2,73]),t(me,[2,74]),t(me,[2,75]),t(me,[2,76]),t(me,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(Ee,[2,35]),t(Ee,[2,36]),t(Ee,[2,37]),t(Ee,[2,38]),t(Ee,[2,39]),t(Ee,[2,40]),t(Ee,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(de,[2,25]),t(q,[2,45]),t(be,[2,79]),t(_e,[2,81]),t(me,[2,31]),t(me,[2,42]),t(Ie,[2,32]),t(Ie,[2,33],{15:[1,152]}),t(oe,[2,10]),t(Ie,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(ve,Oe){if(Oe.recoverable)this.trace(ve);else{var Pe=new Error(ve);throw Pe.hash=Oe,Pe}},parse:function(ve){var Oe=this,Pe=[0],xe=[],qe=[null],pe=[],at=this.table,we="",dt=0,St=0,Pt=2,Tt=1,Rt=pe.slice.call(arguments,1),Xe=Object.create(this.lexer),ct={yy:{}};for(var Dt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Dt)&&(ct.yy[Dt]=this.yy[Dt]);Xe.setInput(ve,ct.yy),ct.yy.lexer=Xe,ct.yy.parser=this,typeof Xe.yylloc>"u"&&(Xe.yylloc={});var ot=Xe.yylloc;pe.push(ot);var za=Xe.options&&Xe.options.ranges;typeof ct.yy.parseError=="function"?this.parseError=ct.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function au(){var ie;return ie=xe.pop()||Xe.lex()||Tt,typeof ie!="number"&&(ie instanceof Array&&(xe=ie,ie=xe.pop()),ie=Oe.symbols_[ie]||ie),ie}for(var vn,ft,Qn,Xr,zn={},lr,Sn,$r,Or;;){if(ft=Pe[Pe.length-1],this.defaultActions[ft]?Qn=this.defaultActions[ft]:((vn===null||typeof vn>"u")&&(vn=au()),Qn=at[ft]&&at[ft][vn]),typeof Qn>"u"||!Qn.length||!Qn[0]){var Ue="";Or=[];for(lr in at[ft])this.terminals_[lr]&&lr>Pt&&Or.push("'"+this.terminals_[lr]+"'");Xe.showPosition?Ue="Parse error on line "+(dt+1)+`:
`+Xe.showPosition()+`
Expecting `+Or.join(", ")+", got '"+(this.terminals_[vn]||vn)+"'":Ue="Parse error on line "+(dt+1)+": Unexpected "+(vn==Tt?"end of input":"'"+(this.terminals_[vn]||vn)+"'"),this.parseError(Ue,{text:Xe.match,token:this.terminals_[vn]||vn,line:Xe.yylineno,loc:ot,expected:Or})}if(Qn[0]instanceof Array&&Qn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ft+", token: "+vn);switch(Qn[0]){case 1:Pe.push(vn),qe.push(Xe.yytext),pe.push(Xe.yylloc),Pe.push(Qn[1]),vn=null,St=Xe.yyleng,we=Xe.yytext,dt=Xe.yylineno,ot=Xe.yylloc;break;case 2:if(Sn=this.productions_[Qn[1]][1],zn.$=qe[qe.length-Sn],zn._$={first_line:pe[pe.length-(Sn||1)].first_line,last_line:pe[pe.length-1].last_line,first_column:pe[pe.length-(Sn||1)].first_column,last_column:pe[pe.length-1].last_column},za&&(zn._$.range=[pe[pe.length-(Sn||1)].range[0],pe[pe.length-1].range[1]]),Xr=this.performAction.apply(zn,[we,St,dt,ct.yy,Qn[1],qe,pe].concat(Rt)),typeof Xr<"u")return Xr;Sn&&(Pe=Pe.slice(0,-1*Sn*2),qe=qe.slice(0,-1*Sn),pe=pe.slice(0,-1*Sn)),Pe.push(this.productions_[Qn[1]][0]),qe.push(zn.$),pe.push(zn._$),$r=at[Pe[Pe.length-2]][Pe[Pe.length-1]],Pe.push($r);break;case 3:return!0}}return!0}},Ge=function(){var Fe={EOF:1,parseError:function(Oe,Pe){if(this.yy.parser)this.yy.parser.parseError(Oe,Pe);else throw new Error(Oe)},setInput:function(ve,Oe){return this.yy=Oe||this.yy||{},this._input=ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ve=this._input[0];this.yytext+=ve,this.yyleng++,this.offset++,this.match+=ve,this.matched+=ve;var Oe=ve.match(/(?:\r\n?|\n).*/g);return Oe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ve},unput:function(ve){var Oe=ve.length,Pe=ve.split(/(?:\r\n?|\n)/g);this._input=ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Oe),this.offset-=Oe;var xe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Pe.length-1&&(this.yylineno-=Pe.length-1);var qe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Pe?(Pe.length===xe.length?this.yylloc.first_column:0)+xe[xe.length-Pe.length].length-Pe[0].length:this.yylloc.first_column-Oe},this.options.ranges&&(this.yylloc.range=[qe[0],qe[0]+this.yyleng-Oe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ve){this.unput(this.match.slice(ve))},pastInput:function(){var ve=this.matched.substr(0,this.matched.length-this.match.length);return(ve.length>20?"...":"")+ve.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ve=this.match;return ve.length<20&&(ve+=this._input.substr(0,20-ve.length)),(ve.substr(0,20)+(ve.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ve=this.pastInput(),Oe=new Array(ve.length+1).join("-");return ve+this.upcomingInput()+`
`+Oe+"^"},test_match:function(ve,Oe){var Pe,xe,qe;if(this.options.backtrack_lexer&&(qe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(qe.yylloc.range=this.yylloc.range.slice(0))),xe=ve[0].match(/(?:\r\n?|\n).*/g),xe&&(this.yylineno+=xe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xe?xe[xe.length-1].length-xe[xe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ve[0].length},this.yytext+=ve[0],this.match+=ve[0],this.matches=ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ve[0].length),this.matched+=ve[0],Pe=this.performAction.call(this,this.yy,this,Oe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Pe)return Pe;if(this._backtrack){for(var pe in qe)this[pe]=qe[pe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ve,Oe,Pe,xe;this._more||(this.yytext="",this.match="");for(var qe=this._currentRules(),pe=0;pe<qe.length;pe++)if(Pe=this._input.match(this.rules[qe[pe]]),Pe&&(!Oe||Pe[0].length>Oe[0].length)){if(Oe=Pe,xe=pe,this.options.backtrack_lexer){if(ve=this.test_match(Pe,qe[pe]),ve!==!1)return ve;if(this._backtrack){Oe=!1;continue}else return!1}else if(!this.options.flex)break}return Oe?(ve=this.test_match(Oe,qe[xe]),ve!==!1?ve:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Oe=this.next();return Oe||this.lex()},begin:function(Oe){this.conditionStack.push(Oe)},popState:function(){var Oe=this.conditionStack.length-1;return Oe>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Oe){return Oe=this.conditionStack.length-1-Math.abs(Oe||0),Oe>=0?this.conditionStack[Oe]:"INITIAL"},pushState:function(Oe){this.begin(Oe)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Oe,Pe,xe,qe){switch(xe){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return Fe}();lt.lexer=Ge;function Ve(){this.yy={}}return Ve.prototype=lt,lt.Parser=Ve,new Ve}();eO.parser=eO;const mGe=eO,yGe=t=>t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let Bo=[],$c=[""],Ti="global",Ro="",Pa=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Vm=[],uT="",hT=!1,tO=4,nO=2;var iW;const bGe=function(){return iW},OGe=function(t){iW=eo(t,re())},kGe=function(t,e,n){An.parseDirective(this,t,e,n)},xGe=function(t,e,n,r,i,s,o,a,l){if(t==null||e===void 0||e===null||n===void 0||n===null||r===void 0||r===null)return;let u={};const h=Vm.find(d=>d.from===e&&d.to===n);if(h?u=h:Vm.push(u),u.type=t,u.from=e,u.to=n,u.label={text:r},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,f]=Object.entries(i)[0];u[d]={text:f}}else u.techn={text:i};if(s==null)u.descr={text:""};else if(typeof s=="object"){let[d,f]=Object.entries(s)[0];u[d]={text:f}}else u.descr={text:s};if(typeof o=="object"){let[d,f]=Object.entries(o)[0];u[d]=f}else u.sprite=o;if(typeof a=="object"){let[d,f]=Object.entries(a)[0];u[d]=f}else u.tags=a;if(typeof l=="object"){let[d,f]=Object.entries(l)[0];u[d]=f}else u.link=l;u.wrap=iu()},wGe=function(t,e,n,r,i,s,o){if(e===null||n===null)return;let a={};const l=Bo.find(u=>u.alias===e);if(l&&e===l.alias?a=l:(a.alias=e,Bo.push(a)),n==null?a.label={text:""}:a.label={text:n},r==null)a.descr={text:""};else if(typeof r=="object"){let[u,h]=Object.entries(r)[0];a[u]={text:h}}else a.descr={text:r};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];a[u]=h}else a.sprite=i;if(typeof s=="object"){let[u,h]=Object.entries(s)[0];a[u]=h}else a.tags=s;if(typeof o=="object"){let[u,h]=Object.entries(o)[0];a[u]=h}else a.link=o;a.typeC4Shape={text:t},a.parentBoundary=Ti,a.wrap=iu()},_Ge=function(t,e,n,r,i,s,o,a){if(e===null||n===null)return;let l={};const u=Bo.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Bo.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.techn={text:""};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.techn={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.sprite=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.tags=o;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.link=a;l.wrap=iu(),l.typeC4Shape={text:t},l.parentBoundary=Ti},vGe=function(t,e,n,r,i,s,o,a){if(e===null||n===null)return;let l={};const u=Bo.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Bo.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.techn={text:""};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.techn={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.sprite=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.tags=o;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.link=a;l.wrap=iu(),l.typeC4Shape={text:t},l.parentBoundary=Ti},SGe=function(t,e,n,r,i){if(t===null||e===null)return;let s={};const o=Pa.find(a=>a.alias===t);if(o&&t===o.alias?s=o:(s.alias=t,Pa.push(s)),e==null?s.label={text:""}:s.label={text:e},n==null)s.type={text:"system"};else if(typeof n=="object"){let[a,l]=Object.entries(n)[0];s[a]={text:l}}else s.type={text:n};if(typeof r=="object"){let[a,l]=Object.entries(r)[0];s[a]=l}else s.tags=r;if(typeof i=="object"){let[a,l]=Object.entries(i)[0];s[a]=l}else s.link=i;s.parentBoundary=Ti,s.wrap=iu(),Ro=Ti,Ti=t,$c.push(Ro)},CGe=function(t,e,n,r,i){if(t===null||e===null)return;let s={};const o=Pa.find(a=>a.alias===t);if(o&&t===o.alias?s=o:(s.alias=t,Pa.push(s)),e==null?s.label={text:""}:s.label={text:e},n==null)s.type={text:"container"};else if(typeof n=="object"){let[a,l]=Object.entries(n)[0];s[a]={text:l}}else s.type={text:n};if(typeof r=="object"){let[a,l]=Object.entries(r)[0];s[a]=l}else s.tags=r;if(typeof i=="object"){let[a,l]=Object.entries(i)[0];s[a]=l}else s.link=i;s.parentBoundary=Ti,s.wrap=iu(),Ro=Ti,Ti=t,$c.push(Ro)},EGe=function(t,e,n,r,i,s,o,a){if(e===null||n===null)return;let l={};const u=Pa.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Pa.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.type={text:"node"};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.type={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.tags=o;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.link=a;l.nodeType=t,l.parentBoundary=Ti,l.wrap=iu(),Ro=Ti,Ti=e,$c.push(Ro)},TGe=function(){Ti=Ro,$c.pop(),Ro=$c.pop(),$c.push(Ro)},DGe=function(t,e,n,r,i,s,o,a,l,u,h){let d=Bo.find(f=>f.alias===e);if(!(d===void 0&&(d=Pa.find(f=>f.alias===e),d===void 0))){if(n!=null)if(typeof n=="object"){let[f,p]=Object.entries(n)[0];d[f]=p}else d.bgColor=n;if(r!=null)if(typeof r=="object"){let[f,p]=Object.entries(r)[0];d[f]=p}else d.fontColor=r;if(i!=null)if(typeof i=="object"){let[f,p]=Object.entries(i)[0];d[f]=p}else d.borderColor=i;if(s!=null)if(typeof s=="object"){let[f,p]=Object.entries(s)[0];d[f]=p}else d.shadowing=s;if(o!=null)if(typeof o=="object"){let[f,p]=Object.entries(o)[0];d[f]=p}else d.shape=o;if(a!=null)if(typeof a=="object"){let[f,p]=Object.entries(a)[0];d[f]=p}else d.sprite=a;if(l!=null)if(typeof l=="object"){let[f,p]=Object.entries(l)[0];d[f]=p}else d.techn=l;if(u!=null)if(typeof u=="object"){let[f,p]=Object.entries(u)[0];d[f]=p}else d.legendText=u;if(h!=null)if(typeof h=="object"){let[f,p]=Object.entries(h)[0];d[f]=p}else d.legendSprite=h}},AGe=function(t,e,n,r,i,s,o){const a=Vm.find(l=>l.from===e&&l.to===n);if(a!==void 0){if(r!=null)if(typeof r=="object"){let[l,u]=Object.entries(r)[0];a[l]=u}else a.textColor=r;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];a[l]=u}else a.lineColor=i;if(s!=null)if(typeof s=="object"){let[l,u]=Object.entries(s)[0];a[l]=parseInt(u)}else a.offsetX=parseInt(s);if(o!=null)if(typeof o=="object"){let[l,u]=Object.entries(o)[0];a[l]=parseInt(u)}else a.offsetY=parseInt(o)}},MGe=function(t,e,n){let r=tO,i=nO;if(typeof e=="object"){const s=Object.values(e)[0];r=parseInt(s)}else r=parseInt(e);if(typeof n=="object"){const s=Object.values(n)[0];i=parseInt(s)}else i=parseInt(n);r>=1&&(tO=r),i>=1&&(nO=i)},PGe=function(){return tO},$Ge=function(){return nO},RGe=function(){return Ti},LGe=function(){return Ro},sW=function(t){return t==null?Bo:Bo.filter(e=>e.parentBoundary===t)},IGe=function(t){return Bo.find(e=>e.alias===t)},NGe=function(t){return Object.keys(sW(t))},FGe=function(t){return t==null?Pa:Pa.filter(e=>e.parentBoundary===t)},BGe=function(){return Vm},QGe=function(){return uT},zGe=function(t){hT=t},iu=function(){return hT},VGe=function(){Bo=[],Pa=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ro="",Ti="global",$c=[""],Vm=[],$c=[""],uT="",hT=!1,tO=4,nO=2},WGe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},UGe={FILLED:0,OPEN:1},jGe={LEFTOF:0,RIGHTOF:1,OVER:2},qGe=function(t){uT=eo(t,re())},oW={addPersonOrSystem:wGe,addPersonOrSystemBoundary:SGe,addContainer:_Ge,addContainerBoundary:CGe,addComponent:vGe,addDeploymentNode:EGe,popBoundaryParseStack:TGe,addRel:xGe,updateElStyle:DGe,updateRelStyle:AGe,updateLayoutConfig:MGe,autoWrap:iu,setWrap:zGe,getC4ShapeArray:sW,getC4Shape:IGe,getC4ShapeKeys:NGe,getBoundarys:FGe,getCurrentBoundaryParse:RGe,getParentBoundaryParse:LGe,getRels:BGe,getTitle:QGe,getC4Type:bGe,getC4ShapeInRow:PGe,getC4BoundaryInRow:$Ge,setAccTitle:ls,getAccTitle:Ds,getAccDescription:Ms,setAccDescription:As,parseDirective:kGe,getConfig:()=>re().c4,clear:VGe,LINETYPE:WGe,ARROWTYPE:UGe,PLACEMENT:jGe,setTitle:qGe,setC4Type:OGe},dT=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.attrs!=="undefined"&&e.attrs!==null)for(let r in e.attrs)n.attr(r,e.attrs[r]);return e.class!=="undefined"&&n.attr("class",e.class),n},aW=function(t,e,n,r,i,s){const o=t.append("image");o.attr("width",e),o.attr("height",n),o.attr("x",r),o.attr("y",i);let a=s.startsWith("data:image/png;base64")?s:Il.sanitizeUrl(s);o.attr("xlink:href",a)},YGe=(t,e,n)=>{const r=t.append("g");let i=0;for(let s of e){let o=s.textColor?s.textColor:"#444444",a=s.lineColor?s.lineColor:"#444444",l=s.offsetX?parseInt(s.offsetX):0,u=s.offsetY?parseInt(s.offsetY):0,h="";if(i===0){let f=r.append("line");f.attr("x1",s.startPoint.x),f.attr("y1",s.startPoint.y),f.attr("x2",s.endPoint.x),f.attr("y2",s.endPoint.y),f.attr("stroke-width","1"),f.attr("stroke",a),f.style("fill","none"),s.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let f=r.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",a).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),s.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)")}let d=n.messageFont();gl(n)(s.label.text,r,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+l,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+u,s.label.width,s.label.height,{fill:o},d),s.techn&&s.techn.text!==""&&(d=n.messageFont(),gl(n)("["+s.techn.text+"]",r,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+l,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+n.messageFontSize+5+u,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:o,"font-style":"italic"},d))}},ZGe=function(t,e,n){const r=t.append("g");let i=e.bgColor?e.bgColor:"none",s=e.borderColor?e.borderColor:"#444444",o=e.fontColor?e.fontColor:"black",a={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(a={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:s,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:a};dT(r,l);let u=n.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=o,gl(n)(e.label.text,r,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=n.boundaryFont(),u.fontColor=o,gl(n)(e.type.text,r,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=n.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=o,gl(n)(e.descr.text,r,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},XGe=function(t,e,n){var r;let i=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],s=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],o=e.fontColor?e.fontColor:"#FFFFFF",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const l=t.append("g");l.attr("class","person-man");const u=lW();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=e.x,u.y=e.y,u.fill=i,u.width=e.width,u.height=e.height,u.stroke=s,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},dT(l,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":l.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":l.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let h=iKe(n,e.typeC4Shape.text);switch(l.append("text").attr("fill",o).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":aW(l,48,48,e.x+e.width/2-24,e.y+e.image.Y,a);break}let d=n[e.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=o,gl(n)(e.label.text,l,e.x,e.y+e.label.Y,e.width,e.height,{fill:o},d),d=n[e.typeC4Shape.text+"Font"](),d.fontColor=o,e.techn&&((r=e.techn)==null?void 0:r.text)!==""?gl(n)(e.techn.text,l,e.x,e.y+e.techn.Y,e.width,e.height,{fill:o,"font-style":"italic"},d):e.type&&e.type.text!==""&&gl(n)(e.type.text,l,e.x,e.y+e.type.Y,e.width,e.height,{fill:o,"font-style":"italic"},d),e.descr&&e.descr.text!==""&&(d=n.personFont(),d.fontColor=o,gl(n)(e.descr.text,l,e.x,e.y+e.descr.Y,e.width,e.height,{fill:o},d)),e.height},HGe=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},GGe=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},KGe=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},JGe=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},eKe=function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},tKe=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},nKe=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},rKe=function(t){const n=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);n.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},lW=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},iKe=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),gl=function(){function t(i,s,o,a,l,u,h){const d=s.append("text").attr("x",o+l/2).attr("y",a+u/2+5).style("text-anchor","middle").text(i);r(d,h)}function e(i,s,o,a,l,u,h,d){const{fontSize:f,fontFamily:p,fontWeight:g}=d,m=i.split(gt.lineBreakRegex);for(let y=0;y<m.length;y++){const b=y*f-f*(m.length-1)/2,O=s.append("text").attr("x",o+l/2).attr("y",a).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",f).style("font-weight",g).style("font-family",p);O.append("tspan").attr("dy",b).text(m[y]).attr("alignment-baseline","mathematical"),r(O,h)}}function n(i,s,o,a,l,u,h,d){const f=s.append("switch"),g=f.append("foreignObject").attr("x",o).attr("y",a).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,o,a,l,u,h,d),r(g,h)}function r(i,s){for(const o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),la={drawRect:dT,drawBoundary:ZGe,drawC4Shape:XGe,drawRels:YGe,drawImage:aW,insertArrowHead:JGe,insertArrowEnd:eKe,insertArrowFilledHead:tKe,insertDynamicNumber:nKe,insertArrowCrossHead:rKe,insertDatabaseIcon:HGe,insertComputerIcon:GGe,insertClockIcon:KGe,getNoteRect:lW,sanitizeUrl:Il.sanitizeUrl};let rO=0,iO=0,cW=4,DS=2;eO.yy=oW;let He={};class uW{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,AS(e.db.getConfig())}setData(e,n,r,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=n,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=i}updateVal(e,n,r,i){e[n]===void 0?e[n]=r:e[n]=i(r,e[n])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let n=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,r=n+e.width,i=this.nextData.starty+e.margin*2,s=i+e.height;(n>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>cW)&&(n=this.nextData.startx+e.margin+He.nextLinePaddingX,i=this.nextData.stopy+e.margin*2,this.nextData.stopx=r=n+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=s=i+e.height,this.nextData.cnt=1),e.x=n,e.y=i,this.updateVal(this.data,"startx",n,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",s,Math.max),this.updateVal(this.nextData,"startx",n,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",s,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},AS(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}}const AS=function(t){Sr(He,t),t.fontFamily&&(He.personFontFamily=He.systemFontFamily=He.messageFontFamily=t.fontFamily),t.fontSize&&(He.personFontSize=He.systemFontSize=He.messageFontSize=t.fontSize),t.fontWeight&&(He.personFontWeight=He.systemFontWeight=He.messageFontWeight=t.fontWeight)},yp=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),xb=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),sKe=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight});function vo(t,e,n,r,i){if(!e[t].width)if(n)e[t].text=LV(e[t].text,i,r),e[t].textLines=e[t].text.split(gt.lineBreakRegex).length,e[t].width=i,e[t].height=SS(e[t].text,r);else{let s=e[t].text.split(gt.lineBreakRegex);e[t].textLines=s.length;let o=0;e[t].height=0,e[t].width=0;for(const a of s)e[t].width=Math.max(Ca(a,r),e[t].width),o=SS(a,r),e[t].height=e[t].height+o}}const hW=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=He.c4ShapeMargin-35;let r=e.wrap&&He.wrap,i=xb(He);i.fontSize=i.fontSize+2,i.fontWeight="bold";let s=Ca(e.label.text,i);vo("label",e,r,i,s),la.drawBoundary(t,e,He)},dW=function(t,e,n,r){let i=0;for(const s of r){i=0;const o=n[s];let a=yp(He,o.typeC4Shape.text);switch(a.fontSize=a.fontSize-2,o.typeC4Shape.width=Ca("<<"+o.typeC4Shape.text+">>",a),o.typeC4Shape.height=a.fontSize+2,o.typeC4Shape.Y=He.c4ShapePadding,i=o.typeC4Shape.Y+o.typeC4Shape.height-4,o.image={width:0,height:0,Y:0},o.typeC4Shape.text){case"person":case"external_person":o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height;break}o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=i,i=o.image.Y+o.image.height);let l=o.wrap&&He.wrap,u=He.width-He.c4ShapePadding*2,h=yp(He,o.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",vo("label",o,l,h,u),o.label.Y=i+8,i=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let p=yp(He,o.typeC4Shape.text);vo("type",o,l,p,u),o.type.Y=i+5,i=o.type.Y+o.type.height}else if(o.techn&&o.techn.text!==""){o.techn.text="["+o.techn.text+"]";let p=yp(He,o.techn.text);vo("techn",o,l,p,u),o.techn.Y=i+5,i=o.techn.Y+o.techn.height}let d=i,f=o.label.width;if(o.descr&&o.descr.text!==""){let p=yp(He,o.typeC4Shape.text);vo("descr",o,l,p,u),o.descr.Y=i+20,i=o.descr.Y+o.descr.height,f=Math.max(o.label.width,o.descr.width),d=i-o.descr.textLines*5}f=f+He.c4ShapePadding,o.width=Math.max(o.width||He.width,f,He.width),o.height=Math.max(o.height||He.height,d,He.height),o.margin=o.margin||He.c4ShapeMargin,t.insert(o),la.drawC4Shape(e,o,He)}t.bumpLastMargin(He.c4ShapeMargin)};class Ls{constructor(e,n){this.x=e,this.y=n}}let qM=function(t,e){let n=t.x,r=t.y,i=e.x,s=e.y,o=n+t.width/2,a=r+t.height/2,l=Math.abs(n-i),u=Math.abs(r-s),h=u/l,d=t.height/t.width,f=null;return r==s&&n<i?f=new Ls(n+t.width,a):r==s&&n>i?f=new Ls(n,a):n==i&&r<s?f=new Ls(o,r+t.height):n==i&&r>s&&(f=new Ls(o,r)),n>i&&r<s?d>=h?f=new Ls(n,a+h*t.width/2):f=new Ls(o-l/u*t.height/2,r+t.height):n<i&&r<s?d>=h?f=new Ls(n+t.width,a+h*t.width/2):f=new Ls(o+l/u*t.height/2,r+t.height):n<i&&r>s?d>=h?f=new Ls(n+t.width,a-h*t.width/2):f=new Ls(o+t.height/2*l/u,r):n>i&&r>s&&(d>=h?f=new Ls(n,a-t.width/2*h):f=new Ls(o-t.height/2*l/u,r)),f},oKe=function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let r=qM(t,n);n.x=t.x+t.width/2,n.y=t.y+t.height/2;let i=qM(e,n);return{startPoint:r,endPoint:i}};const aKe=function(t,e,n,r){let i=0;for(let s of e){i=i+1;let o=s.wrap&&He.wrap,a=sKe(He);r.db.getC4Type()==="C4Dynamic"&&(s.label.text=i+": "+s.label.text);let u=Ca(s.label.text,a);vo("label",s,o,a,u),s.techn&&s.techn.text!==""&&(u=Ca(s.techn.text,a),vo("techn",s,o,a,u)),s.descr&&s.descr.text!==""&&(u=Ca(s.descr.text,a),vo("descr",s,o,a,u));let h=n(s.from),d=n(s.to),f=oKe(h,d);s.startPoint=f.startPoint,s.endPoint=f.endPoint}la.drawRels(t,e,He)};function fW(t,e,n,r,i){let s=new uW(i);s.data.widthLimit=n.data.widthLimit/Math.min(DS,r.length);for(let[o,a]of r.entries()){let l=0;a.image={width:0,height:0,Y:0},a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=l,l=a.image.Y+a.image.height);let u=a.wrap&&He.wrap,h=xb(He);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",vo("label",a,u,h,s.data.widthLimit),a.label.Y=l+8,l=a.label.Y+a.label.height,a.type&&a.type.text!==""){a.type.text="["+a.type.text+"]";let g=xb(He);vo("type",a,u,g,s.data.widthLimit),a.type.Y=l+5,l=a.type.Y+a.type.height}if(a.descr&&a.descr.text!==""){let g=xb(He);g.fontSize=g.fontSize-2,vo("descr",a,u,g,s.data.widthLimit),a.descr.Y=l+20,l=a.descr.Y+a.descr.height}if(o==0||o%DS===0){let g=n.data.startx+He.diagramMarginX,m=n.data.stopy+He.diagramMarginY+l;s.setData(g,g,m,m)}else{let g=s.data.stopx!==s.data.startx?s.data.stopx+He.diagramMarginX:s.data.startx,m=s.data.starty;s.setData(g,g,m,m)}s.name=a.alias;let d=i.db.getC4ShapeArray(a.alias),f=i.db.getC4ShapeKeys(a.alias);f.length>0&&dW(s,t,d,f),e=a.alias;let p=i.db.getBoundarys(e);p.length>0&&fW(t,e,s,p,i),a.alias!=="global"&&hW(t,a,s),n.data.stopy=Math.max(s.data.stopy+He.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(s.data.stopx+He.c4ShapeMargin,n.data.stopx),rO=Math.max(rO,n.data.stopx),iO=Math.max(iO,n.data.stopy)}}const lKe=function(t,e,n,r){He=re().c4;const i=re().securityLevel;let s;i==="sandbox"&&(s=De("#i"+e));const o=De(i==="sandbox"?s.nodes()[0].contentDocument.body:"body");let a=r.db;r.db.setWrap(He.wrap),cW=a.getC4ShapeInRow(),DS=a.getC4BoundaryInRow(),V.debug(`C:${JSON.stringify(He,null,2)}`);const l=i==="sandbox"?o.select(`[id="${e}"]`):De(`[id="${e}"]`);la.insertComputerIcon(l),la.insertDatabaseIcon(l),la.insertClockIcon(l);let u=new uW(r);u.setData(He.diagramMarginX,He.diagramMarginX,He.diagramMarginY,He.diagramMarginY),u.data.widthLimit=screen.availWidth,rO=He.diagramMarginX,iO=He.diagramMarginY;const h=r.db.getTitle();let d=r.db.getBoundarys("");fW(l,"",u,d,r),la.insertArrowHead(l),la.insertArrowEnd(l),la.insertArrowCrossHead(l),la.insertArrowFilledHead(l),aKe(l,r.db.getRels(),r.db.getC4Shape,r),u.data.stopx=rO,u.data.stopy=iO;const f=u.data;let g=f.stopy-f.starty+2*He.diagramMarginY;const y=f.stopx-f.startx+2*He.diagramMarginX;h&&l.append("text").text(h).attr("x",(f.stopx-f.startx)/2-4*He.diagramMarginX).attr("y",f.starty+He.diagramMarginY),Uo(l,g,y,He.useMaxWidth);const b=h?60:0;l.attr("viewBox",f.startx-He.diagramMarginX+" -"+(He.diagramMarginY+b)+" "+y+" "+(g+b)),V.debug("models:",f)},YM={drawPersonOrSystemArray:dW,drawBoundary:hW,setConf:AS,draw:lKe};var MS=function(){var t=function(G,z,D,F){for(D=D||{},F=G.length;F--;D[G[F]]=z);return D},e=[1,3],n=[1,7],r=[1,8],i=[1,9],s=[1,10],o=[1,13],a=[1,12],l=[1,16,25],u=[1,20],h=[1,32],d=[1,33],f=[1,34],p=[1,36],g=[1,39],m=[1,37],y=[1,38],b=[1,44],O=[1,45],x=[1,40],T=[1,41],A=[1,42],v=[1,43],S=[1,48],I=[1,49],M=[1,50],C=[1,51],E=[16,25],_=[1,65],L=[1,66],k=[1,67],B=[1,68],w=[1,69],Q=[1,70],U=[1,71],W=[1,80],$=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],X=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],Y=[5,8,9,10,11,16,19,23,25],N=[54,88,89,90,91],he=[54,65,66,88,89,90,91],ge=[54,60,61,62,63,64,88,89,90,91],j=[16,25,32],Te=[1,107],K={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(z,D,F,R,Z,P,ye){var q=P.length-1;switch(Z){case 5:R.setDirection("TB");break;case 6:R.setDirection("BT");break;case 7:R.setDirection("RL");break;case 8:R.setDirection("LR");break;case 12:R.parseDirective("%%{","open_directive");break;case 13:R.parseDirective(P[q],"type_directive");break;case 14:P[q]=P[q].trim().replace(/'/g,'"'),R.parseDirective(P[q],"arg_directive");break;case 15:R.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=P[q];break;case 22:this.$=P[q-1]+P[q];break;case 23:case 24:this.$=P[q-1]+"~"+P[q];break;case 25:R.addRelation(P[q]);break;case 26:P[q-1].title=R.cleanupLabel(P[q]),R.addRelation(P[q-1]);break;case 35:this.$=P[q].trim(),R.setAccTitle(this.$);break;case 36:case 37:this.$=P[q].trim(),R.setAccDescription(this.$);break;case 38:R.addClass(P[q]);break;case 39:R.addClass(P[q-2]),R.setCssClass(P[q-2],P[q]);break;case 40:R.addClass(P[q-3]),R.addMembers(P[q-3],P[q-1]);break;case 41:R.addClass(P[q-5]),R.setCssClass(P[q-5],P[q-3]),R.addMembers(P[q-5],P[q-1]);break;case 42:R.addAnnotation(P[q],P[q-2]);break;case 43:this.$=[P[q]];break;case 44:P[q].push(P[q-1]),this.$=P[q];break;case 45:break;case 46:R.addMember(P[q-1],R.cleanupLabel(P[q]));break;case 47:break;case 48:break;case 49:this.$={id1:P[q-2],id2:P[q],relation:P[q-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:P[q-3],id2:P[q],relation:P[q-1],relationTitle1:P[q-2],relationTitle2:"none"};break;case 51:this.$={id1:P[q-3],id2:P[q],relation:P[q-2],relationTitle1:"none",relationTitle2:P[q-1]};break;case 52:this.$={id1:P[q-4],id2:P[q],relation:P[q-2],relationTitle1:P[q-3],relationTitle2:P[q-1]};break;case 53:R.addNote(P[q],P[q-1]);break;case 54:R.addNote(P[q]);break;case 55:this.$={type1:P[q-2],type2:P[q],lineType:P[q-1]};break;case 56:this.$={type1:"none",type2:P[q],lineType:P[q-1]};break;case 57:this.$={type1:P[q-1],type2:"none",lineType:P[q]};break;case 58:this.$={type1:"none",type2:"none",lineType:P[q]};break;case 59:this.$=R.relationType.AGGREGATION;break;case 60:this.$=R.relationType.EXTENSION;break;case 61:this.$=R.relationType.COMPOSITION;break;case 62:this.$=R.relationType.DEPENDENCY;break;case 63:this.$=R.relationType.LOLLIPOP;break;case 64:this.$=R.lineType.LINE;break;case 65:this.$=R.lineType.DOTTED_LINE;break;case 66:case 72:this.$=P[q-2],R.setClickEvent(P[q-1],P[q]);break;case 67:case 73:this.$=P[q-3],R.setClickEvent(P[q-2],P[q-1]),R.setTooltip(P[q-2],P[q]);break;case 68:case 76:this.$=P[q-2],R.setLink(P[q-1],P[q]);break;case 69:this.$=P[q-3],R.setLink(P[q-2],P[q-1],P[q]);break;case 70:case 78:this.$=P[q-3],R.setLink(P[q-2],P[q-1]),R.setTooltip(P[q-2],P[q]);break;case 71:case 79:this.$=P[q-4],R.setLink(P[q-3],P[q-2],P[q]),R.setTooltip(P[q-3],P[q-1]);break;case 74:this.$=P[q-3],R.setClickEvent(P[q-2],P[q-1],P[q]);break;case 75:this.$=P[q-4],R.setClickEvent(P[q-3],P[q-2],P[q-1]),R.setTooltip(P[q-3],P[q]);break;case 77:this.$=P[q-3],R.setLink(P[q-2],P[q-1],P[q]);break;case 80:R.setCssClass(P[q-1],P[q]);break}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:s,12:6,13:11,19:o,23:a},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:s,12:6,13:11,19:o,23:a},{1:[2,9]},t(l,[2,5]),t(l,[2,6]),t(l,[2,7]),t(l,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:u},t([17,22],[2,13]),{6:31,7:30,8:n,9:r,10:i,11:s,13:11,19:o,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:h,41:d,43:f,44:p,49:g,51:m,52:y,55:b,57:O,67:x,68:T,70:A,74:v,88:S,89:I,90:M,91:C},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},t(E,[2,25],{32:[1,57]}),t(E,[2,27]),t(E,[2,28]),t(E,[2,29]),t(E,[2,30]),t(E,[2,31]),t(E,[2,32]),t(E,[2,33]),t(E,[2,34]),{40:[1,58]},{42:[1,59]},t(E,[2,37]),t(E,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:_,61:L,62:k,63:B,64:w,65:Q,66:U}),{27:72,28:46,29:47,88:S,89:I,90:M,91:C},t(E,[2,47]),t(E,[2,48]),{28:73,88:S,89:I,90:M},{27:74,28:46,29:47,88:S,89:I,90:M,91:C},{27:75,28:46,29:47,88:S,89:I,90:M,91:C},{27:76,28:46,29:47,88:S,89:I,90:M,91:C},{54:[1,77]},{27:78,28:46,29:47,88:S,89:I,90:M,91:C},{54:W,56:79},t($,[2,20],{28:46,29:47,27:81,30:[1,82],88:S,89:I,90:M,91:C}),t($,[2,21],{30:[1,83]}),t(X,[2,94]),t(X,[2,95]),t(X,[2,96]),t([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),t(Y,[2,10]),{15:84,22:u},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:n,9:r,10:i,11:s,13:11,19:o,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:h,41:d,43:f,44:p,49:g,51:m,52:y,55:b,57:O,67:x,68:T,70:A,74:v,88:S,89:I,90:M,91:C},t(E,[2,26]),t(E,[2,35]),t(E,[2,36]),{27:86,28:46,29:47,54:[1,87],88:S,89:I,90:M,91:C},{53:88,58:63,59:64,60:_,61:L,62:k,63:B,64:w,65:Q,66:U},t(E,[2,46]),{59:89,65:Q,66:U},t(N,[2,58],{58:90,60:_,61:L,62:k,63:B,64:w}),t(he,[2,59]),t(he,[2,60]),t(he,[2,61]),t(he,[2,62]),t(he,[2,63]),t(ge,[2,64]),t(ge,[2,65]),t(E,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:S,89:I,90:M},{54:W,56:99},t(E,[2,54]),t(E,[2,98]),t($,[2,22]),t($,[2,23]),t($,[2,24]),{16:[1,100]},{25:[2,19]},t(j,[2,49]),{27:101,28:46,29:47,88:S,89:I,90:M,91:C},{27:102,28:46,29:47,54:[1,103],88:S,89:I,90:M,91:C},t(N,[2,57],{58:104,60:_,61:L,62:k,63:B,64:w}),t(N,[2,56]),{28:105,88:S,89:I,90:M},{47:106,51:Te},{27:108,28:46,29:47,88:S,89:I,90:M,91:C},t(E,[2,66],{54:[1,109]}),t(E,[2,68],{54:[1,111],69:[1,110]}),t(E,[2,72],{54:[1,112],72:[1,113]}),t(E,[2,76],{54:[1,115],69:[1,114]}),t(E,[2,80]),t(E,[2,53]),t(Y,[2,11]),t(j,[2,51]),t(j,[2,50]),{27:116,28:46,29:47,88:S,89:I,90:M,91:C},t(N,[2,55]),t(E,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:Te},t(E,[2,42]),t(E,[2,67]),t(E,[2,69]),t(E,[2,70],{69:[1,120]}),t(E,[2,73]),t(E,[2,74],{54:[1,121]}),t(E,[2,77]),t(E,[2,78],{69:[1,122]}),t(j,[2,52]),{47:123,51:Te},t(E,[2,40]),{48:[2,44]},t(E,[2,71]),t(E,[2,75]),t(E,[2,79]),{48:[1,124]},t(E,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(z,D){if(D.recoverable)this.trace(z);else{var F=new Error(z);throw F.hash=D,F}},parse:function(z){var D=this,F=[0],R=[],Z=[null],P=[],ye=this.table,q="",de=0,ce=0,te=2,se=1,fe=P.slice.call(arguments,1),le=Object.create(this.lexer),me={yy:{}};for(var oe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,oe)&&(me.yy[oe]=this.yy[oe]);le.setInput(z,me.yy),me.yy.lexer=le,me.yy.parser=this,typeof le.yylloc>"u"&&(le.yylloc={});var be=le.yylloc;P.push(be);var _e=le.options&&le.options.ranges;typeof me.yy.parseError=="function"?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ee(){var pe;return pe=R.pop()||le.lex()||se,typeof pe!="number"&&(pe instanceof Array&&(R=pe,pe=R.pop()),pe=D.symbols_[pe]||pe),pe}for(var Ie,lt,Ge,Ve,Fe={},ve,Oe,Pe,xe;;){if(lt=F[F.length-1],this.defaultActions[lt]?Ge=this.defaultActions[lt]:((Ie===null||typeof Ie>"u")&&(Ie=Ee()),Ge=ye[lt]&&ye[lt][Ie]),typeof Ge>"u"||!Ge.length||!Ge[0]){var qe="";xe=[];for(ve in ye[lt])this.terminals_[ve]&&ve>te&&xe.push("'"+this.terminals_[ve]+"'");le.showPosition?qe="Parse error on line "+(de+1)+`:
`+le.showPosition()+`
Expecting `+xe.join(", ")+", got '"+(this.terminals_[Ie]||Ie)+"'":qe="Parse error on line "+(de+1)+": Unexpected "+(Ie==se?"end of input":"'"+(this.terminals_[Ie]||Ie)+"'"),this.parseError(qe,{text:le.match,token:this.terminals_[Ie]||Ie,line:le.yylineno,loc:be,expected:xe})}if(Ge[0]instanceof Array&&Ge.length>1)throw new Error("Parse Error: multiple actions possible at state: "+lt+", token: "+Ie);switch(Ge[0]){case 1:F.push(Ie),Z.push(le.yytext),P.push(le.yylloc),F.push(Ge[1]),Ie=null,ce=le.yyleng,q=le.yytext,de=le.yylineno,be=le.yylloc;break;case 2:if(Oe=this.productions_[Ge[1]][1],Fe.$=Z[Z.length-Oe],Fe._$={first_line:P[P.length-(Oe||1)].first_line,last_line:P[P.length-1].last_line,first_column:P[P.length-(Oe||1)].first_column,last_column:P[P.length-1].last_column},_e&&(Fe._$.range=[P[P.length-(Oe||1)].range[0],P[P.length-1].range[1]]),Ve=this.performAction.apply(Fe,[q,ce,de,me.yy,Ge[1],Z,P].concat(fe)),typeof Ve<"u")return Ve;Oe&&(F=F.slice(0,-1*Oe*2),Z=Z.slice(0,-1*Oe),P=P.slice(0,-1*Oe)),F.push(this.productions_[Ge[1]][0]),Z.push(Fe.$),P.push(Fe._$),Pe=ye[F[F.length-2]][F[F.length-1]],F.push(Pe);break;case 3:return!0}}return!0}},ee=function(){var G={EOF:1,parseError:function(D,F){if(this.yy.parser)this.yy.parser.parseError(D,F);else throw new Error(D)},setInput:function(z,D){return this.yy=D||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var D=z.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),z},unput:function(z){var D=z.length,F=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===R.length?this.yylloc.first_column:0)+R[R.length-F.length].length-F[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(z){this.unput(this.match.slice(z))},pastInput:function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var z=this.match;return z.length<20&&(z+=this._input.substr(0,20-z.length)),(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var z=this.pastInput(),D=new Array(z.length+1).join("-");return z+this.upcomingInput()+`
`+D+"^"},test_match:function(z,D){var F,R,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),R=z[0].match(/(?:\r\n?|\n).*/g),R&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],F=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var P in Z)this[P]=Z[P];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var z,D,F,R;this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),P=0;P<Z.length;P++)if(F=this._input.match(this.rules[Z[P]]),F&&(!D||F[0].length>D[0].length)){if(D=F,R=P,this.options.backtrack_lexer){if(z=this.test_match(F,Z[P]),z!==!1)return z;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(z=this.test_match(D,Z[R]),z!==!1?z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var D=this.next();return D||this.lex()},begin:function(D){this.conditionStack.push(D)},popState:function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},pushState:function(D){this.begin(D)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(D,F,R,Z){switch(R){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return G}();K.lexer=ee;function H(){this.yy={}}return H.prototype=K,K.Parser=H,new H}();MS.parser=MS;const ZM=MS,cKe=(t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*classDiagram/)!==null},uKe=(t,e)=>{var n;return t.match(/^\s*classDiagram/)!==null&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:t.match(/^\s*classDiagram-v2/)!==null},fT="classid-";let pT=[],Yn={},sO=[],XM=0,Wm=[];const Ng=t=>gt.sanitizeText(t,re()),hKe=function(t,e,n){An.parseDirective(this,t,e,n)},Um=function(t){let e="",n=t;if(t.indexOf("~")>0){let r=t.split("~");n=r[0],e=gt.sanitizeText(r[1],re())}return{className:n,type:e}},PS=function(t){let e=Um(t);Yn[e.className]===void 0&&(Yn[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:fT+e.className+"-"+XM},XM++)},pW=function(t){const e=Object.keys(Yn);for(const n of e)if(Yn[n].id===t)return Yn[n].domId},dKe=function(){pT=[],Yn={},sO=[],Wm=[],Wm.push(mW),Ts()},fKe=function(t){return Yn[t]},pKe=function(){return Yn},gKe=function(){return pT},mKe=function(){return sO},yKe=function(t){V.debug("Adding relation: "+JSON.stringify(t)),PS(t.id1),PS(t.id2),t.id1=Um(t.id1).className,t.id2=Um(t.id2).className,t.relationTitle1=gt.sanitizeText(t.relationTitle1.trim(),re()),t.relationTitle2=gt.sanitizeText(t.relationTitle2.trim(),re()),pT.push(t)},bKe=function(t,e){const n=Um(t).className;Yn[n].annotations.push(e)},gW=function(t,e){const n=Um(t).className,r=Yn[n];if(typeof e=="string"){const i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?r.annotations.push(Ng(i.substring(2,i.length-2))):i.indexOf(")")>0?r.methods.push(Ng(i)):i&&r.members.push(Ng(i))}},OKe=function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(n=>gW(t,n)))},kKe=function(t,e){const n={id:`note${sO.length}`,class:e,text:t};sO.push(n)},xKe=function(t){return t.substring(0,1)===":"?gt.sanitizeText(t.substr(1).trim(),re()):Ng(t.trim())},gT=function(t,e){t.split(",").forEach(function(n){let r=n;n[0].match(/\d/)&&(r=fT+r),Yn[r]!==void 0&&Yn[r].cssClasses.push(e)})},wKe=function(t,e){const n=re();t.split(",").forEach(function(r){e!==void 0&&(Yn[r].tooltip=gt.sanitizeText(e,n))})},_Ke=function(t){return Yn[t].tooltip},vKe=function(t,e,n){const r=re();t.split(",").forEach(function(i){let s=i;i[0].match(/\d/)&&(s=fT+s),Yn[s]!==void 0&&(Yn[s].link=pt.formatUrl(e,r),r.securityLevel==="sandbox"?Yn[s].linkTarget="_top":typeof n=="string"?Yn[s].linkTarget=Ng(n):Yn[s].linkTarget="_blank")}),gT(t,"clickable")},SKe=function(t,e,n){t.split(",").forEach(function(r){CKe(r,e,n),Yn[r].haveCallback=!0}),gT(t,"clickable")},CKe=function(t,e,n){const r=re();let i=t,s=pW(i);if(r.securityLevel==="loose"&&e!==void 0&&Yn[i]!==void 0){let o=[];if(typeof n=="string"){o=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<o.length;a++){let l=o[a].trim();l.charAt(0)==='"'&&l.charAt(l.length-1)==='"'&&(l=l.substr(1,l.length-2)),o[a]=l}}o.length===0&&o.push(s),Wm.push(function(){const a=document.querySelector(`[id="${s}"]`);a!==null&&a.addEventListener("click",function(){pt.runFunc(e,...o)},!1)})}},EKe=function(t){Wm.forEach(function(e){e(t)})},TKe={LINE:0,DOTTED_LINE:1},DKe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},mW=function(t){let e=De(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=De("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),De(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=De(this);if(i.attr("title")===null)return;const o=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),De(this).classed("hover",!1)})};Wm.push(mW);let yW="TB";const AKe=()=>yW,MKe=t=>{yW=t},gd={parseDirective:hKe,setAccTitle:ls,getAccTitle:Ds,getAccDescription:Ms,setAccDescription:As,getConfig:()=>re().class,addClass:PS,bindFunctions:EKe,clear:dKe,getClass:fKe,getClasses:pKe,getNotes:mKe,addAnnotation:bKe,addNote:kKe,getRelations:gKe,addRelation:yKe,getDirection:AKe,setDirection:MKe,addMember:gW,addMembers:OKe,cleanupLabel:xKe,lineType:TKe,relationType:DKe,setClickEvent:SKe,setCssClass:gT,setLink:vKe,getTooltip:_Ke,setTooltip:wKe,lookUpDomId:pW,setDiagramTitle:jo,getDiagramTitle:qo};let HM=0;const PKe=function(t,e,n,r,i){const s=function(O){switch(O){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter(O=>!Number.isNaN(O.y));const o=e.points,a=Wf().x(function(O){return O.x}).y(function(O){return O.y}).curve(lf),l=t.append("path").attr("d",a(o)).attr("id","edge"+HM).attr("class","relation");let u="";r.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),n.relation.lineType==1&&l.attr("class","relation dashed-line"),n.relation.lineType==10&&l.attr("class","relation dotted-line"),n.relation.type1!=="none"&&l.attr("marker-start","url("+u+"#"+s(n.relation.type1)+"Start)"),n.relation.type2!=="none"&&l.attr("marker-end","url("+u+"#"+s(n.relation.type2)+"End)");let h,d;const f=e.points.length;let p=pt.calcLabelPosition(e.points);h=p.x,d=p.y;let g,m,y,b;if(f%2!==0&&f>1){let O=pt.calcCardinalityPosition(n.relation.type1!=="none",e.points,e.points[0]),x=pt.calcCardinalityPosition(n.relation.type2!=="none",e.points,e.points[f-1]);V.debug("cardinality_1_point "+JSON.stringify(O)),V.debug("cardinality_2_point "+JSON.stringify(x)),g=O.x,m=O.y,y=x.x,b=x.y}if(n.title!==void 0){const O=t.append("g").attr("class","classLabel"),x=O.append("text").attr("class","label").attr("x",h).attr("y",d).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=x;const T=x.node().getBBox();O.insert("rect",":first-child").attr("class","box").attr("x",T.x-r.padding/2).attr("y",T.y-r.padding/2).attr("width",T.width+r.padding).attr("height",T.height+r.padding)}V.info("Rendering relation "+JSON.stringify(n)),n.relationTitle1!==void 0&&n.relationTitle1!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",g).attr("y",m).attr("fill","black").attr("font-size","6").text(n.relationTitle1),n.relationTitle2!==void 0&&n.relationTitle2!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",y).attr("y",b).attr("fill","black").attr("font-size","6").text(n.relationTitle2),HM++},$Ke=function(t,e,n,r){V.debug("Rendering class ",e,n);const i=e.id,s={id:i,label:e.id,width:0,height:0},o=t.append("g").attr("id",r.db.lookUpDomId(i)).attr("class","classGroup");let a;e.link?a=o.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):a=o.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let l=!0;e.annotations.forEach(function(A){const v=a.append("tspan").text("«"+A+"»");l||v.attr("dy",n.textHeight),l=!1});let u=e.id;e.type!==void 0&&e.type!==""&&(u+="<"+e.type+">");const h=a.append("tspan").text(u).attr("class","title");l||h.attr("dy",n.textHeight);const d=a.node().getBBox().height,f=o.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin/2).attr("y2",n.padding+d+n.dividerMargin/2),p=o.append("text").attr("x",n.padding).attr("y",d+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach(function(A){GM(p,A,l,n),l=!1});const g=p.node().getBBox(),m=o.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin+g.height).attr("y2",n.padding+d+n.dividerMargin+g.height),y=o.append("text").attr("x",n.padding).attr("y",d+2*n.dividerMargin+g.height+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach(function(A){GM(y,A,l,n),l=!1});const b=o.node().getBBox();var O=" ";e.cssClasses.length>0&&(O=O+e.cssClasses.join(" "));const T=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",b.width+2*n.padding).attr("height",b.height+n.padding+.5*n.dividerMargin).attr("class",O).node().getBBox().width;return a.node().childNodes.forEach(function(A){A.setAttribute("x",(T-A.getBBox().width)/2)}),e.tooltip&&a.insert("title").text(e.tooltip),f.attr("x2",T),m.attr("x2",T),s.width=T,s.height=b.height+n.padding+.5*n.dividerMargin,s},RKe=function(t,e,n,r){V.debug("Rendering note ",e,n);const i=e.id,s={id:i,text:e.text,width:0,height:0},o=t.append("g").attr("id",i).attr("class","classGroup");let a=o.append("text").attr("y",n.textHeight+n.padding).attr("x",0);const l=JSON.parse(`"${e.text}"`).split(`
`);l.forEach(function(f){V.debug(`Adding line: ${f}`),a.append("tspan").text(f).attr("class","title").attr("dy",n.textHeight)});const u=o.node().getBBox(),d=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",u.width+2*n.padding).attr("height",u.height+l.length*n.textHeight+n.padding+.5*n.dividerMargin).node().getBBox().width;return a.node().childNodes.forEach(function(f){f.setAttribute("x",(d-f.getBBox().width)/2)}),s.width=d,s.height=u.height+l.length*n.textHeight+n.padding+.5*n.dividerMargin,s},oO=function(t){const e=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,n=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let r=t.match(e),i=t.match(n);return r&&!i?LKe(r):i?IKe(i):NKe(t)},LKe=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",s=t[3]?Ac(t[3].trim()):"",o=t[4]?t[4].trim():"",a=t[5]?t[5].trim():"";n=r+i+s+" "+o,e=mT(a)}catch{n=t}return{displayText:n,cssStyle:e}},IKe=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",s=t[3]?Ac(t[3].trim()):"",o=t[4]?t[4].trim():"",a=t[5]?" : "+Ac(t[5]).trim():"";n=r+i+"("+s+")"+a,e=mT(o)}catch{n=t}return{displayText:n,cssStyle:e}},NKe=function(t){let e="",n="",r="",i=t.indexOf("("),s=t.indexOf(")");if(i>1&&s>i&&s<=t.length){let o="",a="",l=t.substring(0,1);l.match(/\w/)?a=t.substring(0,i).trim():(l.match(/[#+~-]/)&&(o=l),a=t.substring(1,i).trim());const u=t.substring(i+1,s);t.substring(s+1,1),n=mT(t.substring(s+1,s+2)),e=o+a+"("+Ac(u.trim())+")",s<t.length&&(r=t.substring(s+2).trim(),r!==""&&(r=" : "+Ac(r),e+=r))}else e=Ac(t);return{displayText:e,cssStyle:n}},GM=function(t,e,n,r){let i=oO(e);const s=t.append("tspan").attr("x",r.padding).text(i.displayText);i.cssStyle!==""&&s.attr("style",i.cssStyle),n||s.attr("dy",r.textHeight)},mT=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},__={drawClass:$Ke,drawEdge:PKe,drawNote:RKe,parseMember:oO};let wb={};const V1=20,bp=function(t){const e=Object.entries(wb).find(n=>n[1].label===t);if(e)return e[0]},FKe=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},BKe=function(t,e,n,r){const i=re().class;wb={},V.info("Rendering diagram "+t);const s=re().securityLevel;let o;s==="sandbox"&&(o=De("#i"+e));const a=De(s==="sandbox"?o.nodes()[0].contentDocument.body:"body"),l=a.select(`[id='${e}']`);FKe(l);const u=new ar({multigraph:!0});u.setGraph({isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}});const h=r.db.getClasses(),d=Object.keys(h);for(const O of d){const x=h[O],T=__.drawClass(l,x,i,r);wb[T.id]=T,u.setNode(T.id,T),V.info("Org height: "+T.height)}r.db.getRelations().forEach(function(O){V.info("tjoho"+bp(O.id1)+bp(O.id2)+JSON.stringify(O)),u.setEdge(bp(O.id1),bp(O.id2),{relation:O},O.title||"DEFAULT")}),r.db.getNotes().forEach(function(O){V.debug(`Adding note: ${JSON.stringify(O)}`);const x=__.drawNote(l,O,i,r);wb[x.id]=x,u.setNode(x.id,x),O.class&&O.class in h&&u.setEdge(O.id,bp(O.class),{relation:{id1:O.id,id2:O.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),Xf(u),u.nodes().forEach(function(O){O!==void 0&&u.node(O)!==void 0&&(V.debug("Node "+O+": "+JSON.stringify(u.node(O))),a.select("#"+(r.db.lookUpDomId(O)||O)).attr("transform","translate("+(u.node(O).x-u.node(O).width/2)+","+(u.node(O).y-u.node(O).height/2)+" )"))}),u.edges().forEach(function(O){O!==void 0&&u.edge(O)!==void 0&&(V.debug("Edge "+O.v+" -> "+O.w+": "+JSON.stringify(u.edge(O))),__.drawEdge(l,u.edge(O),u.edge(O).relation,i,r))});const g=l.node().getBBox(),m=g.width+V1*2,y=g.height+V1*2;Uo(l,y,m,i.useMaxWidth);const b=`${g.x-V1} ${g.y-V1} ${m} ${y}`;V.debug(`viewBox ${b}`),l.attr("viewBox",b)},QKe={draw:BKe},zKe=(t,e,n,r)=>{e.forEach(i=>{GKe[i](t,n,r)})},VKe=(t,e,n)=>{V.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},WKe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},UKe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},jKe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},qKe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},YKe=(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},ZKe=(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},XKe=(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},HKe=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},GKe={extension:VKe,composition:WKe,aggregation:UKe,dependency:jKe,lollipop:qKe,point:YKe,circle:ZKe,cross:XKe,barb:HKe},KKe=zKe;function JKe(t,e){e&&t.attr("style",e)}function eJe(t){const e=De(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=t.label,i=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+r+"</span>"),JKe(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}const tJe=(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Er(re().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),V.info("vertexText"+i);const s={isNode:r,label:VT(i).replace(/fa[blrs]?:fa-[\w-]+/g,a=>`<i class='${a.replace(":"," ")}'></i>`),labelStyle:e.replace("fill:","color:")};return eJe(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const a of o){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),n?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=a.trim(),s.appendChild(l)}return s}},Yi=tJe,mi=(t,e,n,r)=>{let i;n?i=n:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=s.insert("g").attr("class","label").attr("style",e.labelStyle);let a;e.labelText===void 0?a="":a=typeof e.labelText=="string"?e.labelText:e.labelText[0];const l=o.node().appendChild(Yi(eo(VT(a),re()),e.labelStyle,!1,r));let u=l.getBBox();if(Er(re().flowchart.htmlLabels)){const d=l.children[0],f=De(l);u=d.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}const h=e.padding/2;return o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),{shapeSvg:s,bbox:u,halfPadding:h,label:o}},Xn=(t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height};function Bl(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}let Nt={},So={},bW={};const nJe=()=>{So={},bW={},Nt={}},aO=(t,e)=>(V.trace("In isDecendant",e," ",t," = ",So[e].includes(t)),!!So[e].includes(t)),rJe=(t,e)=>(V.info("Decendants of ",e," is ",So[e]),V.info("Edge is ",t),t.v===e||t.w===e?!1:So[e]?So[e].includes(t.v)||aO(t.v,e)||aO(t.w,e)||So[e].includes(t.w):(V.debug("Tilt, ",e,",not in decendants"),!1)),OW=(t,e,n,r)=>{V.warn("Copying children of ",t,"root",r,"data",e.node(t),r);const i=e.children(t)||[];t!==r&&i.push(t),V.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(s=>{if(e.children(s).length>0)OW(s,e,n,r);else{const o=e.node(s);V.info("cp ",s," to ",r," with parent ",t),n.setNode(s,o),r!==e.parent(s)&&(V.warn("Setting parent",s,e.parent(s)),n.setParent(s,e.parent(s))),t!==r&&s!==t?(V.debug("Setting parent",s,t),n.setParent(s,t)):(V.info("In copy ",t,"root",r,"data",e.node(t),r),V.debug("Not Setting parent for node=",s,"cluster!==rootId",t!==r,"node!==clusterId",s!==t));const a=e.edges(s);V.debug("Copying Edges",a),a.forEach(l=>{V.info("Edge",l);const u=e.edge(l.v,l.w,l.name);V.info("Edge data",u,r);try{rJe(l,r)?(V.info("Copying as ",l.v,l.w,u,l.name),n.setEdge(l.v,l.w,u,l.name),V.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):V.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",r," clusterId:",t)}catch(h){V.error(h)}})}V.debug("Removing node",s),e.removeNode(s)})},kW=(t,e)=>{const n=e.children(t);let r=[...n];for(const i of n)bW[i]=t,r=[...r,...kW(i,e)];return r},jm=(t,e)=>{V.trace("Searching",t);const n=e.children(t);if(V.trace("Searching children of id ",t,n),n.length<1)return V.trace("This is a valid node",t),t;for(const r of n){const i=jm(r,e);if(i)return V.trace("Found replacement for",t," => ",i),i}},W1=t=>!Nt[t]||!Nt[t].externalConnections?t:Nt[t]?Nt[t].id:t,iJe=(t,e)=>{if(!t||e>10){V.debug("Opting out, no graph ");return}else V.debug("Opting in, graph ");t.nodes().forEach(function(n){t.children(n).length>0&&(V.warn("Cluster identified",n," Replacement id in edges: ",jm(n,t)),So[n]=kW(n,t),Nt[n]={id:jm(n,t),clusterData:t.node(n)})}),t.nodes().forEach(function(n){const r=t.children(n),i=t.edges();r.length>0?(V.debug("Cluster identified",n,So),i.forEach(s=>{if(s.v!==n&&s.w!==n){const o=aO(s.v,n),a=aO(s.w,n);o^a&&(V.warn("Edge: ",s," leaves cluster ",n),V.warn("Decendants of XXX ",n,": ",So[n]),Nt[n].externalConnections=!0)}})):V.debug("Not a cluster ",n,So)}),t.edges().forEach(function(n){const r=t.edge(n);V.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),V.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(t.edge(n)));let i=n.v,s=n.w;if(V.warn("Fix XXX",Nt,"ids:",n.v,n.w,"Translating: ",Nt[n.v]," --- ",Nt[n.w]),Nt[n.v]&&Nt[n.w]&&Nt[n.v]===Nt[n.w]){V.warn("Fixing and trixing link to self - removing XXX",n.v,n.w,n.name),V.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),i=W1(n.v),s=W1(n.w),t.removeEdge(n.v,n.w,n.name);const o=n.w+"---"+n.v;t.setNode(o,{domId:o,id:o,labelStyle:"",labelText:r.label,padding:0,shape:"labelRect",style:""});const a=JSON.parse(JSON.stringify(r)),l=JSON.parse(JSON.stringify(r));a.label="",a.arrowTypeEnd="none",l.label="",a.fromCluster=n.v,l.toCluster=n.v,t.setEdge(i,o,a,n.name+"-cyclic-special"),t.setEdge(o,s,l,n.name+"-cyclic-special")}else(Nt[n.v]||Nt[n.w])&&(V.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),i=W1(n.v),s=W1(n.w),t.removeEdge(n.v,n.w,n.name),i!==n.v&&(r.fromCluster=n.v),s!==n.w&&(r.toCluster=n.w),V.warn("Fix Replacing with XXX",i,s,n.name),t.setEdge(i,s,r,n.name))}),V.warn("Adjusted Graph",pl(t)),xW(t,0),V.trace(Nt)},xW=(t,e)=>{if(V.warn("extractor - ",e,pl(t),t.children("D")),e>10){V.error("Bailing out");return}let n=t.nodes(),r=!1;for(const i of n){const s=t.children(i);r=r||s.length>0}if(!r){V.debug("Done, no node has children",t.nodes());return}V.debug("Nodes = ",n,e);for(const i of n)if(V.debug("Extracting node",i,Nt,Nt[i]&&!Nt[i].externalConnections,!t.parent(i),t.node(i),t.children("D")," Depth ",e),!Nt[i])V.debug("Not a cluster",i,e);else if(!Nt[i].externalConnections&&t.children(i)&&t.children(i).length>0){V.warn("Cluster without external connections, without a parent and with children",i,e);let o=t.graph().rankdir==="TB"?"LR":"TB";Nt[i]&&Nt[i].clusterData&&Nt[i].clusterData.dir&&(o=Nt[i].clusterData.dir,V.warn("Fixing dir",Nt[i].clusterData.dir,o));const a=new ar({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});V.warn("Old graph before copy",pl(t)),OW(i,t,a,i),t.setNode(i,{clusterNode:!0,id:i,clusterData:Nt[i].clusterData,labelText:Nt[i].labelText,graph:a}),V.warn("New graph after copy node: (",i,")",pl(a)),V.debug("Old graph after copy",pl(t))}else V.warn("Cluster ** ",i," **not meeting the criteria !externalConnections:",!Nt[i].externalConnections," no parent: ",!t.parent(i)," children ",t.children(i)&&t.children(i).length>0,t.children("D"),e),V.debug(Nt);n=t.nodes(),V.warn("New list of nodes",n);for(const i of n){const s=t.node(i);V.warn(" Now next level",i,s),s.clusterNode&&xW(s.graph,e+1)}},wW=(t,e)=>{if(e.length===0)return[];let n=Object.assign(e);return e.forEach(r=>{const i=t.children(r),s=wW(t,i);n=[...n,...s]}),n},sJe=t=>wW(t,t.children());function oJe(t,e){return t.intersect(e)}function _W(t,e,n,r){var i=t.x,s=t.y,o=i-r.x,a=s-r.y,l=Math.sqrt(e*e*a*a+n*n*o*o),u=Math.abs(e*n*o/l);r.x<i&&(u=-u);var h=Math.abs(e*n*a/l);return r.y<s&&(h=-h),{x:i+u,y:s+h}}function aJe(t,e,n){return _W(t,e,e,n)}function lJe(t,e,n,r){var i,s,o,a,l,u,h,d,f,p,g,m,y,b,O;if(i=e.y-t.y,o=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*n.x+o*n.y+l,p=i*r.x+o*r.y+l,!(f!==0&&p!==0&&KM(f,p))&&(s=r.y-n.y,a=n.x-r.x,u=r.x*n.y-n.x*r.y,h=s*t.x+a*t.y+u,d=s*e.x+a*e.y+u,!(h!==0&&d!==0&&KM(h,d))&&(g=i*a-s*o,g!==0)))return m=Math.abs(g/2),y=o*u-a*l,b=y<0?(y-m)/g:(y+m)/g,y=s*l-i*u,O=y<0?(y-m)/g:(y+m)/g,{x:b,y:O}}function KM(t,e){return t*e>0}function cJe(t,e,n){var r=t.x,i=t.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(g){o=Math.min(o,g.x),a=Math.min(a,g.y)}):(o=Math.min(o,e.x),a=Math.min(a,e.y));for(var l=r-t.width/2-o,u=i-t.height/2-a,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=lJe(t,n,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(g,m){var y=g.x-n.x,b=g.y-n.y,O=Math.sqrt(y*y+b*b),x=m.x-n.x,T=m.y-n.y,A=Math.sqrt(x*x+T*T);return O<A?-1:O===A?0:1}),s[0]):t}const uJe=(t,e)=>{var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,a=t.height/2,l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=s===0?0:a*i/s,u=a):(i<0&&(o=-o),l=o,u=i===0?0:o*s/i),{x:n+l,y:r+u}},Z0=uJe,Bn={node:oJe,circle:aJe,ellipse:_W,polygon:cJe,rect:Z0},hJe=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=mi(t,e,"node "+e.classes,!0);V.info("Classes = ",e.classes);const s=n.insert("rect",":first-child");return s.attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),Xn(e,s),e.intersect=function(o){return Bn.rect(e,o)},n},dJe=hJe,JM=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=i+s,a=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];V.info("Question main (Circle)");const l=Bl(n,o,o,a);return l.attr("style",e.style),Xn(e,l),e.intersect=function(u){return V.warn("Intersect called"),Bn.polygon(e,a,u)},n},fJe=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=28,i=[{x:0,y:r/2},{x:r/2,y:0},{x:0,y:-r/2},{x:-r/2,y:0}];return n.insert("polygon",":first-child").attr("points",i.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(o){return Bn.circle(e,14,o)},n},pJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=4,s=r.height+e.padding,o=s/i,a=r.width+2*o+e.padding,l=[{x:o,y:0},{x:a-o,y:0},{x:a,y:-s/2},{x:a-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],u=Bl(n,a,s,l);return u.attr("style",e.style),Xn(e,u),e.intersect=function(h){return Bn.polygon(e,l,h)},n},gJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:-s/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return Bl(n,i,s,o).attr("style",e.style),e.width=i+s,e.height=s,e.intersect=function(l){return Bn.polygon(e,o,l)},n},mJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:-2*s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],a=Bl(n,i,s,o);return a.attr("style",e.style),Xn(e,a),e.intersect=function(l){return Bn.polygon(e,o,l)},n},yJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:2*s/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],a=Bl(n,i,s,o);return a.attr("style",e.style),Xn(e,a),e.intersect=function(l){return Bn.polygon(e,o,l)},n},bJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:-2*s/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],a=Bl(n,i,s,o);return a.attr("style",e.style),Xn(e,a),e.intersect=function(l){return Bn.polygon(e,o,l)},n},OJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],a=Bl(n,i,s,o);return a.attr("style",e.style),Xn(e,a),e.intersect=function(l){return Bn.polygon(e,o,l)},n},kJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:0,y:0},{x:i+s/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],a=Bl(n,i,s,o);return a.attr("style",e.style),Xn(e,a),e.intersect=function(l){return Bn.polygon(e,o,l)},n},xJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=i/2,o=s/(2.5+i/50),a=r.height+o+e.padding,l="M 0,"+o+" a "+s+","+o+" 0,0,0 "+i+" 0 a "+s+","+o+" 0,0,0 "+-i+" 0 l 0,"+a+" a "+s+","+o+" 0,0,0 "+i+" 0 l 0,"+-a,u=n.attr("label-offset-y",o).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(a/2+o)+")");return Xn(e,u),e.intersect=function(h){const d=Bn.rect(e,h),f=d.x-e.x;if(s!=0&&(Math.abs(f)<e.width/2||Math.abs(f)==e.width/2&&Math.abs(d.y-e.y)>e.height/2-o)){let p=o*o*(1-f*f/(s*s));p!=0&&(p=Math.sqrt(p)),p=o-p,h.y-e.y>0&&(p=-p),d.y+=p}return d},n},wJe=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=mi(t,e,"node "+e.classes,!0);V.trace("Classes = ",e.classes);const s=n.insert("rect",":first-child"),o=r.width+e.padding,a=r.height+e.padding;if(s.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",o).attr("height",a),e.props){const l=new Set(Object.keys(e.props));e.props.borders&&(vW(s,e.props.borders,o,a),l.delete("borders")),l.forEach(u=>{V.warn(`Unknown node property ${u}`)})}return Xn(e,s),e.intersect=function(l){return Bn.rect(e,l)},n},_Je=(t,e)=>{const{shapeSvg:n}=mi(t,e,"label",!0);V.trace("Classes = ",e.classes);const r=n.insert("rect",":first-child"),i=0,s=0;if(r.attr("width",i).attr("height",s),n.attr("class","label edgeLabel"),e.props){const o=new Set(Object.keys(e.props));e.props.borders&&(vW(r,e.props.borders,i,s),o.delete("borders")),o.forEach(a=>{V.warn(`Unknown node property ${a}`)})}return Xn(e,r),e.intersect=function(o){return Bn.rect(e,o)},n};function vW(t,e,n,r){const i=[],s=a=>{i.push(a,0)},o=a=>{i.push(0,a)};e.includes("t")?(V.debug("add top border"),s(n)):o(n),e.includes("r")?(V.debug("add right border"),s(r)):o(r),e.includes("b")?(V.debug("add bottom border"),s(n)):o(n),e.includes("l")?(V.debug("add left border"),s(r)):o(r),t.attr("stroke-dasharray",i.join(" "))}const vJe=(t,e)=>{let n;e.classes?n="node "+e.classes:n="node default";const r=t.insert("g").attr("class",n).attr("id",e.domId||e.id),i=r.insert("rect",":first-child"),s=r.insert("line"),o=r.insert("g").attr("class","label"),a=e.labelText.flat?e.labelText.flat():e.labelText;let l="";typeof a=="object"?l=a[0]:l=a,V.info("Label text abc79",l,a,typeof a=="object");const u=o.node().appendChild(Yi(l,e.labelStyle,!0,!0));let h={width:0,height:0};if(Er(re().flowchart.htmlLabels)){const m=u.children[0],y=De(u);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}V.info("Text 2",a);const d=a.slice(1,a.length);let f=u.getBBox();const p=o.node().appendChild(Yi(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0));if(Er(re().flowchart.htmlLabels)){const m=p.children[0],y=De(p);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}const g=e.padding/2;return De(p).attr("transform","translate( "+(h.width>f.width?0:(f.width-h.width)/2)+", "+(f.height+g+5)+")"),De(u).attr("transform","translate( "+(h.width<f.width?0:-(f.width-h.width)/2)+", 0)"),h=o.node().getBBox(),o.attr("transform","translate("+-h.width/2+", "+(-h.height/2-g+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-g).attr("y",-h.height/2-g).attr("width",h.width+e.padding).attr("height",h.height+e.padding),s.attr("class","divider").attr("x1",-h.width/2-g).attr("x2",h.width/2+g).attr("y1",-h.height/2-g+f.height+g).attr("y2",-h.height/2-g+f.height+g),Xn(e,i),e.intersect=function(m){return Bn.rect(e,m)},r},SJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.height+e.padding,s=r.width+i/4+e.padding,o=n.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i);return Xn(e,o),e.intersect=function(a){return Bn.rect(e,a)},n},CJe=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=mi(t,e,void 0,!0),s=n.insert("circle",":first-child");return s.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),V.info("Circle main"),Xn(e,s),e.intersect=function(o){return V.info("Circle intersect",e,r.width/2+i,o),Bn.circle(e,r.width/2+i,o)},n},EJe=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=mi(t,e,void 0,!0),s=5,o=n.insert("g",":first-child"),a=o.insert("circle"),l=o.insert("circle");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i+s).attr("width",r.width+e.padding+s*2).attr("height",r.height+e.padding+s*2),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),V.info("DoubleCircle main"),Xn(e,a),e.intersect=function(u){return V.info("DoubleCircle intersect",e,r.width/2+i+s,u),Bn.circle(e,r.width/2+i+s,u)},n},TJe=(t,e)=>{const{shapeSvg:n,bbox:r}=mi(t,e,void 0,!0),i=r.width+e.padding,s=r.height+e.padding,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],a=Bl(n,i,s,o);return a.attr("style",e.style),Xn(e,a),e.intersect=function(l){return Bn.polygon(e,o,l)},n},DJe=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Xn(e,r),e.intersect=function(i){return Bn.circle(e,7,i)},n},eP=(t,e,n)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,s=10;n==="LR"&&(i=10,s=70);const o=r.append("rect").attr("x",-1*i/2).attr("y",-1*s/2).attr("width",i).attr("height",s).attr("class","fork-join");return Xn(e,o),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(a){return Bn.rect(e,a)},r},AJe=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Xn(e,i),e.intersect=function(s){return Bn.circle(e,7,s)},n},MJe=(t,e)=>{const n=e.padding/2,r=4,i=8;let s;e.classes?s="node "+e.classes:s="node default";const o=t.insert("g").attr("class",s).attr("id",e.domId||e.id),a=o.insert("rect",":first-child"),l=o.insert("line"),u=o.insert("line");let h=0,d=r;const f=o.insert("g").attr("class","label");let p=0;const g=e.classData.annotations&&e.classData.annotations[0],m=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",y=f.node().appendChild(Yi(m,e.labelStyle,!0,!0));let b=y.getBBox();if(Er(re().flowchart.htmlLabels)){const I=y.children[0],M=De(y);b=I.getBoundingClientRect(),M.attr("width",b.width),M.attr("height",b.height)}e.classData.annotations[0]&&(d+=b.height+r,h+=b.width);let O=e.classData.id;e.classData.type!==void 0&&e.classData.type!==""&&(re().flowchart.htmlLabels?O+="&lt;"+e.classData.type+"&gt;":O+="<"+e.classData.type+">");const x=f.node().appendChild(Yi(O,e.labelStyle,!0,!0));De(x).attr("class","classTitle");let T=x.getBBox();if(Er(re().flowchart.htmlLabels)){const I=x.children[0],M=De(x);T=I.getBoundingClientRect(),M.attr("width",T.width),M.attr("height",T.height)}d+=T.height+r,T.width>h&&(h=T.width);const A=[];e.classData.members.forEach(I=>{const M=oO(I);let C=M.displayText;re().flowchart.htmlLabels&&(C=C.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const E=f.node().appendChild(Yi(C,M.cssStyle?M.cssStyle:e.labelStyle,!0,!0));let _=E.getBBox();if(Er(re().flowchart.htmlLabels)){const L=E.children[0],k=De(E);_=L.getBoundingClientRect(),k.attr("width",_.width),k.attr("height",_.height)}_.width>h&&(h=_.width),d+=_.height+r,A.push(E)}),d+=i;const v=[];if(e.classData.methods.forEach(I=>{const M=oO(I);let C=M.displayText;re().flowchart.htmlLabels&&(C=C.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const E=f.node().appendChild(Yi(C,M.cssStyle?M.cssStyle:e.labelStyle,!0,!0));let _=E.getBBox();if(Er(re().flowchart.htmlLabels)){const L=E.children[0],k=De(E);_=L.getBoundingClientRect(),k.attr("width",_.width),k.attr("height",_.height)}_.width>h&&(h=_.width),d+=_.height+r,v.push(E)}),d+=i,g){let I=(h-b.width)/2;De(y).attr("transform","translate( "+(-1*h/2+I)+", "+-1*d/2+")"),p=b.height+r}let S=(h-T.width)/2;return De(x).attr("transform","translate( "+(-1*h/2+S)+", "+(-1*d/2+p)+")"),p+=T.height+r,l.attr("class","divider").attr("x1",-h/2-n).attr("x2",h/2+n).attr("y1",-d/2-n+i+p).attr("y2",-d/2-n+i+p),p+=i,A.forEach(I=>{De(I).attr("transform","translate( "+-h/2+", "+(-1*d/2+p+i/2)+")"),p+=T.height+r}),p+=i,u.attr("class","divider").attr("x1",-h/2-n).attr("x2",h/2+n).attr("y1",-d/2-n+i+p).attr("y2",-d/2-n+i+p),p+=i,v.forEach(I=>{De(I).attr("transform","translate( "+-h/2+", "+(-1*d/2+p)+")"),p+=T.height+r}),a.attr("class","outer title-state").attr("x",-h/2-n).attr("y",-(d/2)-n).attr("width",h+e.padding).attr("height",d+e.padding),Xn(e,a),e.intersect=function(I){return Bn.rect(e,I)},o},tP={rhombus:JM,question:JM,rect:wJe,labelRect:_Je,rectWithTitle:vJe,choice:fJe,circle:CJe,doublecircle:EJe,stadium:SJe,hexagon:pJe,rect_left_inv_arrow:gJe,lean_right:mJe,lean_left:yJe,trapezoid:bJe,inv_trapezoid:OJe,rect_right_inv_arrow:kJe,cylinder:xJe,start:DJe,end:AJe,note:dJe,subroutine:TJe,fork:eP,join:eP,class_box:MJe};let Ld={};const PJe=(t,e,n)=>{let r,i;if(e.link){let s;re().securityLevel==="sandbox"?s="_top":e.linkTarget&&(s=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",s),i=tP[e.shape](r,e,n)}else i=tP[e.shape](t,e,n),r=i;return e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),Ld[e.id]=r,e.haveCallback&&Ld[e.id].attr("class",Ld[e.id].attr("class")+" clickable"),r},$Je=(t,e)=>{Ld[e.id]=t},RJe=()=>{Ld={}},nP=t=>{const e=Ld[t.id];V.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},LJe=(t,e)=>{V.trace("Creating subgraph rect for ",e.id,e);const n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),s=i.node().appendChild(Yi(e.labelText,e.labelStyle,void 0,!0));let o=s.getBBox();if(Er(re().flowchart.htmlLabels)){const d=s.children[0],f=De(s);o=d.getBoundingClientRect(),f.attr("width",o.width),f.attr("height",o.height)}const a=0*e.padding,l=a/2,u=e.width<=o.width+a?o.width+a:e.width;e.width<=o.width+a?e.diff=(o.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,V.trace("Data ",e,JSON.stringify(e)),r.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-u/2).attr("y",e.y-e.height/2-l).attr("width",u).attr("height",e.height+a),i.attr("transform","translate("+(e.x-o.width/2)+", "+(e.y-e.height/2)+")");const h=r.node().getBBox();return e.width=h.width,e.height=h.height,e.intersect=function(d){return Z0(e,d)},n},IJe=(t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(a){return Z0(e,a)},n},NJe=(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),s=n.append("rect"),o=i.node().appendChild(Yi(e.labelText,e.labelStyle,void 0,!0));let a=o.getBBox();if(Er(re().flowchart.htmlLabels)){const f=o.children[0],p=De(o);a=f.getBoundingClientRect(),p.attr("width",a.width),p.attr("height",a.height)}a=o.getBBox();const l=0*e.padding,u=l/2,h=e.width<=a.width+e.padding?a.width+e.padding:e.width;e.width<=a.width+e.padding?e.diff=(a.width+e.padding*0-e.width)/2:e.diff=-e.padding/2,r.attr("class","outer").attr("x",e.x-h/2-u).attr("y",e.y-e.height/2-u).attr("width",h+l).attr("height",e.height+l),s.attr("class","inner").attr("x",e.x-h/2-u).attr("y",e.y-e.height/2-u+a.height-1).attr("width",h+l).attr("height",e.height+l-a.height-3),i.attr("transform","translate("+(e.x-a.width/2)+", "+(e.y-e.height/2-e.padding/3+(Er(re().flowchart.htmlLabels)?5:3))+")");const d=r.node().getBBox();return e.height=d.height,e.intersect=function(f){return Z0(e,f)},n},FJe=(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("class","divider").attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.diff=-e.padding/2,e.intersect=function(a){return Z0(e,a)},n},BJe={rect:LJe,roundedWithTitle:NJe,noteGroup:IJe,divider:FJe};let SW={};const QJe=(t,e)=>{V.trace("Inserting cluster");const n=e.shape||"rect";SW[e.id]=BJe[n](t,e)},zJe=()=>{SW={}};let lO={},Nr={};const VJe=()=>{lO={},Nr={}},WJe=(t,e)=>{const n=Yi(e.label,e.labelStyle),r=t.insert("g").attr("class","edgeLabel"),i=r.insert("g").attr("class","label");i.node().appendChild(n);let s=n.getBBox();if(Er(re().flowchart.htmlLabels)){const a=n.children[0],l=De(n);s=a.getBoundingClientRect(),l.attr("width",s.width),l.attr("height",s.height)}i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),lO[e.id]=r,e.width=s.width,e.height=s.height;let o;if(e.startLabelLeft){const a=Yi(e.startLabelLeft,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");o=u.node().appendChild(a);const h=a.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),Nr[e.id]||(Nr[e.id]={}),Nr[e.id].startLeft=l,U1(o,e.startLabelLeft)}if(e.startLabelRight){const a=Yi(e.startLabelRight,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");o=l.node().appendChild(a),u.node().appendChild(a);const h=a.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),Nr[e.id]||(Nr[e.id]={}),Nr[e.id].startRight=l,U1(o,e.startLabelRight)}if(e.endLabelLeft){const a=Yi(e.endLabelLeft,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");o=u.node().appendChild(a);const h=a.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.node().appendChild(a),Nr[e.id]||(Nr[e.id]={}),Nr[e.id].endLeft=l,U1(o,e.endLabelLeft)}if(e.endLabelRight){const a=Yi(e.endLabelRight,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");o=u.node().appendChild(a);const h=a.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.node().appendChild(a),Nr[e.id]||(Nr[e.id]={}),Nr[e.id].endRight=l,U1(o,e.endLabelRight)}return n};function U1(t,e){re().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}const UJe=(t,e)=>{V.info("Moving label abc78 ",t.id,t.label,lO[t.id]);let n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const r=lO[t.id];let i=t.x,s=t.y;if(n){const o=pt.calcLabelPosition(n);V.info("Moving label "+t.label+" from (",i,",",s,") to (",o.x,",",o.y,") abc78"),e.updatedPath&&(i=o.x,s=o.y)}r.attr("transform","translate("+i+", "+s+")")}if(t.startLabelLeft){const r=Nr[t.id].startLeft;let i=t.x,s=t.y;if(n){const o=pt.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);i=o.x,s=o.y}r.attr("transform","translate("+i+", "+s+")")}if(t.startLabelRight){const r=Nr[t.id].startRight;let i=t.x,s=t.y;if(n){const o=pt.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);i=o.x,s=o.y}r.attr("transform","translate("+i+", "+s+")")}if(t.endLabelLeft){const r=Nr[t.id].endLeft;let i=t.x,s=t.y;if(n){const o=pt.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);i=o.x,s=o.y}r.attr("transform","translate("+i+", "+s+")")}if(t.endLabelRight){const r=Nr[t.id].endRight;let i=t.x,s=t.y;if(n){const o=pt.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);i=o.x,s=o.y}r.attr("transform","translate("+i+", "+s+")")}},jJe=(t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),s=Math.abs(e.y-r),o=t.width/2,a=t.height/2;return i>=o||s>=a},qJe=(t,e,n)=>{V.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,s=Math.abs(r-n.x),o=t.width/2;let a=n.x<e.x?o-s:o+s;const l=t.height/2,u=Math.abs(e.y-n.y),h=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*o>Math.abs(r-e.x)*l){let d=n.y<e.y?e.y-l-i:i-l-e.y;a=h*d/u;const f={x:n.x<e.x?n.x+a:n.x-h+a,y:n.y<e.y?n.y+u-d:n.y-u+d};return a===0&&(f.x=e.x,f.y=e.y),h===0&&(f.x=e.x),u===0&&(f.y=e.y),V.warn(`abc89 topp/bott calc, Q ${u}, q ${d}, R ${h}, r ${a}`,f),f}else{n.x<e.x?a=e.x-o-r:a=r-o-e.x;let d=u*a/h,f=n.x<e.x?n.x+h-a:n.x-h+a,p=n.y<e.y?n.y+d:n.y-d;return V.warn(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${a}`,{_x:f,_y:p}),a===0&&(f=e.x,p=e.y),h===0&&(f=e.x),u===0&&(p=e.y),{x:f,y:p}}},rP=(t,e)=>{V.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(s=>{if(V.info("abc88 checking point",s,e),!jJe(e,s)&&!i){const o=qJe(e,r,s);V.warn("abc88 inside",s,r,o),V.warn("abc88 intersection",o);let a=!1;n.forEach(l=>{a=a||l.x===o.x&&l.y===o.y}),n.some(l=>l.x===o.x&&l.y===o.y)?V.warn("abc88 no intersect",o,n):n.push(o),i=!0}else V.warn("abc88 outside",s,r),r=s,i||n.push(s)}),V.warn("abc88 returning points",n),n},YJe=function(t,e,n,r,i,s){let o=n.points,a=!1;const l=s.node(e.v);var u=s.node(e.w);V.info("abc88 InsertEdge: ",n),u.intersect&&l.intersect&&(o=o.slice(1,n.points.length-1),o.unshift(l.intersect(o[0])),V.info("Last point",o[o.length-1],u,u.intersect(o[o.length-1])),o.push(u.intersect(o[o.length-1]))),n.toCluster&&(V.info("to cluster abc88",r[n.toCluster]),o=rP(n.points,r[n.toCluster].node),a=!0),n.fromCluster&&(V.info("from cluster abc88",r[n.fromCluster]),o=rP(o.reverse(),r[n.fromCluster].node).reverse(),a=!0);const h=o.filter(b=>!Number.isNaN(b.y));let d;i==="graph"||i==="flowchart"?d=n.curve||lf:d=lf;const f=Wf().x(function(b){return b.x}).y(function(b){return b.y}).curve(d);let p;switch(n.thickness){case"normal":p="edge-thickness-normal";break;case"thick":p="edge-thickness-thick";break;default:p=""}switch(n.pattern){case"solid":p+=" edge-pattern-solid";break;case"dotted":p+=" edge-pattern-dotted";break;case"dashed":p+=" edge-pattern-dashed";break}const g=t.append("path").attr("d",f(h)).attr("id",n.id).attr("class"," "+p+(n.classes?" "+n.classes:"")).attr("style",n.style);let m="";switch((re().flowchart.arrowMarkerAbsolute||re().state.arrowMarkerAbsolute)&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),V.info("arrowTypeStart",n.arrowTypeStart),V.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":g.attr("marker-start","url("+m+"#"+i+"-crossStart)");break;case"arrow_point":g.attr("marker-start","url("+m+"#"+i+"-pointStart)");break;case"arrow_barb":g.attr("marker-start","url("+m+"#"+i+"-barbStart)");break;case"arrow_circle":g.attr("marker-start","url("+m+"#"+i+"-circleStart)");break;case"aggregation":g.attr("marker-start","url("+m+"#"+i+"-aggregationStart)");break;case"extension":g.attr("marker-start","url("+m+"#"+i+"-extensionStart)");break;case"composition":g.attr("marker-start","url("+m+"#"+i+"-compositionStart)");break;case"dependency":g.attr("marker-start","url("+m+"#"+i+"-dependencyStart)");break;case"lollipop":g.attr("marker-start","url("+m+"#"+i+"-lollipopStart)");break}switch(n.arrowTypeEnd){case"arrow_cross":g.attr("marker-end","url("+m+"#"+i+"-crossEnd)");break;case"arrow_point":g.attr("marker-end","url("+m+"#"+i+"-pointEnd)");break;case"arrow_barb":g.attr("marker-end","url("+m+"#"+i+"-barbEnd)");break;case"arrow_circle":g.attr("marker-end","url("+m+"#"+i+"-circleEnd)");break;case"aggregation":g.attr("marker-end","url("+m+"#"+i+"-aggregationEnd)");break;case"extension":g.attr("marker-end","url("+m+"#"+i+"-extensionEnd)");break;case"composition":g.attr("marker-end","url("+m+"#"+i+"-compositionEnd)");break;case"dependency":g.attr("marker-end","url("+m+"#"+i+"-dependencyEnd)");break;case"lollipop":g.attr("marker-end","url("+m+"#"+i+"-lollipopEnd)");break}let y={};return a&&(y.updatedPath=o),y.originalPath=n.points,y},CW=(t,e,n,r)=>{V.info("Graph in recursive render: XXX",pl(e),r);const i=e.graph().rankdir;V.trace("Dir in recursive render - dir:",i);const s=t.insert("g").attr("class","root");e.nodes()?V.info("Recursive render XXX",e.nodes()):V.info("No nodes found for",e),e.edges().length>0&&V.trace("Recursive edges",e.edge(e.edges()[0]));const o=s.insert("g").attr("class","clusters"),a=s.insert("g").attr("class","edgePaths"),l=s.insert("g").attr("class","edgeLabels"),u=s.insert("g").attr("class","nodes");e.nodes().forEach(function(d){const f=e.node(d);if(r!==void 0){const p=JSON.parse(JSON.stringify(r.clusterData));V.info("Setting data for cluster XXX (",d,") ",p,r),e.setNode(r.id,p),e.parent(d)||(V.trace("Setting parent",d,r.id),e.setParent(d,r.id,p))}if(V.info("(Insert) Node XXX"+d+": "+JSON.stringify(e.node(d))),f&&f.clusterNode){V.info("Cluster identified",d,f.width,e.node(d));const p=CW(u,f.graph,n,e.node(d)),g=p.elem;Xn(f,g),f.diff=p.diff||0,V.info("Node bounds (abc123)",d,f,f.width,f.x,f.y),$Je(g,f),V.warn("Recursive render complete ",g,f)}else e.children(d).length>0?(V.info("Cluster - the non recursive path XXX",d,f.id,f,e),V.info(jm(f.id,e)),Nt[f.id]={id:jm(f.id,e),node:f}):(V.info("Node - the non recursive path",d,f.id,f),PJe(u,e.node(d),i))}),e.edges().forEach(function(d){const f=e.edge(d.v,d.w,d.name);V.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(d)),V.info("Edge "+d.v+" -> "+d.w+": ",d," ",JSON.stringify(e.edge(d))),V.info("Fix",Nt,"ids:",d.v,d.w,"Translateing: ",Nt[d.v],Nt[d.w]),WJe(l,f)}),e.edges().forEach(function(d){V.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(d))}),V.info("#############################################"),V.info("###                Layout                 ###"),V.info("#############################################"),V.info(e),Xf(e),V.info("Graph after layout:",pl(e));let h=0;return sJe(e).forEach(function(d){const f=e.node(d);V.info("Position "+d+": "+JSON.stringify(e.node(d))),V.info("Position "+d+": ("+f.x,","+f.y,") width: ",f.width," height: ",f.height),f&&f.clusterNode?nP(f):e.children(d).length>0?(QJe(o,f),Nt[f.id].node=f):nP(f)}),e.edges().forEach(function(d){const f=e.edge(d);V.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(f),f);const p=YJe(a,d,f,Nt,n,e);UJe(f,p)}),e.nodes().forEach(function(d){const f=e.node(d);V.info(d,f.type,f.diff),f.type==="group"&&(h=f.diff)}),{elem:s,diff:h}},yT=(t,e,n,r,i)=>{KKe(t,n,r,i),RJe(),VJe(),zJe(),nJe(),V.warn("Graph at first:",pl(e)),iJe(e),V.warn("Graph after:",pl(e)),CW(t,e,r)},EW=t=>gt.sanitizeText(t,re());let TW={dividerMargin:10,padding:5,textHeight:10};const ZJe=function(t,e,n,r){const i=Object.keys(t);V.info("keys:",i),V.info(t),i.forEach(function(s){const o=t[s];let a="";o.cssClasses.length>0&&(a=a+" "+o.cssClasses.join(" "));const l={labelStyle:""};let u=o.text!==void 0?o.text:o.id,h=0,d="";switch(o.type){case"class":d="class_box";break;default:d="class_box"}e.setNode(o.id,{labelStyle:l.labelStyle,shape:d,labelText:EW(u),classData:o,rx:h,ry:h,class:a,style:l.style,id:o.id,domId:o.domId,tooltip:r.db.getTooltip(o.id)||"",haveCallback:o.haveCallback,link:o.link,width:o.type==="group"?500:void 0,type:o.type,padding:re().flowchart.padding}),V.info("setNode",{labelStyle:l.labelStyle,shape:d,labelText:u,rx:h,ry:h,class:a,style:l.style,id:o.id,width:o.type==="group"?500:void 0,type:o.type,padding:re().flowchart.padding})})},XJe=function(t,e,n,r){V.info(t),t.forEach(function(i,s){const o=i;let a="";const l={labelStyle:"",style:""};let u=o.text,h=0,d="note";if(e.setNode(o.id,{labelStyle:l.labelStyle,shape:d,labelText:EW(u),noteData:o,rx:h,ry:h,class:a,style:l.style,id:o.id,domId:o.id,tooltip:"",type:"note",padding:re().flowchart.padding}),V.info("setNode",{labelStyle:l.labelStyle,shape:d,labelText:u,rx:h,ry:h,style:l.style,id:o.id,type:"note",padding:re().flowchart.padding}),!o.class||!(o.class in r))return;const f=n+s,p={};p.classes="relation",p.pattern="dotted",p.id=`edgeNote${f}`,p.arrowhead="none",V.info(`Note edge: ${JSON.stringify(p)}, ${JSON.stringify(o)}`),p.startLabelRight="",p.endLabelLeft="",p.arrowTypeStart="none",p.arrowTypeEnd="none";let g="fill:none",m="";p.style=g,p.labelStyle=m,p.curve=$o(TW.curve,vs),e.setEdge(o.id,o.class,p,f)})},HJe=function(t,e){const n=re().flowchart;let r=0;t.forEach(function(i){r++;const s={};s.classes="relation",s.pattern=i.relation.lineType==1?"dashed":"solid",s.id="id"+r,i.type==="arrow_open"?s.arrowhead="none":s.arrowhead="normal",V.info(s,i),s.startLabelRight=i.relationTitle1==="none"?"":i.relationTitle1,s.endLabelLeft=i.relationTitle2==="none"?"":i.relationTitle2,s.arrowTypeStart=iP(i.relation.type1),s.arrowTypeEnd=iP(i.relation.type2);let o="",a="";if(i.style!==void 0){const l=Uc(i.style);o=l.style,a=l.labelStyle}else o="fill:none";s.style=o,s.labelStyle=a,i.interpolate!==void 0?s.curve=$o(i.interpolate,vs):t.defaultInterpolate!==void 0?s.curve=$o(t.defaultInterpolate,vs):s.curve=$o(n.curve,vs),i.text=i.title,i.text===void 0?i.style!==void 0&&(s.arrowheadStyle="fill: #333"):(s.arrowheadStyle="fill: #333",s.labelpos="c",re().flowchart.htmlLabels?(s.labelType="html",s.label='<span class="edgeLabel">'+i.text+"</span>"):(s.labelType="text",s.label=i.text.replace(gt.lineBreakRegex,`
`),i.style===void 0&&(s.style=s.style||"stroke: #333; stroke-width: 1.5px;fill:none"),s.labelStyle=s.labelStyle.replace("color:","fill:"))),e.setEdge(i.id1,i.id2,s,r)})},GJe=function(t){Object.keys(t).forEach(function(n){TW[n]=t[n]})},KJe=function(t,e,n,r){V.info("Drawing class - ",e);const i=re().flowchart,s=re().securityLevel;V.info("config:",i);const o=i.nodeSpacing||50,a=i.rankSpacing||50,l=new ar({multigraph:!0,compound:!0}).setGraph({rankdir:r.db.getDirection(),nodesep:o,ranksep:a,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),u=r.db.getClasses(),h=r.db.getRelations(),d=r.db.getNotes();V.info(h),ZJe(u,l,e,r),HJe(h,l),XJe(d,l,h.length+1,u);let f;s==="sandbox"&&(f=De("#i"+e));const p=De(s==="sandbox"?f.nodes()[0].contentDocument.body:"body"),g=p.select(`[id="${e}"]`),m=p.select("#"+e+" g");if(yT(m,l,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),pt.insertTitle(g,"classTitleText",i.titleTopMargin,r.db.getDiagramTitle()),ux(l,g,i.diagramPadding,i.useMaxWidth),!i.htmlLabels){const y=s==="sandbox"?f.nodes()[0].contentDocument:document,b=y.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const O of b){const x=O.getBBox(),T=y.createElementNS("http://www.w3.org/2000/svg","rect");T.setAttribute("rx",0),T.setAttribute("ry",0),T.setAttribute("width",x.width),T.setAttribute("height",x.height),O.insertBefore(T,O.firstChild)}}};function iP(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const JJe={setConf:GJe,draw:KJe};var $S=function(){var t=function(E,_,L,k){for(L=L||{},k=E.length;k--;L[E[k]]=_);return L},e=[1,2],n=[1,5],r=[6,9,11,23,25,27,29,30,31,51],i=[1,17],s=[1,18],o=[1,19],a=[1,20],l=[1,21],u=[1,22],h=[1,25],d=[1,30],f=[1,31],p=[1,32],g=[1,33],m=[6,9,11,15,20,23,25,27,29,30,31,44,45,46,47,51],y=[1,45],b=[30,31,48,49],O=[4,6,9,11,23,25,27,29,30,31,51],x=[44,45,46,47],T=[22,37],A=[1,65],v=[1,64],S=[22,37,39,41],I={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyTypeList:35,attributeComment:36,ATTRIBUTE_WORD:37,attributeKeyType:38,COMMA:39,ATTRIBUTE_KEY:40,COMMENT:41,cardinality:42,relType:43,ZERO_OR_ONE:44,ZERO_OR_MORE:45,ONE_OR_MORE:46,ONLY_ONE:47,NON_IDENTIFYING:48,IDENTIFYING:49,WORD:50,open_directive:51,type_directive:52,arg_directive:53,close_directive:54,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",39:"COMMA",40:"ATTRIBUTE_KEY",41:"COMMENT",44:"ZERO_OR_ONE",45:"ZERO_OR_MORE",46:"ONE_OR_MORE",47:"ONLY_ONE",48:"NON_IDENTIFYING",49:"IDENTIFYING",50:"WORD",51:"open_directive",52:"type_directive",53:"arg_directive",54:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[35,3],[38,1],[36,1],[18,3],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(_,L,k,B,w,Q,U){var W=Q.length-1;switch(w){case 1:break;case 3:this.$=[];break;case 4:Q[W-1].push(Q[W]),this.$=Q[W-1];break;case 5:case 6:this.$=Q[W];break;case 7:case 8:this.$=[];break;case 12:B.addEntity(Q[W-4]),B.addEntity(Q[W-2]),B.addRelationship(Q[W-4],Q[W],Q[W-2],Q[W-3]);break;case 13:B.addEntity(Q[W-3]),B.addAttributes(Q[W-3],Q[W-1]);break;case 14:B.addEntity(Q[W-2]);break;case 15:B.addEntity(Q[W]);break;case 16:case 17:this.$=Q[W].trim(),B.setAccTitle(this.$);break;case 18:case 19:this.$=Q[W].trim(),B.setAccDescription(this.$);break;case 20:case 43:this.$=Q[W];break;case 21:case 41:case 42:this.$=Q[W].replace(/"/g,"");break;case 22:case 30:this.$=[Q[W]];break;case 23:Q[W].push(Q[W-1]),this.$=Q[W];break;case 24:this.$={attributeType:Q[W-1],attributeName:Q[W]};break;case 25:this.$={attributeType:Q[W-2],attributeName:Q[W-1],attributeKeyTypeList:Q[W]};break;case 26:this.$={attributeType:Q[W-2],attributeName:Q[W-1],attributeComment:Q[W]};break;case 27:this.$={attributeType:Q[W-3],attributeName:Q[W-2],attributeKeyTypeList:Q[W-1],attributeComment:Q[W]};break;case 28:case 29:case 32:this.$=Q[W];break;case 31:Q[W-2].push(Q[W]),this.$=Q[W-2];break;case 33:this.$=Q[W].replace(/"/g,"");break;case 34:this.$={cardA:Q[W],relType:Q[W-1],cardB:Q[W-2]};break;case 35:this.$=B.Cardinality.ZERO_OR_ONE;break;case 36:this.$=B.Cardinality.ZERO_OR_MORE;break;case 37:this.$=B.Cardinality.ONE_OR_MORE;break;case 38:this.$=B.Cardinality.ONLY_ONE;break;case 39:this.$=B.Identification.NON_IDENTIFYING;break;case 40:this.$=B.Identification.IDENTIFYING;break;case 44:B.parseDirective("%%{","open_directive");break;case 45:B.parseDirective(Q[W],"type_directive");break;case 46:Q[W]=Q[W].trim().replace(/'/g,'"'),B.parseDirective(Q[W],"arg_directive");break;case 47:B.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:e,7:3,12:4,51:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,51:n},{13:8,52:[1,9]},{52:[2,44]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:s,27:o,29:a,30:l,31:u,51:n},{1:[2,2]},{14:23,15:[1,24],54:h},t([15,54],[2,45]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:15,10:26,12:4,17:16,23:i,25:s,27:o,29:a,30:l,31:u,51:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),t(r,[2,15],{18:27,42:29,20:[1,28],44:d,45:f,46:p,47:g}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(r,[2,19]),t(m,[2,20]),t(m,[2,21]),{11:[1,37]},{16:38,53:[1,39]},{11:[2,47]},t(r,[2,5]),{17:40,30:l,31:u},{21:41,22:[1,42],32:43,33:44,37:y},{43:46,48:[1,47],49:[1,48]},t(b,[2,35]),t(b,[2,36]),t(b,[2,37]),t(b,[2,38]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),t(O,[2,9]),{14:49,54:h},{54:[2,46]},{15:[1,50]},{22:[1,51]},t(r,[2,14]),{21:52,22:[2,22],32:43,33:44,37:y},{34:53,37:[1,54]},{37:[2,28]},{42:55,44:d,45:f,46:p,47:g},t(x,[2,39]),t(x,[2,40]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],50:[1,58]},t(r,[2,13]),{22:[2,23]},t(T,[2,24],{35:61,36:62,38:63,40:A,41:v}),t([22,37,40,41],[2,29]),t([30,31],[2,34]),t(O,[2,10]),t(r,[2,12]),t(r,[2,41]),t(r,[2,42]),t(r,[2,43]),t(T,[2,25],{36:66,39:[1,67],41:v}),t(T,[2,26]),t(S,[2,30]),t(T,[2,33]),t(S,[2,32]),t(T,[2,27]),{38:68,40:A},t(S,[2,31])],defaultActions:{5:[2,44],7:[2,2],25:[2,47],39:[2,46],45:[2,28],52:[2,23]},parseError:function(_,L){if(L.recoverable)this.trace(_);else{var k=new Error(_);throw k.hash=L,k}},parse:function(_){var L=this,k=[0],B=[],w=[null],Q=[],U=this.table,W="",$=0,X=0,Y=2,N=1,he=Q.slice.call(arguments,1),ge=Object.create(this.lexer),j={yy:{}};for(var Te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Te)&&(j.yy[Te]=this.yy[Te]);ge.setInput(_,j.yy),j.yy.lexer=ge,j.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var K=ge.yylloc;Q.push(K);var ee=ge.options&&ge.options.ranges;typeof j.yy.parseError=="function"?this.parseError=j.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function H(){var ce;return ce=B.pop()||ge.lex()||N,typeof ce!="number"&&(ce instanceof Array&&(B=ce,ce=B.pop()),ce=L.symbols_[ce]||ce),ce}for(var G,z,D,F,R={},Z,P,ye,q;;){if(z=k[k.length-1],this.defaultActions[z]?D=this.defaultActions[z]:((G===null||typeof G>"u")&&(G=H()),D=U[z]&&U[z][G]),typeof D>"u"||!D.length||!D[0]){var de="";q=[];for(Z in U[z])this.terminals_[Z]&&Z>Y&&q.push("'"+this.terminals_[Z]+"'");ge.showPosition?de="Parse error on line "+($+1)+`:
`+ge.showPosition()+`
Expecting `+q.join(", ")+", got '"+(this.terminals_[G]||G)+"'":de="Parse error on line "+($+1)+": Unexpected "+(G==N?"end of input":"'"+(this.terminals_[G]||G)+"'"),this.parseError(de,{text:ge.match,token:this.terminals_[G]||G,line:ge.yylineno,loc:K,expected:q})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+z+", token: "+G);switch(D[0]){case 1:k.push(G),w.push(ge.yytext),Q.push(ge.yylloc),k.push(D[1]),G=null,X=ge.yyleng,W=ge.yytext,$=ge.yylineno,K=ge.yylloc;break;case 2:if(P=this.productions_[D[1]][1],R.$=w[w.length-P],R._$={first_line:Q[Q.length-(P||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(P||1)].first_column,last_column:Q[Q.length-1].last_column},ee&&(R._$.range=[Q[Q.length-(P||1)].range[0],Q[Q.length-1].range[1]]),F=this.performAction.apply(R,[W,X,$,j.yy,D[1],w,Q].concat(he)),typeof F<"u")return F;P&&(k=k.slice(0,-1*P*2),w=w.slice(0,-1*P),Q=Q.slice(0,-1*P)),k.push(this.productions_[D[1]][0]),w.push(R.$),Q.push(R._$),ye=U[k[k.length-2]][k[k.length-1]],k.push(ye);break;case 3:return!0}}return!0}},M=function(){var E={EOF:1,parseError:function(L,k){if(this.yy.parser)this.yy.parser.parseError(L,k);else throw new Error(L)},setInput:function(_,L){return this.yy=L||this.yy||{},this._input=_,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _=this._input[0];this.yytext+=_,this.yyleng++,this.offset++,this.match+=_,this.matched+=_;var L=_.match(/(?:\r\n?|\n).*/g);return L?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_},unput:function(_){var L=_.length,k=_.split(/(?:\r\n?|\n)/g);this._input=_+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var B=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1&&(this.yylineno-=k.length-1);var w=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===B.length?this.yylloc.first_column:0)+B[B.length-k.length].length-k[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[w[0],w[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(_){this.unput(this.match.slice(_))},pastInput:function(){var _=this.matched.substr(0,this.matched.length-this.match.length);return(_.length>20?"...":"")+_.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _=this.match;return _.length<20&&(_+=this._input.substr(0,20-_.length)),(_.substr(0,20)+(_.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _=this.pastInput(),L=new Array(_.length+1).join("-");return _+this.upcomingInput()+`
`+L+"^"},test_match:function(_,L){var k,B,w;if(this.options.backtrack_lexer&&(w={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(w.yylloc.range=this.yylloc.range.slice(0))),B=_[0].match(/(?:\r\n?|\n).*/g),B&&(this.yylineno+=B.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-B[B.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_[0].length},this.yytext+=_[0],this.match+=_[0],this.matches=_,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_[0].length),this.matched+=_[0],k=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),k)return k;if(this._backtrack){for(var Q in w)this[Q]=w[Q];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _,L,k,B;this._more||(this.yytext="",this.match="");for(var w=this._currentRules(),Q=0;Q<w.length;Q++)if(k=this._input.match(this.rules[w[Q]]),k&&(!L||k[0].length>L[0].length)){if(L=k,B=Q,this.options.backtrack_lexer){if(_=this.test_match(k,w[Q]),_!==!1)return _;if(this._backtrack){L=!1;continue}else return!1}else if(!this.options.flex)break}return L?(_=this.test_match(L,w[B]),_!==!1?_:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var L=this.next();return L||this.lex()},begin:function(L){this.conditionStack.push(L)},popState:function(){var L=this.conditionStack.length-1;return L>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(L){return L=this.conditionStack.length-1-Math.abs(L||0),L>=0?this.conditionStack[L]:"INITIAL"},pushState:function(L){this.begin(L)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(L,k,B,w){switch(B){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),51;case 8:return this.begin("type_directive"),52;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),54;case 11:return 53;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 50;case 19:return 4;case 20:return this.begin("block"),20;case 21:return 39;case 22:break;case 23:return 40;case 24:return 37;case 25:return 37;case 26:return 41;case 27:break;case 28:return this.popState(),22;case 29:return k.yytext[0];case 30:return 44;case 31:return 46;case 32:return 46;case 33:return 46;case 34:return 44;case 35:return 44;case 36:return 45;case 37:return 45;case 38:return 45;case 39:return 45;case 40:return 45;case 41:return 46;case 42:return 45;case 43:return 46;case 44:return 47;case 45:return 47;case 46:return 47;case 47:return 47;case 48:return 44;case 49:return 45;case 50:return 46;case 51:return 48;case 52:return 49;case 53:return 49;case 54:return 48;case 55:return 48;case 56:return 48;case 57:return 30;case 58:return k.yytext[0];case 59:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28,29],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}}};return E}();I.lexer=M;function C(){this.yy={}}return C.prototype=I,I.Parser=C,new C}();$S.parser=$S;const eet=$S,tet=t=>t.match(/^\s*erDiagram/)!==null;let Fg={},bT=[];const net={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},ret={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},iet=function(t,e,n){An.parseDirective(this,t,e,n)},DW=function(t){return Fg[t]===void 0&&(Fg[t]={attributes:[]},V.info("Added new entity :",t)),Fg[t]},set=()=>Fg,oet=function(t,e){let n=DW(t),r;for(r=e.length-1;r>=0;r--)n.attributes.push(e[r]),V.debug("Added attribute ",e[r].attributeName)},aet=function(t,e,n,r){let i={entityA:t,roleA:e,entityB:n,relSpec:r};bT.push(i),V.debug("Added new relationship :",i)},cet=()=>bT,uet=function(){Fg={},bT=[],Ts()},het={Cardinality:net,Identification:ret,parseDirective:iet,getConfig:()=>re().er,addEntity:DW,addAttributes:oet,getEntities:set,addRelationship:aet,getRelationships:cet,clear:uet,setAccTitle:ls,getAccTitle:Ds,setAccDescription:As,getAccDescription:Ms,setDiagramTitle:jo,getDiagramTitle:qo},Ka={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},det=function(t,e){let n;t.append("defs").append("marker").attr("id",Ka.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",Ka.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",Ka.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",Ka.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",Ka.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",Ka.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=t.append("defs").append("marker").attr("id",Ka.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=t.append("defs").append("marker").attr("id",Ka.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},Ja={ERMarkers:Ka,insertMarkers:det},fet=/[^\dA-Za-z](\W)*/g;let dr={},qm=new Map;const pet=function(t){const e=Object.keys(t);for(const n of e)dr[n]=t[n]},get=(t,e,n)=>{const r=dr.entityPadding/3,i=dr.entityPadding/3,s=dr.fontSize*.85,o=e.node().getBBox(),a=[];let l=!1,u=!1,h=0,d=0,f=0,p=0,g=o.height+r*2,m=1;n.forEach(x=>{x.attributeKeyTypeList!==void 0&&x.attributeKeyTypeList.length>0&&(l=!0),x.attributeComment!==void 0&&(u=!0)}),n.forEach(x=>{const T=`${e.node().id}-attr-${m}`;let A=0;const v=Ac(x.attributeType),S=t.append("text").classed("er entityLabel",!0).attr("id",`${T}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",re().fontFamily).style("font-size",s+"px").text(v),I=t.append("text").classed("er entityLabel",!0).attr("id",`${T}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",re().fontFamily).style("font-size",s+"px").text(x.attributeName),M={};M.tn=S,M.nn=I;const C=S.node().getBBox(),E=I.node().getBBox();if(h=Math.max(h,C.width),d=Math.max(d,E.width),A=Math.max(C.height,E.height),l){const _=x.attributeKeyTypeList!==void 0?x.attributeKeyTypeList.join(","):"",L=t.append("text").classed("er entityLabel",!0).attr("id",`${T}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",re().fontFamily).style("font-size",s+"px").text(_);M.kn=L;const k=L.node().getBBox();f=Math.max(f,k.width),A=Math.max(A,k.height)}if(u){const _=t.append("text").classed("er entityLabel",!0).attr("id",`${T}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",re().fontFamily).style("font-size",s+"px").text(x.attributeComment||"");M.cn=_;const L=_.node().getBBox();p=Math.max(p,L.width),A=Math.max(A,L.height)}M.height=A,a.push(M),g+=A+r*2,m+=1});let y=4;l&&(y+=2),u&&(y+=2);const b=h+d+f+p,O={width:Math.max(dr.minEntityWidth,Math.max(o.width+dr.entityPadding*2,b+i*y)),height:n.length>0?g:Math.max(dr.minEntityHeight,o.height+dr.entityPadding*2)};if(n.length>0){const x=Math.max(0,(O.width-b-i*y)/(y/2));e.attr("transform","translate("+O.width/2+","+(r+o.height/2)+")");let T=o.height+r*2,A="attributeBoxOdd";a.forEach(v=>{const S=T+r+v.height/2;v.tn.attr("transform","translate("+i+","+S+")");const I=t.insert("rect","#"+v.tn.node().id).classed(`er ${A}`,!0).attr("x",0).attr("y",T).attr("width",h+i*2+x).attr("height",v.height+r*2),M=parseFloat(I.attr("x"))+parseFloat(I.attr("width"));v.nn.attr("transform","translate("+(M+i)+","+S+")");const C=t.insert("rect","#"+v.nn.node().id).classed(`er ${A}`,!0).attr("x",M).attr("y",T).attr("width",d+i*2+x).attr("height",v.height+r*2);let E=parseFloat(C.attr("x"))+parseFloat(C.attr("width"));if(l){v.kn.attr("transform","translate("+(E+i)+","+S+")");const _=t.insert("rect","#"+v.kn.node().id).classed(`er ${A}`,!0).attr("x",E).attr("y",T).attr("width",f+i*2+x).attr("height",v.height+r*2);E=parseFloat(_.attr("x"))+parseFloat(_.attr("width"))}u&&(v.cn.attr("transform","translate("+(E+i)+","+S+")"),t.insert("rect","#"+v.cn.node().id).classed(`er ${A}`,"true").attr("x",E).attr("y",T).attr("width",p+i*2+x).attr("height",v.height+r*2)),T+=v.height+r*2,A=A==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else O.height=Math.max(dr.minEntityHeight,g),e.attr("transform","translate("+O.width/2+","+O.height/2+")");return O},met=function(t,e,n){const r=Object.keys(e);let i;return r.forEach(function(s){const o=wet(s,"entity");qm.set(s,o);const a=t.append("g").attr("id",o);i=i===void 0?o:i;const l="text-"+o,u=a.append("text").classed("er entityLabel",!0).attr("id",l).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",re().fontFamily).style("font-size",dr.fontSize+"px").text(s),{width:h,height:d}=get(a,u,e[s].attributes),p=a.insert("rect","#"+l).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",h).attr("height",d).node().getBBox();n.setNode(o,{width:p.width,height:p.height,shape:"rect",id:o})}),i},yet=function(t,e){e.nodes().forEach(function(n){n!==void 0&&e.node(n)!==void 0&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")})},AW=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},bet=function(t,e){return t.forEach(function(n){e.setEdge(qm.get(n.entityA),qm.get(n.entityB),{relationship:n},AW(n))}),t};let sP=0;const Oet=function(t,e,n,r,i){sP++;const s=n.edge(qm.get(e.entityA),qm.get(e.entityB),AW(e)),o=Wf().x(function(g){return g.x}).y(function(g){return g.y}).curve(lf),a=t.insert("path","#"+r).classed("er relationshipLine",!0).attr("d",o(s.points)).style("stroke",dr.stroke).style("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&a.attr("stroke-dasharray","8,8");let l="";switch(dr.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:a.attr("marker-end","url("+l+"#"+Ja.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:a.attr("marker-end","url("+l+"#"+Ja.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:a.attr("marker-end","url("+l+"#"+Ja.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:a.attr("marker-end","url("+l+"#"+Ja.ERMarkers.ONLY_ONE_END+")");break}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:a.attr("marker-start","url("+l+"#"+Ja.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:a.attr("marker-start","url("+l+"#"+Ja.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:a.attr("marker-start","url("+l+"#"+Ja.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:a.attr("marker-start","url("+l+"#"+Ja.ERMarkers.ONLY_ONE_START+")");break}const u=a.node().getTotalLength(),h=a.node().getPointAtLength(u*.5),d="rel"+sP,p=t.append("text").classed("er relationshipLabel",!0).attr("id",d).attr("x",h.x).attr("y",h.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",re().fontFamily).style("font-size",dr.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+d).classed("er relationshipLabelBox",!0).attr("x",h.x-p.width/2).attr("y",h.y-p.height/2).attr("width",p.width).attr("height",p.height)},ket=function(t,e,n,r){dr=re().er,V.info("Drawing ER diagram");const i=re().securityLevel;let s;i==="sandbox"&&(s=De("#i"+e));const a=De(i==="sandbox"?s.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);Ja.insertMarkers(a,dr);let l;l=new ar({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:dr.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const u=met(a,r.db.getEntities(),l),h=bet(r.db.getRelationships(),l);Xf(l),yet(a,l),h.forEach(function(m){Oet(a,m,l,u,r)});const d=dr.diagramPadding;pt.insertTitle(a,"entityTitleText",dr.titleTopMargin,r.db.getDiagramTitle());const f=a.node().getBBox(),p=f.width+d*2,g=f.height+d*2;Uo(a,g,p,dr.useMaxWidth),a.attr("viewBox",`${f.x-d} ${f.y-d} ${p} ${g}`)},xet="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function wet(t="",e=""){const n=t.replace(fet,"");return`${oP(e)}${oP(n)}${Hqe(t,xet)}`}function oP(t=""){return t.length>0?`${t}-`:""}const _et={setConf:pet,draw:ket};var RS=function(){var t=function(Va,Je,it,Lt){for(it=it||{},Lt=Va.length;Lt--;it[Va[Lt]]=Je);return it},e=[1,9],n=[1,7],r=[1,6],i=[1,8],s=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],o=[2,10],a=[1,20],l=[1,21],u=[1,22],h=[1,23],d=[1,30],f=[1,32],p=[1,33],g=[1,34],m=[1,62],y=[1,48],b=[1,52],O=[1,36],x=[1,37],T=[1,38],A=[1,39],v=[1,40],S=[1,56],I=[1,63],M=[1,51],C=[1,53],E=[1,55],_=[1,59],L=[1,60],k=[1,41],B=[1,42],w=[1,43],Q=[1,44],U=[1,61],W=[1,50],$=[1,54],X=[1,57],Y=[1,58],N=[1,49],he=[1,66],ge=[1,71],j=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Te=[1,75],K=[1,74],ee=[1,76],H=[20,21,23,81,82],G=[1,99],z=[1,104],D=[1,107],F=[1,108],R=[1,101],Z=[1,106],P=[1,109],ye=[1,102],q=[1,114],de=[1,113],ce=[1,103],te=[1,105],se=[1,110],fe=[1,111],le=[1,112],me=[1,115],oe=[20,21,22,23,81,82],be=[20,21,22,23,53,81,82],_e=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Ee=[20,21,23],Ie=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],lt=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ge=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Ve=[1,149],Fe=[1,157],ve=[1,158],Oe=[1,159],Pe=[1,160],xe=[1,144],qe=[1,145],pe=[1,141],at=[1,152],we=[1,153],dt=[1,154],St=[1,155],Pt=[1,156],Tt=[1,161],Rt=[1,162],Xe=[1,147],ct=[1,150],Dt=[1,146],ot=[1,143],za=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],au=[1,165],vn=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],ft=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],Qn=[12,21,22,24],Xr=[22,106],zn=[1,250],lr=[1,245],Sn=[1,246],$r=[1,254],Or=[1,251],Ue=[1,248],ie=[1,247],Me=[1,249],Ne=[1,252],Ct=[1,253],fn=[1,255],On=[1,273],Hn=[20,21,23,106],kr=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Ln={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(Je,it,Lt,Qe,Mn,ne,rp){var ae=ne.length-1;switch(Mn){case 5:Qe.parseDirective("%%{","open_directive");break;case 6:Qe.parseDirective(ne[ae],"type_directive");break;case 7:ne[ae]=ne[ae].trim().replace(/'/g,'"'),Qe.parseDirective(ne[ae],"arg_directive");break;case 8:Qe.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(ne[ae])||ne[ae].length>0)&&ne[ae-1].push(ne[ae]),this.$=ne[ae-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=ne[ae];break;case 19:Qe.setDirection("TB"),this.$="TB";break;case 20:Qe.setDirection(ne[ae-1]),this.$=ne[ae-1];break;case 35:this.$=ne[ae-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=Qe.addSubGraph(ne[ae-6],ne[ae-1],ne[ae-4]);break;case 42:this.$=Qe.addSubGraph(ne[ae-3],ne[ae-1],ne[ae-3]);break;case 43:this.$=Qe.addSubGraph(void 0,ne[ae-1],void 0);break;case 45:this.$=ne[ae].trim(),Qe.setAccTitle(this.$);break;case 46:case 47:this.$=ne[ae].trim(),Qe.setAccDescription(this.$);break;case 51:Qe.addLink(ne[ae-2].stmt,ne[ae],ne[ae-1]),this.$={stmt:ne[ae],nodes:ne[ae].concat(ne[ae-2].nodes)};break;case 52:Qe.addLink(ne[ae-3].stmt,ne[ae-1],ne[ae-2]),this.$={stmt:ne[ae-1],nodes:ne[ae-1].concat(ne[ae-3].nodes)};break;case 53:this.$={stmt:ne[ae-1],nodes:ne[ae-1]};break;case 54:this.$={stmt:ne[ae],nodes:ne[ae]};break;case 55:this.$=[ne[ae]];break;case 56:this.$=ne[ae-4].concat(ne[ae]);break;case 57:this.$=[ne[ae-2]],Qe.setClass(ne[ae-2],ne[ae]);break;case 58:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"square");break;case 59:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"doublecircle");break;case 60:this.$=ne[ae-5],Qe.addVertex(ne[ae-5],ne[ae-2],"circle");break;case 61:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"ellipse");break;case 62:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"stadium");break;case 63:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"subroutine");break;case 64:this.$=ne[ae-7],Qe.addVertex(ne[ae-7],ne[ae-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ne[ae-5],ne[ae-3]]]));break;case 65:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"cylinder");break;case 66:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"round");break;case 67:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"diamond");break;case 68:this.$=ne[ae-5],Qe.addVertex(ne[ae-5],ne[ae-2],"hexagon");break;case 69:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"odd");break;case 70:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"trapezoid");break;case 71:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"inv_trapezoid");break;case 72:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"lean_right");break;case 73:this.$=ne[ae-3],Qe.addVertex(ne[ae-3],ne[ae-1],"lean_left");break;case 74:this.$=ne[ae],Qe.addVertex(ne[ae]);break;case 75:ne[ae-1].text=ne[ae],this.$=ne[ae-1];break;case 76:case 77:ne[ae-2].text=ne[ae-1],this.$=ne[ae-2];break;case 78:this.$=ne[ae];break;case 79:var Ps=Qe.destructLink(ne[ae],ne[ae-2]);this.$={type:Ps.type,stroke:Ps.stroke,length:Ps.length,text:ne[ae-1]};break;case 80:var Ps=Qe.destructLink(ne[ae]);this.$={type:Ps.type,stroke:Ps.stroke,length:Ps.length};break;case 81:this.$=ne[ae-1];break;case 83:case 97:case 153:this.$=ne[ae-1]+""+ne[ae];break;case 98:case 99:this.$=ne[ae-4],Qe.addClass(ne[ae-2],ne[ae]);break;case 100:this.$=ne[ae-4],Qe.setClass(ne[ae-2],ne[ae]);break;case 101:case 109:this.$=ne[ae-1],Qe.setClickEvent(ne[ae-1],ne[ae]);break;case 102:case 110:this.$=ne[ae-3],Qe.setClickEvent(ne[ae-3],ne[ae-2]),Qe.setTooltip(ne[ae-3],ne[ae]);break;case 103:this.$=ne[ae-2],Qe.setClickEvent(ne[ae-2],ne[ae-1],ne[ae]);break;case 104:this.$=ne[ae-4],Qe.setClickEvent(ne[ae-4],ne[ae-3],ne[ae-2]),Qe.setTooltip(ne[ae-4],ne[ae]);break;case 105:case 111:this.$=ne[ae-1],Qe.setLink(ne[ae-1],ne[ae]);break;case 106:case 112:this.$=ne[ae-3],Qe.setLink(ne[ae-3],ne[ae-2]),Qe.setTooltip(ne[ae-3],ne[ae]);break;case 107:case 113:this.$=ne[ae-3],Qe.setLink(ne[ae-3],ne[ae-2],ne[ae]);break;case 108:case 114:this.$=ne[ae-5],Qe.setLink(ne[ae-5],ne[ae-4],ne[ae]),Qe.setTooltip(ne[ae-5],ne[ae-2]);break;case 115:this.$=ne[ae-4],Qe.addVertex(ne[ae-2],void 0,void 0,ne[ae]);break;case 116:case 118:this.$=ne[ae-4],Qe.updateLink(ne[ae-2],ne[ae]);break;case 117:this.$=ne[ae-4],Qe.updateLink([ne[ae-2]],ne[ae]);break;case 119:this.$=ne[ae-8],Qe.updateLinkInterpolate([ne[ae-6]],ne[ae-2]),Qe.updateLink([ne[ae-6]],ne[ae]);break;case 120:this.$=ne[ae-8],Qe.updateLinkInterpolate(ne[ae-6],ne[ae-2]),Qe.updateLink(ne[ae-6],ne[ae]);break;case 121:this.$=ne[ae-6],Qe.updateLinkInterpolate([ne[ae-4]],ne[ae]);break;case 122:this.$=ne[ae-6],Qe.updateLinkInterpolate(ne[ae-4],ne[ae]);break;case 123:case 125:this.$=[ne[ae]];break;case 124:case 126:ne[ae-2].push(ne[ae]),this.$=ne[ae-2];break;case 128:this.$=ne[ae-1]+ne[ae];break;case 150:this.$=ne[ae];break;case 151:this.$=ne[ae-1]+""+ne[ae];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},t(s,o,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:r,24:i},{16:15,21:n,22:r,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:a,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,43:31,44:f,46:p,48:g,50:35,51:45,52:m,54:46,66:y,67:b,86:O,87:x,88:T,89:A,90:v,91:S,95:I,105:M,106:C,109:E,111:_,112:L,116:47,118:k,119:B,120:w,121:Q,122:U,123:W,124:$,125:X,126:Y,127:N},{8:64,10:[1,65],15:he},t([10,15],[2,6]),t(s,[2,17]),t(s,[2,18]),t(s,[2,19]),{20:[1,68],21:[1,69],22:ge,27:67,30:70},t(j,[2,11]),t(j,[2,12]),t(j,[2,13]),t(j,[2,14]),t(j,[2,15]),t(j,[2,16]),{9:72,20:Te,21:K,23:ee,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:Te,21:K,23:ee},{9:81,20:Te,21:K,23:ee},{9:82,20:Te,21:K,23:ee},{9:83,20:Te,21:K,23:ee},{9:84,20:Te,21:K,23:ee},{9:86,20:Te,21:K,22:[1,85],23:ee},t(j,[2,44]),{45:[1,87]},{47:[1,88]},t(j,[2,47]),t(H,[2,54],{30:89,22:ge}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:G,52:z,66:D,67:F,84:[1,97],91:R,97:96,98:[1,94],100:[1,95],105:Z,106:P,109:ye,111:q,112:de,115:100,117:98,122:ce,123:te,124:se,125:fe,126:le,127:me},t(j,[2,158]),t(j,[2,159]),t(j,[2,160]),t(j,[2,161]),t(oe,[2,55],{53:[1,116]}),t(be,[2,74],{116:129,40:[1,117],52:m,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:y,67:b,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:S,95:I,105:M,106:C,109:E,111:_,112:L,122:U,123:W,124:$,125:X,126:Y,127:N}),t(_e,[2,150]),t(_e,[2,175]),t(_e,[2,176]),t(_e,[2,177]),t(_e,[2,178]),t(_e,[2,179]),t(_e,[2,180]),t(_e,[2,181]),t(_e,[2,182]),t(_e,[2,183]),t(_e,[2,184]),t(_e,[2,185]),t(_e,[2,186]),t(_e,[2,187]),t(_e,[2,188]),t(_e,[2,189]),t(_e,[2,190]),{9:130,20:Te,21:K,23:ee},{11:131,14:[1,132]},t(Ee,[2,8]),t(s,[2,20]),t(s,[2,26]),t(s,[2,27]),{21:[1,133]},t(Ie,[2,34],{30:134,22:ge}),t(j,[2,35]),{50:135,51:45,52:m,54:46,66:y,67:b,91:S,95:I,105:M,106:C,109:E,111:_,112:L,116:47,122:U,123:W,124:$,125:X,126:Y,127:N},t(lt,[2,48]),t(lt,[2,49]),t(lt,[2,50]),t(Ge,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Ve,24:Fe,26:ve,38:Oe,39:139,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(j,[2,36]),t(j,[2,37]),t(j,[2,38]),t(j,[2,39]),t(j,[2,40]),{22:Ve,24:Fe,26:ve,38:Oe,39:163,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t(za,o,{17:164}),t(j,[2,45]),t(j,[2,46]),t(H,[2,53],{52:au}),{26:G,52:z,66:D,67:F,91:R,97:166,102:[1,167],105:Z,106:P,109:ye,111:q,112:de,115:100,117:98,122:ce,123:te,124:se,125:fe,126:le,127:me},{95:[1,168],103:169,105:[1,170]},{26:G,52:z,66:D,67:F,91:R,95:[1,171],97:172,105:Z,106:P,109:ye,111:q,112:de,115:100,117:98,122:ce,123:te,124:se,125:fe,126:le,127:me},{26:G,52:z,66:D,67:F,91:R,97:173,105:Z,106:P,109:ye,111:q,112:de,115:100,117:98,122:ce,123:te,124:se,125:fe,126:le,127:me},t(Ee,[2,101],{22:[1,174],99:[1,175]}),t(Ee,[2,105],{22:[1,176]}),t(Ee,[2,109],{115:100,117:178,22:[1,177],26:G,52:z,66:D,67:F,91:R,105:Z,106:P,109:ye,111:q,112:de,122:ce,123:te,124:se,125:fe,126:le,127:me}),t(Ee,[2,111],{22:[1,179]}),t(vn,[2,152]),t(vn,[2,154]),t(vn,[2,155]),t(vn,[2,156]),t(vn,[2,157]),t(ft,[2,162]),t(ft,[2,163]),t(ft,[2,164]),t(ft,[2,165]),t(ft,[2,166]),t(ft,[2,167]),t(ft,[2,168]),t(ft,[2,169]),t(ft,[2,170]),t(ft,[2,171]),t(ft,[2,172]),t(ft,[2,173]),t(ft,[2,174]),{52:m,54:180,66:y,67:b,91:S,95:I,105:M,106:C,109:E,111:_,112:L,116:47,122:U,123:W,124:$,125:X,126:Y,127:N},{22:Ve,24:Fe,26:ve,38:Oe,39:181,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:182,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:184,42:Pe,52:z,57:[1,183],66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:185,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:186,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:187,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{66:[1,188]},{22:Ve,24:Fe,26:ve,38:Oe,39:189,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:190,42:Pe,52:z,66:D,67:F,71:[1,191],73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:192,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:193,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:194,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t(_e,[2,151]),t(Qn,[2,3]),{8:195,15:he},{15:[2,7]},t(s,[2,28]),t(Ie,[2,33]),t(H,[2,51],{30:196,22:ge}),t(Ge,[2,75],{22:[1,197]}),{22:[1,198]},{22:Ve,24:Fe,26:ve,38:Oe,39:199,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,66:D,67:F,73:xe,81:qe,82:[1,200],83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t(ft,[2,82]),t(ft,[2,84]),t(ft,[2,140]),t(ft,[2,141]),t(ft,[2,142]),t(ft,[2,143]),t(ft,[2,144]),t(ft,[2,145]),t(ft,[2,146]),t(ft,[2,147]),t(ft,[2,148]),t(ft,[2,149]),t(ft,[2,85]),t(ft,[2,86]),t(ft,[2,87]),t(ft,[2,88]),t(ft,[2,89]),t(ft,[2,90]),t(ft,[2,91]),t(ft,[2,92]),t(ft,[2,93]),t(ft,[2,94]),t(ft,[2,95]),{9:203,20:Te,21:K,22:Ve,23:ee,24:Fe,26:ve,38:Oe,40:[1,202],42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{18:18,19:19,20:a,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,204],43:31,44:f,46:p,48:g,50:35,51:45,52:m,54:46,66:y,67:b,86:O,87:x,88:T,89:A,90:v,91:S,95:I,105:M,106:C,109:E,111:_,112:L,116:47,118:k,119:B,120:w,121:Q,122:U,123:W,124:$,125:X,126:Y,127:N},{22:ge,30:205},{22:[1,206],26:G,52:z,66:D,67:F,91:R,105:Z,106:P,109:ye,111:q,112:de,115:100,117:178,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(Xr,[2,123]),{22:[1,211]},{22:[1,212],26:G,52:z,66:D,67:F,91:R,105:Z,106:P,109:ye,111:q,112:de,115:100,117:178,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:[1,213],26:G,52:z,66:D,67:F,91:R,105:Z,106:P,109:ye,111:q,112:de,115:100,117:178,122:ce,123:te,124:se,125:fe,126:le,127:me},{84:[1,214]},t(Ee,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(vn,[2,153]),{84:[1,219],101:[1,220]},t(oe,[2,57],{116:129,52:m,66:y,67:b,91:S,95:I,105:M,106:C,109:E,111:_,112:L,122:U,123:W,124:$,125:X,126:Y,127:N}),{22:Ve,24:Fe,26:ve,38:Oe,41:[1,221],42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,56:[1,222],66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:223,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,58:[1,224],66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,60:[1,225],66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,62:[1,226],66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,64:[1,227],66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{67:[1,228]},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,66:D,67:F,70:[1,229],73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,66:D,67:F,72:[1,230],73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,39:231,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,41:[1,232],42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,66:D,67:F,73:xe,75:[1,233],77:[1,234],81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,66:D,67:F,73:xe,75:[1,236],77:[1,235],81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{9:237,20:Te,21:K,23:ee},t(H,[2,52],{52:au}),t(Ge,[2,77]),t(Ge,[2,76]),{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,66:D,67:F,68:[1,238],73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t(Ge,[2,79]),t(ft,[2,83]),{22:Ve,24:Fe,26:ve,38:Oe,39:239,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t(za,o,{17:240}),t(j,[2,43]),{51:241,52:m,54:46,66:y,67:b,91:S,95:I,105:M,106:C,109:E,111:_,112:L,116:47,122:U,123:W,124:$,125:X,126:Y,127:N},{22:zn,66:lr,67:Sn,86:$r,96:242,102:Or,105:Ue,107:243,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},{22:zn,66:lr,67:Sn,86:$r,96:256,102:Or,105:Ue,107:243,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},{22:zn,66:lr,67:Sn,86:$r,96:257,102:Or,104:[1,258],105:Ue,107:243,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},{22:zn,66:lr,67:Sn,86:$r,96:259,102:Or,104:[1,260],105:Ue,107:243,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},{105:[1,261]},{22:zn,66:lr,67:Sn,86:$r,96:262,102:Or,105:Ue,107:243,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},{22:zn,66:lr,67:Sn,86:$r,96:263,102:Or,105:Ue,107:243,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},{26:G,52:z,66:D,67:F,91:R,97:264,105:Z,106:P,109:ye,111:q,112:de,115:100,117:98,122:ce,123:te,124:se,125:fe,126:le,127:me},t(Ee,[2,102]),{84:[1,265]},t(Ee,[2,106],{22:[1,266]}),t(Ee,[2,107]),t(Ee,[2,110]),t(Ee,[2,112],{22:[1,267]}),t(Ee,[2,113]),t(be,[2,58]),t(be,[2,59]),{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,58:[1,268],66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t(be,[2,66]),t(be,[2,61]),t(be,[2,62]),t(be,[2,63]),{66:[1,269]},t(be,[2,65]),t(be,[2,67]),{22:Ve,24:Fe,26:ve,38:Oe,42:Pe,52:z,66:D,67:F,72:[1,270],73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t(be,[2,69]),t(be,[2,70]),t(be,[2,72]),t(be,[2,71]),t(be,[2,73]),t(Qn,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Ve,24:Fe,26:ve,38:Oe,41:[1,271],42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{18:18,19:19,20:a,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,272],43:31,44:f,46:p,48:g,50:35,51:45,52:m,54:46,66:y,67:b,86:O,87:x,88:T,89:A,90:v,91:S,95:I,105:M,106:C,109:E,111:_,112:L,116:47,118:k,119:B,120:w,121:Q,122:U,123:W,124:$,125:X,126:Y,127:N},t(oe,[2,56]),t(Ee,[2,115],{106:On}),t(Hn,[2,125],{108:274,22:zn,66:lr,67:Sn,86:$r,102:Or,105:Ue,109:ie,110:Me,111:Ne,112:Ct,113:fn}),t(kr,[2,127]),t(kr,[2,129]),t(kr,[2,130]),t(kr,[2,131]),t(kr,[2,132]),t(kr,[2,133]),t(kr,[2,134]),t(kr,[2,135]),t(kr,[2,136]),t(kr,[2,137]),t(kr,[2,138]),t(kr,[2,139]),t(Ee,[2,116],{106:On}),t(Ee,[2,117],{106:On}),{22:[1,275]},t(Ee,[2,118],{106:On}),{22:[1,276]},t(Xr,[2,124]),t(Ee,[2,98],{106:On}),t(Ee,[2,99],{106:On}),t(Ee,[2,100],{115:100,117:178,26:G,52:z,66:D,67:F,91:R,105:Z,106:P,109:ye,111:q,112:de,122:ce,123:te,124:se,125:fe,126:le,127:me}),t(Ee,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:Te,21:K,23:ee},t(j,[2,42]),{22:zn,66:lr,67:Sn,86:$r,102:Or,105:Ue,107:283,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},t(kr,[2,128]),{26:G,52:z,66:D,67:F,91:R,97:284,105:Z,106:P,109:ye,111:q,112:de,115:100,117:98,122:ce,123:te,124:se,125:fe,126:le,127:me},{26:G,52:z,66:D,67:F,91:R,97:285,105:Z,106:P,109:ye,111:q,112:de,115:100,117:98,122:ce,123:te,124:se,125:fe,126:le,127:me},t(Ee,[2,108]),t(Ee,[2,114]),t(be,[2,60]),{22:Ve,24:Fe,26:ve,38:Oe,39:286,42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:140,84:pe,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},t(be,[2,68]),t(za,o,{17:287}),t(Hn,[2,126],{108:274,22:zn,66:lr,67:Sn,86:$r,102:Or,105:Ue,109:ie,110:Me,111:Ne,112:Ct,113:fn}),t(Ee,[2,121],{115:100,117:178,22:[1,288],26:G,52:z,66:D,67:F,91:R,105:Z,106:P,109:ye,111:q,112:de,122:ce,123:te,124:se,125:fe,126:le,127:me}),t(Ee,[2,122],{115:100,117:178,22:[1,289],26:G,52:z,66:D,67:F,91:R,105:Z,106:P,109:ye,111:q,112:de,122:ce,123:te,124:se,125:fe,126:le,127:me}),{22:Ve,24:Fe,26:ve,38:Oe,41:[1,290],42:Pe,52:z,66:D,67:F,73:xe,81:qe,83:201,85:151,86:at,87:we,88:dt,89:St,90:Pt,91:Tt,92:Rt,94:142,95:Xe,105:Z,106:P,109:ct,111:q,112:de,113:Dt,114:ot,115:148,122:ce,123:te,124:se,125:fe,126:le,127:me},{18:18,19:19,20:a,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,291],43:31,44:f,46:p,48:g,50:35,51:45,52:m,54:46,66:y,67:b,86:O,87:x,88:T,89:A,90:v,91:S,95:I,105:M,106:C,109:E,111:_,112:L,116:47,118:k,119:B,120:w,121:Q,122:U,123:W,124:$,125:X,126:Y,127:N},{22:zn,66:lr,67:Sn,86:$r,96:292,102:Or,105:Ue,107:243,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},{22:zn,66:lr,67:Sn,86:$r,96:293,102:Or,105:Ue,107:243,108:244,109:ie,110:Me,111:Ne,112:Ct,113:fn},t(be,[2,64]),t(j,[2,41]),t(Ee,[2,119],{106:On}),t(Ee,[2,120],{106:On})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(Je,it){if(it.recoverable)this.trace(Je);else{var Lt=new Error(Je);throw Lt.hash=it,Lt}},parse:function(Je){var it=this,Lt=[0],Qe=[],Mn=[null],ne=[],rp=this.table,ae="",Ps=0,ND=0,LH=2,FD=1,IH=ne.slice.call(arguments,1),xr=Object.create(this.lexer),lu={yy:{}};for(var Ix in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ix)&&(lu.yy[Ix]=this.yy[Ix]);xr.setInput(Je,lu.yy),lu.yy.lexer=xr,lu.yy.parser=this,typeof xr.yylloc>"u"&&(xr.yylloc={});var Nx=xr.yylloc;ne.push(Nx);var NH=xr.options&&xr.options.ranges;typeof lu.yy.parseError=="function"?this.parseError=lu.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function FH(){var Ua;return Ua=Qe.pop()||xr.lex()||FD,typeof Ua!="number"&&(Ua instanceof Array&&(Qe=Ua,Ua=Qe.pop()),Ua=it.symbols_[Ua]||Ua),Ua}for(var Fi,cu,$s,Fx,Qh={},g1,Wa,BD,m1;;){if(cu=Lt[Lt.length-1],this.defaultActions[cu]?$s=this.defaultActions[cu]:((Fi===null||typeof Fi>"u")&&(Fi=FH()),$s=rp[cu]&&rp[cu][Fi]),typeof $s>"u"||!$s.length||!$s[0]){var Bx="";m1=[];for(g1 in rp[cu])this.terminals_[g1]&&g1>LH&&m1.push("'"+this.terminals_[g1]+"'");xr.showPosition?Bx="Parse error on line "+(Ps+1)+`:
`+xr.showPosition()+`
Expecting `+m1.join(", ")+", got '"+(this.terminals_[Fi]||Fi)+"'":Bx="Parse error on line "+(Ps+1)+": Unexpected "+(Fi==FD?"end of input":"'"+(this.terminals_[Fi]||Fi)+"'"),this.parseError(Bx,{text:xr.match,token:this.terminals_[Fi]||Fi,line:xr.yylineno,loc:Nx,expected:m1})}if($s[0]instanceof Array&&$s.length>1)throw new Error("Parse Error: multiple actions possible at state: "+cu+", token: "+Fi);switch($s[0]){case 1:Lt.push(Fi),Mn.push(xr.yytext),ne.push(xr.yylloc),Lt.push($s[1]),Fi=null,ND=xr.yyleng,ae=xr.yytext,Ps=xr.yylineno,Nx=xr.yylloc;break;case 2:if(Wa=this.productions_[$s[1]][1],Qh.$=Mn[Mn.length-Wa],Qh._$={first_line:ne[ne.length-(Wa||1)].first_line,last_line:ne[ne.length-1].last_line,first_column:ne[ne.length-(Wa||1)].first_column,last_column:ne[ne.length-1].last_column},NH&&(Qh._$.range=[ne[ne.length-(Wa||1)].range[0],ne[ne.length-1].range[1]]),Fx=this.performAction.apply(Qh,[ae,ND,Ps,lu.yy,$s[1],Mn,ne].concat(IH)),typeof Fx<"u")return Fx;Wa&&(Lt=Lt.slice(0,-1*Wa*2),Mn=Mn.slice(0,-1*Wa),ne=ne.slice(0,-1*Wa)),Lt.push(this.productions_[$s[1]][0]),Mn.push(Qh.$),ne.push(Qh._$),BD=rp[Lt[Lt.length-2]][Lt[Lt.length-1]],Lt.push(BD);break;case 3:return!0}}return!0}},np=function(){var Va={EOF:1,parseError:function(it,Lt){if(this.yy.parser)this.yy.parser.parseError(it,Lt);else throw new Error(it)},setInput:function(Je,it){return this.yy=it||this.yy||{},this._input=Je,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Je=this._input[0];this.yytext+=Je,this.yyleng++,this.offset++,this.match+=Je,this.matched+=Je;var it=Je.match(/(?:\r\n?|\n).*/g);return it?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Je},unput:function(Je){var it=Je.length,Lt=Je.split(/(?:\r\n?|\n)/g);this._input=Je+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-it),this.offset-=it;var Qe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Lt.length-1&&(this.yylineno-=Lt.length-1);var Mn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Lt?(Lt.length===Qe.length?this.yylloc.first_column:0)+Qe[Qe.length-Lt.length].length-Lt[0].length:this.yylloc.first_column-it},this.options.ranges&&(this.yylloc.range=[Mn[0],Mn[0]+this.yyleng-it]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Je){this.unput(this.match.slice(Je))},pastInput:function(){var Je=this.matched.substr(0,this.matched.length-this.match.length);return(Je.length>20?"...":"")+Je.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Je=this.match;return Je.length<20&&(Je+=this._input.substr(0,20-Je.length)),(Je.substr(0,20)+(Je.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Je=this.pastInput(),it=new Array(Je.length+1).join("-");return Je+this.upcomingInput()+`
`+it+"^"},test_match:function(Je,it){var Lt,Qe,Mn;if(this.options.backtrack_lexer&&(Mn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Mn.yylloc.range=this.yylloc.range.slice(0))),Qe=Je[0].match(/(?:\r\n?|\n).*/g),Qe&&(this.yylineno+=Qe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Qe?Qe[Qe.length-1].length-Qe[Qe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Je[0].length},this.yytext+=Je[0],this.match+=Je[0],this.matches=Je,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Je[0].length),this.matched+=Je[0],Lt=this.performAction.call(this,this.yy,this,it,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Lt)return Lt;if(this._backtrack){for(var ne in Mn)this[ne]=Mn[ne];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Je,it,Lt,Qe;this._more||(this.yytext="",this.match="");for(var Mn=this._currentRules(),ne=0;ne<Mn.length;ne++)if(Lt=this._input.match(this.rules[Mn[ne]]),Lt&&(!it||Lt[0].length>it[0].length)){if(it=Lt,Qe=ne,this.options.backtrack_lexer){if(Je=this.test_match(Lt,Mn[ne]),Je!==!1)return Je;if(this._backtrack){it=!1;continue}else return!1}else if(!this.options.flex)break}return it?(Je=this.test_match(it,Mn[Qe]),Je!==!1?Je:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var it=this.next();return it||this.lex()},begin:function(it){this.conditionStack.push(it)},popState:function(){var it=this.conditionStack.length-1;return it>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(it){return it=this.conditionStack.length-1-Math.abs(it||0),it>=0?this.conditionStack[it]:"INITIAL"},pushState:function(it){this.begin(it)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(it,Lt,Qe,Mn){switch(Qe){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return it.lex.firstGraph()&&this.begin("dir"),24;case 36:return it.lex.firstGraph()&&this.begin("dir"),24;case 37:return it.lex.firstGraph()&&this.begin("dir"),24;case 38:return 38;case 39:return 42;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return 101;case 44:return this.popState(),25;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return this.popState(),26;case 55:return 118;case 56:return 119;case 57:return 120;case 58:return 121;case 59:return 105;case 60:return 111;case 61:return 53;case 62:return 67;case 63:return 52;case 64:return 20;case 65:return 106;case 66:return 126;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[44,45,46,47,48,49,50,51,52,53,54],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return Va}();Ln.lexer=np;function Bh(){this.yy={}}return Bh.prototype=Ln,Ln.Parser=Bh,new Bh}();RS.parser=RS;const aP=RS,vet=(t,e)=>{var n,r;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?!1:t.match(/^\s*graph/)!==null},Cet=(t,e)=>{var n,r;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"||((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?!1:t.match(/^\s*graph/)!==null?!0:t.match(/^\s*flowchart/)!==null},Eet="flowchart-";let lP=0,OT=re(),En={},mh=[],md={},Ml=[],cO={},kT={},_b=0,LS=!0,Is,dx,fx=[];const px=t=>gt.sanitizeText(t,OT),MW=function(t,e,n){An.parseDirective(this,t,e,n)},X0=function(t){const e=Object.keys(En);for(const n of e)if(En[n].id===t)return En[n].domId;return t},PW=function(t,e,n,r,i,s,o={}){let a,l=t;l!==void 0&&l.trim().length!==0&&(En[l]===void 0&&(En[l]={id:l,domId:Eet+l+"-"+lP,styles:[],classes:[]}),lP++,e!==void 0?(OT=re(),a=px(e.trim()),a[0]==='"'&&a[a.length-1]==='"'&&(a=a.substring(1,a.length-1)),En[l].text=a):En[l].text===void 0&&(En[l].text=t),n!==void 0&&(En[l].type=n),r!=null&&r.forEach(function(u){En[l].styles.push(u)}),i!=null&&i.forEach(function(u){En[l].classes.push(u)}),s!==void 0&&(En[l].dir=s),En[l].props===void 0?En[l].props=o:o!==void 0&&Object.assign(En[l].props,o))},$W=function(t,e,n,r){const o={start:t,end:e,type:void 0,text:""};r=n.text,r!==void 0&&(o.text=px(r.trim()),o.text[0]==='"'&&o.text[o.text.length-1]==='"'&&(o.text=o.text.substring(1,o.text.length-1))),n!==void 0&&(o.type=n.type,o.stroke=n.stroke,o.length=n.length),mh.push(o)},RW=function(t,e,n,r){let i,s;for(i=0;i<t.length;i++)for(s=0;s<e.length;s++)$W(t[i],e[s],n,r)},LW=function(t,e){t.forEach(function(n){n==="default"?mh.defaultInterpolate=e:mh[n].interpolate=e})},IW=function(t,e){t.forEach(function(n){n==="default"?mh.defaultStyle=e:(pt.isSubstringInArray("fill",e)===-1&&e.push("fill:none"),mh[n].style=e)})},NW=function(t,e){md[t]===void 0&&(md[t]={id:t,styles:[],textStyles:[]}),e!=null&&e.forEach(function(n){if(n.match("color")){const i=n.replace("fill","bgFill").replace("color","fill");md[t].textStyles.push(i)}md[t].styles.push(n)})},FW=function(t){Is=t,Is.match(/.*</)&&(Is="RL"),Is.match(/.*\^/)&&(Is="BT"),Is.match(/.*>/)&&(Is="LR"),Is.match(/.*v/)&&(Is="TB"),Is==="TD"&&(Is="TB")},gx=function(t,e){t.split(",").forEach(function(n){let r=n;En[r]!==void 0&&En[r].classes.push(e),cO[r]!==void 0&&cO[r].classes.push(e)})},Tet=function(t,e){t.split(",").forEach(function(n){e!==void 0&&(kT[dx==="gen-1"?X0(n):n]=px(e))})},Det=function(t,e,n){let r=X0(t);if(re().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof n=="string"){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let o=i[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),i[s]=o}}i.length===0&&i.push(t),En[t]!==void 0&&(En[t].haveCallback=!0,fx.push(function(){const s=document.querySelector(`[id="${r}"]`);s!==null&&s.addEventListener("click",function(){pt.runFunc(e,...i)},!1)}))},BW=function(t,e,n){t.split(",").forEach(function(r){En[r]!==void 0&&(En[r].link=pt.formatUrl(e,OT),En[r].linkTarget=n)}),gx(t,"clickable")},QW=function(t){return kT[t]},zW=function(t,e,n){t.split(",").forEach(function(r){Det(r,e,n)}),gx(t,"clickable")},VW=function(t){fx.forEach(function(e){e(t)})},WW=function(){return Is.trim()},UW=function(){return En},jW=function(){return mh},qW=function(){return md},YW=function(t){let e=De(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=De("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),De(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=De(this);if(i.attr("title")===null)return;const o=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+o.left+(o.right-o.left)/2+"px").style("top",window.scrollY+o.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),De(this).classed("hover",!1)})};fx.push(YW);const ZW=function(t="gen-1"){En={},md={},mh=[],fx=[YW],Ml=[],cO={},_b=0,kT=[],LS=!0,dx=t,Ts()},XW=t=>{dx=t||"gen-2"},HW=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},GW=function(t,e,n){let r=t.trim(),i=n;t===n&&n.match(/\s/)&&(r=void 0);function s(h){const d={boolean:{},number:{},string:{}},f=[];let p;return{nodeList:h.filter(function(m){const y=typeof m;return m.stmt&&m.stmt==="dir"?(p=m.value,!1):m.trim()===""?!1:y in d?d[y].hasOwnProperty(m)?!1:d[y][m]=!0:f.includes(m)?!1:f.push(m)}),dir:p}}let o=[];const{nodeList:a,dir:l}=s(o.concat.apply(o,e));if(o=a,dx==="gen-1")for(let h=0;h<o.length;h++)o[h]=X0(o[h]);r=r||"subGraph"+_b,i=i||"",i=px(i),_b=_b+1;const u={id:r,nodes:o,title:i.trim(),classes:[],dir:l};return V.info("Adding",u.id,u.nodes,u.dir),u.nodes=oU(u,Ml).nodes,Ml.push(u),cO[r]=u,r},Aet=function(t){for(const[e,n]of Ml.entries())if(n.id===t)return e;return-1};let Xp=-1;const KW=[],JW=function(t,e){const n=Ml[e].nodes;if(Xp=Xp+1,Xp>2e3)return;if(KW[Xp]=e,Ml[e].id===t)return{result:!0,count:0};let r=0,i=1;for(;r<n.length;){const s=Aet(n[r]);if(s>=0){const o=JW(t,s);if(o.result)return{result:!0,count:i+o.count};i=i+o.count}r=r+1}return{result:!1,count:i}},eU=function(t){return KW[t]},tU=function(){Xp=-1,Ml.length>0&&JW("none",Ml.length-1)},nU=function(){return Ml},rU=()=>LS?(LS=!1,!0):!1,Met=t=>{let e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1);break}let r="normal";return e.includes("=")&&(r="thick"),e.includes(".")&&(r="dotted"),{type:n,stroke:r}},Pet=(t,e)=>{const n=e.length;let r=0;for(let i=0;i<n;++i)e[i]===t&&++r;return r},$et=t=>{const e=t.trim();let n=e.slice(0,-1),r="arrow_open";switch(e.slice(-1)){case"x":r="arrow_cross",e[0]==="x"&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point",e[0]==="<"&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle",e[0]==="o"&&(r="double_"+r,n=n.slice(1));break}let i="normal",s=n.length-1;n[0]==="="&&(i="thick");let o=Pet(".",n);return o&&(i="dotted",s=o),{type:r,stroke:i,length:s}},iU=(t,e)=>{const n=$et(t);let r;if(e){if(r=Met(e),r.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(r.type==="arrow_open")r.type=n.type;else{if(r.type!==n.type)return{type:"INVALID",stroke:"INVALID"};r.type="double_"+r.type}return r.type==="double_arrow"&&(r.type="double_arrow_point"),r.length=n.length,r}return n},sU=(t,e)=>{let n=!1;return t.forEach(r=>{r.nodes.indexOf(e)>=0&&(n=!0)}),n},oU=(t,e)=>{const n=[];return t.nodes.forEach((r,i)=>{sU(e,r)||n.push(t.nodes[i])}),{nodes:n}},aU={firstGraph:rU},ha={parseDirective:MW,defaultConfig:()=>gf.flowchart,setAccTitle:ls,getAccTitle:Ds,getAccDescription:Ms,setAccDescription:As,addVertex:PW,lookUpDomId:X0,addLink:RW,updateLinkInterpolate:LW,updateLink:IW,addClass:NW,setDirection:FW,setClass:gx,setTooltip:Tet,getTooltip:QW,setClickEvent:zW,setLink:BW,bindFunctions:VW,getDirection:WW,getVertices:UW,getEdges:jW,getClasses:qW,clear:ZW,setGen:XW,defaultStyle:HW,addSubGraph:GW,getDepthFirstPos:eU,indexNodes:tU,getSubGraphs:nU,destructLink:iU,lex:aU,exists:sU,makeUniq:oU,setDiagramTitle:jo,getDiagramTitle:qo},H2t=Object.freeze(Object.defineProperty({__proto__:null,addClass:NW,addLink:RW,addSingleLink:$W,addSubGraph:GW,addVertex:PW,bindFunctions:VW,clear:ZW,default:ha,defaultStyle:HW,destructLink:iU,firstGraph:rU,getClasses:qW,getDepthFirstPos:eU,getDirection:WW,getEdges:jW,getSubGraphs:nU,getTooltip:QW,getVertices:UW,indexNodes:tU,lex:aU,lookUpDomId:X0,parseDirective:MW,setClass:gx,setClickEvent:zW,setDirection:FW,setGen:XW,setLink:BW,updateLink:IW,updateLinkInterpolate:LW},Symbol.toStringTag,{value:"Module"}));function lU(t,e,n){const r=e.width,i=e.height,s=(r+i)*.9,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}],a=Ql(t,s,s,o);return n.intersect=function(l){return Fa(n,o,l)},a}function cU(t,e,n){const i=e.height,s=i/4,o=e.width+2*s,a=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-i/2},{x:o-s,y:-i},{x:s,y:-i},{x:0,y:-i/2}],l=Ql(t,o,i,a);return n.intersect=function(u){return Fa(n,a,u)},l}function uU(t,e,n){const r=e.width,i=e.height,s=[{x:-i/2,y:0},{x:r,y:0},{x:r,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],o=Ql(t,r,i,s);return n.intersect=function(a){return Fa(n,s,a)},o}function hU(t,e,n){const r=e.width,i=e.height,s=[{x:-2*i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:i/6,y:-i}],o=Ql(t,r,i,s);return n.intersect=function(a){return Fa(n,s,a)},o}function dU(t,e,n){const r=e.width,i=e.height,s=[{x:2*i/6,y:0},{x:r+i/6,y:0},{x:r-2*i/6,y:-i},{x:-i/6,y:-i}],o=Ql(t,r,i,s);return n.intersect=function(a){return Fa(n,s,a)},o}function fU(t,e,n){const r=e.width,i=e.height,s=[{x:-2*i/6,y:0},{x:r+2*i/6,y:0},{x:r-i/6,y:-i},{x:i/6,y:-i}],o=Ql(t,r,i,s);return n.intersect=function(a){return Fa(n,s,a)},o}function pU(t,e,n){const r=e.width,i=e.height,s=[{x:i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:-2*i/6,y:-i}],o=Ql(t,r,i,s);return n.intersect=function(a){return Fa(n,s,a)},o}function gU(t,e,n){const r=e.width,i=e.height,s=[{x:0,y:0},{x:r+i/2,y:0},{x:r,y:-i/2},{x:r+i/2,y:-i},{x:0,y:-i}],o=Ql(t,r,i,s);return n.intersect=function(a){return Fa(n,s,a)},o}function mU(t,e,n){const r=e.height,i=e.width+r/4,s=t.insert("rect",":first-child").attr("rx",r/2).attr("ry",r/2).attr("x",-i/2).attr("y",-r/2).attr("width",i).attr("height",r);return n.intersect=function(o){return GE(n,o)},s}function yU(t,e,n){const r=e.width,i=e.height,s=[{x:0,y:0},{x:r,y:0},{x:r,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:r+8,y:0},{x:r+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],o=Ql(t,r,i,s);return n.intersect=function(a){return Fa(n,s,a)},o}function bU(t,e,n){const r=e.width,i=r/2,s=i/(2.5+r/50),o=e.height+s,a="M 0,"+s+" a "+i+","+s+" 0,0,0 "+r+" 0 a "+i+","+s+" 0,0,0 "+-r+" 0 l 0,"+o+" a "+i+","+s+" 0,0,0 "+r+" 0 l 0,"+-o,l=t.attr("label-offset-y",s).insert("path",":first-child").attr("d",a).attr("transform","translate("+-r/2+","+-(o/2+s)+")");return n.intersect=function(u){const h=GE(n,u),d=h.x-n.x;if(i!=0&&(Math.abs(d)<n.width/2||Math.abs(d)==n.width/2&&Math.abs(h.y-n.y)>n.height/2-s)){let f=s*s*(1-d*d/(i*i));f!=0&&(f=Math.sqrt(f)),f=s-f,u.y-n.y>0&&(f=-f),h.y+=f}return h},l}function Ret(t){t.shapes().question=lU,t.shapes().hexagon=cU,t.shapes().stadium=mU,t.shapes().subroutine=yU,t.shapes().cylinder=bU,t.shapes().rect_left_inv_arrow=uU,t.shapes().lean_right=hU,t.shapes().lean_left=dU,t.shapes().trapezoid=fU,t.shapes().inv_trapezoid=pU,t.shapes().rect_right_inv_arrow=gU}function Let(t){t({question:lU}),t({hexagon:cU}),t({stadium:mU}),t({subroutine:yU}),t({cylinder:bU}),t({rect_left_inv_arrow:uU}),t({lean_right:hU}),t({lean_left:dU}),t({trapezoid:fU}),t({inv_trapezoid:pU}),t({rect_right_inv_arrow:gU})}function Ql(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("transform","translate("+-e/2+","+n/2+")")}const Iet={addToRender:Ret,addToRenderV2:Let},OU={},Net=function(t){const e=Object.keys(t);for(const n of e)OU[n]=t[n]},kU=function(t,e,n,r,i,s){const o=r?r.select(`[id="${n}"]`):De(`[id="${n}"]`),a=i||document;Object.keys(t).forEach(function(u){const h=t[u];let d="default";h.classes.length>0&&(d=h.classes.join(" "));const f=Uc(h.styles);let p=h.text!==void 0?h.text:h.id,g;if(Er(re().flowchart.htmlLabels)){const b={label:p.replace(/fa[blrs]?:fa-[\w-]+/g,O=>`<i class='${O.replace(":"," ")}'></i>`)};g=XE(o,b).node(),g.parentNode.removeChild(g)}else{const b=a.createElementNS("http://www.w3.org/2000/svg","text");b.setAttribute("style",f.labelStyle.replace("color:","fill:"));const O=p.split(gt.lineBreakRegex);for(const x of O){const T=a.createElementNS("http://www.w3.org/2000/svg","tspan");T.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),T.setAttribute("dy","1em"),T.setAttribute("x","1"),T.textContent=x,b.appendChild(T)}g=b}let m=0,y="";switch(h.type){case"round":m=5,y="rect";break;case"square":y="rect";break;case"diamond":y="question";break;case"hexagon":y="hexagon";break;case"odd":y="rect_left_inv_arrow";break;case"lean_right":y="lean_right";break;case"lean_left":y="lean_left";break;case"trapezoid":y="trapezoid";break;case"inv_trapezoid":y="inv_trapezoid";break;case"odd_right":y="rect_left_inv_arrow";break;case"circle":y="circle";break;case"ellipse":y="ellipse";break;case"stadium":y="stadium";break;case"subroutine":y="subroutine";break;case"cylinder":y="cylinder";break;case"group":y="rect";break;default:y="rect"}V.warn("Adding node",h.id,h.domId),e.setNode(s.db.lookUpDomId(h.id),{labelType:"svg",labelStyle:f.labelStyle,shape:y,label:g,rx:m,ry:m,class:d,style:f.style,id:s.db.lookUpDomId(h.id)})})},xU=function(t,e,n){let r=0,i,s;if(t.defaultStyle!==void 0){const o=Uc(t.defaultStyle);i=o.style,s=o.labelStyle}t.forEach(function(o){r++;var a="L-"+o.start+"-"+o.end,l="LS-"+o.start,u="LE-"+o.end;const h={};o.type==="arrow_open"?h.arrowhead="none":h.arrowhead="normal";let d="",f="";if(o.style!==void 0){const p=Uc(o.style);d=p.style,f=p.labelStyle}else switch(o.stroke){case"normal":d="fill:none",i!==void 0&&(d=i),s!==void 0&&(f=s);break;case"dotted":d="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":d=" stroke-width: 3.5px;fill:none";break}h.style=d,h.labelStyle=f,o.interpolate!==void 0?h.curve=$o(o.interpolate,vs):t.defaultInterpolate!==void 0?h.curve=$o(t.defaultInterpolate,vs):h.curve=$o(OU.curve,vs),o.text===void 0?o.style!==void 0&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c",Er(re().flowchart.htmlLabels)?(h.labelType="html",h.label=`<span id="L-${a}" class="edgeLabel L-${l}' L-${u}" style="${h.labelStyle}">${o.text.replace(/fa[blrs]?:fa-[\w-]+/g,p=>`<i class='${p.replace(":"," ")}'></i>`)}</span>`):(h.labelType="text",h.label=o.text.replace(gt.lineBreakRegex,`
`),o.style===void 0&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none"),h.labelStyle=h.labelStyle.replace("color:","fill:"))),h.id=a,h.class=l+" "+u,h.minlen=o.length||1,e.setEdge(n.db.lookUpDomId(o.start),n.db.lookUpDomId(o.end),h,r)})},Fet=function(t,e){V.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(n){return V.error(n),{}}},Bet=function(t,e,n,r){V.info("Drawing flowchart"),r.db.clear();const{securityLevel:i,flowchart:s}=re();let o;i==="sandbox"&&(o=De("#i"+e));const a=De(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?o.nodes()[0].contentDocument:document;try{r.parser.parse(t)}catch{V.debug("Parsing failed")}let u=r.db.getDirection();u===void 0&&(u="TD");const h=s.nodeSpacing||50,d=s.rankSpacing||50,f=new ar({multigraph:!0,compound:!0}).setGraph({rankdir:u,nodesep:h,ranksep:d,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let p;const g=r.db.getSubGraphs();for(let v=g.length-1;v>=0;v--)p=g[v],r.db.addVertex(p.id,p.title,"group",void 0,p.classes);const m=r.db.getVertices();V.warn("Get vertices",m);const y=r.db.getEdges();let b=0;for(b=g.length-1;b>=0;b--){p=g[b],bE("cluster").append("text");for(let v=0;v<p.nodes.length;v++)V.warn("Setting subgraph",p.nodes[v],r.db.lookUpDomId(p.nodes[v]),r.db.lookUpDomId(p.id)),f.setParent(r.db.lookUpDomId(p.nodes[v]),r.db.lookUpDomId(p.id))}kU(m,f,e,a,l,r),xU(y,f,r);const O=new vYe;Iet.addToRender(O),O.arrows().none=function(S,I,M,C){const _=S.append("marker").attr("id",I).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");Na(_,M[C+"Style"])},O.arrows().normal=function(S,I){S.append("marker").attr("id",I).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const x=a.select(`[id="${e}"]`),T=a.select("#"+e+" g");for(O(T,f),T.selectAll("g.node").attr("title",function(){return r.db.getTooltip(this.id)}),r.db.indexNodes("subGraph"+b),b=0;b<g.length;b++)if(p=g[b],p.title!=="undefined"){const v=l.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(p.id)+'"] rect'),S=l.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(p.id)+'"]'),I=v[0].x.baseVal.value,M=v[0].y.baseVal.value,C=v[0].width.baseVal.value,_=De(S[0]).select(".label");_.attr("transform",`translate(${I+C/2}, ${M+14})`),_.attr("id",e+"Text");for(let L=0;L<p.classes.length;L++)S[0].classList.add(p.classes[L])}if(!s.htmlLabels){const v=l.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const S of v){const I=S.getBBox(),M=l.createElementNS("http://www.w3.org/2000/svg","rect");M.setAttribute("rx",0),M.setAttribute("ry",0),M.setAttribute("width",I.width),M.setAttribute("height",I.height),S.insertBefore(M,S.firstChild)}}ux(f,x,s.diagramPadding,s.useMaxWidth),Object.keys(m).forEach(function(v){const S=m[v];if(S.link){const I=a.select("#"+e+' [id="'+r.db.lookUpDomId(v)+'"]');if(I){const M=l.createElementNS("http://www.w3.org/2000/svg","a");M.setAttributeNS("http://www.w3.org/2000/svg","class",S.classes.join(" ")),M.setAttributeNS("http://www.w3.org/2000/svg","href",S.link),M.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?M.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):S.linkTarget&&M.setAttributeNS("http://www.w3.org/2000/svg","target",S.linkTarget);const C=I.insert(function(){return M},":first-child"),E=I.select(".label-container");E&&C.append(function(){return E.node()});const _=I.select(".label");_&&C.append(function(){return _.node()})}}})},Qet={setConf:Net,addVertices:kU,addEdges:xU,getClasses:Fet,draw:Bet},wU={},zet=function(t){const e=Object.keys(t);for(const n of e)wU[n]=t[n]},_U=function(t,e,n,r,i,s){const o=r.select(`[id="${n}"]`);Object.keys(t).forEach(function(l){const u=t[l];let h="default";u.classes.length>0&&(h=u.classes.join(" "));const d=Uc(u.styles);let f=u.text!==void 0?u.text:u.id,p;if(Er(re().flowchart.htmlLabels)){const y={label:f.replace(/fa[blrs]?:fa-[\w-]+/g,b=>`<i class='${b.replace(":"," ")}'></i>`)};p=XE(o,y).node(),p.parentNode.removeChild(p)}else{const y=i.createElementNS("http://www.w3.org/2000/svg","text");y.setAttribute("style",d.labelStyle.replace("color:","fill:"));const b=f.split(gt.lineBreakRegex);for(const O of b){const x=i.createElementNS("http://www.w3.org/2000/svg","tspan");x.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),x.setAttribute("dy","1em"),x.setAttribute("x","1"),x.textContent=O,y.appendChild(x)}p=y}let g=0,m="";switch(u.type){case"round":g=5,m="rect";break;case"square":m="rect";break;case"diamond":m="question";break;case"hexagon":m="hexagon";break;case"odd":m="rect_left_inv_arrow";break;case"lean_right":m="lean_right";break;case"lean_left":m="lean_left";break;case"trapezoid":m="trapezoid";break;case"inv_trapezoid":m="inv_trapezoid";break;case"odd_right":m="rect_left_inv_arrow";break;case"circle":m="circle";break;case"ellipse":m="ellipse";break;case"stadium":m="stadium";break;case"subroutine":m="subroutine";break;case"cylinder":m="cylinder";break;case"group":m="rect";break;case"doublecircle":m="doublecircle";break;default:m="rect"}e.setNode(u.id,{labelStyle:d.labelStyle,shape:m,labelText:f,rx:g,ry:g,class:h,style:d.style,id:u.id,link:u.link,linkTarget:u.linkTarget,tooltip:s.db.getTooltip(u.id)||"",domId:s.db.lookUpDomId(u.id),haveCallback:u.haveCallback,width:u.type==="group"?500:void 0,dir:u.dir,type:u.type,props:u.props,padding:re().flowchart.padding}),V.info("setNode",{labelStyle:d.labelStyle,shape:m,labelText:f,rx:g,ry:g,class:h,style:d.style,id:u.id,domId:s.db.lookUpDomId(u.id),width:u.type==="group"?500:void 0,type:u.type,dir:u.dir,props:u.props,padding:re().flowchart.padding})})},vU=function(t,e,n){V.info("abc78 edges = ",t);let r=0,i={},s,o;if(t.defaultStyle!==void 0){const a=Uc(t.defaultStyle);s=a.style,o=a.labelStyle}t.forEach(function(a){r++;var l="L-"+a.start+"-"+a.end;i[l]===void 0?(i[l]=0,V.info("abc78 new entry",l,i[l])):(i[l]++,V.info("abc78 new entry",l,i[l]));let u=l+"-"+i[l];V.info("abc78 new link id to be used is",l,u,i[l]);var h="LS-"+a.start,d="LE-"+a.end;const f={style:"",labelStyle:""};switch(f.minlen=a.length||1,a.type==="arrow_open"?f.arrowhead="none":f.arrowhead="normal",f.arrowTypeStart="arrow_open",f.arrowTypeEnd="arrow_open",a.type){case"double_arrow_cross":f.arrowTypeStart="arrow_cross";case"arrow_cross":f.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":f.arrowTypeStart="arrow_point";case"arrow_point":f.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":f.arrowTypeStart="arrow_circle";case"arrow_circle":f.arrowTypeEnd="arrow_circle";break}let p="",g="";switch(a.stroke){case"normal":p="fill:none;",s!==void 0&&(p=s),o!==void 0&&(g=o),f.thickness="normal",f.pattern="solid";break;case"dotted":f.thickness="normal",f.pattern="dotted",f.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":f.thickness="thick",f.pattern="solid",f.style="stroke-width: 3.5px;fill:none;";break}if(a.style!==void 0){const m=Uc(a.style);p=m.style,g=m.labelStyle}f.style=f.style+=p,f.labelStyle=f.labelStyle+=g,a.interpolate!==void 0?f.curve=$o(a.interpolate,vs):t.defaultInterpolate!==void 0?f.curve=$o(t.defaultInterpolate,vs):f.curve=$o(wU.curve,vs),a.text===void 0?a.style!==void 0&&(f.arrowheadStyle="fill: #333"):(f.arrowheadStyle="fill: #333",f.labelpos="c"),f.labelType="text",f.label=a.text.replace(gt.lineBreakRegex,`
`),a.style===void 0&&(f.style=f.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),f.labelStyle=f.labelStyle.replace("color:","fill:"),f.id=u,f.classes="flowchart-link "+h+" "+d,e.setEdge(a.start,a.end,f,r)})},Vet=function(t,e){V.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},Wet=function(t,e,n,r){V.info("Drawing flowchart"),r.db.clear(),ha.setGen("gen-2"),r.parser.parse(t);let i=r.db.getDirection();i===void 0&&(i="TD");const{securityLevel:s,flowchart:o}=re(),a=o.nodeSpacing||50,l=o.rankSpacing||50;let u;s==="sandbox"&&(u=De("#i"+e));const h=De(s==="sandbox"?u.nodes()[0].contentDocument.body:"body"),d=s==="sandbox"?u.nodes()[0].contentDocument:document,f=new ar({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:a,ranksep:l,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let p;const g=r.db.getSubGraphs();V.info("Subgraphs - ",g);for(let A=g.length-1;A>=0;A--)p=g[A],V.info("Subgraph - ",p),r.db.addVertex(p.id,p.title,"group",void 0,p.classes,p.dir);const m=r.db.getVertices(),y=r.db.getEdges();V.info("Edges",y);let b=0;for(b=g.length-1;b>=0;b--){p=g[b],bE("cluster").append("text");for(let A=0;A<p.nodes.length;A++)V.info("Setting up subgraphs",p.nodes[A],p.id),f.setParent(p.nodes[A],p.id)}_U(m,f,e,h,d,r),vU(y,f);const O=h.select(`[id="${e}"]`),x=h.select("#"+e+" g");if(yT(x,f,["point","circle","cross"],"flowchart",e),pt.insertTitle(O,"flowchartTitleText",o.titleTopMargin,r.db.getDiagramTitle()),ux(f,O,o.diagramPadding,o.useMaxWidth),r.db.indexNodes("subGraph"+b),!o.htmlLabels){const A=d.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const v of A){const S=v.getBBox(),I=d.createElementNS("http://www.w3.org/2000/svg","rect");I.setAttribute("rx",0),I.setAttribute("ry",0),I.setAttribute("width",S.width),I.setAttribute("height",S.height),v.insertBefore(I,v.firstChild)}}Object.keys(m).forEach(function(A){const v=m[A];if(v.link){const S=De("#"+e+' [id="'+A+'"]');if(S){const I=d.createElementNS("http://www.w3.org/2000/svg","a");I.setAttributeNS("http://www.w3.org/2000/svg","class",v.classes.join(" ")),I.setAttributeNS("http://www.w3.org/2000/svg","href",v.link),I.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),s==="sandbox"?I.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):v.linkTarget&&I.setAttributeNS("http://www.w3.org/2000/svg","target",v.linkTarget);const M=S.insert(function(){return I},":first-child"),C=S.select(".label-container");C&&M.append(function(){return C.node()});const E=S.select(".label");E&&M.append(function(){return E.node()})}}})},v_={setConf:zet,addVertices:_U,addEdges:vU,getClasses:Vet,draw:Wet};var IS=function(){var t=function(I,M,C,E){for(C=C||{},E=I.length;E--;C[I[E]]=M);return C},e=[1,3],n=[1,5],r=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],i=[1,15],s=[1,16],o=[1,17],a=[1,18],l=[1,19],u=[1,20],h=[1,21],d=[1,22],f=[1,23],p=[1,24],g=[1,25],m=[1,26],y=[1,27],b=[1,29],O=[1,31],x=[1,34],T=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],A={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(M,C,E,_,L,k,B){var w=k.length-1;switch(L){case 2:return k[w-1];case 3:this.$=[];break;case 4:k[w-1].push(k[w]),this.$=k[w-1];break;case 5:case 6:this.$=k[w];break;case 7:case 8:this.$=[];break;case 9:_.setDateFormat(k[w].substr(11)),this.$=k[w].substr(11);break;case 10:_.enableInclusiveEndDates(),this.$=k[w].substr(18);break;case 11:_.TopAxis(),this.$=k[w].substr(8);break;case 12:_.setAxisFormat(k[w].substr(11)),this.$=k[w].substr(11);break;case 13:_.setTickInterval(k[w].substr(13)),this.$=k[w].substr(13);break;case 14:_.setExcludes(k[w].substr(9)),this.$=k[w].substr(9);break;case 15:_.setIncludes(k[w].substr(9)),this.$=k[w].substr(9);break;case 16:_.setTodayMarker(k[w].substr(12)),this.$=k[w].substr(12);break;case 17:_.setDiagramTitle(k[w].substr(6)),this.$=k[w].substr(6);break;case 18:this.$=k[w].trim(),_.setAccTitle(this.$);break;case 19:case 20:this.$=k[w].trim(),_.setAccDescription(this.$);break;case 21:_.addSection(k[w].substr(8)),this.$=k[w].substr(8);break;case 23:_.addTask(k[w-1],k[w]),this.$="task";break;case 27:this.$=k[w-1],_.setClickEvent(k[w-1],k[w],null);break;case 28:this.$=k[w-2],_.setClickEvent(k[w-2],k[w-1],k[w]);break;case 29:this.$=k[w-2],_.setClickEvent(k[w-2],k[w-1],null),_.setLink(k[w-2],k[w]);break;case 30:this.$=k[w-3],_.setClickEvent(k[w-3],k[w-2],k[w-1]),_.setLink(k[w-3],k[w]);break;case 31:this.$=k[w-2],_.setClickEvent(k[w-2],k[w],null),_.setLink(k[w-2],k[w-1]);break;case 32:this.$=k[w-3],_.setClickEvent(k[w-3],k[w-1],k[w]),_.setLink(k[w-3],k[w-2]);break;case 33:this.$=k[w-1],_.setLink(k[w-1],k[w]);break;case 34:case 40:this.$=k[w-1]+" "+k[w];break;case 35:case 36:case 38:this.$=k[w-2]+" "+k[w-1]+" "+k[w];break;case 37:case 39:this.$=k[w-3]+" "+k[w-2]+" "+k[w-1]+" "+k[w];break;case 41:_.parseDirective("%%{","open_directive");break;case 42:_.parseDirective(k[w],"type_directive");break;case 43:k[w]=k[w].trim().replace(/'/g,'"'),_.parseDirective(k[w],"arg_directive");break;case 44:_.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:e,30:4,40:n},{1:[3]},{3:6,4:2,5:e,30:4,40:n},t(r,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:s,14:o,15:a,16:l,17:u,18:h,19:d,20:f,21:p,23:g,25:m,26:y,27:28,28:b,30:4,35:O,40:n},{32:32,33:[1,33],43:x},t([33,43],[2,42]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:30,10:35,12:i,13:s,14:o,15:a,16:l,17:u,18:h,19:d,20:f,21:p,23:g,25:m,26:y,27:28,28:b,30:4,35:O,40:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),t(r,[2,17]),{22:[1,36]},{24:[1,37]},t(r,[2,20]),t(r,[2,21]),t(r,[2,22]),{29:[1,38]},t(r,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},t(r,[2,5]),t(r,[2,18]),t(r,[2,19]),t(r,[2,23]),t(r,[2,27],{37:[1,44],38:[1,45]}),t(r,[2,33],{36:[1,46]}),t(T,[2,25]),{32:47,43:x},{43:[2,43]},t(r,[2,28],{38:[1,48]}),t(r,[2,29]),t(r,[2,31],{37:[1,49]}),{11:[1,50]},t(r,[2,30]),t(r,[2,32]),t(T,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(M,C){if(C.recoverable)this.trace(M);else{var E=new Error(M);throw E.hash=C,E}},parse:function(M){var C=this,E=[0],_=[],L=[null],k=[],B=this.table,w="",Q=0,U=0,W=2,$=1,X=k.slice.call(arguments,1),Y=Object.create(this.lexer),N={yy:{}};for(var he in this.yy)Object.prototype.hasOwnProperty.call(this.yy,he)&&(N.yy[he]=this.yy[he]);Y.setInput(M,N.yy),N.yy.lexer=Y,N.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var ge=Y.yylloc;k.push(ge);var j=Y.options&&Y.options.ranges;typeof N.yy.parseError=="function"?this.parseError=N.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Te(){var ye;return ye=_.pop()||Y.lex()||$,typeof ye!="number"&&(ye instanceof Array&&(_=ye,ye=_.pop()),ye=C.symbols_[ye]||ye),ye}for(var K,ee,H,G,z={},D,F,R,Z;;){if(ee=E[E.length-1],this.defaultActions[ee]?H=this.defaultActions[ee]:((K===null||typeof K>"u")&&(K=Te()),H=B[ee]&&B[ee][K]),typeof H>"u"||!H.length||!H[0]){var P="";Z=[];for(D in B[ee])this.terminals_[D]&&D>W&&Z.push("'"+this.terminals_[D]+"'");Y.showPosition?P="Parse error on line "+(Q+1)+`:
`+Y.showPosition()+`
Expecting `+Z.join(", ")+", got '"+(this.terminals_[K]||K)+"'":P="Parse error on line "+(Q+1)+": Unexpected "+(K==$?"end of input":"'"+(this.terminals_[K]||K)+"'"),this.parseError(P,{text:Y.match,token:this.terminals_[K]||K,line:Y.yylineno,loc:ge,expected:Z})}if(H[0]instanceof Array&&H.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ee+", token: "+K);switch(H[0]){case 1:E.push(K),L.push(Y.yytext),k.push(Y.yylloc),E.push(H[1]),K=null,U=Y.yyleng,w=Y.yytext,Q=Y.yylineno,ge=Y.yylloc;break;case 2:if(F=this.productions_[H[1]][1],z.$=L[L.length-F],z._$={first_line:k[k.length-(F||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(F||1)].first_column,last_column:k[k.length-1].last_column},j&&(z._$.range=[k[k.length-(F||1)].range[0],k[k.length-1].range[1]]),G=this.performAction.apply(z,[w,U,Q,N.yy,H[1],L,k].concat(X)),typeof G<"u")return G;F&&(E=E.slice(0,-1*F*2),L=L.slice(0,-1*F),k=k.slice(0,-1*F)),E.push(this.productions_[H[1]][0]),L.push(z.$),k.push(z._$),R=B[E[E.length-2]][E[E.length-1]],E.push(R);break;case 3:return!0}}return!0}},v=function(){var I={EOF:1,parseError:function(C,E){if(this.yy.parser)this.yy.parser.parseError(C,E);else throw new Error(C)},setInput:function(M,C){return this.yy=C||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var C=M.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},unput:function(M){var C=M.length,E=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1&&(this.yylineno-=E.length-1);var L=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===_.length?this.yylloc.first_column:0)+_[_.length-E.length].length-E[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[L[0],L[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(M){this.unput(this.match.slice(M))},pastInput:function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var M=this.pastInput(),C=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+C+"^"},test_match:function(M,C){var E,_,L;if(this.options.backtrack_lexer&&(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(L.yylloc.range=this.yylloc.range.slice(0))),_=M[0].match(/(?:\r\n?|\n).*/g),_&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],E=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),E)return E;if(this._backtrack){for(var k in L)this[k]=L[k];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var M,C,E,_;this._more||(this.yytext="",this.match="");for(var L=this._currentRules(),k=0;k<L.length;k++)if(E=this._input.match(this.rules[L[k]]),E&&(!C||E[0].length>C[0].length)){if(C=E,_=k,this.options.backtrack_lexer){if(M=this.test_match(E,L[k]),M!==!1)return M;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(M=this.test_match(C,L[_]),M!==!1?M:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var C=this.next();return C||this.lex()},begin:function(C){this.conditionStack.push(C)},popState:function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},pushState:function(C){this.begin(C)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(C,E,_,L){switch(_){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return I}();A.lexer=v;function S(){this.yy={}}return S.prototype=A,A.Parser=S,new S}();IS.parser=IS;const Uet=IS,jet=t=>t.match(/^\s*gantt/)!==null;Gi.extend(AYe);Gi.extend(PYe);Gi.extend(RYe);let ba="",xT="",wT,_T="",H0=[],G0=[],vT={},ST=[],uO=[],yf="";const SU=["active","done","crit","milestone"];let CT=[],K0=!1,ET=!1,NS=0;const qet=function(t,e,n){An.parseDirective(this,t,e,n)},Yet=function(){ST=[],uO=[],yf="",CT=[],vb=0,BS=void 0,Sb=void 0,ur=[],ba="",xT="",wT=void 0,_T="",H0=[],G0=[],K0=!1,ET=!1,NS=0,vT={},Ts()},Zet=function(t){xT=t},Xet=function(){return xT},Het=function(t){wT=t},Get=function(){return wT},Ket=function(t){_T=t},Jet=function(){return _T},ett=function(t){ba=t},ttt=function(){K0=!0},ntt=function(){return K0},rtt=function(){ET=!0},itt=function(){return ET},stt=function(){return ba},ott=function(t){H0=t.toLowerCase().split(/[\s,]+/)},att=function(){return H0},ltt=function(t){G0=t.toLowerCase().split(/[\s,]+/)},ctt=function(){return G0},utt=function(){return vT},htt=function(t){yf=t,ST.push(t)},dtt=function(){return ST},ftt=function(){let t=cP();const e=10;let n=0;for(;!t&&n<e;)t=cP(),n++;return uO=ur,uO},CU=function(t,e,n,r){return r.includes(t.format(e.trim()))?!1:t.isoWeekday()>=6&&n.includes("weekends")||n.includes(t.format("dddd").toLowerCase())?!0:n.includes(t.format(e.trim()))},EU=function(t,e,n,r){if(!n.length||t.manualEndTime)return;let i;t.startTime instanceof Date?i=Gi(t.startTime):i=Gi(t.startTime,e,!0),i=i.add(1,"d");let s;t.endTime instanceof Date?s=Gi(t.endTime):s=Gi(t.endTime,e,!0);const[o,a]=ptt(i,s,e,n,r);t.endTime=o.toDate(),t.renderEndTime=a},ptt=function(t,e,n,r,i){let s=!1,o=null;for(;t<=e;)s||(o=e.toDate()),s=CU(t,n,r,i),s&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,o]},FS=function(t,e,n){n=n.trim();const i=/^after\s+([\d\w- ]+)/.exec(n.trim());if(i!==null){let o=null;if(i[1].split(" ").forEach(function(a){let l=Hf(a);l!==void 0&&(o?l.endTime>o.endTime&&(o=l):o=l)}),o)return o.endTime;{const a=new Date;return a.setHours(0,0,0,0),a}}let s=Gi(n,e.trim(),!0);if(s.isValid())return s.toDate();{V.debug("Invalid date:"+n),V.debug("With date format:"+e.trim());const o=new Date(n);if(o===void 0||isNaN(o.getTime()))throw new Error("Invalid date:"+n);return o}},TU=function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},DU=function(t,e,n,r=!1){n=n.trim();let i=Gi(n,e.trim(),!0);if(i.isValid())return r&&(i=i.add(1,"d")),i.toDate();let s=Gi(t);const[o,a]=TU(n);if(!Number.isNaN(o)){const l=s.add(o,a);l.isValid()&&(s=l)}return s.toDate()};let vb=0;const Id=function(t){return t===void 0?(vb=vb+1,"task"+vb):t},gtt=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),i={};$U(r,i,SU);for(let o=0;o<r.length;o++)r[o]=r[o].trim();let s="";switch(r.length){case 1:i.id=Id(),i.startTime=t.endTime,s=r[0];break;case 2:i.id=Id(),i.startTime=FS(void 0,ba,r[0]),s=r[1];break;case 3:i.id=Id(r[0]),i.startTime=FS(void 0,ba,r[1]),s=r[2];break}return s&&(i.endTime=DU(i.startTime,ba,s,K0),i.manualEndTime=Gi(s,"YYYY-MM-DD",!0).isValid(),EU(i,ba,G0,H0)),i},mtt=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),i={};$U(r,i,SU);for(let s=0;s<r.length;s++)r[s]=r[s].trim();switch(r.length){case 1:i.id=Id(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:r[0]};break;case 2:i.id=Id(),i.startTime={type:"getStartDate",startData:r[0]},i.endTime={data:r[1]};break;case 3:i.id=Id(r[0]),i.startTime={type:"getStartDate",startData:r[1]},i.endTime={data:r[2]};break}return i};let BS,Sb,ur=[];const AU={},ytt=function(t,e){const n={section:yf,type:yf,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=mtt(Sb,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=Sb,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=NS,NS++;const i=ur.push(n);Sb=n.id,AU[n.id]=i-1},Hf=function(t){const e=AU[t];return ur[e]},btt=function(t,e){const n={section:yf,type:yf,description:t,task:t,classes:[]},r=gtt(BS,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,BS=n,uO.push(n)},cP=function(){const t=function(n){const r=ur[n];let i="";switch(ur[n].raw.startTime.type){case"prevTaskEnd":{const s=Hf(r.prevTaskId);r.startTime=s.endTime;break}case"getStartDate":i=FS(void 0,ba,ur[n].raw.startTime.startData),i&&(ur[n].startTime=i);break}return ur[n].startTime&&(ur[n].endTime=DU(ur[n].startTime,ba,ur[n].raw.endTime.data,K0),ur[n].endTime&&(ur[n].processed=!0,ur[n].manualEndTime=Gi(ur[n].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),EU(ur[n],ba,G0,H0))),ur[n].processed};let e=!0;for(const[n,r]of ur.entries())t(n),e=e&&r.processed;return e},Ott=function(t,e){let n=e;re().securityLevel!=="loose"&&(n=Il.sanitizeUrl(e)),t.split(",").forEach(function(r){Hf(r)!==void 0&&(PU(r,()=>{window.open(n,"_self")}),vT[r]=n)}),MU(t,"clickable")},MU=function(t,e){t.split(",").forEach(function(n){let r=Hf(n);r!==void 0&&r.classes.push(e)})},ktt=function(t,e,n){if(re().securityLevel!=="loose"||e===void 0)return;let r=[];if(typeof n=="string"){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<r.length;s++){let o=r[s].trim();o.charAt(0)==='"'&&o.charAt(o.length-1)==='"'&&(o=o.substr(1,o.length-2)),r[s]=o}}r.length===0&&r.push(t),Hf(t)!==void 0&&PU(t,()=>{pt.runFunc(e,...r)})},PU=function(t,e){CT.push(function(){const n=document.querySelector(`[id="${t}"]`);n!==null&&n.addEventListener("click",function(){e()})},function(){const n=document.querySelector(`[id="${t}-text"]`);n!==null&&n.addEventListener("click",function(){e()})})},xtt=function(t,e,n){t.split(",").forEach(function(r){ktt(r,e,n)}),MU(t,"clickable")},wtt=function(t){CT.forEach(function(e){e(t)})},TT={parseDirective:qet,getConfig:()=>re().gantt,clear:Yet,setDateFormat:ett,getDateFormat:stt,enableInclusiveEndDates:ttt,endDatesAreInclusive:ntt,enableTopAxis:rtt,topAxisEnabled:itt,setAxisFormat:Zet,getAxisFormat:Xet,setTickInterval:Het,getTickInterval:Get,setTodayMarker:Ket,getTodayMarker:Jet,setAccTitle:ls,getAccTitle:Ds,setDiagramTitle:jo,getDiagramTitle:qo,setAccDescription:As,getAccDescription:Ms,addSection:htt,getSections:dtt,getTasks:ftt,addTask:ytt,findTaskById:Hf,addTaskOrg:btt,setIncludes:ott,getIncludes:att,setExcludes:ltt,getExcludes:ctt,setClickEvent:xtt,setLink:Ott,getLinks:utt,bindFunctions:wtt,parseDuration:TU,isInvalidDate:CU};function $U(t,e,n){let r=!0;for(;r;)r=!1,n.forEach(function(i){const s="^\\s*"+i+"\\s*$",o=new RegExp(s);t[0].match(o)&&(e[i]=!0,t.shift(1),r=!0)})}const _tt=function(){V.debug("Something is calling, setConf, remove the call")};let Za;const vtt=function(t,e,n,r){const i=re().gantt,s=re().securityLevel;let o;s==="sandbox"&&(o=De("#i"+e));const a=De(s==="sandbox"?o.nodes()[0].contentDocument.body:"body"),l=s==="sandbox"?o.nodes()[0].contentDocument:document,u=l.getElementById(e);Za=u.parentElement.offsetWidth,Za===void 0&&(Za=1200),i.useWidth!==void 0&&(Za=i.useWidth);const h=r.db.getTasks(),d=h.length*(i.barHeight+i.barGap)+2*i.topPadding;u.setAttribute("viewBox","0 0 "+Za+" "+d);const f=a.select(`[id="${e}"]`),p=zNe().domain([m$e(h,function(C){return C.startTime}),g$e(h,function(C){return C.endTime})]).rangeRound([0,Za-i.leftPadding-i.rightPadding]);let g=[];for(const C of h)g.push(C.type);const m=g;g=S(g);function y(C,E){const _=C.startTime,L=E.startTime;let k=0;return _>L?k=1:_<L&&(k=-1),k}h.sort(y),b(h,Za,d),Uo(f,d,Za,i.useMaxWidth),f.append("text").text(r.db.getDiagramTitle()).attr("x",Za/2).attr("y",i.titleTopMargin).attr("class","titleText");function b(C,E,_){const L=i.barHeight,k=L+i.barGap,B=i.topPadding,w=i.leftPadding,Q=EQ().domain([0,g.length]).range(["#00B9FA","#F95002"]).interpolate(NRe);x(k,B,w,E,_,C,r.db.getExcludes(),r.db.getIncludes()),T(w,B,E,_),O(C,k,B,w,L,Q,E),A(k,B),v(w,B,E,_)}function O(C,E,_,L,k,B,w){f.append("g").selectAll("rect").data(C).enter().append("rect").attr("x",0).attr("y",function($,X){return X=$.order,X*E+_-2}).attr("width",function(){return w-i.rightPadding/2}).attr("height",E).attr("class",function($){for(const[X,Y]of g.entries())if($.type===Y)return"section section"+X%i.numberSectionStyles;return"section section0"});const Q=f.append("g").selectAll("rect").data(C).enter(),U=r.db.getLinks();if(Q.append("rect").attr("id",function($){return $.id}).attr("rx",3).attr("ry",3).attr("x",function($){return $.milestone?p($.startTime)+L+.5*(p($.endTime)-p($.startTime))-.5*k:p($.startTime)+L}).attr("y",function($,X){return X=$.order,X*E+_}).attr("width",function($){return $.milestone?k:p($.renderEndTime||$.endTime)-p($.startTime)}).attr("height",k).attr("transform-origin",function($,X){return X=$.order,(p($.startTime)+L+.5*(p($.endTime)-p($.startTime))).toString()+"px "+(X*E+_+.5*k).toString()+"px"}).attr("class",function($){const X="task";let Y="";$.classes.length>0&&(Y=$.classes.join(" "));let N=0;for(const[ge,j]of g.entries())$.type===j&&(N=ge%i.numberSectionStyles);let he="";return $.active?$.crit?he+=" activeCrit":he=" active":$.done?$.crit?he=" doneCrit":he=" done":$.crit&&(he+=" crit"),he.length===0&&(he=" task"),$.milestone&&(he=" milestone "+he),he+=N,he+=" "+Y,X+he}),Q.append("text").attr("id",function($){return $.id+"-text"}).text(function($){return $.task}).attr("font-size",i.fontSize).attr("x",function($){let X=p($.startTime),Y=p($.renderEndTime||$.endTime);$.milestone&&(X+=.5*(p($.endTime)-p($.startTime))-.5*k),$.milestone&&(Y=X+k);const N=this.getBBox().width;return N>Y-X?Y+N+1.5*i.leftPadding>w?X+L-5:Y+L+5:(Y-X)/2+X+L}).attr("y",function($,X){return X=$.order,X*E+i.barHeight/2+(i.fontSize/2-2)+_}).attr("text-height",k).attr("class",function($){const X=p($.startTime);let Y=p($.endTime);$.milestone&&(Y=X+k);const N=this.getBBox().width;let he="";$.classes.length>0&&(he=$.classes.join(" "));let ge=0;for(const[Te,K]of g.entries())$.type===K&&(ge=Te%i.numberSectionStyles);let j="";return $.active&&($.crit?j="activeCritText"+ge:j="activeText"+ge),$.done?$.crit?j=j+" doneCritText"+ge:j=j+" doneText"+ge:$.crit&&(j=j+" critText"+ge),$.milestone&&(j+=" milestoneText"),N>Y-X?Y+N+1.5*i.leftPadding>w?he+" taskTextOutsideLeft taskTextOutside"+ge+" "+j:he+" taskTextOutsideRight taskTextOutside"+ge+" "+j+" width-"+N:he+" taskText taskText"+ge+" "+j+" width-"+N}),re().securityLevel==="sandbox"){let $;$=De("#i"+e);const X=$.nodes()[0].contentDocument;Q.filter(function(Y){return U[Y.id]!==void 0}).each(function(Y){var N=X.querySelector("#"+Y.id),he=X.querySelector("#"+Y.id+"-text");const ge=N.parentNode;var j=X.createElement("a");j.setAttribute("xlink:href",U[Y.id]),j.setAttribute("target","_top"),ge.appendChild(j),j.appendChild(N),j.appendChild(he)})}}function x(C,E,_,L,k,B,w,Q){const U=B.reduce((ge,{startTime:j})=>ge?Math.min(ge,j):j,0),W=B.reduce((ge,{endTime:j})=>ge?Math.max(ge,j):j,0),$=r.db.getDateFormat();if(!U||!W)return;const X=[];let Y=null,N=Gi(U);for(;N.valueOf()<=W;)r.db.isInvalidDate(N,$,w,Q)?Y?Y.end=N:Y={start:N,end:N}:Y&&(X.push(Y),Y=null),N=N.add(1,"d");f.append("g").selectAll("rect").data(X).enter().append("rect").attr("id",function(ge){return"exclude-"+ge.start.format("YYYY-MM-DD")}).attr("x",function(ge){return p(ge.start)+_}).attr("y",i.gridLineStartPadding).attr("width",function(ge){const j=ge.end.add(1,"day");return p(j)-p(ge.start)}).attr("height",k-E-i.gridLineStartPadding).attr("transform-origin",function(ge,j){return(p(ge.start)+_+.5*(p(ge.end)-p(ge.start))).toString()+"px "+(j*C+.5*k).toString()+"px"}).attr("class","exclude-range")}function T(C,E,_,L){let k=v$e(p).tickSize(-L+E+i.gridLineStartPadding).tickFormat(P2(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));const w=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(r.db.getTickInterval()||i.tickInterval);if(w!==null){const Q=w[1];switch(w[2]){case"minute":k.ticks(vm.every(Q));break;case"hour":k.ticks(Sm.every(Q));break;case"day":k.ticks(lh.every(Q));break;case"week":k.ticks(sf.every(Q));break;case"month":k.ticks(Cm.every(Q));break}}if(f.append("g").attr("class","grid").attr("transform","translate("+C+", "+(L-50)+")").call(k).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||i.topAxis){let Q=_$e(p).tickSize(-L+E+i.gridLineStartPadding).tickFormat(P2(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(w!==null){const U=w[1];switch(w[2]){case"minute":Q.ticks(vm.every(U));break;case"hour":Q.ticks(Sm.every(U));break;case"day":Q.ticks(lh.every(U));break;case"week":Q.ticks(sf.every(U));break;case"month":Q.ticks(Cm.every(U));break}}f.append("g").attr("class","grid").attr("transform","translate("+C+", "+E+")").call(Q).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function A(C,E){const _=[];let L=0;for(const[k,B]of g.entries())_[k]=[B,M(B,m)];f.append("g").selectAll("text").data(_).enter().append(function(k){const B=k[0].split(gt.lineBreakRegex),w=-(B.length-1)/2,Q=l.createElementNS("http://www.w3.org/2000/svg","text");Q.setAttribute("dy",w+"em");for(const[U,W]of B.entries()){const $=l.createElementNS("http://www.w3.org/2000/svg","tspan");$.setAttribute("alignment-baseline","central"),$.setAttribute("x","10"),U>0&&$.setAttribute("dy","1em"),$.textContent=W,Q.appendChild($)}return Q}).attr("x",10).attr("y",function(k,B){if(B>0)for(let w=0;w<B;w++)return L+=_[B-1][1],k[1]*C/2+L*C+E;else return k[1]*C/2+E}).attr("font-size",i.sectionFontSize).attr("font-size",i.sectionFontSize).attr("class",function(k){for(const[B,w]of g.entries())if(k[0]===w)return"sectionTitle sectionTitle"+B%i.numberSectionStyles;return"sectionTitle"})}function v(C,E,_,L){const k=r.db.getTodayMarker();if(k==="off")return;const B=f.append("g").attr("class","today"),w=new Date,Q=B.append("line");Q.attr("x1",p(w)+C).attr("x2",p(w)+C).attr("y1",i.titleTopMargin).attr("y2",L-i.titleTopMargin).attr("class","today"),k!==""&&Q.attr("style",k.replace(/,/g,";"))}function S(C){const E={},_=[];for(let L=0,k=C.length;L<k;++L)Object.prototype.hasOwnProperty.call(E,C[L])||(E[C[L]]=!0,_.push(C[L]));return _}function I(C){let E=C.length;const _={};for(;E;)_[C[--E]]=(_[C[E]]||0)+1;return _}function M(C,E){return I(E)[C]||0}},Stt={setConf:_tt,draw:vtt};var QS=function(){var t=function(s,o,a,l){for(a=a||{},l=s.length;l--;a[s[l]]=o);return a},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(o,a,l,u,h,d,f){switch(d.length-1,h){case 1:return u;case 4:break;case 6:u.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(o,a){if(a.recoverable)this.trace(o);else{var l=new Error(o);throw l.hash=a,l}},parse:function(o){var a=this,l=[0],u=[],h=[null],d=[],f=this.table,p="",g=0,m=0,y=2,b=1,O=d.slice.call(arguments,1),x=Object.create(this.lexer),T={yy:{}};for(var A in this.yy)Object.prototype.hasOwnProperty.call(this.yy,A)&&(T.yy[A]=this.yy[A]);x.setInput(o,T.yy),T.yy.lexer=x,T.yy.parser=this,typeof x.yylloc>"u"&&(x.yylloc={});var v=x.yylloc;d.push(v);var S=x.options&&x.options.ranges;typeof T.yy.parseError=="function"?this.parseError=T.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function I(){var W;return W=u.pop()||x.lex()||b,typeof W!="number"&&(W instanceof Array&&(u=W,W=u.pop()),W=a.symbols_[W]||W),W}for(var M,C,E,_,L={},k,B,w,Q;;){if(C=l[l.length-1],this.defaultActions[C]?E=this.defaultActions[C]:((M===null||typeof M>"u")&&(M=I()),E=f[C]&&f[C][M]),typeof E>"u"||!E.length||!E[0]){var U="";Q=[];for(k in f[C])this.terminals_[k]&&k>y&&Q.push("'"+this.terminals_[k]+"'");x.showPosition?U="Parse error on line "+(g+1)+`:
`+x.showPosition()+`
Expecting `+Q.join(", ")+", got '"+(this.terminals_[M]||M)+"'":U="Parse error on line "+(g+1)+": Unexpected "+(M==b?"end of input":"'"+(this.terminals_[M]||M)+"'"),this.parseError(U,{text:x.match,token:this.terminals_[M]||M,line:x.yylineno,loc:v,expected:Q})}if(E[0]instanceof Array&&E.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+M);switch(E[0]){case 1:l.push(M),h.push(x.yytext),d.push(x.yylloc),l.push(E[1]),M=null,m=x.yyleng,p=x.yytext,g=x.yylineno,v=x.yylloc;break;case 2:if(B=this.productions_[E[1]][1],L.$=h[h.length-B],L._$={first_line:d[d.length-(B||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(B||1)].first_column,last_column:d[d.length-1].last_column},S&&(L._$.range=[d[d.length-(B||1)].range[0],d[d.length-1].range[1]]),_=this.performAction.apply(L,[p,m,g,T.yy,E[1],h,d].concat(O)),typeof _<"u")return _;B&&(l=l.slice(0,-1*B*2),h=h.slice(0,-1*B),d=d.slice(0,-1*B)),l.push(this.productions_[E[1]][0]),h.push(L.$),d.push(L._$),w=f[l[l.length-2]][l[l.length-1]],l.push(w);break;case 3:return!0}}return!0}},r=function(){var s={EOF:1,parseError:function(a,l){if(this.yy.parser)this.yy.parser.parseError(a,l);else throw new Error(a)},setInput:function(o,a){return this.yy=a||this.yy||{},this._input=o,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.offset++,this.match+=o,this.matched+=o;var a=o.match(/(?:\r\n?|\n).*/g);return a?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),o},unput:function(o){var a=o.length,l=o.split(/(?:\r\n?|\n)/g);this._input=o+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-a),this.offset-=a;var u=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),l.length-1&&(this.yylineno-=l.length-1);var h=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:l?(l.length===u.length?this.yylloc.first_column:0)+u[u.length-l.length].length-l[0].length:this.yylloc.first_column-a},this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-a]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(o){this.unput(this.match.slice(o))},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),a=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+a+"^"},test_match:function(o,a){var l,u,h;if(this.options.backtrack_lexer&&(h={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(h.yylloc.range=this.yylloc.range.slice(0))),u=o[0].match(/(?:\r\n?|\n).*/g),u&&(this.yylineno+=u.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:u?u[u.length-1].length-u[u.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+o[0].length},this.yytext+=o[0],this.match+=o[0],this.matches=o,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(o[0].length),this.matched+=o[0],l=this.performAction.call(this,this.yy,this,a,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l)return l;if(this._backtrack){for(var d in h)this[d]=h[d];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,a,l,u;this._more||(this.yytext="",this.match="");for(var h=this._currentRules(),d=0;d<h.length;d++)if(l=this._input.match(this.rules[h[d]]),l&&(!a||l[0].length>a[0].length)){if(a=l,u=d,this.options.backtrack_lexer){if(o=this.test_match(l,h[d]),o!==!1)return o;if(this._backtrack){a=!1;continue}else return!1}else if(!this.options.flex)break}return a?(o=this.test_match(a,h[u]),o!==!1?o:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a||this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){var a=this.conditionStack.length-1;return a>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(a,l,u,h){switch(u){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return s}();n.lexer=r;function i(){this.yy={}}return i.prototype=n,n.Parser=i,new i}();QS.parser=QS;const Ctt=QS;var RU="",LU=!1;const Ett=t=>{V.debug("Setting message to: "+t),RU=t},Ttt=()=>RU,Dtt=t=>{LU=t},Att=()=>LU,Mtt={setMessage:Ett,getMessage:Ttt,setInfo:Dtt,getInfo:Att,clear:Ts},Ptt=(t,e,n)=>{try{V.debug(`Rendering info diagram
`+t);const r=re().securityLevel;let i;r==="sandbox"&&(i=De("#i"+e));const o=De(r==="sandbox"?i.nodes()[0].contentDocument.body:"body").select("#"+e);o.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),o.attr("height",100),o.attr("width",400)}catch(r){V.error("Error while rendering info diagram"),V.error(r.message)}},$tt={draw:Ptt},Rtt=t=>t.match(/^\s*info/)!==null;var zS=function(){var t=function(v,S,I,M){for(I=I||{},M=v.length;M--;I[v[M]]=S);return I},e=[1,4],n=[1,5],r=[1,6],i=[1,7],s=[1,9],o=[1,11,13,15,17,19,20,26,27,28,29],a=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],u=[26,27,28],h=[2,8],d=[1,18],f=[1,19],p=[1,20],g=[1,21],m=[1,22],y=[1,23],b=[1,28],O=[6,26,27,28,29],x={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(S,I,M,C,E,_,L){var k=_.length-1;switch(E){case 4:C.setShowData(!0);break;case 7:this.$=_[k-1];break;case 9:C.addSection(_[k-1],C.cleanupValue(_[k]));break;case 10:this.$=_[k].trim(),C.setDiagramTitle(this.$);break;case 11:this.$=_[k].trim(),C.setAccTitle(this.$);break;case 12:case 13:this.$=_[k].trim(),C.setAccDescription(this.$);break;case 14:C.addSection(_[k].substr(8)),this.$=_[k].substr(8);break;case 21:C.parseDirective("%%{","open_directive");break;case 22:C.parseDirective(_[k],"type_directive");break;case 23:_[k]=_[k].trim().replace(/'/g,'"'),C.parseDirective(_[k],"arg_directive");break;case 24:C.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:s},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:s},{3:11,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:s},t(o,a,{7:12,8:[1,13]}),t(l,[2,18]),t(l,[2,19]),t(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(u,h,{21:8,9:16,10:17,5:24,1:[2,3],11:d,13:f,15:p,17:g,19:m,20:y,29:s}),t(o,a,{7:25}),{23:26,24:[1,27],32:b},t([24,32],[2,22]),t(o,[2,6]),{4:29,26:n,27:r,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(u,[2,13]),t(u,[2,14]),t(u,[2,15]),t(u,h,{21:8,9:16,10:17,5:24,1:[2,4],11:d,13:f,15:p,17:g,19:m,20:y,29:s}),t(O,[2,16]),{25:34,31:[1,35]},t(O,[2,24]),t(o,[2,7]),t(u,[2,9]),t(u,[2,10]),t(u,[2,11]),t(u,[2,12]),{23:36,32:b},{32:[2,23]},t(O,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(S,I){if(I.recoverable)this.trace(S);else{var M=new Error(S);throw M.hash=I,M}},parse:function(S){var I=this,M=[0],C=[],E=[null],_=[],L=this.table,k="",B=0,w=0,Q=2,U=1,W=_.slice.call(arguments,1),$=Object.create(this.lexer),X={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(X.yy[Y]=this.yy[Y]);$.setInput(S,X.yy),X.yy.lexer=$,X.yy.parser=this,typeof $.yylloc>"u"&&($.yylloc={});var N=$.yylloc;_.push(N);var he=$.options&&$.options.ranges;typeof X.yy.parseError=="function"?this.parseError=X.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(){var Z;return Z=C.pop()||$.lex()||U,typeof Z!="number"&&(Z instanceof Array&&(C=Z,Z=C.pop()),Z=I.symbols_[Z]||Z),Z}for(var j,Te,K,ee,H={},G,z,D,F;;){if(Te=M[M.length-1],this.defaultActions[Te]?K=this.defaultActions[Te]:((j===null||typeof j>"u")&&(j=ge()),K=L[Te]&&L[Te][j]),typeof K>"u"||!K.length||!K[0]){var R="";F=[];for(G in L[Te])this.terminals_[G]&&G>Q&&F.push("'"+this.terminals_[G]+"'");$.showPosition?R="Parse error on line "+(B+1)+`:
`+$.showPosition()+`
Expecting `+F.join(", ")+", got '"+(this.terminals_[j]||j)+"'":R="Parse error on line "+(B+1)+": Unexpected "+(j==U?"end of input":"'"+(this.terminals_[j]||j)+"'"),this.parseError(R,{text:$.match,token:this.terminals_[j]||j,line:$.yylineno,loc:N,expected:F})}if(K[0]instanceof Array&&K.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Te+", token: "+j);switch(K[0]){case 1:M.push(j),E.push($.yytext),_.push($.yylloc),M.push(K[1]),j=null,w=$.yyleng,k=$.yytext,B=$.yylineno,N=$.yylloc;break;case 2:if(z=this.productions_[K[1]][1],H.$=E[E.length-z],H._$={first_line:_[_.length-(z||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-(z||1)].first_column,last_column:_[_.length-1].last_column},he&&(H._$.range=[_[_.length-(z||1)].range[0],_[_.length-1].range[1]]),ee=this.performAction.apply(H,[k,w,B,X.yy,K[1],E,_].concat(W)),typeof ee<"u")return ee;z&&(M=M.slice(0,-1*z*2),E=E.slice(0,-1*z),_=_.slice(0,-1*z)),M.push(this.productions_[K[1]][0]),E.push(H.$),_.push(H._$),D=L[M[M.length-2]][M[M.length-1]],M.push(D);break;case 3:return!0}}return!0}},T=function(){var v={EOF:1,parseError:function(I,M){if(this.yy.parser)this.yy.parser.parseError(I,M);else throw new Error(I)},setInput:function(S,I){return this.yy=I||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var I=S.match(/(?:\r\n?|\n).*/g);return I?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},unput:function(S){var I=S.length,M=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===C.length?this.yylloc.first_column:0)+C[C.length-M.length].length-M[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-I]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(S){this.unput(this.match.slice(S))},pastInput:function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var S=this.pastInput(),I=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+I+"^"},test_match:function(S,I){var M,C,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),C=S[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],M=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var _ in E)this[_]=E[_];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var S,I,M,C;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),_=0;_<E.length;_++)if(M=this._input.match(this.rules[E[_]]),M&&(!I||M[0].length>I[0].length)){if(I=M,C=_,this.options.backtrack_lexer){if(S=this.test_match(M,E[_]),S!==!1)return S;if(this._backtrack){I=!1;continue}else return!1}else if(!this.options.flex)break}return I?(S=this.test_match(I,E[C]),S!==!1?S:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var I=this.next();return I||this.lex()},begin:function(I){this.conditionStack.push(I)},popState:function(){var I=this.conditionStack.length-1;return I>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(I){return I=this.conditionStack.length-1-Math.abs(I||0),I>=0?this.conditionStack[I]:"INITIAL"},pushState:function(I){this.begin(I)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(I,M,C,E){switch(C){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return v}();x.lexer=T;function A(){this.yy={}}return A.prototype=x,x.Parser=A,new A}();zS.parser=zS;const Ltt=zS,Itt=t=>t.match(/^\s*pie/)!==null||t.match(/^\s*bar/)!==null;let hO={},DT=!1;const Ntt=function(t,e,n){An.parseDirective(this,t,e,n)},Ftt=function(t,e){t=gt.sanitizeText(t,re()),hO[t]===void 0&&(hO[t]=e,V.debug("Added new section :",t))},Btt=()=>hO,Qtt=function(t){DT=t},ztt=function(){return DT},Vtt=function(t){return t.substring(0,1)===":"&&(t=t.substring(1).trim()),Number(t.trim())},Wtt=function(){hO={},DT=!1,Ts()},Utt={parseDirective:Ntt,getConfig:()=>re().pie,addSection:Ftt,getSections:Btt,cleanupValue:Vtt,clear:Wtt,setAccTitle:ls,getAccTitle:Ds,setDiagramTitle:jo,getDiagramTitle:qo,setShowData:Qtt,getShowData:ztt,getAccDescription:Ms,setAccDescription:As};let Xa=re(),Ha;const Op=450,jtt=(t,e,n,r)=>{try{Xa=re(),V.debug(`Rendering info diagram
`+t);const O=re().securityLevel;let x;O==="sandbox"&&(x=De("#i"+e));const T=De(O==="sandbox"?x.nodes()[0].contentDocument.body:"body"),A=O==="sandbox"?x.nodes()[0].contentDocument:document;r.db.clear(),r.parser.parse(t),V.debug("Parsed info diagram");const v=A.getElementById(e);Ha=v.parentElement.offsetWidth,Ha===void 0&&(Ha=1200),Xa.useWidth!==void 0&&(Ha=Xa.useWidth),Xa.pie.useWidth!==void 0&&(Ha=Xa.pie.useWidth);const S=T.select("#"+e);Uo(S,Op,Ha,Xa.pie.useMaxWidth),v.setAttribute("viewBox","0 0 "+Ha+" "+Op);var i=40,s=18,o=4,a=Math.min(Ha,Op)/2-i,l=S.append("g").attr("transform","translate("+Ha/2+","+Op/2+")"),u=r.db.getSections(),h=0;Object.keys(u).forEach(function(M){h+=u[M]});const I=Xa.themeVariables;var d=[I.pie1,I.pie2,I.pie3,I.pie4,I.pie5,I.pie6,I.pie7,I.pie8,I.pie9,I.pie10,I.pie11,I.pie12],f=vQ().range(d),p=Object.entries(u).map(function(M,C){return{order:C,name:M[0],value:M[1]}}),g=eFe().value(function(M){return M.value}).sort(function(M,C){return M.order-C.order}),m=g(p),y=nS().innerRadius(0).outerRadius(a);l.selectAll("mySlices").data(m).enter().append("path").attr("d",y).attr("fill",function(M){return f(M.data.name)}).attr("class","pieCircle"),l.selectAll("mySlices").data(m).enter().append("text").text(function(M){return(M.data.value/h*100).toFixed(0)+"%"}).attr("transform",function(M){return"translate("+y.centroid(M)+")"}).style("text-anchor","middle").attr("class","slice"),l.append("text").text(r.db.getDiagramTitle()).attr("x",0).attr("y",-(Op-50)/2).attr("class","pieTitleText");var b=l.selectAll(".legend").data(f.domain()).enter().append("g").attr("class","legend").attr("transform",function(M,C){const E=s+o,_=E*f.domain().length/2,L=12*s,k=C*E-_;return"translate("+L+","+k+")"});b.append("rect").attr("width",s).attr("height",s).style("fill",f).style("stroke",f),b.data(m).append("text").attr("x",s+o).attr("y",s-o).text(function(M){return r.db.getShowData()||Xa.showData||Xa.pie.showData?M.data.name+" ["+M.data.value+"]":M.data.name})}catch(O){V.error("Error while rendering info diagram"),V.error(O)}},qtt={draw:jtt};var VS=function(){var t=function(Te,K,ee,H){for(ee=ee||{},H=Te.length;H--;ee[Te[H]]=K);return ee},e=[1,3],n=[1,5],r=[1,6],i=[1,7],s=[1,8],o=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],a=[1,22],l=[2,13],u=[1,26],h=[1,27],d=[1,28],f=[1,29],p=[1,30],g=[1,31],m=[1,24],y=[1,32],b=[1,33],O=[1,36],x=[71,72],T=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],A=[1,56],v=[1,57],S=[1,58],I=[1,59],M=[1,60],C=[1,61],E=[1,62],_=[62,63],L=[1,74],k=[1,70],B=[1,71],w=[1,72],Q=[1,73],U=[1,75],W=[1,79],$=[1,80],X=[1,77],Y=[1,78],N=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],he={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(K,ee,H,G,z,D,F){var R=D.length-1;switch(z){case 6:this.$=D[R].trim(),G.setAccTitle(this.$);break;case 7:case 8:this.$=D[R].trim(),G.setAccDescription(this.$);break;case 9:G.parseDirective("%%{","open_directive");break;case 10:G.parseDirective(D[R],"type_directive");break;case 11:D[R]=D[R].trim().replace(/'/g,'"'),G.parseDirective(D[R],"arg_directive");break;case 12:G.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:G.addRequirement(D[R-3],D[R-4]);break;case 20:G.setNewReqId(D[R-2]);break;case 21:G.setNewReqText(D[R-2]);break;case 22:G.setNewReqRisk(D[R-2]);break;case 23:G.setNewReqVerifyMethod(D[R-2]);break;case 26:this.$=G.RequirementType.REQUIREMENT;break;case 27:this.$=G.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=G.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=G.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=G.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=G.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=G.RiskLevel.LOW_RISK;break;case 33:this.$=G.RiskLevel.MED_RISK;break;case 34:this.$=G.RiskLevel.HIGH_RISK;break;case 35:this.$=G.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=G.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=G.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=G.VerifyType.VERIFY_TEST;break;case 39:G.addElement(D[R-3]);break;case 40:G.setNewElementType(D[R-2]);break;case 41:G.setNewElementDocRef(D[R-2]);break;case 44:G.addRelationship(D[R-2],D[R],D[R-4]);break;case 45:G.addRelationship(D[R-2],D[R-4],D[R]);break;case 46:this.$=G.Relationships.CONTAINS;break;case 47:this.$=G.Relationships.COPIES;break;case 48:this.$=G.Relationships.DERIVES;break;case 49:this.$=G.Relationships.SATISFIES;break;case 50:this.$=G.Relationships.VERIFIES;break;case 51:this.$=G.Relationships.REFINES;break;case 52:this.$=G.Relationships.TRACES;break}},table:[{3:1,4:2,6:e,9:4,14:n,16:r,18:i,19:s},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:r,18:i,19:s},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(o,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:r,18:i,19:s},{1:[2,2]},{4:21,5:a,7:17,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:g,53:m,71:y,72:b},{11:34,12:[1,35],22:O},t([12,22],[2,10]),t(o,[2,6]),t(o,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:a,7:38,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:g,53:m,71:y,72:b},{4:21,5:a,7:39,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:g,53:m,71:y,72:b},{4:21,5:a,7:40,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:g,53:m,71:y,72:b},{4:21,5:a,7:41,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:g,53:m,71:y,72:b},{4:21,5:a,7:42,8:l,9:4,14:n,16:r,18:i,19:s,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:g,53:m,71:y,72:b},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(x,[2,26]),t(x,[2,27]),t(x,[2,28]),t(x,[2,29]),t(x,[2,30]),t(x,[2,31]),t(T,[2,55]),t(T,[2,56]),t(o,[2,4]),{13:51,21:[1,52]},t(o,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:A,65:v,66:S,67:I,68:M,69:C,70:E},{61:63,64:A,65:v,66:S,67:I,68:M,69:C,70:E},{11:64,22:O},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(_,[2,46]),t(_,[2,47]),t(_,[2,48]),t(_,[2,49]),t(_,[2,50]),t(_,[2,51]),t(_,[2,52]),{63:[1,68]},t(o,[2,5]),{5:L,29:69,30:k,33:B,35:w,37:Q,39:U},{5:W,39:$,55:76,56:X,58:Y},{32:81,71:y,72:b},{32:82,71:y,72:b},t(N,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:L,29:87,30:k,33:B,35:w,37:Q,39:U},t(N,[2,25]),t(N,[2,39]),{31:[1,88]},{31:[1,89]},{5:W,39:$,55:90,56:X,58:Y},t(N,[2,43]),t(N,[2,44]),t(N,[2,45]),{32:91,71:y,72:b},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(N,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(N,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:L,29:116,30:k,33:B,35:w,37:Q,39:U},{5:L,29:117,30:k,33:B,35:w,37:Q,39:U},{5:L,29:118,30:k,33:B,35:w,37:Q,39:U},{5:L,29:119,30:k,33:B,35:w,37:Q,39:U},{5:W,39:$,55:120,56:X,58:Y},{5:W,39:$,55:121,56:X,58:Y},t(N,[2,20]),t(N,[2,21]),t(N,[2,22]),t(N,[2,23]),t(N,[2,40]),t(N,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(K,ee){if(ee.recoverable)this.trace(K);else{var H=new Error(K);throw H.hash=ee,H}},parse:function(K){var ee=this,H=[0],G=[],z=[null],D=[],F=this.table,R="",Z=0,P=0,ye=2,q=1,de=D.slice.call(arguments,1),ce=Object.create(this.lexer),te={yy:{}};for(var se in this.yy)Object.prototype.hasOwnProperty.call(this.yy,se)&&(te.yy[se]=this.yy[se]);ce.setInput(K,te.yy),te.yy.lexer=ce,te.yy.parser=this,typeof ce.yylloc>"u"&&(ce.yylloc={});var fe=ce.yylloc;D.push(fe);var le=ce.options&&ce.options.ranges;typeof te.yy.parseError=="function"?this.parseError=te.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function me(){var Oe;return Oe=G.pop()||ce.lex()||q,typeof Oe!="number"&&(Oe instanceof Array&&(G=Oe,Oe=G.pop()),Oe=ee.symbols_[Oe]||Oe),Oe}for(var oe,be,_e,Ee,Ie={},lt,Ge,Ve,Fe;;){if(be=H[H.length-1],this.defaultActions[be]?_e=this.defaultActions[be]:((oe===null||typeof oe>"u")&&(oe=me()),_e=F[be]&&F[be][oe]),typeof _e>"u"||!_e.length||!_e[0]){var ve="";Fe=[];for(lt in F[be])this.terminals_[lt]&&lt>ye&&Fe.push("'"+this.terminals_[lt]+"'");ce.showPosition?ve="Parse error on line "+(Z+1)+`:
`+ce.showPosition()+`
Expecting `+Fe.join(", ")+", got '"+(this.terminals_[oe]||oe)+"'":ve="Parse error on line "+(Z+1)+": Unexpected "+(oe==q?"end of input":"'"+(this.terminals_[oe]||oe)+"'"),this.parseError(ve,{text:ce.match,token:this.terminals_[oe]||oe,line:ce.yylineno,loc:fe,expected:Fe})}if(_e[0]instanceof Array&&_e.length>1)throw new Error("Parse Error: multiple actions possible at state: "+be+", token: "+oe);switch(_e[0]){case 1:H.push(oe),z.push(ce.yytext),D.push(ce.yylloc),H.push(_e[1]),oe=null,P=ce.yyleng,R=ce.yytext,Z=ce.yylineno,fe=ce.yylloc;break;case 2:if(Ge=this.productions_[_e[1]][1],Ie.$=z[z.length-Ge],Ie._$={first_line:D[D.length-(Ge||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(Ge||1)].first_column,last_column:D[D.length-1].last_column},le&&(Ie._$.range=[D[D.length-(Ge||1)].range[0],D[D.length-1].range[1]]),Ee=this.performAction.apply(Ie,[R,P,Z,te.yy,_e[1],z,D].concat(de)),typeof Ee<"u")return Ee;Ge&&(H=H.slice(0,-1*Ge*2),z=z.slice(0,-1*Ge),D=D.slice(0,-1*Ge)),H.push(this.productions_[_e[1]][0]),z.push(Ie.$),D.push(Ie._$),Ve=F[H[H.length-2]][H[H.length-1]],H.push(Ve);break;case 3:return!0}}return!0}},ge=function(){var Te={EOF:1,parseError:function(ee,H){if(this.yy.parser)this.yy.parser.parseError(ee,H);else throw new Error(ee)},setInput:function(K,ee){return this.yy=ee||this.yy||{},this._input=K,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var K=this._input[0];this.yytext+=K,this.yyleng++,this.offset++,this.match+=K,this.matched+=K;var ee=K.match(/(?:\r\n?|\n).*/g);return ee?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),K},unput:function(K){var ee=K.length,H=K.split(/(?:\r\n?|\n)/g);this._input=K+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ee),this.offset-=ee;var G=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),H.length-1&&(this.yylineno-=H.length-1);var z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:H?(H.length===G.length?this.yylloc.first_column:0)+G[G.length-H.length].length-H[0].length:this.yylloc.first_column-ee},this.options.ranges&&(this.yylloc.range=[z[0],z[0]+this.yyleng-ee]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(K){this.unput(this.match.slice(K))},pastInput:function(){var K=this.matched.substr(0,this.matched.length-this.match.length);return(K.length>20?"...":"")+K.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var K=this.match;return K.length<20&&(K+=this._input.substr(0,20-K.length)),(K.substr(0,20)+(K.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var K=this.pastInput(),ee=new Array(K.length+1).join("-");return K+this.upcomingInput()+`
`+ee+"^"},test_match:function(K,ee){var H,G,z;if(this.options.backtrack_lexer&&(z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(z.yylloc.range=this.yylloc.range.slice(0))),G=K[0].match(/(?:\r\n?|\n).*/g),G&&(this.yylineno+=G.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:G?G[G.length-1].length-G[G.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+K[0].length},this.yytext+=K[0],this.match+=K[0],this.matches=K,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(K[0].length),this.matched+=K[0],H=this.performAction.call(this,this.yy,this,ee,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),H)return H;if(this._backtrack){for(var D in z)this[D]=z[D];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var K,ee,H,G;this._more||(this.yytext="",this.match="");for(var z=this._currentRules(),D=0;D<z.length;D++)if(H=this._input.match(this.rules[z[D]]),H&&(!ee||H[0].length>ee[0].length)){if(ee=H,G=D,this.options.backtrack_lexer){if(K=this.test_match(H,z[D]),K!==!1)return K;if(this._backtrack){ee=!1;continue}else return!1}else if(!this.options.flex)break}return ee?(K=this.test_match(ee,z[G]),K!==!1?K:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ee=this.next();return ee||this.lex()},begin:function(ee){this.conditionStack.push(ee)},popState:function(){var ee=this.conditionStack.length-1;return ee>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ee){return ee=this.conditionStack.length-1-Math.abs(ee||0),ee>=0?this.conditionStack[ee]:"INITIAL"},pushState:function(ee){this.begin(ee)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ee,H,G,z){switch(G){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return H.yytext=H.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return Te}();he.lexer=ge;function j(){this.yy={}}return j.prototype=he,he.Parser=j,new j}();VS.parser=VS;const Ytt=VS,Ztt=t=>t.match(/^\s*requirement(Diagram)?/)!==null;let AT=[],Zi={},Bg={},Rc={},Qg={};const Xtt={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},Htt={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},Gtt={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Ktt={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},Jtt=function(t,e,n){An.parseDirective(this,t,e,n)},ent=(t,e)=>(Bg[t]===void 0&&(Bg[t]={name:t,type:e,id:Zi.id,text:Zi.text,risk:Zi.risk,verifyMethod:Zi.verifyMethod}),Zi={},Bg[t]),tnt=()=>Bg,nnt=t=>{Zi!==void 0&&(Zi.id=t)},rnt=t=>{Zi!==void 0&&(Zi.text=t)},int=t=>{Zi!==void 0&&(Zi.risk=t)},snt=t=>{Zi!==void 0&&(Zi.verifyMethod=t)},ont=t=>(Qg[t]===void 0&&(Qg[t]={name:t,type:Rc.type,docRef:Rc.docRef},V.info("Added new requirement: ",t)),Rc={},Qg[t]),ant=()=>Qg,lnt=t=>{Rc!==void 0&&(Rc.type=t)},cnt=t=>{Rc!==void 0&&(Rc.docRef=t)},unt=(t,e,n)=>{AT.push({type:t,src:e,dst:n})},hnt=()=>AT,dnt=()=>{AT=[],Zi={},Bg={},Rc={},Qg={},Ts()},fnt={RequirementType:Xtt,RiskLevel:Htt,VerifyType:Gtt,Relationships:Ktt,parseDirective:Jtt,getConfig:()=>re().req,addRequirement:ent,getRequirements:tnt,setNewReqId:nnt,setNewReqText:rnt,setNewReqRisk:int,setNewReqVerifyMethod:snt,setAccTitle:ls,getAccTitle:Ds,setAccDescription:As,getAccDescription:Ms,addElement:ont,getElements:ant,setNewElementType:lnt,setNewElementDocRef:cnt,addRelationship:unt,getRelationships:hnt,clear:dnt},WS={CONTAINS:"contains",ARROW:"arrow"},pnt=(t,e)=>{let n=t.append("defs").append("marker").attr("id",WS.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",WS.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)},IU={ReqMarkers:WS,insertLineEndings:pnt};let In={},uP=0;const NU=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",In.rect_min_width+"px").attr("height",In.rect_min_height+"px"),FU=(t,e,n)=>{let r=In.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",r).attr("y",In.rect_padding).attr("dominant-baseline","hanging"),s=0;n.forEach(u=>{s==0?i.append("tspan").attr("text-anchor","middle").attr("x",In.rect_min_width/2).attr("dy",0).text(u):i.append("tspan").attr("text-anchor","middle").attr("x",In.rect_min_width/2).attr("dy",In.line_height*.75).text(u),s++});let o=1.5*In.rect_padding,a=s*In.line_height*.75,l=o+a;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",In.rect_min_width).attr("y1",l).attr("y2",l),{titleNode:i,y:l}},BU=(t,e,n,r)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",In.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),s=0;const o=30;let a=[];return n.forEach(l=>{let u=l.length;for(;u>o&&s<3;){let h=l.substring(0,o);l=l.substring(o,l.length),u=l.length,a[a.length]=h,s++}if(s==3){let h=a[a.length-1];a[a.length-1]=h.substring(0,h.length-4)+"..."}else a[a.length]=l;s=0}),a.forEach(l=>{i.append("tspan").attr("x",In.rect_padding).attr("dy",In.line_height).text(l)}),i},gnt=(t,e,n,r)=>{const i=e.node().getTotalLength(),s=e.node().getPointAtLength(i*.5),o="rel"+uP;uP++;const l=t.append("text").attr("class","req relationshipLabel").attr("id",o).attr("x",s.x).attr("y",s.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();t.insert("rect","#"+o).attr("class","req reqLabelBox").attr("x",s.x-l.width/2).attr("y",s.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},mnt=function(t,e,n,r,i){const s=n.edge(bf(e.src),bf(e.dst)),o=Wf().x(function(l){return l.x}).y(function(l){return l.y}),a=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",o(s.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?a.attr("marker-start","url("+gt.getUrl(In.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(a.attr("stroke-dasharray","10,7"),a.attr("marker-end","url("+gt.getUrl(In.arrowMarkerAbsolute)+"#"+IU.ReqMarkers.ARROW+"_line_ending)")),gnt(t,a,In,`<<${e.type}>>`)},ynt=(t,e,n)=>{Object.keys(t).forEach(r=>{let i=t[r];r=bf(r),V.info("Added new requirement: ",r);const s=n.append("g").attr("id",r),o="req-"+r,a=NU(s,o);let l=FU(s,r+"_title",[`<<${i.type}>>`,`${i.name}`]);BU(s,r+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],l.y);const u=a.node().getBBox();e.setNode(r,{width:u.width,height:u.height,shape:"rect",id:r})})},bnt=(t,e,n)=>{Object.keys(t).forEach(r=>{let i=t[r];const s=bf(r),o=n.append("g").attr("id",s),a="element-"+s,l=NU(o,a);let u=FU(o,a+"_title",["<<Element>>",`${r}`]);BU(o,a+"_body",[`Type: ${i.type||"Not Specified"}`,`Doc Ref: ${i.docRef||"None"}`],u.y);const h=l.node().getBBox();e.setNode(s,{width:h.width,height:h.height,shape:"rect",id:s})})},Ont=(t,e)=>(t.forEach(function(n){let r=bf(n.src),i=bf(n.dst);e.setEdge(r,i,{relationship:n})}),t),knt=function(t,e){e.nodes().forEach(function(n){n!==void 0&&e.node(n)!==void 0&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))})},bf=t=>t.replace(/\s/g,"").replace(/\./g,"_"),xnt=(t,e,n,r)=>{In=re().requirement,r.db.clear(),r.parser.parse(t);const i=In.securityLevel;let s;i==="sandbox"&&(s=De("#i"+e));const a=De(i==="sandbox"?s.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);IU.insertLineEndings(a,In);const l=new ar({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:In.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=r.db.getRequirements(),h=r.db.getElements(),d=r.db.getRelationships();ynt(u,l,a),bnt(h,l,a),Ont(d,l),Xf(l),knt(a,l),d.forEach(function(y){mnt(a,y,l,e,r)});const f=In.rect_padding,p=a.node().getBBox(),g=p.width+f*2,m=p.height+f*2;Uo(a,m,g,In.useMaxWidth),a.attr("viewBox",`${p.x-f} ${p.y-f} ${g} ${m}`)},wnt={draw:xnt};var US=function(){var t=function(ee,H,G,z){for(G=G||{},z=ee.length;z--;G[ee[z]]=H);return G},e=[1,2],n=[1,3],r=[1,5],i=[1,7],s=[2,5],o=[1,15],a=[1,17],l=[1,19],u=[1,21],h=[1,22],d=[1,23],f=[1,29],p=[1,30],g=[1,31],m=[1,32],y=[1,33],b=[1,34],O=[1,35],x=[1,36],T=[1,37],A=[1,38],v=[1,39],S=[1,40],I=[1,42],M=[1,43],C=[1,45],E=[1,46],_=[1,47],L=[1,48],k=[1,49],B=[1,50],w=[1,53],Q=[1,4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],U=[4,5,21,54,56],W=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],$=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,53,54,56,57,62,63,64,65,73,83],X=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,52,54,56,57,62,63,64,65,73,83],Y=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,54,56,57,62,63,64,65,73,83],N=[71,72,73],he=[1,125],ge=[1,4,5,7,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],j={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,box_section:11,box_line:12,participant_statement:13,openDirective:14,typeDirective:15,closeDirective:16,":":17,argDirective:18,box:19,restOfLine:20,end:21,signal:22,autonumber:23,NUM:24,off:25,activate:26,actor:27,deactivate:28,note_statement:29,links_statement:30,link_statement:31,properties_statement:32,details_statement:33,title:34,legacy_title:35,acc_title:36,acc_title_value:37,acc_descr:38,acc_descr_value:39,acc_descr_multiline_value:40,loop:41,rect:42,opt:43,alt:44,else_sections:45,par:46,par_sections:47,critical:48,option_sections:49,break:50,option:51,and:52,else:53,participant:54,AS:55,participant_actor:56,note:57,placement:58,text2:59,over:60,actor_pair:61,links:62,link:63,properties:64,details:65,spaceList:66,",":67,left_of:68,right_of:69,signaltype:70,"+":71,"-":72,ACTOR:73,SOLID_OPEN_ARROW:74,DOTTED_OPEN_ARROW:75,SOLID_ARROW:76,DOTTED_ARROW:77,SOLID_CROSS:78,DOTTED_CROSS:79,SOLID_POINT:80,DOTTED_POINT:81,TXT:82,open_directive:83,type_directive:84,arg_directive:85,close_directive:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",17:":",19:"box",20:"restOfLine",21:"end",23:"autonumber",24:"NUM",25:"off",26:"activate",28:"deactivate",34:"title",35:"legacy_title",36:"acc_title",37:"acc_title_value",38:"acc_descr",39:"acc_descr_value",40:"acc_descr_multiline_value",41:"loop",42:"rect",43:"opt",44:"alt",46:"par",48:"critical",50:"break",51:"option",52:"and",53:"else",54:"participant",55:"AS",56:"participant_actor",57:"note",60:"over",62:"links",63:"link",64:"properties",65:"details",67:",",68:"left_of",69:"right_of",71:"+",72:"-",73:"ACTOR",74:"SOLID_OPEN_ARROW",75:"DOTTED_OPEN_ARROW",76:"SOLID_ARROW",77:"DOTTED_ARROW",78:"SOLID_CROSS",79:"DOTTED_CROSS",80:"SOLID_POINT",81:"DOTTED_POINT",82:"TXT",83:"open_directive",84:"type_directive",85:"arg_directive",86:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[11,0],[11,2],[12,2],[12,1],[12,1],[6,4],[6,6],[10,1],[10,4],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[49,1],[49,4],[47,1],[47,4],[45,1],[45,4],[13,5],[13,3],[13,5],[13,3],[29,4],[29,4],[30,3],[31,3],[32,3],[33,3],[66,2],[66,1],[61,3],[61,1],[58,1],[58,1],[22,5],[22,5],[22,4],[27,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[59,1],[14,1],[15,1],[18,1],[16,1]],performAction:function(H,G,z,D,F,R,Z){var P=R.length-1;switch(F){case 4:return D.apply(R[P]),R[P];case 5:case 10:this.$=[];break;case 6:case 11:R[P-1].push(R[P]),this.$=R[P-1];break;case 7:case 8:case 12:case 13:this.$=R[P];break;case 9:case 14:this.$=[];break;case 18:R[P-1].unshift({type:"boxStart",boxData:D.parseBoxData(R[P-2])}),R[P-1].push({type:"boxEnd",boxText:R[P-2]}),this.$=R[P-1];break;case 20:this.$={type:"sequenceIndex",sequenceIndex:Number(R[P-2]),sequenceIndexStep:Number(R[P-1]),sequenceVisible:!0,signalType:D.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceIndex:Number(R[P-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:D.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:D.LINETYPE.AUTONUMBER};break;case 23:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:D.LINETYPE.AUTONUMBER};break;case 24:this.$={type:"activeStart",signalType:D.LINETYPE.ACTIVE_START,actor:R[P-1]};break;case 25:this.$={type:"activeEnd",signalType:D.LINETYPE.ACTIVE_END,actor:R[P-1]};break;case 31:D.setDiagramTitle(R[P].substring(6)),this.$=R[P].substring(6);break;case 32:D.setDiagramTitle(R[P].substring(7)),this.$=R[P].substring(7);break;case 33:this.$=R[P].trim(),D.setAccTitle(this.$);break;case 34:case 35:this.$=R[P].trim(),D.setAccDescription(this.$);break;case 36:R[P-1].unshift({type:"loopStart",loopText:D.parseMessage(R[P-2]),signalType:D.LINETYPE.LOOP_START}),R[P-1].push({type:"loopEnd",loopText:R[P-2],signalType:D.LINETYPE.LOOP_END}),this.$=R[P-1];break;case 37:R[P-1].unshift({type:"rectStart",color:D.parseMessage(R[P-2]),signalType:D.LINETYPE.RECT_START}),R[P-1].push({type:"rectEnd",color:D.parseMessage(R[P-2]),signalType:D.LINETYPE.RECT_END}),this.$=R[P-1];break;case 38:R[P-1].unshift({type:"optStart",optText:D.parseMessage(R[P-2]),signalType:D.LINETYPE.OPT_START}),R[P-1].push({type:"optEnd",optText:D.parseMessage(R[P-2]),signalType:D.LINETYPE.OPT_END}),this.$=R[P-1];break;case 39:R[P-1].unshift({type:"altStart",altText:D.parseMessage(R[P-2]),signalType:D.LINETYPE.ALT_START}),R[P-1].push({type:"altEnd",signalType:D.LINETYPE.ALT_END}),this.$=R[P-1];break;case 40:R[P-1].unshift({type:"parStart",parText:D.parseMessage(R[P-2]),signalType:D.LINETYPE.PAR_START}),R[P-1].push({type:"parEnd",signalType:D.LINETYPE.PAR_END}),this.$=R[P-1];break;case 41:R[P-1].unshift({type:"criticalStart",criticalText:D.parseMessage(R[P-2]),signalType:D.LINETYPE.CRITICAL_START}),R[P-1].push({type:"criticalEnd",signalType:D.LINETYPE.CRITICAL_END}),this.$=R[P-1];break;case 42:R[P-1].unshift({type:"breakStart",breakText:D.parseMessage(R[P-2]),signalType:D.LINETYPE.BREAK_START}),R[P-1].push({type:"breakEnd",optText:D.parseMessage(R[P-2]),signalType:D.LINETYPE.BREAK_END}),this.$=R[P-1];break;case 45:this.$=R[P-3].concat([{type:"option",optionText:D.parseMessage(R[P-1]),signalType:D.LINETYPE.CRITICAL_OPTION},R[P]]);break;case 47:this.$=R[P-3].concat([{type:"and",parText:D.parseMessage(R[P-1]),signalType:D.LINETYPE.PAR_AND},R[P]]);break;case 49:this.$=R[P-3].concat([{type:"else",altText:D.parseMessage(R[P-1]),signalType:D.LINETYPE.ALT_ELSE},R[P]]);break;case 50:R[P-3].type="addParticipant",R[P-3].description=D.parseMessage(R[P-1]),this.$=R[P-3];break;case 51:R[P-1].type="addParticipant",this.$=R[P-1];break;case 52:R[P-3].type="addActor",R[P-3].description=D.parseMessage(R[P-1]),this.$=R[P-3];break;case 53:R[P-1].type="addActor",this.$=R[P-1];break;case 54:this.$=[R[P-1],{type:"addNote",placement:R[P-2],actor:R[P-1].actor,text:R[P]}];break;case 55:R[P-2]=[].concat(R[P-1],R[P-1]).slice(0,2),R[P-2][0]=R[P-2][0].actor,R[P-2][1]=R[P-2][1].actor,this.$=[R[P-1],{type:"addNote",placement:D.PLACEMENT.OVER,actor:R[P-2].slice(0,2),text:R[P]}];break;case 56:this.$=[R[P-1],{type:"addLinks",actor:R[P-1].actor,text:R[P]}];break;case 57:this.$=[R[P-1],{type:"addALink",actor:R[P-1].actor,text:R[P]}];break;case 58:this.$=[R[P-1],{type:"addProperties",actor:R[P-1].actor,text:R[P]}];break;case 59:this.$=[R[P-1],{type:"addDetails",actor:R[P-1].actor,text:R[P]}];break;case 62:this.$=[R[P-2],R[P]];break;case 63:this.$=R[P];break;case 64:this.$=D.PLACEMENT.LEFTOF;break;case 65:this.$=D.PLACEMENT.RIGHTOF;break;case 66:this.$=[R[P-4],R[P-1],{type:"addMessage",from:R[P-4].actor,to:R[P-1].actor,signalType:R[P-3],msg:R[P]},{type:"activeStart",signalType:D.LINETYPE.ACTIVE_START,actor:R[P-1]}];break;case 67:this.$=[R[P-4],R[P-1],{type:"addMessage",from:R[P-4].actor,to:R[P-1].actor,signalType:R[P-3],msg:R[P]},{type:"activeEnd",signalType:D.LINETYPE.ACTIVE_END,actor:R[P-4]}];break;case 68:this.$=[R[P-3],R[P-1],{type:"addMessage",from:R[P-3].actor,to:R[P-1].actor,signalType:R[P-2],msg:R[P]}];break;case 69:this.$={type:"addParticipant",actor:R[P]};break;case 70:this.$=D.LINETYPE.SOLID_OPEN;break;case 71:this.$=D.LINETYPE.DOTTED_OPEN;break;case 72:this.$=D.LINETYPE.SOLID;break;case 73:this.$=D.LINETYPE.DOTTED;break;case 74:this.$=D.LINETYPE.SOLID_CROSS;break;case 75:this.$=D.LINETYPE.DOTTED_CROSS;break;case 76:this.$=D.LINETYPE.SOLID_POINT;break;case 77:this.$=D.LINETYPE.DOTTED_POINT;break;case 78:this.$=D.parseMessage(R[P].trim().substring(1));break;case 79:D.parseDirective("%%{","open_directive");break;case 80:D.parseDirective(R[P],"type_directive");break;case 81:R[P]=R[P].trim().replace(/'/g,'"'),D.parseDirective(R[P],"arg_directive");break;case 82:D.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:e,5:n,6:4,7:r,14:6,83:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,14:6,83:i},{3:9,4:e,5:n,6:4,7:r,14:6,83:i},{3:10,4:e,5:n,6:4,7:r,14:6,83:i},t([1,4,5,19,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],s,{8:11}),{15:12,84:[1,13]},{84:[2,79]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},{16:51,17:[1,52],86:w},t([17,86],[2,80]),t(Q,[2,6]),{6:41,10:54,13:18,14:6,19:l,22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},t(Q,[2,8]),t(Q,[2,9]),t(Q,[2,17]),{20:[1,55]},{5:[1,56]},{5:[1,59],24:[1,57],25:[1,58]},{27:60,73:B},{27:61,73:B},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},{5:[1,66]},t(Q,[2,31]),t(Q,[2,32]),{37:[1,67]},{39:[1,68]},t(Q,[2,35]),{20:[1,69]},{20:[1,70]},{20:[1,71]},{20:[1,72]},{20:[1,73]},{20:[1,74]},{20:[1,75]},t(Q,[2,43]),{27:76,73:B},{27:77,73:B},{70:78,74:[1,79],75:[1,80],76:[1,81],77:[1,82],78:[1,83],79:[1,84],80:[1,85],81:[1,86]},{58:87,60:[1,88],68:[1,89],69:[1,90]},{27:91,73:B},{27:92,73:B},{27:93,73:B},{27:94,73:B},t([5,55,67,74,75,76,77,78,79,80,81,82],[2,69]),{5:[1,95]},{18:96,85:[1,97]},{5:[2,82]},t(Q,[2,7]),t(U,[2,10],{11:98}),t(Q,[2,19]),{5:[1,100],24:[1,99]},{5:[1,101]},t(Q,[2,23]),{5:[1,102]},{5:[1,103]},t(Q,[2,26]),t(Q,[2,27]),t(Q,[2,28]),t(Q,[2,29]),t(Q,[2,30]),t(Q,[2,33]),t(Q,[2,34]),t(W,s,{8:104}),t(W,s,{8:105}),t(W,s,{8:106}),t($,s,{45:107,8:108}),t(X,s,{47:109,8:110}),t(Y,s,{49:111,8:112}),t(W,s,{8:113}),{5:[1,115],55:[1,114]},{5:[1,117],55:[1,116]},{27:120,71:[1,118],72:[1,119],73:B},t(N,[2,70]),t(N,[2,71]),t(N,[2,72]),t(N,[2,73]),t(N,[2,74]),t(N,[2,75]),t(N,[2,76]),t(N,[2,77]),{27:121,73:B},{27:123,61:122,73:B},{73:[2,64]},{73:[2,65]},{59:124,82:he},{59:126,82:he},{59:127,82:he},{59:128,82:he},t(ge,[2,15]),{16:129,86:w},{86:[2,81]},{4:[1,132],5:[1,134],12:131,13:133,21:[1,130],54:I,56:M},{5:[1,135]},t(Q,[2,21]),t(Q,[2,22]),t(Q,[2,24]),t(Q,[2,25]),{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[1,136],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[1,137],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[1,138],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},{21:[1,139]},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[2,48],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,53:[1,140],54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},{21:[1,141]},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[2,46],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,52:[1,142],54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},{21:[1,143]},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[2,44],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,51:[1,144],54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},{4:o,5:a,6:41,9:14,10:16,13:18,14:6,19:l,21:[1,145],22:20,23:u,26:h,27:44,28:d,29:24,30:25,31:26,32:27,33:28,34:f,35:p,36:g,38:m,40:y,41:b,42:O,43:x,44:T,46:A,48:v,50:S,54:I,56:M,57:C,62:E,63:_,64:L,65:k,73:B,83:i},{20:[1,146]},t(Q,[2,51]),{20:[1,147]},t(Q,[2,53]),{27:148,73:B},{27:149,73:B},{59:150,82:he},{59:151,82:he},{59:152,82:he},{67:[1,153],82:[2,63]},{5:[2,56]},{5:[2,78]},{5:[2,57]},{5:[2,58]},{5:[2,59]},{5:[1,154]},t(Q,[2,18]),t(U,[2,11]),{13:155,54:I,56:M},t(U,[2,13]),t(U,[2,14]),t(Q,[2,20]),t(Q,[2,36]),t(Q,[2,37]),t(Q,[2,38]),t(Q,[2,39]),{20:[1,156]},t(Q,[2,40]),{20:[1,157]},t(Q,[2,41]),{20:[1,158]},t(Q,[2,42]),{5:[1,159]},{5:[1,160]},{59:161,82:he},{59:162,82:he},{5:[2,68]},{5:[2,54]},{5:[2,55]},{27:163,73:B},t(ge,[2,16]),t(U,[2,12]),t($,s,{8:108,45:164}),t(X,s,{8:110,47:165}),t(Y,s,{8:112,49:166}),t(Q,[2,50]),t(Q,[2,52]),{5:[2,66]},{5:[2,67]},{82:[2,62]},{21:[2,49]},{21:[2,47]},{21:[2,45]}],defaultActions:{7:[2,79],8:[2,1],9:[2,2],10:[2,3],53:[2,82],89:[2,64],90:[2,65],97:[2,81],124:[2,56],125:[2,78],126:[2,57],127:[2,58],128:[2,59],150:[2,68],151:[2,54],152:[2,55],161:[2,66],162:[2,67],163:[2,62],164:[2,49],165:[2,47],166:[2,45]},parseError:function(H,G){if(G.recoverable)this.trace(H);else{var z=new Error(H);throw z.hash=G,z}},parse:function(H){var G=this,z=[0],D=[],F=[null],R=[],Z=this.table,P="",ye=0,q=0,de=2,ce=1,te=R.slice.call(arguments,1),se=Object.create(this.lexer),fe={yy:{}};for(var le in this.yy)Object.prototype.hasOwnProperty.call(this.yy,le)&&(fe.yy[le]=this.yy[le]);se.setInput(H,fe.yy),fe.yy.lexer=se,fe.yy.parser=this,typeof se.yylloc>"u"&&(se.yylloc={});var me=se.yylloc;R.push(me);var oe=se.options&&se.options.ranges;typeof fe.yy.parseError=="function"?this.parseError=fe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function be(){var xe;return xe=D.pop()||se.lex()||ce,typeof xe!="number"&&(xe instanceof Array&&(D=xe,xe=D.pop()),xe=G.symbols_[xe]||xe),xe}for(var _e,Ee,Ie,lt,Ge={},Ve,Fe,ve,Oe;;){if(Ee=z[z.length-1],this.defaultActions[Ee]?Ie=this.defaultActions[Ee]:((_e===null||typeof _e>"u")&&(_e=be()),Ie=Z[Ee]&&Z[Ee][_e]),typeof Ie>"u"||!Ie.length||!Ie[0]){var Pe="";Oe=[];for(Ve in Z[Ee])this.terminals_[Ve]&&Ve>de&&Oe.push("'"+this.terminals_[Ve]+"'");se.showPosition?Pe="Parse error on line "+(ye+1)+`:
`+se.showPosition()+`
Expecting `+Oe.join(", ")+", got '"+(this.terminals_[_e]||_e)+"'":Pe="Parse error on line "+(ye+1)+": Unexpected "+(_e==ce?"end of input":"'"+(this.terminals_[_e]||_e)+"'"),this.parseError(Pe,{text:se.match,token:this.terminals_[_e]||_e,line:se.yylineno,loc:me,expected:Oe})}if(Ie[0]instanceof Array&&Ie.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+_e);switch(Ie[0]){case 1:z.push(_e),F.push(se.yytext),R.push(se.yylloc),z.push(Ie[1]),_e=null,q=se.yyleng,P=se.yytext,ye=se.yylineno,me=se.yylloc;break;case 2:if(Fe=this.productions_[Ie[1]][1],Ge.$=F[F.length-Fe],Ge._$={first_line:R[R.length-(Fe||1)].first_line,last_line:R[R.length-1].last_line,first_column:R[R.length-(Fe||1)].first_column,last_column:R[R.length-1].last_column},oe&&(Ge._$.range=[R[R.length-(Fe||1)].range[0],R[R.length-1].range[1]]),lt=this.performAction.apply(Ge,[P,q,ye,fe.yy,Ie[1],F,R].concat(te)),typeof lt<"u")return lt;Fe&&(z=z.slice(0,-1*Fe*2),F=F.slice(0,-1*Fe),R=R.slice(0,-1*Fe)),z.push(this.productions_[Ie[1]][0]),F.push(Ge.$),R.push(Ge._$),ve=Z[z[z.length-2]][z[z.length-1]],z.push(ve);break;case 3:return!0}}return!0}},Te=function(){var ee={EOF:1,parseError:function(G,z){if(this.yy.parser)this.yy.parser.parseError(G,z);else throw new Error(G)},setInput:function(H,G){return this.yy=G||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var G=H.match(/(?:\r\n?|\n).*/g);return G?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},unput:function(H){var G=H.length,z=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var D=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var F=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===D.length?this.yylloc.first_column:0)+D[D.length-z.length].length-z[0].length:this.yylloc.first_column-G},this.options.ranges&&(this.yylloc.range=[F[0],F[0]+this.yyleng-G]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(H){this.unput(this.match.slice(H))},pastInput:function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var H=this.pastInput(),G=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+G+"^"},test_match:function(H,G){var z,D,F;if(this.options.backtrack_lexer&&(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(F.yylloc.range=this.yylloc.range.slice(0))),D=H[0].match(/(?:\r\n?|\n).*/g),D&&(this.yylineno+=D.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:D?D[D.length-1].length-D[D.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],z=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var R in F)this[R]=F[R];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,G,z,D;this._more||(this.yytext="",this.match="");for(var F=this._currentRules(),R=0;R<F.length;R++)if(z=this._input.match(this.rules[F[R]]),z&&(!G||z[0].length>G[0].length)){if(G=z,D=R,this.options.backtrack_lexer){if(H=this.test_match(z,F[R]),H!==!1)return H;if(this._backtrack){G=!1;continue}else return!1}else if(!this.options.flex)break}return G?(H=this.test_match(G,F[D]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var G=this.next();return G||this.lex()},begin:function(G){this.conditionStack.push(G)},popState:function(){var G=this.conditionStack.length-1;return G>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(G){return G=this.conditionStack.length-1-Math.abs(G||0),G>=0?this.conditionStack[G]:"INITIAL"},pushState:function(G){this.begin(G)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(G,z,D,F){switch(D){case 0:return this.begin("open_directive"),83;case 1:return this.begin("type_directive"),84;case 2:return this.popState(),this.begin("arg_directive"),17;case 3:return this.popState(),this.popState(),86;case 4:return 85;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 24;case 12:return this.begin("LINE"),19;case 13:return this.begin("ID"),54;case 14:return this.begin("ID"),56;case 15:return z.yytext=z.yytext.trim(),this.begin("ALIAS"),73;case 16:return this.popState(),this.popState(),this.begin("LINE"),55;case 17:return this.popState(),this.popState(),5;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),44;case 22:return this.begin("LINE"),53;case 23:return this.begin("LINE"),46;case 24:return this.begin("LINE"),52;case 25:return this.begin("LINE"),48;case 26:return this.begin("LINE"),51;case 27:return this.begin("LINE"),50;case 28:return this.popState(),20;case 29:return 21;case 30:return 68;case 31:return 69;case 32:return 62;case 33:return 63;case 34:return 64;case 35:return 65;case 36:return 60;case 37:return 57;case 38:return this.begin("ID"),26;case 39:return this.begin("ID"),28;case 40:return 34;case 41:return 35;case 42:return this.begin("acc_title"),36;case 43:return this.popState(),"acc_title_value";case 44:return this.begin("acc_descr"),38;case 45:return this.popState(),"acc_descr_value";case 46:this.begin("acc_descr_multiline");break;case 47:this.popState();break;case 48:return"acc_descr_multiline_value";case 49:return 7;case 50:return 23;case 51:return 25;case 52:return 67;case 53:return 5;case 54:return z.yytext=z.yytext.trim(),73;case 55:return 76;case 56:return 77;case 57:return 74;case 58:return 75;case 59:return 78;case 60:return 79;case 61:return 80;case 62:return 81;case 63:return 82;case 64:return 71;case 65:return 72;case 66:return 5;case 67:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[47,48],inclusive:!1},acc_descr:{rules:[45],inclusive:!1},acc_title:{rules:[43],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,15],inclusive:!1},ALIAS:{rules:[7,8,16,17],inclusive:!1},LINE:{rules:[7,8,28],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,44,46,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return ee}();j.lexer=Te;function K(){this.yy={}}return K.prototype=j,j.Parser=K,new K}();US.parser=US;const _nt=US,vnt=t=>t.match(/^\s*sequenceDiagram/)!==null;let kp,yc={},Of=[],ko=[],mx=!1,jS,tl;const Snt=function(t,e,n){An.parseDirective(this,t,e,n)},Cnt=function(t){Of.push({name:t.text,wrap:t.wrap===void 0&&yh()||!!t.wrap,fill:t.color,actorKeys:[]}),tl=Of.slice(-1)[0]},qS=function(t,e,n,r){let i=tl;const s=yc[t];if(s){if(tl&&s.box&&tl!==s.box)throw new Error("A same participant should only be defined in one Box: "+s.name+" can't be in '"+s.box.name+"' and in '"+tl.name+"' at the same time.");if(i=s.box?s.box:tl,s.box=i,s&&e===s.name&&n==null)return}(n==null||n.text==null)&&(n={text:e,wrap:null,type:r}),(r==null||n.text==null)&&(n={text:e,wrap:null,type:r}),yc[t]={box:i,name:e,description:n.text,wrap:n.wrap===void 0&&yh()||!!n.wrap,prevActor:kp,links:{},properties:{},actorCnt:null,rectData:null,type:r||"participant"},kp&&yc[kp]&&(yc[kp].nextActor=t),tl&&tl.actorKeys.push(t),kp=t},Ent=t=>{let e,n=0;for(e=0;e<ko.length;e++)ko[e].type===Ym.ACTIVE_START&&ko[e].from.actor===t&&n++,ko[e].type===Ym.ACTIVE_END&&ko[e].from.actor===t&&n--;return n},Tnt=function(t,e,n,r){ko.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&yh()||!!n.wrap,answer:r})},Vn=function(t,e,n={text:void 0,wrap:void 0},r){if(r===Ym.ACTIVE_END&&Ent(t.actor)<1){let s=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return ko.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&yh()||!!n.wrap,type:r}),!0},Dnt=function(){return Of.length>0},Ant=function(){return Of.some(t=>t.name)},Mnt=function(){return ko},Pnt=function(){return Of},$nt=function(){return yc},J0=function(t){return yc[t]},Rnt=function(){return Object.keys(yc)},Lnt=function(){mx=!0},Int=function(){mx=!1},Nnt=()=>mx,Fnt=function(t){jS=t},yh=()=>jS!==void 0?jS:re().sequence.wrap,Bnt=function(){yc={},Of=[],ko=[],mx=!1,Ts()},Qnt=function(t){const e=t.trim(),n={text:e.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:e.match(/^:?wrap:/)!==null?!0:e.match(/^:?nowrap:/)!==null?!1:void 0};return V.debug("parseMessage:",n),n},znt=function(t){const e=t.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/);let n=e!=null&&e[1]?e[1].trim():"transparent",r=e!=null&&e[2]?e[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",n)||(n="transparent",r=t.trim());else{const s=new Option().style;s.color=n,s.color!==n&&(n="transparent",r=t.trim())}return{color:n,text:r!==void 0?eo(r.replace(/^:?(?:no)?wrap:/,""),re()):void 0,wrap:r!==void 0?r.match(/^:?wrap:/)!==null?!0:r.match(/^:?nowrap:/)!==null?!1:void 0:void 0}},Ym={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},Vnt={FILLED:0,OPEN:1},Wnt={LEFTOF:0,RIGHTOF:1,OVER:2},QU=function(t,e,n){n.text,n.wrap===void 0&&yh()||n.wrap;const r=[].concat(t,t);ko.push({from:r[0],to:r[1],message:n.text,wrap:n.wrap===void 0&&yh()||!!n.wrap,type:Ym.NOTE,placement:e})},zU=function(t,e){const n=J0(t);try{let r=eo(e.text,re());r=r.replace(/&amp;/g,"&"),r=r.replace(/&equals;/g,"=");const i=JSON.parse(r);MT(n,i)}catch(r){V.error("error while parsing actor link text",r)}},Unt=function(t,e){const n=J0(t);try{const o={};let a=eo(e.text,re());var r=a.indexOf("@");a=a.replace(/&amp;/g,"&"),a=a.replace(/&equals;/g,"=");var i=a.slice(0,r-1).trim(),s=a.slice(r+1).trim();o[i]=s,MT(n,o)}catch(o){V.error("error while parsing actor link text",o)}};function MT(t,e){if(t.links==null)t.links=e;else for(let n in e)t.links[n]=e[n]}const VU=function(t,e){const n=J0(t);try{let r=eo(e.text,re());const i=JSON.parse(r);WU(n,i)}catch(r){V.error("error while parsing actor properties text",r)}};function WU(t,e){if(t.properties==null)t.properties=e;else for(let n in e)t.properties[n]=e[n]}function jnt(){tl=void 0}const UU=function(t,e){const n=J0(t),r=document.getElementById(e.text);try{const i=r.innerHTML,s=JSON.parse(i);s.properties&&WU(n,s.properties),s.links&&MT(n,s.links)}catch(i){V.error("error while parsing actor details text",i)}},qnt=function(t,e){if(t!==void 0&&t.properties!==void 0)return t.properties[e]},jU=function(t){if(Array.isArray(t))t.forEach(function(e){jU(e)});else switch(t.type){case"sequenceIndex":ko.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":qS(t.actor,t.actor,t.description,"participant");break;case"addActor":qS(t.actor,t.actor,t.description,"actor");break;case"activeStart":Vn(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":Vn(t.actor,void 0,void 0,t.signalType);break;case"addNote":QU(t.actor,t.placement,t.text);break;case"addLinks":zU(t.actor,t.text);break;case"addALink":Unt(t.actor,t.text);break;case"addProperties":VU(t.actor,t.text);break;case"addDetails":UU(t.actor,t.text);break;case"addMessage":Vn(t.from,t.to,t.msg,t.signalType);break;case"boxStart":Cnt(t.boxData);break;case"boxEnd":jnt();break;case"loopStart":Vn(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":Vn(void 0,void 0,void 0,t.signalType);break;case"rectStart":Vn(void 0,void 0,t.color,t.signalType);break;case"rectEnd":Vn(void 0,void 0,void 0,t.signalType);break;case"optStart":Vn(void 0,void 0,t.optText,t.signalType);break;case"optEnd":Vn(void 0,void 0,void 0,t.signalType);break;case"altStart":Vn(void 0,void 0,t.altText,t.signalType);break;case"else":Vn(void 0,void 0,t.altText,t.signalType);break;case"altEnd":Vn(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":ls(t.text);break;case"parStart":Vn(void 0,void 0,t.parText,t.signalType);break;case"and":Vn(void 0,void 0,t.parText,t.signalType);break;case"parEnd":Vn(void 0,void 0,void 0,t.signalType);break;case"criticalStart":Vn(void 0,void 0,t.criticalText,t.signalType);break;case"option":Vn(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":Vn(void 0,void 0,void 0,t.signalType);break;case"breakStart":Vn(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":Vn(void 0,void 0,void 0,t.signalType);break}},hP={addActor:qS,addMessage:Tnt,addSignal:Vn,addLinks:zU,addDetails:UU,addProperties:VU,autoWrap:yh,setWrap:Fnt,enableSequenceNumbers:Lnt,disableSequenceNumbers:Int,showSequenceNumbers:Nnt,getMessages:Mnt,getActors:$nt,getActor:J0,getActorKeys:Rnt,getActorProperty:qnt,getAccTitle:Ds,getBoxes:Pnt,getDiagramTitle:qo,setDiagramTitle:jo,parseDirective:Snt,getConfig:()=>re().sequence,clear:Bnt,parseMessage:Qnt,parseBoxData:znt,LINETYPE:Ym,ARROWTYPE:Vnt,PLACEMENT:Wnt,addNote:QU,setAccTitle:ls,apply:jU,setAccDescription:As,getAccDescription:Ms,hasAtLeastOneBox:Dnt,hasAtLeastOneBoxWithTitle:Ant};let YS=[];const Ynt=t=>{YS.push(t)},qU=()=>{YS.forEach(t=>{t()}),YS=[]},yx=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.class!==void 0&&n.attr("class",e.class),n},YU=(t,e)=>{Ynt(()=>{const n=document.querySelectorAll(t);n.length!==0&&(n[0].addEventListener("mouseover",function(){Gnt("actor"+e+"_popup")}),n[0].addEventListener("mouseout",function(){Knt("actor"+e+"_popup")}))})},Znt=function(t,e,n,r,i){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const s=e.links,o=e.actorCnt,a=e.rectData;var l="none";i&&(l="block !important");const u=t.append("g");u.attr("id","actor"+o+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l),YU("#actor"+o+"_popup",o);var h="";a.class!==void 0&&(h=" "+a.class);let d=a.width>n?a.width:n;const f=u.append("rect");if(f.attr("class","actorPopupMenuPanel"+h),f.attr("x",a.x),f.attr("y",a.height),f.attr("fill",a.fill),f.attr("stroke",a.stroke),f.attr("width",d),f.attr("height",a.height),f.attr("rx",a.rx),f.attr("ry",a.ry),s!=null){var p=20;for(let y in s){var g=u.append("a"),m=Il.sanitizeUrl(s[y]);g.attr("xlink:href",m),g.attr("target","_blank"),frt(r)(y,g,a.x+10,a.height+p,d,20,{class:"actor"},r),p+=30}}return f.attr("height",p),{height:a.height+p,width:d}},ZU=function(t,e,n,r){const i=t.append("image");i.attr("x",e),i.attr("y",n);var s=Il.sanitizeUrl(r);i.attr("xlink:href",s)},XU=function(t,e,n,r){const i=t.append("use");i.attr("x",e),i.attr("y",n);var s=Il.sanitizeUrl(r);i.attr("xlink:href","#"+s)},Xnt=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'block'; }"},Hnt=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'none'; }"},Gnt=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="block")},Knt=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="none")},kf=function(t,e){let n=0,r=0;const i=e.text.split(gt.lineBreakRegex),[s,o]=q0(e.fontSize);let a=[],l=0,u=()=>e.y;if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":u=()=>Math.round(e.y+(n+r+e.textMargin)/2);break;case"bottom":case"end":u=()=>Math.round(e.y+(n+r+2*e.textMargin)-e.textMargin);break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[h,d]of i.entries()){e.textMargin!==void 0&&e.textMargin===0&&s!==void 0&&(l=h*s);const f=t.append("text");if(f.attr("x",e.x),f.attr("y",u()),e.anchor!==void 0&&f.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&f.style("font-family",e.fontFamily),o!==void 0&&f.style("font-size",o),e.fontWeight!==void 0&&f.style("font-weight",e.fontWeight),e.fill!==void 0&&f.attr("fill",e.fill),e.class!==void 0&&f.attr("class",e.class),e.dy!==void 0?f.attr("dy",e.dy):l!==0&&f.attr("dy",l),e.tspan){const p=f.append("tspan");p.attr("x",e.x),e.fill!==void 0&&p.attr("fill",e.fill),p.text(d)}else f.text(d);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(r+=(f._groups||f)[0][0].getBBox().height,n=r),a.push(f)}return a},HU=function(t,e){function n(i,s,o,a,l){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+a-l)+" "+(i+o-l*1.2)+","+(s+a)+" "+i+","+(s+a)}const r=t.append("polygon");return r.attr("points",n(e.x,e.y,e.width,e.height,7)),r.attr("class","labelBox"),e.y=e.y+e.height/2,kf(t,e),r};let da=-1;const GU=(t,e)=>{t.selectAll&&t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},Jnt=function(t,e,n,r){const i=e.x+e.width/2,s=e.y+5,o=t.append("g");var a=o;r||(da++,a.append("line").attr("id","actor"+da).attr("x1",i).attr("y1",s).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),a=o.append("g"),e.actorCnt=da,e.links!=null&&(a.attr("id","root-"+da),YU("#root-"+da,da)));const l=bx();var u="actor";e.properties!=null&&e.properties.class?u=e.properties.class:l.fill="#eaeaea",l.x=e.x,l.y=e.y,l.width=e.width,l.height=e.height,l.class=u,l.rx=3,l.ry=3;const h=yx(a,l);if(e.rectData=l,e.properties!=null&&e.properties.icon){const f=e.properties.icon.trim();f.charAt(0)==="@"?XU(a,l.x+l.width-20,l.y+10,f.substr(1)):ZU(a,l.x+l.width-20,l.y+10,f)}PT(n)(e.description,a,l.x,l.y,l.width,l.height,{class:"actor"},n);let d=e.height;if(h.node){const f=h.node().getBBox();e.height=f.height,d=f.height}return d},ert=function(t,e,n,r){const i=e.x+e.width/2,s=e.y+80;r||(da++,t.append("line").attr("id","actor"+da).attr("x1",i).attr("y1",s).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const o=t.append("g");o.attr("class","actor-man");const a=bx();a.x=e.x,a.y=e.y,a.fill="#eaeaea",a.width=e.width,a.height=e.height,a.class="actor",a.rx=3,a.ry=3,o.append("line").attr("id","actor-man-torso"+da).attr("x1",i).attr("y1",e.y+25).attr("x2",i).attr("y2",e.y+45),o.append("line").attr("id","actor-man-arms"+da).attr("x1",i-18).attr("y1",e.y+33).attr("x2",i+18).attr("y2",e.y+33),o.append("line").attr("x1",i-18).attr("y1",e.y+60).attr("x2",i).attr("y2",e.y+45),o.append("line").attr("x1",i).attr("y1",e.y+45).attr("x2",i+16).attr("y2",e.y+60);const l=o.append("circle");l.attr("cx",e.x+e.width/2),l.attr("cy",e.y+10),l.attr("r",15),l.attr("width",e.width),l.attr("height",e.height);const u=o.node().getBBox();return e.height=u.height,PT(n)(e.description,o,a.x,a.y+35,a.width,a.height,{class:"actor"},n),e.height},trt=function(t,e,n,r){switch(e.type){case"actor":return ert(t,e,n,r);case"participant":return Jnt(t,e,n,r)}},nrt=function(t,e,n){const i=t.append("g");KU(i,e),e.name&&PT(n)(e.name,i,e.x,e.y+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},n),i.lower()},rrt=function(t){return t.append("g")},irt=function(t,e,n,r,i){const s=bx(),o=e.anchored;s.x=e.startx,s.y=e.starty,s.class="activation"+i%3,s.width=e.stopx-e.startx,s.height=n-e.starty,yx(o,s)},srt=function(t,e,n,r){const{boxMargin:i,boxTextMargin:s,labelBoxHeight:o,labelBoxWidth:a,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=r,d=t.append("g"),f=function(m,y,b,O){return d.append("line").attr("x1",m).attr("y1",y).attr("x2",b).attr("y2",O).attr("class","loopLine")};f(e.startx,e.starty,e.stopx,e.starty),f(e.stopx,e.starty,e.stopx,e.stopy),f(e.startx,e.stopy,e.stopx,e.stopy),f(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(m){f(e.startx,m.y,e.stopx,m.y).style("stroke-dasharray","3, 3")});let p=ZS();p.text=n,p.x=e.startx,p.y=e.starty,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=a||50,p.height=o||20,p.textMargin=s,p.class="labelText",HU(d,p),p=ZS(),p.text=e.title,p.x=e.startx+a/2+(e.stopx-e.startx)/2,p.y=e.starty+i+s,p.anchor="middle",p.valign="middle",p.textMargin=s,p.class="loopText",p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=!0;let g=kf(d,p);return e.sectionTitles!==void 0&&e.sectionTitles.forEach(function(m,y){if(m.message){p.text=m.message,p.x=e.startx+(e.stopx-e.startx)/2,p.y=e.sections[y].y+i+s,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=e.wrap,g=kf(d,p);let b=Math.round(g.map(O=>(O._groups||O)[0][0].getBBox().height).reduce((O,x)=>O+x));e.sections[y].height+=b-(i+s)}}),e.height=Math.round(e.stopy-e.starty),d},KU=function(t,e){yx(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"}).lower()},ort=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},art=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},lrt=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},crt=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},urt=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},hrt=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},drt=function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},ZS=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},bx=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},PT=function(){function t(i,s,o,a,l,u,h){const d=s.append("text").attr("x",o+l/2).attr("y",a+u/2+5).style("text-anchor","middle").text(i);r(d,h)}function e(i,s,o,a,l,u,h,d){const{actorFontSize:f,actorFontFamily:p,actorFontWeight:g}=d,[m,y]=q0(f),b=i.split(gt.lineBreakRegex);for(let O=0;O<b.length;O++){const x=O*m-m*(b.length-1)/2,T=s.append("text").attr("x",o+l/2).attr("y",a).style("text-anchor","middle").style("font-size",y).style("font-weight",g).style("font-family",p);T.append("tspan").attr("x",o+l/2).attr("dy",x).text(b[O]),T.attr("y",a+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(T,h)}}function n(i,s,o,a,l,u,h,d){const f=s.append("switch"),g=f.append("foreignObject").attr("x",o).attr("y",a).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,o,a,l,u,h,d),r(g,h)}function r(i,s){for(const o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),frt=function(){function t(i,s,o,a,l,u,h){const d=s.append("text").attr("x",o).attr("y",a).style("text-anchor","start").text(i);r(d,h)}function e(i,s,o,a,l,u,h,d){const{actorFontSize:f,actorFontFamily:p,actorFontWeight:g}=d,m=i.split(gt.lineBreakRegex);for(let y=0;y<m.length;y++){const b=y*f-f*(m.length-1)/2,O=s.append("text").attr("x",o).attr("y",a).style("text-anchor","start").style("font-size",f).style("font-weight",g).style("font-family",p);O.append("tspan").attr("x",o).attr("dy",b).text(m[y]),O.attr("y",a+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(O,h)}}function n(i,s,o,a,l,u,h,d){const f=s.append("switch"),g=f.append("foreignObject").attr("x",o).attr("y",a).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,o,a,l,u,h,d),r(g,h)}function r(i,s){for(const o in s)s.hasOwnProperty(o)&&i.attr(o,s[o])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),Pn={drawRect:yx,drawText:kf,drawLabel:HU,drawActor:trt,drawBox:nrt,drawPopup:Znt,drawImage:ZU,drawEmbeddedImage:XU,anchorElement:rrt,drawActivation:irt,drawLoop:srt,drawBackgroundRect:KU,insertArrowHead:crt,insertArrowFilledHead:urt,insertSequenceNumber:hrt,insertArrowCrossHead:drt,insertDatabaseIcon:ort,insertComputerIcon:art,insertClockIcon:lrt,getTextObj:ZS,getNoteRect:bx,popupMenu:Xnt,popdownMenu:Hnt,fixLifeLineHeights:GU,sanitizeUrl:Il.sanitizeUrl};let ue={};const $e={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(t){this.boxes.push(t)},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,ej(re())},updateVal:function(t,e,n,r){t[e]===void 0?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=this;let s=0;function o(a){return function(u){s++;const h=i.sequenceItems.length-s+1;i.updateVal(u,"starty",e-h*ue.boxMargin,Math.min),i.updateVal(u,"stopy",r+h*ue.boxMargin,Math.max),i.updateVal($e.data,"startx",t-h*ue.boxMargin,Math.min),i.updateVal($e.data,"stopx",n+h*ue.boxMargin,Math.max),a!=="activation"&&(i.updateVal(u,"startx",t-h*ue.boxMargin,Math.min),i.updateVal(u,"stopx",n+h*ue.boxMargin,Math.max),i.updateVal($e.data,"starty",e-h*ue.boxMargin,Math.min),i.updateVal($e.data,"stopy",r+h*ue.boxMargin,Math.max))}}this.sequenceItems.forEach(o()),this.activations.forEach(o("activation"))},insert:function(t,e,n,r){const i=Math.min(t,n),s=Math.max(t,n),o=Math.min(e,r),a=Math.max(e,r);this.updateVal($e.data,"startx",i,Math.min),this.updateVal($e.data,"starty",o,Math.min),this.updateVal($e.data,"stopx",s,Math.max),this.updateVal($e.data,"stopy",a,Math.max),this.updateBounds(i,o,s,a)},newActivation:function(t,e,n){const r=n[t.from.actor],i=Ox(t.from.actor).length||0,s=r.x+r.width/2+(i-1)*ue.activationWidth/2;this.activations.push({startx:s,starty:this.verticalPos+2,stopx:s+ue.activationWidth,stopy:void 0,actor:t.from.actor,anchored:Pn.anchorElement(e)})},endActivation:function(t){const e=this.activations.map(function(n){return n.actor}).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:$e.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},prt=function(t,e){$e.bumpVerticalPos(ue.boxMargin),e.height=ue.boxMargin,e.starty=$e.getVerticalPos();const n=Pn.getNoteRect();n.x=e.startx,n.y=e.starty,n.width=e.width||ue.width,n.class="note";const r=t.append("g"),i=Pn.drawRect(r,n),s=Pn.getTextObj();s.x=e.startx,s.y=e.starty,s.width=n.width,s.dy="1em",s.text=e.message,s.class="noteText",s.fontFamily=ue.noteFontFamily,s.fontSize=ue.noteFontSize,s.fontWeight=ue.noteFontWeight,s.anchor=ue.noteAlign,s.textMargin=ue.noteMargin,s.valign="center";const o=kf(r,s),a=Math.round(o.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",a+2*ue.noteMargin),e.height+=a+2*ue.noteMargin,$e.bumpVerticalPos(a+2*ue.noteMargin),e.stopy=e.starty+a+2*ue.noteMargin,e.stopx=e.startx+n.width,$e.insert(e.startx,e.starty,e.stopx,e.stopy),$e.models.addNote(e)},bh=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),td=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),XS=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight});function grt(t,e){$e.bumpVerticalPos(10);const{startx:n,stopx:r,message:i}=e,s=gt.splitBreaks(i).length,o=pt.calculateTextDimensions(i,bh(ue)),a=o.height/s;e.height+=a,$e.bumpVerticalPos(a);let l,u=o.height-10;const h=o.width;if(n===r){l=$e.getVerticalPos()+u,ue.rightAngles||(u+=ue.boxMargin,l=$e.getVerticalPos()+u),u+=30;const d=Math.max(h/2,ue.width/2);$e.insert(n-d,$e.getVerticalPos()-10+u,r+d,$e.getVerticalPos()+30+u)}else u+=ue.boxMargin,l=$e.getVerticalPos()+u,$e.insert(n,l-10,r,l);return $e.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,$e.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l}const mrt=function(t,e,n,r){const{startx:i,stopx:s,starty:o,message:a,type:l,sequenceIndex:u,sequenceVisible:h}=e,d=pt.calculateTextDimensions(a,bh(ue)),f=Pn.getTextObj();f.x=i,f.y=o+10,f.width=s-i,f.class="messageText",f.dy="1em",f.text=a,f.fontFamily=ue.messageFontFamily,f.fontSize=ue.messageFontSize,f.fontWeight=ue.messageFontWeight,f.anchor=ue.messageAlign,f.valign="center",f.textMargin=ue.wrapPadding,f.tspan=!1,kf(t,f);const p=d.width;let g;i===s?ue.rightAngles?g=t.append("path").attr("d",`M  ${i},${n} H ${i+Math.max(ue.width/2,p/2)} V ${n+25} H ${i}`):g=t.append("path").attr("d","M "+i+","+n+" C "+(i+60)+","+(n-10)+" "+(i+60)+","+(n+30)+" "+i+","+(n+20)):(g=t.append("line"),g.attr("x1",i),g.attr("y1",n),g.attr("x2",s),g.attr("y2",n)),l===r.db.LINETYPE.DOTTED||l===r.db.LINETYPE.DOTTED_CROSS||l===r.db.LINETYPE.DOTTED_POINT||l===r.db.LINETYPE.DOTTED_OPEN?(g.style("stroke-dasharray","3, 3"),g.attr("class","messageLine1")):g.attr("class","messageLine0");let m="";ue.arrowMarkerAbsolute&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),g.attr("stroke-width",2),g.attr("stroke","none"),g.style("fill","none"),(l===r.db.LINETYPE.SOLID||l===r.db.LINETYPE.DOTTED)&&g.attr("marker-end","url("+m+"#arrowhead)"),(l===r.db.LINETYPE.SOLID_POINT||l===r.db.LINETYPE.DOTTED_POINT)&&g.attr("marker-end","url("+m+"#filled-head)"),(l===r.db.LINETYPE.SOLID_CROSS||l===r.db.LINETYPE.DOTTED_CROSS)&&g.attr("marker-end","url("+m+"#crosshead)"),(h||ue.showSequenceNumbers)&&(g.attr("marker-start","url("+m+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},HS=function(t,e,n,r,i,s,o){if(i.hideUnusedParticipants===!0){const d=new Set;s.forEach(f=>{d.add(f.from),d.add(f.to)}),n=n.filter(f=>d.has(f))}let a=0,l=0,u=0,h;for(const d of n){const f=e[d],p=f.box;h&&h!=p&&(o||$e.models.addBox(h),l+=ue.boxMargin+h.margin),p&&p!=h&&(o||(p.x=a+l,p.y=r),l+=p.margin),f.width=f.width||ue.width,f.height=Math.max(f.height||ue.height,ue.height),f.margin=f.margin||ue.actorMargin,f.x=a+l,f.y=$e.getVerticalPos();const g=Pn.drawActor(t,f,ue,o);u=Math.max(u,g),$e.insert(f.x,r,f.x+f.width,f.height),a+=f.width+l,f.box&&(f.box.width=a+p.margin-f.box.x),l=f.margin,h=f.box,$e.models.addActor(f)}h&&!o&&$e.models.addBox(h),$e.bumpVerticalPos(u)},JU=function(t,e,n,r){let i=0,s=0;for(const o of n){const a=e[o],l=Ort(a),u=Pn.drawPopup(t,a,l,ue,ue.forceMenus,r);u.height>i&&(i=u.height),u.width+a.x>s&&(s=u.width+a.x)}return{maxHeight:i,maxWidth:s}},ej=function(t){Sr(ue,t),t.fontFamily&&(ue.actorFontFamily=ue.noteFontFamily=ue.messageFontFamily=t.fontFamily),t.fontSize&&(ue.actorFontSize=ue.noteFontSize=ue.messageFontSize=t.fontSize),t.fontWeight&&(ue.actorFontWeight=ue.noteFontWeight=ue.messageFontWeight=t.fontWeight)},Ox=function(t){return $e.activations.filter(function(e){return e.actor===t})},dP=function(t,e){const n=e[t],r=Ox(t),i=r.reduce(function(o,a){return Math.min(o,a.startx)},n.x+n.width/2),s=r.reduce(function(o,a){return Math.max(o,a.stopx)},n.x+n.width/2);return[i,s]};function Go(t,e,n,r,i){$e.bumpVerticalPos(n);let s=r;if(e.id&&e.message&&t[e.id]){const o=t[e.id].width,a=bh(ue);e.message=pt.wrapLabel(`[${e.message}]`,o-2*ue.wrapPadding,a),e.width=o,e.wrap=!0;const l=pt.calculateTextDimensions(e.message,a),u=Math.max(l.height,ue.labelBoxHeight);s=r+u,V.debug(`${u} - ${e.message}`)}i(e),$e.bumpVerticalPos(s)}const yrt=function(t,e,n,r){const{securityLevel:i,sequence:s}=re();ue=s,r.db.clear(),r.parser.parse(t);let o;i==="sandbox"&&(o=De("#i"+e));const a=De(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?o.nodes()[0].contentDocument:document;$e.init(),V.debug(r.db);const u=i==="sandbox"?a.select(`[id="${e}"]`):De(`[id="${e}"]`),h=r.db.getActors(),d=r.db.getBoxes(),f=r.db.getActorKeys(),p=r.db.getMessages(),g=r.db.getDiagramTitle(),m=r.db.hasAtLeastOneBox(),y=r.db.hasAtLeastOneBoxWithTitle(),b=brt(h,p,r);ue.height=krt(h,b,d),Pn.insertComputerIcon(u),Pn.insertDatabaseIcon(u),Pn.insertClockIcon(u),m&&($e.bumpVerticalPos(ue.boxMargin),y&&$e.bumpVerticalPos(d[0].textMaxHeight)),HS(u,h,f,0,ue,p,!1);const O=_rt(p,h,b,r);Pn.insertArrowHead(u),Pn.insertArrowCrossHead(u),Pn.insertArrowFilledHead(u),Pn.insertSequenceNumber(u);function x(B,w){const Q=$e.endActivation(B);Q.starty+18>w&&(Q.starty=w-6,w+=12),Pn.drawActivation(u,Q,w,ue,Ox(B.from.actor).length),$e.insert(Q.startx,w-10,Q.stopx,w)}let T=1,A=1;const v=[];p.forEach(function(B){let w,Q,U;switch(B.type){case r.db.LINETYPE.NOTE:Q=B.noteModel,prt(u,Q);break;case r.db.LINETYPE.ACTIVE_START:$e.newActivation(B,u,h);break;case r.db.LINETYPE.ACTIVE_END:x(B,$e.getVerticalPos());break;case r.db.LINETYPE.LOOP_START:Go(O,B,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,W=>$e.newLoop(W));break;case r.db.LINETYPE.LOOP_END:w=$e.endLoop(),Pn.drawLoop(u,w,"loop",ue),$e.bumpVerticalPos(w.stopy-$e.getVerticalPos()),$e.models.addLoop(w);break;case r.db.LINETYPE.RECT_START:Go(O,B,ue.boxMargin,ue.boxMargin,W=>$e.newLoop(void 0,W.message));break;case r.db.LINETYPE.RECT_END:w=$e.endLoop(),Pn.drawBackgroundRect(u,w),$e.models.addLoop(w),$e.bumpVerticalPos(w.stopy-$e.getVerticalPos());break;case r.db.LINETYPE.OPT_START:Go(O,B,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,W=>$e.newLoop(W));break;case r.db.LINETYPE.OPT_END:w=$e.endLoop(),Pn.drawLoop(u,w,"opt",ue),$e.bumpVerticalPos(w.stopy-$e.getVerticalPos()),$e.models.addLoop(w);break;case r.db.LINETYPE.ALT_START:Go(O,B,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,W=>$e.newLoop(W));break;case r.db.LINETYPE.ALT_ELSE:Go(O,B,ue.boxMargin+ue.boxTextMargin,ue.boxMargin,W=>$e.addSectionToLoop(W));break;case r.db.LINETYPE.ALT_END:w=$e.endLoop(),Pn.drawLoop(u,w,"alt",ue),$e.bumpVerticalPos(w.stopy-$e.getVerticalPos()),$e.models.addLoop(w);break;case r.db.LINETYPE.PAR_START:Go(O,B,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,W=>$e.newLoop(W));break;case r.db.LINETYPE.PAR_AND:Go(O,B,ue.boxMargin+ue.boxTextMargin,ue.boxMargin,W=>$e.addSectionToLoop(W));break;case r.db.LINETYPE.PAR_END:w=$e.endLoop(),Pn.drawLoop(u,w,"par",ue),$e.bumpVerticalPos(w.stopy-$e.getVerticalPos()),$e.models.addLoop(w);break;case r.db.LINETYPE.AUTONUMBER:T=B.message.start||T,A=B.message.step||A,B.message.visible?r.db.enableSequenceNumbers():r.db.disableSequenceNumbers();break;case r.db.LINETYPE.CRITICAL_START:Go(O,B,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,W=>$e.newLoop(W));break;case r.db.LINETYPE.CRITICAL_OPTION:Go(O,B,ue.boxMargin+ue.boxTextMargin,ue.boxMargin,W=>$e.addSectionToLoop(W));break;case r.db.LINETYPE.CRITICAL_END:w=$e.endLoop(),Pn.drawLoop(u,w,"critical",ue),$e.bumpVerticalPos(w.stopy-$e.getVerticalPos()),$e.models.addLoop(w);break;case r.db.LINETYPE.BREAK_START:Go(O,B,ue.boxMargin,ue.boxMargin+ue.boxTextMargin,W=>$e.newLoop(W));break;case r.db.LINETYPE.BREAK_END:w=$e.endLoop(),Pn.drawLoop(u,w,"break",ue),$e.bumpVerticalPos(w.stopy-$e.getVerticalPos()),$e.models.addLoop(w);break;default:try{U=B.msgModel,U.starty=$e.getVerticalPos(),U.sequenceIndex=T,U.sequenceVisible=r.db.showSequenceNumbers();const W=grt(u,U);v.push({messageModel:U,lineStartY:W}),$e.models.addMessage(U)}catch(W){V.error("error while drawing message",W)}}[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(B.type)&&(T=T+A)}),v.forEach(B=>mrt(u,B.messageModel,B.lineStartY,r)),ue.mirrorActors&&($e.bumpVerticalPos(ue.boxMargin*2),HS(u,h,f,$e.getVerticalPos(),ue,p,!0),$e.bumpVerticalPos(ue.boxMargin),GU(u,$e.getVerticalPos())),$e.models.boxes.forEach(function(B){B.height=$e.getVerticalPos()-B.y,$e.insert(B.x,B.y,B.x+B.width,B.height),B.startx=B.x,B.starty=B.y,B.stopx=B.startx+B.width,B.stopy=B.starty+B.height,B.stroke="rgb(0,0,0, 0.5)",Pn.drawBox(u,B,ue)}),m&&$e.bumpVerticalPos(ue.boxMargin);const S=JU(u,h,f,l),{bounds:I}=$e.getBounds();V.debug("For line height fix Querying: #"+e+" .actor-line"),bE("#"+e+" .actor-line").attr("y2",I.stopy);let C=I.stopy-I.starty;C<S.maxHeight&&(C=S.maxHeight);let E=C+2*ue.diagramMarginY;ue.mirrorActors&&(E=E-ue.boxMargin+ue.bottomMarginAdj);let _=I.stopx-I.startx;_<S.maxWidth&&(_=S.maxWidth);const L=_+2*ue.diagramMarginX;g&&u.append("text").text(g).attr("x",(I.stopx-I.startx)/2-2*ue.diagramMarginX).attr("y",-25),Uo(u,E,L,ue.useMaxWidth);const k=g?40:0;u.attr("viewBox",I.startx-ue.diagramMarginX+" -"+(ue.diagramMarginY+k)+" "+L+" "+(E+k)),V.debug("models:",$e.models)};function brt(t,e,n){const r={};return e.forEach(function(i){if(t[i.to]&&t[i.from]){const s=t[i.to];if(i.placement===n.db.PLACEMENT.LEFTOF&&!s.prevActor||i.placement===n.db.PLACEMENT.RIGHTOF&&!s.nextActor)return;const o=i.placement!==void 0,a=!o,l=o?td(ue):bh(ue),u=i.wrap?pt.wrapLabel(i.message,ue.width-2*ue.wrapPadding,l):i.message,d=pt.calculateTextDimensions(u,l).width+2*ue.wrapPadding;a&&i.from===s.nextActor?r[i.to]=Math.max(r[i.to]||0,d):a&&i.from===s.prevActor?r[i.from]=Math.max(r[i.from]||0,d):a&&i.from===i.to?(r[i.from]=Math.max(r[i.from]||0,d/2),r[i.to]=Math.max(r[i.to]||0,d/2)):i.placement===n.db.PLACEMENT.RIGHTOF?r[i.from]=Math.max(r[i.from]||0,d):i.placement===n.db.PLACEMENT.LEFTOF?r[s.prevActor]=Math.max(r[s.prevActor]||0,d):i.placement===n.db.PLACEMENT.OVER&&(s.prevActor&&(r[s.prevActor]=Math.max(r[s.prevActor]||0,d/2)),s.nextActor&&(r[i.from]=Math.max(r[i.from]||0,d/2)))}}),V.debug("maxMessageWidthPerActor:",r),r}const Ort=function(t){let e=0;const n=XS(ue);for(const r in t.links){const s=pt.calculateTextDimensions(r,n).width+2*ue.wrapPadding+2*ue.boxMargin;e<s&&(e=s)}return e};function krt(t,e,n){let r=0;Object.keys(t).forEach(s=>{const o=t[s];o.wrap&&(o.description=pt.wrapLabel(o.description,ue.width-2*ue.wrapPadding,XS(ue)));const a=pt.calculateTextDimensions(o.description,XS(ue));o.width=o.wrap?ue.width:Math.max(ue.width,a.width+2*ue.wrapPadding),o.height=o.wrap?Math.max(a.height,ue.height):ue.height,r=Math.max(r,o.height)});for(const s in e){const o=t[s];if(!o)continue;const a=t[o.nextActor];if(!a){const d=e[s]+ue.actorMargin-o.width/2;o.margin=Math.max(d,ue.actorMargin);continue}const u=e[s]+ue.actorMargin-o.width/2-a.width/2;o.margin=Math.max(u,ue.actorMargin)}let i=0;return n.forEach(s=>{const o=bh(ue);let a=s.actorKeys.reduce((h,d)=>h+=t[d].width+(t[d].margin||0),0);a-=2*ue.boxTextMargin,s.wrap&&(s.name=pt.wrapLabel(s.name,a-2*ue.wrapPadding,o));const l=pt.calculateTextDimensions(s.name,o);i=Math.max(l.height,i);const u=Math.max(a,l.width+2*ue.wrapPadding);if(s.margin=ue.boxTextMargin,a<u){const h=(u-a)/2;s.margin+=h}}),n.forEach(s=>s.textMaxHeight=i),Math.max(r,ue.height)}const xrt=function(t,e,n){const r=e[t.from].x,i=e[t.to].x,s=t.wrap&&t.message;let o=pt.calculateTextDimensions(s?pt.wrapLabel(t.message,ue.width,td(ue)):t.message,td(ue));const a={width:s?ue.width:Math.max(ue.width,o.width+2*ue.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(a.width=s?Math.max(ue.width,o.width):Math.max(e[t.from].width/2+e[t.to].width/2,o.width+2*ue.noteMargin),a.startx=r+(e[t.from].width+ue.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(a.width=Math.max(s?ue.width:e[t.from].width/2+e[t.to].width/2,o.width+2*ue.noteMargin),a.startx=r-a.width+(e[t.from].width-ue.actorMargin)/2):t.to===t.from?(o=pt.calculateTextDimensions(s?pt.wrapLabel(t.message,Math.max(ue.width,e[t.from].width),td(ue)):t.message,td(ue)),a.width=s?Math.max(ue.width,e[t.from].width):Math.max(e[t.from].width,ue.width,o.width+2*ue.noteMargin),a.startx=r+(e[t.from].width-a.width)/2):(a.width=Math.abs(r+e[t.from].width/2-(i+e[t.to].width/2))+ue.actorMargin,a.startx=r<i?r+e[t.from].width/2-ue.actorMargin/2:i+e[t.to].width/2-ue.actorMargin/2),s&&(a.message=pt.wrapLabel(t.message,a.width-2*ue.wrapPadding,td(ue))),V.debug(`NM:[${a.startx},${a.stopx},${a.starty},${a.stopy}:${a.width},${a.height}=${t.message}]`),a},wrt=function(t,e,n){let r=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(r=!0),!r)return{};const i=dP(t.from,e),s=dP(t.to,e),o=i[0]<=s[0]?1:0,a=i[0]<s[0]?0:1,l=[...i,...s],u=Math.abs(s[a]-i[o]);t.wrap&&t.message&&(t.message=pt.wrapLabel(t.message,Math.max(u+2*ue.wrapPadding,ue.width),bh(ue)));const h=pt.calculateTextDimensions(t.message,bh(ue));return{width:Math.max(t.wrap?0:h.width+2*ue.wrapPadding,u+2*ue.wrapPadding,ue.width),height:0,startx:i[o],stopx:s[a],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,l),toBounds:Math.max.apply(null,l)}},_rt=function(t,e,n,r){const i={},s=[];let o,a,l;return t.forEach(function(u){switch(u.id=pt.random({length:10}),u.type){case r.db.LINETYPE.LOOP_START:case r.db.LINETYPE.ALT_START:case r.db.LINETYPE.OPT_START:case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.CRITICAL_START:case r.db.LINETYPE.BREAK_START:s.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case r.db.LINETYPE.ALT_ELSE:case r.db.LINETYPE.PAR_AND:case r.db.LINETYPE.CRITICAL_OPTION:u.message&&(o=s.pop(),i[o.id]=o,i[u.id]=o,s.push(o));break;case r.db.LINETYPE.LOOP_END:case r.db.LINETYPE.ALT_END:case r.db.LINETYPE.OPT_END:case r.db.LINETYPE.PAR_END:case r.db.LINETYPE.CRITICAL_END:case r.db.LINETYPE.BREAK_END:o=s.pop(),i[o.id]=o;break;case r.db.LINETYPE.ACTIVE_START:{const d=e[u.from?u.from.actor:u.to.actor],f=Ox(u.from?u.from.actor:u.to.actor).length,p=d.x+d.width/2+(f-1)*ue.activationWidth/2,g={startx:p,stopx:p+ue.activationWidth,actor:u.from.actor,enabled:!0};$e.activations.push(g)}break;case r.db.LINETYPE.ACTIVE_END:{const d=$e.activations.map(f=>f.actor).lastIndexOf(u.from.actor);delete $e.activations.splice(d,1)[0]}break}u.placement!==void 0?(a=xrt(u,e,r),u.noteModel=a,s.forEach(d=>{o=d,o.from=Math.min(o.from,a.startx),o.to=Math.max(o.to,a.startx+a.width),o.width=Math.max(o.width,Math.abs(o.from-o.to))-ue.labelBoxWidth})):(l=wrt(u,e,r),u.msgModel=l,l.startx&&l.stopx&&s.length>0&&s.forEach(d=>{if(o=d,l.startx===l.stopx){const f=e[u.from],p=e[u.to];o.from=Math.min(f.x-l.width/2,f.x-f.width/2,o.from),o.to=Math.max(p.x+l.width/2,p.x+f.width/2,o.to),o.width=Math.max(o.width,Math.abs(o.to-o.from))-ue.labelBoxWidth}else o.from=Math.min(l.startx,o.from),o.to=Math.max(l.stopx,o.to),o.width=Math.max(o.width,l.width)-ue.labelBoxWidth}))}),$e.activations=[],V.debug("Loop type widths:",i),i},fP={bounds:$e,drawActors:HS,drawActorsPopup:JU,setConf:ej,draw:yrt};var GS=function(){var t=function($,X,Y,N){for(Y=Y||{},N=$.length;N--;Y[$[N]]=X);return Y},e=[1,2],n=[1,3],r=[1,5],i=[1,7],s=[2,5],o=[1,15],a=[1,17],l=[1,21],u=[1,22],h=[1,23],d=[1,24],f=[1,37],p=[1,25],g=[1,26],m=[1,27],y=[1,28],b=[1,29],O=[1,32],x=[1,33],T=[1,34],A=[1,35],v=[1,36],S=[1,39],I=[1,40],M=[1,41],C=[1,42],E=[1,38],_=[1,45],L=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],k=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],B=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],w=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Q={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(X,Y,N,he,ge,j,Te){var K=j.length-1;switch(ge){case 4:return he.setRootDoc(j[K]),j[K];case 5:this.$=[];break;case 6:j[K]!="nl"&&(j[K-1].push(j[K]),this.$=j[K-1]);break;case 7:case 8:this.$=j[K];break;case 9:this.$="nl";break;case 12:this.$=j[K];break;case 13:const z=j[K-1];z.description=he.trimColon(j[K]),this.$=z;break;case 14:this.$={stmt:"relation",state1:j[K-2],state2:j[K]};break;case 15:const D=he.trimColon(j[K]);this.$={stmt:"relation",state1:j[K-3],state2:j[K-1],description:D};break;case 19:this.$={stmt:"state",id:j[K-3],type:"default",description:"",doc:j[K-1]};break;case 20:var ee=j[K],H=j[K-2].trim();if(j[K].match(":")){var G=j[K].split(":");ee=G[0],H=[H,G[1]]}this.$={stmt:"state",id:ee,type:"default",description:H};break;case 21:this.$={stmt:"state",id:j[K-3],type:"default",description:j[K-5],doc:j[K-1]};break;case 22:this.$={stmt:"state",id:j[K],type:"fork"};break;case 23:this.$={stmt:"state",id:j[K],type:"join"};break;case 24:this.$={stmt:"state",id:j[K],type:"choice"};break;case 25:this.$={stmt:"state",id:he.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:j[K-1].trim(),note:{position:j[K-2].trim(),text:j[K].trim()}};break;case 30:this.$=j[K].trim(),he.setAccTitle(this.$);break;case 31:case 32:this.$=j[K].trim(),he.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:j[K-1].trim(),classes:j[K].trim()};break;case 35:this.$={stmt:"applyClass",id:j[K-1].trim(),styleClass:j[K].trim()};break;case 38:he.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:he.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:he.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:he.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:j[K].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:j[K-2].trim(),classes:[j[K].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:j[K-2].trim(),classes:[j[K].trim()],type:"default",description:""};break;case 50:he.parseDirective("%%{","open_directive");break;case 51:he.parseDirective(j[K],"type_directive");break;case 52:j[K]=j[K].trim().replace(/'/g,'"'),he.parseDirective(j[K],"arg_directive");break;case 53:he.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:e,5:n,6:4,7:r,45:6,60:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,45:6,60:i},{3:9,4:e,5:n,6:4,7:r,45:6,60:i},{3:10,4:e,5:n,6:4,7:r,45:6,60:i},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],s,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:o,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:l,17:u,19:h,22:d,24:f,25:p,26:g,27:m,28:y,29:b,32:31,33:O,35:x,37:T,38:A,42:v,45:6,50:S,51:I,52:M,53:C,56:E,60:i},{47:43,48:[1,44],63:_},t([48,63],[2,51]),t(L,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:l,17:u,19:h,22:d,24:f,25:p,26:g,27:m,28:y,29:b,32:31,33:O,35:x,37:T,38:A,42:v,45:6,50:S,51:I,52:M,53:C,56:E,60:i},t(L,[2,8]),t(L,[2,9]),t(L,[2,10]),t(L,[2,11]),t(L,[2,12],{14:[1,47],15:[1,48]}),t(L,[2,16]),{18:[1,49]},t(L,[2,18],{20:[1,50]}),{23:[1,51]},t(L,[2,22]),t(L,[2,23]),t(L,[2,24]),t(L,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},t(L,[2,28]),t(L,[2,29]),{34:[1,56]},{36:[1,57]},t(L,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},t(k,[2,44],{57:[1,61]}),t(k,[2,45],{57:[1,62]}),t(L,[2,38]),t(L,[2,39]),t(L,[2,40]),t(L,[2,41]),t(B,[2,36]),{49:63,62:[1,64]},t(B,[2,53]),t(L,[2,7]),t(L,[2,13]),{13:65,24:f,56:E},t(L,[2,17]),t(w,s,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},t(L,[2,30]),t(L,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:_},{63:[2,52]},t(L,[2,14],{14:[1,76]}),{4:o,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:l,17:u,19:h,21:[1,77],22:d,24:f,25:p,26:g,27:m,28:y,29:b,32:31,33:O,35:x,37:T,38:A,42:v,45:6,50:S,51:I,52:M,53:C,56:E,60:i},t(L,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},t(L,[2,33]),t(L,[2,34]),t(L,[2,35]),t(k,[2,46]),t(k,[2,47]),t(B,[2,37]),t(L,[2,15]),t(L,[2,19]),t(w,s,{8:81}),t(L,[2,26]),t(L,[2,27]),{4:o,5:a,6:30,9:14,10:16,11:18,12:19,13:20,16:l,17:u,19:h,21:[1,82],22:d,24:f,25:p,26:g,27:m,28:y,29:b,32:31,33:O,35:x,37:T,38:A,42:v,45:6,50:S,51:I,52:M,53:C,56:E,60:i},t(L,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(X,Y){if(Y.recoverable)this.trace(X);else{var N=new Error(X);throw N.hash=Y,N}},parse:function(X){var Y=this,N=[0],he=[],ge=[null],j=[],Te=this.table,K="",ee=0,H=0,G=2,z=1,D=j.slice.call(arguments,1),F=Object.create(this.lexer),R={yy:{}};for(var Z in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Z)&&(R.yy[Z]=this.yy[Z]);F.setInput(X,R.yy),R.yy.lexer=F,R.yy.parser=this,typeof F.yylloc>"u"&&(F.yylloc={});var P=F.yylloc;j.push(P);var ye=F.options&&F.options.ranges;typeof R.yy.parseError=="function"?this.parseError=R.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function q(){var Ee;return Ee=he.pop()||F.lex()||z,typeof Ee!="number"&&(Ee instanceof Array&&(he=Ee,Ee=he.pop()),Ee=Y.symbols_[Ee]||Ee),Ee}for(var de,ce,te,se,fe={},le,me,oe,be;;){if(ce=N[N.length-1],this.defaultActions[ce]?te=this.defaultActions[ce]:((de===null||typeof de>"u")&&(de=q()),te=Te[ce]&&Te[ce][de]),typeof te>"u"||!te.length||!te[0]){var _e="";be=[];for(le in Te[ce])this.terminals_[le]&&le>G&&be.push("'"+this.terminals_[le]+"'");F.showPosition?_e="Parse error on line "+(ee+1)+`:
`+F.showPosition()+`
Expecting `+be.join(", ")+", got '"+(this.terminals_[de]||de)+"'":_e="Parse error on line "+(ee+1)+": Unexpected "+(de==z?"end of input":"'"+(this.terminals_[de]||de)+"'"),this.parseError(_e,{text:F.match,token:this.terminals_[de]||de,line:F.yylineno,loc:P,expected:be})}if(te[0]instanceof Array&&te.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ce+", token: "+de);switch(te[0]){case 1:N.push(de),ge.push(F.yytext),j.push(F.yylloc),N.push(te[1]),de=null,H=F.yyleng,K=F.yytext,ee=F.yylineno,P=F.yylloc;break;case 2:if(me=this.productions_[te[1]][1],fe.$=ge[ge.length-me],fe._$={first_line:j[j.length-(me||1)].first_line,last_line:j[j.length-1].last_line,first_column:j[j.length-(me||1)].first_column,last_column:j[j.length-1].last_column},ye&&(fe._$.range=[j[j.length-(me||1)].range[0],j[j.length-1].range[1]]),se=this.performAction.apply(fe,[K,H,ee,R.yy,te[1],ge,j].concat(D)),typeof se<"u")return se;me&&(N=N.slice(0,-1*me*2),ge=ge.slice(0,-1*me),j=j.slice(0,-1*me)),N.push(this.productions_[te[1]][0]),ge.push(fe.$),j.push(fe._$),oe=Te[N[N.length-2]][N[N.length-1]],N.push(oe);break;case 3:return!0}}return!0}},U=function(){var $={EOF:1,parseError:function(Y,N){if(this.yy.parser)this.yy.parser.parseError(Y,N);else throw new Error(Y)},setInput:function(X,Y){return this.yy=Y||this.yy||{},this._input=X,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var X=this._input[0];this.yytext+=X,this.yyleng++,this.offset++,this.match+=X,this.matched+=X;var Y=X.match(/(?:\r\n?|\n).*/g);return Y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),X},unput:function(X){var Y=X.length,N=X.split(/(?:\r\n?|\n)/g);this._input=X+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Y),this.offset-=Y;var he=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var ge=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===he.length?this.yylloc.first_column:0)+he[he.length-N.length].length-N[0].length:this.yylloc.first_column-Y},this.options.ranges&&(this.yylloc.range=[ge[0],ge[0]+this.yyleng-Y]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(X){this.unput(this.match.slice(X))},pastInput:function(){var X=this.matched.substr(0,this.matched.length-this.match.length);return(X.length>20?"...":"")+X.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var X=this.match;return X.length<20&&(X+=this._input.substr(0,20-X.length)),(X.substr(0,20)+(X.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var X=this.pastInput(),Y=new Array(X.length+1).join("-");return X+this.upcomingInput()+`
`+Y+"^"},test_match:function(X,Y){var N,he,ge;if(this.options.backtrack_lexer&&(ge={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ge.yylloc.range=this.yylloc.range.slice(0))),he=X[0].match(/(?:\r\n?|\n).*/g),he&&(this.yylineno+=he.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:he?he[he.length-1].length-he[he.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+X[0].length},this.yytext+=X[0],this.match+=X[0],this.matches=X,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(X[0].length),this.matched+=X[0],N=this.performAction.call(this,this.yy,this,Y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var j in ge)this[j]=ge[j];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var X,Y,N,he;this._more||(this.yytext="",this.match="");for(var ge=this._currentRules(),j=0;j<ge.length;j++)if(N=this._input.match(this.rules[ge[j]]),N&&(!Y||N[0].length>Y[0].length)){if(Y=N,he=j,this.options.backtrack_lexer){if(X=this.test_match(N,ge[j]),X!==!1)return X;if(this._backtrack){Y=!1;continue}else return!1}else if(!this.options.flex)break}return Y?(X=this.test_match(Y,ge[he]),X!==!1?X:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Y=this.next();return Y||this.lex()},begin:function(Y){this.conditionStack.push(Y)},popState:function(){var Y=this.conditionStack.length-1;return Y>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Y){return Y=this.conditionStack.length-1-Math.abs(Y||0),Y>=0?this.conditionStack[Y]:"INITIAL"},pushState:function(Y){this.begin(Y)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Y,N,he,ge){switch(he){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),N.yytext=N.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),N.yytext=N.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),N.yytext=N.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),N.yytext=N.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),N.yytext=N.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),N.yytext=N.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),N.yytext=N.yytext.substr(2).trim(),31;case 69:return this.popState(),N.yytext=N.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return N.yytext=N.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return $}();Q.lexer=U;function W(){this.yy={}}return W.prototype=Q,Q.Parser=W,new W}();GS.parser=GS;const pP=GS,vrt=(t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*stateDiagram/)!==null},Srt=(t,e)=>{var n;return!!(t.match(/^\s*stateDiagram-v2/)!==null||t.match(/^\s*stateDiagram/)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},Crt="LR",Ert="TB",dO="state",$T="relation",Trt="classDef",Drt="applyClass",e1="default",tj="divider",RT="[*]",nj="start",rj=RT,ij="end",gP="color",mP="fill",Art="bgFill",Mrt=",";function sj(){return{}}let oj=Crt,fO=[],zg=sj();const aj=()=>({relations:[],states:{},documents:{}});let pO={root:aj()},ri=pO.root,Zm=0,yP=0;const Prt={LINE:0,DOTTED_LINE:1},$rt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},j1=t=>JSON.parse(JSON.stringify(t)),Rrt=function(t,e,n){An.parseDirective(this,t,e,n)},Lrt=t=>{V.info("Setting root doc",t),fO=t},Irt=()=>fO,Cb=(t,e,n)=>{if(e.stmt===$T)Cb(t,e.state1,!0),Cb(t,e.state2,!1);else if(e.stmt===dO&&(e.id==="[*]"?(e.id=n?t.id+"_start":t.id+"_end",e.start=n):e.id=e.id.trim()),e.doc){const r=[];let i=[],s;for(s=0;s<e.doc.length;s++)if(e.doc[s].type===tj){const o=j1(e.doc[s]);o.doc=j1(i),r.push(o),i=[]}else i.push(e.doc[s]);if(r.length>0&&i.length>0){const o={stmt:dO,id:$V(),type:"divider",doc:j1(i)};r.push(j1(o)),e.doc=r}e.doc.forEach(o=>Cb(e,o,!0))}},Nrt=()=>(Cb({id:"root"},{id:"root",doc:fO},!0),{id:"root",doc:fO}),Frt=t=>{let e;t.doc?e=t.doc:e=t,V.info(e),lj(!0),V.info("Extract",e),e.forEach(n=>{switch(n.stmt){case dO:Oh(n.id.trim(),n.type,n.doc,n.description,n.note,n.classes,n.styles,n.textStyles);break;case $T:cj(n.state1,n.state2,n.description);break;case Trt:uj(n.id.trim(),n.classes);break;case Drt:LT(n.id.trim(),n.styleClass);break}})},Oh=function(t,e=e1,n=null,r=null,i=null,s=null,o=null,a=null){const l=t==null?void 0:t.trim();ri.states[l]===void 0?(V.info("Adding state ",l,r),ri.states[l]={id:l,descriptions:[],type:e,doc:n,note:i,classes:[],styles:[],textStyles:[]}):(ri.states[l].doc||(ri.states[l].doc=n),ri.states[l].type||(ri.states[l].type=e)),r&&(V.info("Setting state description",l,r),typeof r=="string"&&e4(l,r.trim()),typeof r=="object"&&r.forEach(u=>e4(l,u.trim()))),i&&(ri.states[l].note=i,ri.states[l].note.text=gt.sanitizeText(ri.states[l].note.text,re())),s&&(V.info("Setting state classes",l,s),(typeof s=="string"?[s]:s).forEach(h=>LT(l,h.trim()))),o&&(V.info("Setting state styles",l,o),(typeof o=="string"?[o]:o).forEach(h=>Zrt(l,h.trim()))),a&&(V.info("Setting state styles",l,o),(typeof a=="string"?[a]:a).forEach(h=>Xrt(l,h.trim())))},lj=function(t){pO={root:aj()},ri=pO.root,Zm=0,zg=sj(),t||Ts()},Xm=function(t){return ri.states[t]},Brt=function(){return ri.states},Qrt=function(){V.info("Documents = ",pO)},zrt=function(){return ri.relations};function KS(t=""){let e=t;return t===RT&&(Zm++,e=`${nj}${Zm}`),e}function JS(t="",e=e1){return t===RT?nj:e}function Vrt(t=""){let e=t;return t===rj&&(Zm++,e=`${ij}${Zm}`),e}function Wrt(t="",e=e1){return t===rj?ij:e}function Urt(t,e,n){let r=KS(t.id.trim()),i=JS(t.id.trim(),t.type),s=KS(e.id.trim()),o=JS(e.id.trim(),e.type);Oh(r,i,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),Oh(s,o,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),ri.relations.push({id1:r,id2:s,relationTitle:gt.sanitizeText(n,re())})}const cj=function(t,e,n){if(typeof t=="object")Urt(t,e,n);else{const r=KS(t.trim()),i=JS(t),s=Vrt(e.trim()),o=Wrt(e);Oh(r,i),Oh(s,o),ri.relations.push({id1:r,id2:s,title:gt.sanitizeText(n,re())})}},e4=function(t,e){const n=ri.states[t],r=e.startsWith(":")?e.replace(":","").trim():e;n.descriptions.push(gt.sanitizeText(r,re()))},jrt=function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},qrt=()=>(yP++,"divider-id-"+yP),uj=function(t,e=""){zg[t]===void 0&&(zg[t]={id:t,styles:[],textStyles:[]});const n=zg[t];e!=null&&e.split(Mrt).forEach(r=>{const i=r.replace(/([^;]*);/,"$1").trim();if(r.match(gP)){const o=i.replace(mP,Art).replace(gP,mP);n.textStyles.push(o)}n.styles.push(i)})},Yrt=function(){return zg},LT=function(t,e){t.split(",").forEach(function(n){let r=Xm(n);if(r===void 0){const i=n.trim();Oh(i),r=Xm(i)}r.classes.push(e)})},Zrt=function(t,e){const n=Xm(t);n!==void 0&&n.textStyles.push(e)},Xrt=function(t,e){const n=Xm(t);n!==void 0&&n.textStyles.push(e)},Hrt=()=>oj,Grt=t=>{oj=t},Krt=t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),ll={parseDirective:Rrt,getConfig:()=>re().state,addState:Oh,clear:lj,getState:Xm,getStates:Brt,getRelations:zrt,getClasses:Yrt,getDirection:Hrt,addRelation:cj,getDividerId:qrt,setDirection:Grt,cleanupLabel:jrt,lineType:Prt,relationType:$rt,logDocuments:Qrt,getRootDoc:Irt,setRootDoc:Lrt,getRootDocV2:Nrt,extract:Frt,trimColon:Krt,getAccTitle:Ds,setAccTitle:ls,getAccDescription:Ms,setAccDescription:As,addStyleClass:uj,setCssClass:LT,addDescription:e4,setDiagramTitle:jo,getDiagramTitle:qo},Jrt=t=>t.append("circle").attr("class","start-state").attr("r",re().state.sizeUnit).attr("cx",re().state.padding+re().state.sizeUnit).attr("cy",re().state.padding+re().state.sizeUnit),eit=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",re().state.textHeight).attr("class","divider").attr("x2",re().state.textHeight*2).attr("y1",0).attr("y2",0),tit=(t,e)=>{const n=t.append("text").attr("x",2*re().state.padding).attr("y",re().state.textHeight+2*re().state.padding).attr("font-size",re().state.fontSize).attr("class","state-title").text(e.id),r=n.node().getBBox();return t.insert("rect",":first-child").attr("x",re().state.padding).attr("y",re().state.padding).attr("width",r.width+2*re().state.padding).attr("height",r.height+2*re().state.padding).attr("rx",re().state.radius),n},nit=(t,e)=>{const n=function(f,p,g){const m=f.append("tspan").attr("x",2*re().state.padding).text(p);g||m.attr("dy",re().state.textHeight)},i=t.append("text").attr("x",2*re().state.padding).attr("y",re().state.textHeight+1.3*re().state.padding).attr("font-size",re().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),s=i.height,o=t.append("text").attr("x",re().state.padding).attr("y",s+re().state.padding*.4+re().state.dividerMargin+re().state.textHeight).attr("class","state-description");let a=!0,l=!0;e.descriptions.forEach(function(f){a||(n(o,f,l),l=!1),a=!1});const u=t.append("line").attr("x1",re().state.padding).attr("y1",re().state.padding+s+re().state.dividerMargin/2).attr("y2",re().state.padding+s+re().state.dividerMargin/2).attr("class","descr-divider"),h=o.node().getBBox(),d=Math.max(h.width,i.width);return u.attr("x2",d+3*re().state.padding),t.insert("rect",":first-child").attr("x",re().state.padding).attr("y",re().state.padding).attr("width",d+2*re().state.padding).attr("height",h.height+s+2*re().state.padding).attr("rx",re().state.radius),t},rit=(t,e,n)=>{const r=re().state.padding,i=2*re().state.padding,s=t.node().getBBox(),o=s.width,a=s.x,l=t.append("text").attr("x",0).attr("y",re().state.titleShift).attr("font-size",re().state.fontSize).attr("class","state-title").text(e.id),h=l.node().getBBox().width+i;let d=Math.max(h,o);d===o&&(d=d+i);let f;const p=t.node().getBBox();e.doc,f=a-r,h>o&&(f=(o-d)/2+r),Math.abs(a-p.x)<r&&h>o&&(f=a-(h-o)/2);const g=1-re().state.textHeight;return t.insert("rect",":first-child").attr("x",f).attr("y",g).attr("class",n?"alt-composit":"composit").attr("width",d).attr("height",p.height+re().state.textHeight+re().state.titleShift+1).attr("rx","0"),l.attr("x",f+r),h<=o&&l.attr("x",a+(d-i)/2-h/2+r),t.insert("rect",":first-child").attr("x",f).attr("y",re().state.titleShift-re().state.textHeight-re().state.padding).attr("width",d).attr("height",re().state.textHeight*3).attr("rx",re().state.radius),t.insert("rect",":first-child").attr("x",f).attr("y",re().state.titleShift-re().state.textHeight-re().state.padding).attr("width",d).attr("height",p.height+3+2*re().state.textHeight).attr("rx",re().state.radius),t},iit=t=>(t.append("circle").attr("class","end-state-outer").attr("r",re().state.sizeUnit+re().state.miniPadding).attr("cx",re().state.padding+re().state.sizeUnit+re().state.miniPadding).attr("cy",re().state.padding+re().state.sizeUnit+re().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",re().state.sizeUnit).attr("cx",re().state.padding+re().state.sizeUnit+2).attr("cy",re().state.padding+re().state.sizeUnit+2)),sit=(t,e)=>{let n=re().state.forkWidth,r=re().state.forkHeight;if(e.parentId){let i=n;n=r,r=i}return t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",re().state.padding).attr("y",re().state.padding)},oit=(t,e,n,r)=>{let i=0;const s=r.append("text");s.style("text-anchor","start"),s.attr("class","noteText");let o=t.replace(/\r\n/g,"<br/>");o=o.replace(/\n/g,"<br/>");const a=o.split(gt.lineBreakRegex);let l=1.25*re().state.noteMargin;for(const u of a){const h=u.trim();if(h.length>0){const d=s.append("tspan");if(d.text(h),l===0){const f=d.node().getBBox();l+=f.height}i+=l,d.attr("x",e+re().state.noteMargin),d.attr("y",n+i+1.25*re().state.noteMargin)}}return{textWidth:s.node().getBBox().width,textHeight:i}},ait=(t,e)=>{e.attr("class","state-note");const n=e.append("rect").attr("x",0).attr("y",re().state.padding),r=e.append("g"),{textWidth:i,textHeight:s}=oit(t,0,0,r);return n.attr("height",s+2*re().state.noteMargin),n.attr("width",i+re().state.noteMargin*2),n},bP=function(t,e){const n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");e.type==="start"&&Jrt(i),e.type==="end"&&iit(i),(e.type==="fork"||e.type==="join")&&sit(i,e),e.type==="note"&&ait(e.note.text,i),e.type==="divider"&&eit(i),e.type==="default"&&e.descriptions.length===0&&tit(i,e),e.type==="default"&&e.descriptions.length>0&&nit(i,e);const s=i.node().getBBox();return r.width=s.width+2*re().state.padding,r.height=s.height+2*re().state.padding,r};let OP=0;const lit=function(t,e,n){const r=function(l){switch(l){case ll.relationType.AGGREGATION:return"aggregation";case ll.relationType.EXTENSION:return"extension";case ll.relationType.COMPOSITION:return"composition";case ll.relationType.DEPENDENCY:return"dependency"}};e.points=e.points.filter(l=>!Number.isNaN(l.y));const i=e.points,s=Wf().x(function(l){return l.x}).y(function(l){return l.y}).curve(lf),o=t.append("path").attr("d",s(i)).attr("id","edge"+OP).attr("class","transition");let a="";if(re().state.arrowMarkerAbsolute&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)")),o.attr("marker-end","url("+a+"#"+r(ll.relationType.DEPENDENCY)+"End)"),n.title!==void 0){const l=t.append("g").attr("class","stateLabel"),{x:u,y:h}=pt.calcLabelPosition(e.points),d=gt.getRows(n.title);let f=0;const p=[];let g=0,m=0;for(let O=0;O<=d.length;O++){const x=l.append("text").attr("text-anchor","middle").text(d[O]).attr("x",u).attr("y",h+f),T=x.node().getBBox();g=Math.max(g,T.width),m=Math.min(m,T.x),V.info(T.x,u,h+f),f===0&&(f=x.node().getBBox().height,V.info("Title height",f,h)),p.push(x)}let y=f*d.length;if(d.length>1){const O=(d.length-1)*f*.5;p.forEach((x,T)=>x.attr("y",h+T*f-O)),y=f*d.length}const b=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-g/2-re().state.padding/2).attr("y",h-y/2-re().state.padding/2-3.5).attr("width",g+re().state.padding).attr("height",y+re().state.padding),V.info(b)}OP++};let ms;const S_={},cit=function(){},uit=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},hit=function(t,e,n,r){ms=re().state;const i=re().securityLevel;let s;i==="sandbox"&&(s=De("#i"+e));const o=De(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),a=i==="sandbox"?s.nodes()[0].contentDocument:document;V.debug("Rendering diagram "+t);const l=o.select(`[id='${e}']`);uit(l),new ar({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const h=r.db.getRootDoc();hj(h,l,void 0,!1,o,a,r);const d=ms.padding,f=l.node().getBBox(),p=f.width+d*2,g=f.height+d*2,m=p*1.75;Uo(l,g,m,ms.useMaxWidth),l.attr("viewBox",`${f.x-ms.padding}  ${f.y-ms.padding} `+p+" "+g)},dit=t=>t?t.length*ms.fontSizeFactor:1,hj=(t,e,n,r,i,s,o)=>{const a=new ar({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<t.length;l++)if(t[l].stmt==="relation"){u=!1;break}n?a.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:ms.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):a.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:ms.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),a.setDefaultEdgeLabel(function(){return{}}),o.db.extract(t);const h=o.db.getStates(),d=o.db.getRelations(),f=Object.keys(h);for(const b of f){const O=h[b];n&&(O.parentId=n);let x;if(O.doc){let T=e.append("g").attr("id",O.id).attr("class","stateGroup");x=hj(O.doc,T,O.id,!r,i,s,o);{T=rit(T,O,r);let A=T.node().getBBox();x.width=A.width,x.height=A.height+ms.padding/2,S_[O.id]={y:ms.compositTitleSize}}}else x=bP(e,O);if(O.note){const T={descriptions:[],id:O.id+"-note",note:O.note,type:"note"},A=bP(e,T);O.note.position==="left of"?(a.setNode(x.id+"-note",A),a.setNode(x.id,x)):(a.setNode(x.id,x),a.setNode(x.id+"-note",A)),a.setParent(x.id,x.id+"-group"),a.setParent(x.id+"-note",x.id+"-group")}else a.setNode(x.id,x)}V.debug("Count=",a.nodeCount(),a);let p=0;d.forEach(function(b){p++,V.debug("Setting edge",b),a.setEdge(b.id1,b.id2,{relation:b,width:dit(b.title),height:ms.labelHeight*gt.getRows(b.title).length,labelpos:"c"},"id"+p)}),Xf(a),V.debug("Graph after layout",a.nodes());const g=e.node();a.nodes().forEach(function(b){b!==void 0&&a.node(b)!==void 0?(V.warn("Node "+b+": "+JSON.stringify(a.node(b))),i.select("#"+g.id+" #"+b).attr("transform","translate("+(a.node(b).x-a.node(b).width/2)+","+(a.node(b).y+(S_[b]?S_[b].y:0)-a.node(b).height/2)+" )"),i.select("#"+g.id+" #"+b).attr("data-x-shift",a.node(b).x-a.node(b).width/2),s.querySelectorAll("#"+g.id+" #"+b+" .divider").forEach(x=>{const T=x.parentElement;let A=0,v=0;T&&(T.parentElement&&(A=T.parentElement.getBBox().width),v=parseInt(T.getAttribute("data-x-shift"),10),Number.isNaN(v)&&(v=0)),x.setAttribute("x1",0-v+8),x.setAttribute("x2",A-v-8)})):V.debug("No Node "+b+": "+JSON.stringify(a.node(b)))});let m=g.getBBox();a.edges().forEach(function(b){b!==void 0&&a.edge(b)!==void 0&&(V.debug("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(a.edge(b))),lit(e,a.edge(b),a.edge(b).relation))}),m=g.getBBox();const y={id:n||"root",label:n||"root",width:0,height:0};return y.width=m.width+2*ms.padding,y.height=m.height+2*ms.padding,V.debug("Doc rendered",y,a),y},fit={setConf:cit,draw:hit},Eb="rect",C_="rectWithTitle",pit="start",git="end",mit="divider",yit="roundedWithTitle",bit="note",Oit="noteGroup",xf="statediagram",kit="state",xit=`${xf}-${kit}`,dj="transition",wit="note",_it="note-edge",vit=`${dj} ${_it}`,Sit=`${xf}-${wit}`,Cit="cluster",Eit=`${xf}-${Cit}`,Tit="cluster-alt",Dit=`${xf}-${Tit}`,fj="parent",pj="note",Ait="state",IT="----",Mit=`${IT}${pj}`,kP=`${IT}${fj}`,gj="fill:none",mj="fill: #333",yj="c",bj="text",Oj="normal";let Tb={},cc=0;const Pit=function(t){const e=Object.keys(t);for(const n of e)t[n]},$it=function(t,e){V.trace("Extracting classes"),e.db.clear();try{return e.parser.parse(t),e.db.extract(e.db.getRootDocV2()),e.db.getClasses()}catch(n){return n}};function Rit(t){return t==null?"":t.classes?t.classes.join(" "):""}function E_(t="",e=0,n="",r=IT){const i=n!==null&&n.length>0?`${r}${n}`:"";return`${Ait}-${t}${i}-${e}`}const Hp=(t,e,n,r,i,s)=>{const o=n.id,a=Rit(r[o]);if(o!=="root"){let l=Eb;n.start===!0&&(l=pit),n.start===!1&&(l=git),n.type!==e1&&(l=n.type),Tb[o]||(Tb[o]={id:o,shape:l,description:gt.sanitizeText(o,re()),classes:`${a} ${xit}`});const u=Tb[o];n.description&&(Array.isArray(u.description)?(u.shape=C_,u.description.push(n.description)):u.description.length>0?(u.shape=C_,u.description===o?u.description=[n.description]:u.description=[u.description,n.description]):(u.shape=Eb,u.description=n.description),u.description=gt.sanitizeTextOrArray(u.description,re())),u.description.length===1&&u.shape===C_&&(u.shape=Eb),!u.type&&n.doc&&(V.info("Setting cluster for ",o,t4(n)),u.type="group",u.dir=t4(n),u.shape=n.type===tj?mit:yit,u.classes=u.classes+" "+Eit+" "+(s?Dit:""));const h={labelStyle:"",shape:u.shape,labelText:u.description,classes:u.classes,style:"",id:o,dir:u.dir,domId:E_(o,cc),type:u.type,padding:15};if(n.note){const d={labelStyle:"",shape:bit,labelText:n.note.text,classes:Sit,style:"",id:o+Mit+"-"+cc,domId:E_(o,cc,pj),type:u.type,padding:15},f={labelStyle:"",shape:Oit,labelText:n.note.text,classes:u.classes,style:"",id:o+kP,domId:E_(o,cc,fj),type:"group",padding:0};cc++;const p=o+kP;t.setNode(p,f),t.setNode(d.id,d),t.setNode(o,h),t.setParent(o,p),t.setParent(d.id,p);let g=o,m=d.id;n.note.position==="left of"&&(g=d.id,m=o),t.setEdge(g,m,{arrowhead:"none",arrowType:"",style:gj,labelStyle:"",classes:vit,arrowheadStyle:mj,labelpos:yj,labelType:bj,thickness:Oj})}else t.setNode(o,h)}e&&e.id!=="root"&&(V.trace("Setting node ",o," to be child of its parent ",e.id),t.setParent(o,e.id)),n.doc&&(V.trace("Adding nodes children "),Lit(t,n,n.doc,r,i,!s))},Lit=(t,e,n,r,i,s)=>{V.trace("items",n),n.forEach(o=>{switch(o.stmt){case dO:Hp(t,e,o,r,i,s);break;case e1:Hp(t,e,o,r,i,s);break;case $T:{Hp(t,e,o.state1,r,i,s),Hp(t,e,o.state2,r,i,s);const a={id:"edge"+cc,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:gj,labelStyle:"",label:gt.sanitizeText(o.description,re()),arrowheadStyle:mj,labelpos:yj,labelType:bj,thickness:Oj,classes:dj};t.setEdge(o.state1.id,o.state2.id,a,cc),cc++}break}})},t4=(t,e=Ert)=>{let n=e;if(t.doc)for(let r=0;r<t.doc.length;r++){const i=t.doc[r];i.stmt==="dir"&&(n=i.value)}return n},Iit=function(t,e,n,r){V.info("Drawing state diagram (v2)",e),Tb={},r.db.getDirection();const{securityLevel:i,state:s}=re(),o=s.nodeSpacing||50,a=s.rankSpacing||50;V.info(r.db.getRootDocV2()),r.db.extract(r.db.getRootDocV2()),V.info(r.db.getRootDocV2());const l=r.db.getStates(),u=new ar({multigraph:!0,compound:!0}).setGraph({rankdir:t4(r.db.getRootDocV2()),nodesep:o,ranksep:a,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Hp(u,void 0,r.db.getRootDocV2(),l,r.db,!0);let h;i==="sandbox"&&(h=De("#i"+e));const d=De(i==="sandbox"?h.nodes()[0].contentDocument.body:"body"),f=d.select(`[id="${e}"]`),p=d.select("#"+e+" g");yT(p,u,["barb"],xf,e);const g=8;pt.insertTitle(f,"statediagramTitleText",s.titleTopMargin,r.db.getDiagramTitle());const m=f.node().getBBox(),y=m.width+g*2,b=m.height+g*2;f.attr("class",xf);const O=f.node().getBBox();Uo(f,b,y,s.useMaxWidth);const x=`${O.x-g} ${O.y-g} ${y} ${b}`;V.debug(`viewBox ${x}`),f.attr("viewBox",x);const T=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const A of T){const v=A.getBBox(),S=document.createElementNS("http://www.w3.org/2000/svg",Eb);S.setAttribute("rx",0),S.setAttribute("ry",0),S.setAttribute("width",v.width),S.setAttribute("height",v.height),A.insertBefore(S,A.firstChild)}},Nit={setConf:Pit,getClasses:$it,draw:Iit};var n4=function(){var t=function(m,y,b,O){for(b=b||{},O=m.length;O--;b[m[O]]=y);return b},e=[1,2],n=[1,5],r=[6,9,11,17,18,20,22,23,24,26],i=[1,15],s=[1,16],o=[1,17],a=[1,18],l=[1,19],u=[1,20],h=[1,24],d=[4,6,9,11,17,18,20,22,23,24,26],f={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(y,b,O,x,T,A,v){var S=A.length-1;switch(T){case 1:return A[S-1];case 3:this.$=[];break;case 4:A[S-1].push(A[S]),this.$=A[S-1];break;case 5:case 6:this.$=A[S];break;case 7:case 8:this.$=[];break;case 11:x.setDiagramTitle(A[S].substr(6)),this.$=A[S].substr(6);break;case 12:this.$=A[S].trim(),x.setAccTitle(this.$);break;case 13:case 14:this.$=A[S].trim(),x.setAccDescription(this.$);break;case 15:x.addSection(A[S].substr(8)),this.$=A[S].substr(8);break;case 16:x.addTask(A[S-1],A[S]),this.$="task";break;case 18:x.parseDirective("%%{","open_directive");break;case 19:x.parseDirective(A[S],"type_directive");break;case 20:A[S]=A[S].trim().replace(/'/g,'"'),x.parseDirective(A[S],"arg_directive");break;case 21:x.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:s,20:o,22:a,23:l,24:u,26:n},{1:[2,2]},{14:22,15:[1,23],29:h},t([15,29],[2,19]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:21,10:25,12:4,17:i,18:s,20:o,22:a,23:l,24:u,26:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,26]},{21:[1,27]},t(r,[2,14]),t(r,[2,15]),{25:[1,28]},t(r,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(r,[2,16]),t(d,[2,9]),{14:32,29:h},{29:[2,20]},{11:[1,33]},t(d,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(y,b){if(b.recoverable)this.trace(y);else{var O=new Error(y);throw O.hash=b,O}},parse:function(y){var b=this,O=[0],x=[],T=[null],A=[],v=this.table,S="",I=0,M=0,C=2,E=1,_=A.slice.call(arguments,1),L=Object.create(this.lexer),k={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(k.yy[B]=this.yy[B]);L.setInput(y,k.yy),k.yy.lexer=L,k.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var w=L.yylloc;A.push(w);var Q=L.options&&L.options.ranges;typeof k.yy.parseError=="function"?this.parseError=k.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function U(){var ee;return ee=x.pop()||L.lex()||E,typeof ee!="number"&&(ee instanceof Array&&(x=ee,ee=x.pop()),ee=b.symbols_[ee]||ee),ee}for(var W,$,X,Y,N={},he,ge,j,Te;;){if($=O[O.length-1],this.defaultActions[$]?X=this.defaultActions[$]:((W===null||typeof W>"u")&&(W=U()),X=v[$]&&v[$][W]),typeof X>"u"||!X.length||!X[0]){var K="";Te=[];for(he in v[$])this.terminals_[he]&&he>C&&Te.push("'"+this.terminals_[he]+"'");L.showPosition?K="Parse error on line "+(I+1)+`:
`+L.showPosition()+`
Expecting `+Te.join(", ")+", got '"+(this.terminals_[W]||W)+"'":K="Parse error on line "+(I+1)+": Unexpected "+(W==E?"end of input":"'"+(this.terminals_[W]||W)+"'"),this.parseError(K,{text:L.match,token:this.terminals_[W]||W,line:L.yylineno,loc:w,expected:Te})}if(X[0]instanceof Array&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+W);switch(X[0]){case 1:O.push(W),T.push(L.yytext),A.push(L.yylloc),O.push(X[1]),W=null,M=L.yyleng,S=L.yytext,I=L.yylineno,w=L.yylloc;break;case 2:if(ge=this.productions_[X[1]][1],N.$=T[T.length-ge],N._$={first_line:A[A.length-(ge||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(ge||1)].first_column,last_column:A[A.length-1].last_column},Q&&(N._$.range=[A[A.length-(ge||1)].range[0],A[A.length-1].range[1]]),Y=this.performAction.apply(N,[S,M,I,k.yy,X[1],T,A].concat(_)),typeof Y<"u")return Y;ge&&(O=O.slice(0,-1*ge*2),T=T.slice(0,-1*ge),A=A.slice(0,-1*ge)),O.push(this.productions_[X[1]][0]),T.push(N.$),A.push(N._$),j=v[O[O.length-2]][O[O.length-1]],O.push(j);break;case 3:return!0}}return!0}},p=function(){var m={EOF:1,parseError:function(b,O){if(this.yy.parser)this.yy.parser.parseError(b,O);else throw new Error(b)},setInput:function(y,b){return this.yy=b||this.yy||{},this._input=y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var y=this._input[0];this.yytext+=y,this.yyleng++,this.offset++,this.match+=y,this.matched+=y;var b=y.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),y},unput:function(y){var b=y.length,O=y.split(/(?:\r\n?|\n)/g);this._input=y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var x=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1&&(this.yylineno-=O.length-1);var T=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===x.length?this.yylloc.first_column:0)+x[x.length-O.length].length-O[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[T[0],T[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(y){this.unput(this.match.slice(y))},pastInput:function(){var y=this.matched.substr(0,this.matched.length-this.match.length);return(y.length>20?"...":"")+y.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var y=this.match;return y.length<20&&(y+=this._input.substr(0,20-y.length)),(y.substr(0,20)+(y.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var y=this.pastInput(),b=new Array(y.length+1).join("-");return y+this.upcomingInput()+`
`+b+"^"},test_match:function(y,b){var O,x,T;if(this.options.backtrack_lexer&&(T={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(T.yylloc.range=this.yylloc.range.slice(0))),x=y[0].match(/(?:\r\n?|\n).*/g),x&&(this.yylineno+=x.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+y[0].length},this.yytext+=y[0],this.match+=y[0],this.matches=y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(y[0].length),this.matched+=y[0],O=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var A in T)this[A]=T[A];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var y,b,O,x;this._more||(this.yytext="",this.match="");for(var T=this._currentRules(),A=0;A<T.length;A++)if(O=this._input.match(this.rules[T[A]]),O&&(!b||O[0].length>b[0].length)){if(b=O,x=A,this.options.backtrack_lexer){if(y=this.test_match(O,T[A]),y!==!1)return y;if(this._backtrack){b=!1;continue}else return!1}else if(!this.options.flex)break}return b?(y=this.test_match(b,T[x]),y!==!1?y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b||this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){var b=this.conditionStack.length-1;return b>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){return b=this.conditionStack.length-1-Math.abs(b||0),b>=0?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,O,x,T){switch(x){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return m}();f.lexer=p;function g(){this.yy={}}return g.prototype=f,f.Parser=g,new g}();n4.parser=n4;const Fit=n4,Bit=t=>t.match(/^\s*journey/)!==null;let wf="";const NT=[],Hm=[],Gm=[],Qit=function(t,e,n){An.parseDirective(this,t,e,n)},zit=function(){NT.length=0,Hm.length=0,wf="",Gm.length=0,Ts()},Vit=function(t){wf=t,NT.push(t)},Wit=function(){return NT},Uit=function(){let t=xP();const e=100;let n=0;for(;!t&&n<e;)t=xP(),n++;return Hm.push(...Gm),Hm},jit=function(){const t=[];return Hm.forEach(n=>{n.people&&t.push(...n.people)}),[...new Set(t)].sort()},qit=function(t,e){const n=e.substr(1).split(":");let r=0,i=[];n.length===1?(r=Number(n[0]),i=[]):(r=Number(n[0]),i=n[1].split(","));const s=i.map(a=>a.trim()),o={section:wf,type:wf,people:s,task:t,score:r};Gm.push(o)},Yit=function(t){const e={section:wf,type:wf,description:t,task:t,classes:[]};Hm.push(e)},xP=function(){const t=function(n){return Gm[n].processed};let e=!0;for(const[n,r]of Gm.entries())t(n),e=e&&r.processed;return e},Zit=function(){return jit()},wP={parseDirective:Qit,getConfig:()=>re().journey,clear:zit,setDiagramTitle:jo,getDiagramTitle:qo,setAccTitle:ls,getAccTitle:Ds,setAccDescription:As,getAccDescription:Ms,addSection:Vit,getSections:Wit,getTasks:Uit,addTask:qit,addTaskOrg:Yit,getActors:Zit},kx=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.class!==void 0&&n.attr("class",e.class),n},Xit=function(t,e){const r=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function s(l){const u=nS().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function o(l){const u=nS().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function a(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return e.score>3?s(i):e.score<3?o(i):a(i),r},kj=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),n.class!==void 0&&n.attr("class",n.class),e.title!==void 0&&n.append("title").text(e.title),n},xj=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),e.class!==void 0&&r.attr("class",e.class);const i=r.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(n),r},Hit=function(t,e){function n(i,s,o,a,l){return i+","+s+" "+(i+o)+","+s+" "+(i+o)+","+(s+a-l)+" "+(i+o-l*1.2)+","+(s+a)+" "+i+","+(s+a)}const r=t.append("polygon");r.attr("points",n(e.x,e.y,50,20,7)),r.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,xj(t,e)},Git=function(t,e,n){const r=t.append("g"),i=FT();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=n.width,i.height=n.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,kx(r,i),wj(n)(e.text,r,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},n,e.colour)};let _P=-1;const Kit=function(t,e,n){const r=e.x+n.width/2,i=t.append("g");_P++;const s=300+5*30;i.append("line").attr("id","task"+_P).attr("x1",r).attr("y1",e.y).attr("x2",r).attr("y2",s).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),Xit(i,{cx:r,cy:300+(5-e.score)*30,score:e.score});const o=FT();o.x=e.x,o.y=e.y,o.fill=e.fill,o.width=n.width,o.height=n.height,o.class="task task-type-"+e.num,o.rx=3,o.ry=3,kx(i,o);let a=e.x+14;e.people.forEach(l=>{const u=e.actors[l].color,h={cx:a,cy:e.y,r:7,fill:u,stroke:"#000",title:l,pos:e.actors[l].position};kj(i,h),a+=10}),wj(n)(e.task,i,o.x,o.y,o.width,o.height,{class:"task"},n,e.colour)},Jit=function(t,e){kx(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},est=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},FT=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},wj=function(){function t(i,s,o,a,l,u,h,d){const f=s.append("text").attr("x",o+l/2).attr("y",a+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);r(f,h)}function e(i,s,o,a,l,u,h,d,f){const{taskFontSize:p,taskFontFamily:g}=d,m=i.split(/<br\s*\/?>/gi);for(let y=0;y<m.length;y++){const b=y*p-p*(m.length-1)/2,O=s.append("text").attr("x",o+l/2).attr("y",a).attr("fill",f).style("text-anchor","middle").style("font-size",p).style("font-family",g);O.append("tspan").attr("x",o+l/2).attr("dy",b).text(m[y]),O.attr("y",a+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(O,h)}}function n(i,s,o,a,l,u,h,d){const f=s.append("switch"),g=f.append("foreignObject").attr("x",o).attr("y",a).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,o,a,l,u,h,d),r(g,h)}function r(i,s){for(const o in s)o in s&&i.attr(o,s[o])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),tst=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},Km={drawRect:kx,drawCircle:kj,drawSection:Git,drawText:xj,drawLabel:Hit,drawTask:Kit,drawBackgroundRect:Jit,getTextObj:est,getNoteRect:FT,initGraphics:tst},nst=function(t){Object.keys(t).forEach(function(n){xx[n]=t[n]})},ml={};function rst(t){const e=re().journey;let n=60;Object.keys(ml).forEach(r=>{const i=ml[r].color,s={cx:20,cy:n,r:7,fill:i,stroke:"#000",pos:ml[r].position};Km.drawCircle(t,s);const o={x:40,y:n+7,fill:"#666",text:r,textMargin:e.boxTextMargin|5};Km.drawText(t,o),n+=20})}const xx=re().journey,Du=xx.leftMargin,ist=function(t,e,n,r){const i=re().journey;r.db.clear(),r.parser.parse(t+`
`);const s=re().securityLevel;let o;s==="sandbox"&&(o=De("#i"+e));const a=De(s==="sandbox"?o.nodes()[0].contentDocument.body:"body");Ns.init();const l=a.select("#"+e);Km.initGraphics(l);const u=r.db.getTasks(),h=r.db.getDiagramTitle(),d=r.db.getActors();for(const b in ml)delete ml[b];let f=0;d.forEach(b=>{ml[b]={color:i.actorColours[f%i.actorColours.length],position:f},f++}),rst(l),Ns.insert(0,0,Du,Object.keys(ml).length*50),sst(l,u,0);const p=Ns.getBounds();h&&l.append("text").text(h).attr("x",Du).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const g=p.stopy-p.starty+2*i.diagramMarginY,m=Du+p.stopx+2*i.diagramMarginX;Uo(l,g,m,i.useMaxWidth),l.append("line").attr("x1",Du).attr("y1",i.height*4).attr("x2",m-Du-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const y=h?70:0;l.attr("viewBox",`${p.startx} -25 ${m} ${g+y}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",g+y+25)},Ns={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,r){t[e]===void 0?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=re().journey,s=this;let o=0;function a(l){return function(h){o++;const d=s.sequenceItems.length-o+1;s.updateVal(h,"starty",e-d*i.boxMargin,Math.min),s.updateVal(h,"stopy",r+d*i.boxMargin,Math.max),s.updateVal(Ns.data,"startx",t-d*i.boxMargin,Math.min),s.updateVal(Ns.data,"stopx",n+d*i.boxMargin,Math.max),s.updateVal(h,"startx",t-d*i.boxMargin,Math.min),s.updateVal(h,"stopx",n+d*i.boxMargin,Math.max),s.updateVal(Ns.data,"starty",e-d*i.boxMargin,Math.min),s.updateVal(Ns.data,"stopy",r+d*i.boxMargin,Math.max)}}this.sequenceItems.forEach(a())},insert:function(t,e,n,r){const i=Math.min(t,n),s=Math.max(t,n),o=Math.min(e,r),a=Math.max(e,r);this.updateVal(Ns.data,"startx",i,Math.min),this.updateVal(Ns.data,"starty",o,Math.min),this.updateVal(Ns.data,"stopx",s,Math.max),this.updateVal(Ns.data,"stopy",a,Math.max),this.updateBounds(i,o,s,a)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},T_=xx.sectionFills,vP=xx.sectionColours,sst=function(t,e,n){const r=re().journey;let i="";const s=r.height*2+r.diagramMarginY,o=n+s;let a=0,l="#CCC",u="black",h=0;for(const[d,f]of e.entries()){if(i!==f.section){l=T_[a%T_.length],h=a%T_.length,u=vP[a%vP.length];const g={x:d*r.taskMargin+d*r.width+Du,y:50,text:f.section,fill:l,num:h,colour:u};Km.drawSection(t,g,r),i=f.section,a++}const p=f.people.reduce((g,m)=>(ml[m]&&(g[m]=ml[m]),g),{});f.x=d*r.taskMargin+d*r.width+Du,f.y=o,f.width=r.diagramMarginX,f.height=r.diagramMarginY,f.colour=u,f.fill=l,f.num=h,f.actors=p,Km.drawTask(t,f,r),Ns.insert(f.x,f.y,f.x+f.width+r.taskMargin,300+5*30)}},SP={setConf:nst,draw:ist};let CP={};const ost=function(t){CP={...CP,...t}},ast=(t,e,n)=>{try{V.debug(`Renering svg for syntax error
`);const r=De("#"+e),i=r.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),r.attr("height",100),r.attr("width",500),r.attr("viewBox","768 0 912 512")}catch(r){V.error("Error while rendering info diagram"),V.error(lHe(r))}},gO={setConf:ost,draw:ast},_j="flowchart-elk",lst=(t,e)=>{var n;return!!(t.match(/^\s*flowchart-elk/)||t.match(/^\s*flowchart|graph/)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk")},cst=async()=>{const{diagram:t}=await fE(()=>import("./flowchart-elk-definition-170a3958-Bh4DXtaM.js"),[]);return{id:_j,diagram:t}},ust={id:_j,detector:lst,loader:cst},hst=ust,vj="timeline",dst=t=>t.match(/^\s*timeline/)!==null,fst=async()=>{const{diagram:t}=await fE(()=>import("./timeline-definition-8e5a9bc6-LEkttn1q.js"),__vite__mapDeps([0,1]));return{id:vj,diagram:t}},pst={id:vj,detector:dst,loader:fst},gst=pst,Sj="mindmap",mst=t=>t.match(/^\s*mindmap/)!==null,yst=async()=>{const{diagram:t}=await fE(()=>import("./mindmap-definition-44684416-iEm-jNQP.js"),__vite__mapDeps([2,1]));return{id:Sj,diagram:t}},bst={id:Sj,detector:mst,loader:yst},Ost=bst;let EP=!1;const t1=()=>{EP||(EP=!0,AV(hst,gst,Ost),cr("error",{db:{clear:()=>{}},styles:CS,renderer:gO,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},t=>t.toLowerCase().trim()==="error"),cr("---",{db:{clear:()=>{}},styles:CS,renderer:gO,parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with unindented `---` blocks")}},init:()=>null},t=>t.toLowerCase().trimStart().startsWith("---")),cr("c4",{parser:mGe,db:oW,renderer:YM,styles:XV,init:t=>{YM.setConf(t.c4)}},yGe),cr("class",{parser:ZM,db:gd,renderer:QKe,styles:Ig,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,gd.clear()}},cKe),cr("classDiagram",{parser:ZM,db:gd,renderer:JJe,styles:Ig,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,gd.clear()}},uKe),cr("er",{parser:eet,db:het,renderer:_et,styles:VV},tet),cr("gantt",{parser:Uet,db:TT,renderer:Stt,styles:WV},jet),cr("info",{parser:Ctt,db:Mtt,renderer:$tt,styles:UV},Rtt),cr("pie",{parser:Ltt,db:Utt,renderer:qtt,styles:jV},Itt),cr("requirement",{parser:Ytt,db:fnt,renderer:wnt,styles:qV},Ztt),cr("sequence",{parser:_nt,db:hP,renderer:fP,styles:YV,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");hP.setWrap(t.wrap),fP.setConf(t.sequence)}},vnt),cr("state",{parser:pP,db:ll,renderer:fit,styles:Z2,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,ll.clear()}},vrt),cr("stateDiagram",{parser:pP,db:ll,renderer:Nit,styles:Z2,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,ll.clear()}},Srt),cr("journey",{parser:Fit,db:wP,renderer:SP,styles:ZV,init:t=>{SP.setConf(t.journey),wP.clear()}},Bit),cr("flowchart",{parser:aP,db:ha,renderer:v_,styles:Y2,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Qet.setConf(t.flowchart),ha.clear(),ha.setGen("gen-1")}},vet),cr("flowchart-v2",{parser:aP,db:ha,renderer:v_,styles:Y2,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,FV({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),v_.setConf(t.flowchart),ha.clear(),ha.setGen("gen-2")}},Cet),cr("gitGraph",{parser:BHe,db:sGe,renderer:fGe,styles:gGe},QHe))};class r4{constructor(e,n){var r,i;this.txt=e,this.type="graph",this.detectTypeFailed=!1;const s=re();this.txt=e;try{this.type=nT(e,s)}catch(l){this.handleError(l,n),this.type="error",this.detectTypeFailed=!0}const o=KV(this.type);V.debug("Type "+this.type),this.db=o.db,(i=(r=this.db).clear)==null||i.call(r),this.renderer=o.renderer,this.parser=o.parser;const a=this.parser.parse.bind(this.parser);this.parser.parse=l=>a(VXe(l,this.db)),this.parser.parser.yy=this.db,o.init&&(o.init(s),V.info("Initialized diagram "+this.type,s)),this.txt+=`
`,this.parse(this.txt,n)}parse(e,n){var r,i;if(this.detectTypeFailed)return!1;try{return e=e+`
`,(i=(r=this.db).clear)==null||i.call(r),this.parser.parse(e),!0}catch(s){this.handleError(s,n)}return!1}handleError(e,n){if(n===void 0)throw e;if(iT(e)){n(e.str,e.hash);return}n(e)}getParser(){return this.parser}getType(){return this.type}}const BT=(t,e)=>{const n=nT(t,re());try{KV(n)}catch{const i=jXe(n);if(!i)throw new Error(`Diagram ${n} not found.`);return i().then(({diagram:s})=>(cr(n,s,void 0),new r4(t,e)))}return new r4(t,e)},QT=r4,kst="graphics-document document";function xst(t,e){t.attr("role",kst),Rd(e)||t.attr("aria-roledescription",e)}function wst(t,e,n,r){if(t.insert!==void 0)if(e||n){if(n){const i="chart-desc-"+r;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(n)}if(e){const i="chart-title-"+r;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}else return}const zT=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],Cj="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Ej="sandbox",Tj="loose",_st="http://www.w3.org/2000/svg",Dj="http://www.w3.org/1999/xlink",Aj="http://www.w3.org/1999/xhtml",vst="100%",Sst="100%",Cst="border:0;margin:0;",Est="margin:0",Tst="allow-top-navigation-by-user-activation allow-popups",Dst='The "iframe" tag is not supported by your browser.',Mj=["foreignobject"],Pj=["dominant-baseline"];function Ast(t,e){return t1(),new QT(t,e).parse(t,e)}async function Mst(t,e){return t1(),(await BT(t,e)).parse(t,e)}const $j=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?"ﬂ°°"+r+"¶ß":"ﬂ°"+r+"¶ß"}),e},VT=function(t){let e=t;return e=e.replace(/ﬂ°°/g,"&#"),e=e.replace(/ﬂ°/g,"&"),e=e.replace(/¶ß/g,";"),e},TP=(t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,Pst=(t,e,n={})=>{var r;let i="";if(t.themeCSS!==void 0&&(i+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),!Rd(n)&&zT.includes(e)){const l=t.htmlLabels||((r=t.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const u in n){const h=n[u];Rd(h.styles)||l.forEach(d=>{i+=TP(h.id,d,h.styles)}),Rd(h.textStyles)||(i+=TP(h.id,"tspan",h.textStyles))}}return i},Rj=(t,e,n,r)=>{const i=Pst(t,e,n),s=AHe(e,i,t.themeVariables);return lS(aQe(`${r}{${s}}`),cQe)},Lj=(t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),r=VT(r),r=r.replace(/<br>/g,"<br/>"),r},Ij=(t="",e)=>{const n=e?e.viewBox.baseVal.height+"px":Sst,r=btoa('<body style="'+Est+'">'+t+"</body>");return`<iframe style="width:${vst};height:${n};${Cst}" src="data:text/html;base64,${r}" sandbox="${Tst}">
  ${Dst}
</iframe>`},mO=(t,e,n,r,i)=>{const s=t.append("div");s.attr("id",n),r&&s.attr("style",r);const o=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",_st);return i&&o.attr("xmlns:xlink",i),o.append("g"),t};function yO(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const Nj=(t,e,n,r)=>{var i,s,o;(i=t.getElementById(e))==null||i.remove(),(s=t.getElementById(n))==null||s.remove(),(o=t.getElementById(r))==null||o.remove()},$st=function(t,e,n,r){var i,s,o,a;t1(),Bm();const l=pt.detectInit(e);l&&(ph(l),sT(l));const u=re();V.debug(u),e.length>((u==null?void 0:u.maxTextSize)??5e4)&&(e=Cj),e=e.replace(/\r\n?/g,`
`);const h="#"+t,d="i"+t,f="#"+d,p="d"+t,g="#"+p;let m=De("body");const y=u.securityLevel===Ej,b=u.securityLevel===Tj,O=u.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),y){const U=yO(De(r),d);m=De(U.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=De(r);mO(m,t,p,`font-family: ${O}`,Dj)}else{if(Nj(document,t,p,d),y){const U=yO(De("body"),d);m=De(U.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=De("body");mO(m,t,p)}e=$j(e);let x,T;try{if(x=BT(e),"then"in x)throw new Error("Diagram is a promise. Use renderAsync.")}catch(U){x=new QT("error"),T=U}const A=m.select(g).node(),v=x.type,S=A.firstChild,I=S.firstChild,M=zT.includes(v)?x.renderer.getClasses(e,x):{},C=Rj(u,v,M,h),E=document.createElement("style");E.innerHTML=C,S.insertBefore(E,I);try{x.renderer.draw(e,t,q2,x)}catch(U){throw gO.draw(e,t,q2),U}const _=m.select(`${g} svg`),L=(s=(i=x.db).getAccTitle)==null?void 0:s.call(i),k=(a=(o=x.db).getAccDescription)==null?void 0:a.call(o);Fj(v,_,L,k),m.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Aj);let B=m.select(g).node().innerHTML;if(V.debug("config.arrowMarkerAbsolute",u.arrowMarkerAbsolute),B=Lj(B,y,Er(u.arrowMarkerAbsolute)),y){const U=m.select(g+" svg").node();B=Ij(B,U)}else b||(B=Tm.sanitize(B,{ADD_TAGS:Mj,ADD_ATTR:Pj}));if(n!==void 0)switch(v){case"flowchart":case"flowchart-v2":n(B,ha.bindFunctions);break;case"gantt":n(B,TT.bindFunctions);break;case"class":case"classDiagram":n(B,gd.bindFunctions);break;default:n(B)}else V.debug("CB = undefined!");qU();const Q=De(y?f:g).node();if(Q&&"remove"in Q&&Q.remove(),T)throw T;return B},Rst=async function(t,e,n,r){var i,s,o,a;t1(),Bm();const l=pt.detectInit(e);l&&(ph(l),sT(l));const u=re();V.debug(u),e.length>((u==null?void 0:u.maxTextSize)??5e4)&&(e=Cj),e=e.replace(/\r\n?/g,`
`);const h="#"+t,d="i"+t,f="#"+d,p="d"+t,g="#"+p;let m=De("body");const y=u.securityLevel===Ej,b=u.securityLevel===Tj,O=u.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),y){const U=yO(De(r),d);m=De(U.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=De(r);mO(m,t,p,`font-family: ${O}`,Dj)}else{if(Nj(document,t,p,d),y){const U=yO(De("body"),d);m=De(U.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=De("body");mO(m,t,p)}e=$j(e);let x,T;try{x=await BT(e)}catch(U){x=new QT("error"),T=U}const A=m.select(g).node(),v=x.type,S=A.firstChild,I=S.firstChild,M=zT.includes(v)?x.renderer.getClasses(e,x):{},C=Rj(u,v,M,h),E=document.createElement("style");E.innerHTML=C,S.insertBefore(E,I);try{await x.renderer.draw(e,t,q2,x)}catch(U){throw gO.draw(e,t,q2),U}const _=m.select(`${g} svg`),L=(s=(i=x.db).getAccTitle)==null?void 0:s.call(i),k=(a=(o=x.db).getAccDescription)==null?void 0:a.call(o);Fj(v,_,L,k),m.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Aj);let B=m.select(g).node().innerHTML;if(V.debug("config.arrowMarkerAbsolute",u.arrowMarkerAbsolute),B=Lj(B,y,Er(u.arrowMarkerAbsolute)),y){const U=m.select(g+" svg").node();B=Ij(B,U)}else b||(B=Tm.sanitize(B,{ADD_TAGS:Mj,ADD_ATTR:Pj}));if(n!==void 0)switch(v){case"flowchart":case"flowchart-v2":n(B,ha.bindFunctions);break;case"gantt":n(B,TT.bindFunctions);break;case"class":case"classDiagram":n(B,gd.bindFunctions);break;default:n(B)}else V.debug("CB = undefined!");qU();const Q=De(y?f:g).node();if(Q&&"remove"in Q&&Q.remove(),T)throw T;return B};function Lst(t={}){var e;t!=null&&t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={fontFamily:t.fontFamily}),hHe(t),t!=null&&t.theme&&t.theme in _l?t.themeVariables=_l[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=_l.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?uHe(t):NV();KE(n.logLevel),t1()}function Fj(t,e,n,r){xst(e,t),wst(e,n,r,e.attr("id"))}const An=Object.freeze({render:$st,renderAsync:Rst,parse:Ast,parseAsync:Mst,parseDirective:HV,initialize:Lst,getConfig:re,setConfig:FV,getSiteConfig:NV,updateSiteConfig:dHe,reset:()=>{Bm()},globalReset:()=>{Bm(gf)},defaultConfig:gf});KE(re().logLevel);Bm(re());const Ist=async function(t,e,n){try{await Qj(t,e,n)}catch(r){V.warn("Syntax Error rendering"),iT(r)&&V.warn(r.str),ns.parseError&&ns.parseError(r)}},Bj=(t,e,n)=>{V.warn(t),iT(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},Nst=function(t,e,n){const r=An.getConfig();t&&(ns.sequenceConfig=t),V.debug(`${n?"":"No "}Callback function found`);let i;if(e===void 0)i=document.querySelectorAll(".mermaid");else if(typeof e=="string")i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else if(e instanceof NodeList)i=e;else throw new Error("Invalid argument nodes for mermaid.init");V.debug(`Found ${i.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(V.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),An.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const s=new pt.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const a=[];for(const l of Array.from(i)){V.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${s.next()}`;o=l.innerHTML,o=FB(pt.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=pt.detectInit(o);h&&V.debug("Detected early reinit: ",h);try{An.render(u,o,(d,f)=>{l.innerHTML=d,n!==void 0&&n(u),f&&f(l)},l)}catch(d){Bj(d,a,ns.parseError)}}if(a.length>0)throw a[0]},Fst=async(...t)=>{V.debug(`Loading ${t.length} external diagrams`);const n=(await Promise.allSettled(t.map(async({id:r,detector:i,loader:s})=>{const{diagram:o}=await s();cr(r,o,i)}))).filter(r=>r.status==="rejected");if(n.length>0){V.error(`Failed to load ${n.length} external diagrams`);for(const r of n)V.error(r);throw new Error(`Failed to load ${n.length} external diagrams`)}},Qj=async function(t,e,n){const r=An.getConfig();t&&(ns.sequenceConfig=t),V.debug(`${n?"":"No "}Callback function found`);let i;if(e===void 0)i=document.querySelectorAll(".mermaid");else if(typeof e=="string")i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else if(e instanceof NodeList)i=e;else throw new Error("Invalid argument nodes for mermaid.init");V.debug(`Found ${i.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(V.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),An.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const s=new pt.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const a=[];for(const l of Array.from(i)){V.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${s.next()}`;o=l.innerHTML,o=FB(pt.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=pt.detectInit(o);h&&V.debug("Detected early reinit: ",h);try{await An.renderAsync(u,o,(d,f)=>{l.innerHTML=d,n!==void 0&&n(u),f&&f(l)},l)}catch(d){Bj(d,a,ns.parseError)}}if(a.length>0)throw a[0]},Bst=function(t){An.initialize(t)},Qst=async(t,{lazyLoad:e=!0}={})=>{e?AV(...t):await Fst(...t)},zj=function(){if(ns.startOnLoad){const{startOnLoad:t}=An.getConfig();t&&ns.init().catch(e=>V.error("Mermaid failed to initialize",e))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",zj,!1)}const zst=function(t){ns.parseError=t},Vst=t=>An.parse(t,ns.parseError),bO=[];let D_=!1;const Vj=async()=>{if(!D_){for(D_=!0;bO.length>0;){const t=bO.shift();if(t)try{await t()}catch(e){V.error("Error executing queue",e)}}D_=!1}},Wst=t=>new Promise((e,n)=>{const r=()=>new Promise((i,s)=>{An.parseAsync(t,ns.parseError).then(o=>{i(o),e(o)},o=>{V.error("Error parsing",o),s(o),n(o)})});bO.push(r),Vj().catch(n)}),Ust=(t,e,n,r)=>new Promise((i,s)=>{const o=()=>new Promise((a,l)=>{An.renderAsync(t,e,n,r).then(u=>{a(u),i(u)},u=>{V.error("Error parsing",u),l(u),s(u)})});bO.push(o),Vj().catch(s)}),ns={startOnLoad:!0,diagrams:{},mermaidAPI:An,parse:Vst,parseAsync:Wst,render:An.render,renderAsync:Ust,init:Ist,initThrowsErrors:Nst,initThrowsErrorsAsync:Qj,registerExternalDiagrams:Qst,initialize:Bst,parseError:void 0,contentLoaded:zj,setParseErrorHandler:zst},jst=t=>{const e=io(t),n=e("line"),r=e("solid"),i=e("neutral"),s=e("background");return Object.entries({background:s,primaryColor:s,secondaryColor:n,primaryTextColor:i,noteBkgColor:s,noteTextColor:r,fontSize:"16px"}).filter(([o,a])=>(a==null?void 0:a.length)>0).map(([o,a])=>`'${o}':'${a}'`).join(", ")},qst=qF("abcedfghicklmn",10),q1=t=>{var e;return((e=t==null?void 0:t.attrs)==null?void 0:e.identity)||qst()},Yst=/^```mermaid$/,Zst=Qt("TurnIntoDiagram"),Xst=Mr((t,e)=>{var n,r,i;const s=(n=e==null?void 0:e.theme)!=null?n:void 0,o=(r=e==null?void 0:e.themeCSS)!=null?r:void 0,a="diagram";ns.startOnLoad=!1,ns.initialize({startOnLoad:!1,theme:s,themeCSS:o});const l={empty:"Empty",error:"Syntax Error",...(i=e==null?void 0:e.placeholder)!=null?i:{}};return{id:a,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""},identity:{default:""}},parseDOM:[{tag:`div[data-type="${a}"]`,preserveWhitespace:"full",getAttrs:u=>{if(!(u instanceof HTMLElement))throw Yr(u);return{value:u.dataset.value,identity:u.id}}}],toDOM:u=>["div",{id:q1(u),class:t.getClassName(u.attrs,"mermaid"),"data-type":a,"data-value":u.attrs.value||u.textContent||""},0],parseMarkdown:{match:({type:u})=>u===a,runner:(u,h,d)=>{const f=h.value;u.openNode(d,{value:f}),f&&u.addText(f),u.closeNode()}},toMarkdown:{match:u=>u.type.name===a,runner:(u,h)=>{var d;u.addNode("code",void 0,((d=h.content.firstChild)==null?void 0:d.text)||"",{lang:"mermaid"})}}}),commands:u=>[jt(Zst,()=>Cc(u,{id:q1()}))],view:u=>(h,d,f)=>{const p=q1(h);let g="",m=h;u.get(yt).onFlush(()=>{g=`%%{init: {'theme': 'base', 'themeVariables': { ${jst(t.themeManager)} }}}%%
`});const y=t.themeManager.get("inner-editor",{view:d,getPos:f,render:I=>{try{I?y.preview.innerHTML=ns.render(p,g+I):y.preview.innerHTML=l.empty}catch{const M=document.getElementById(`d${p}`);M&&M.remove(),y.preview.innerHTML=l.error}finally{y.dom.appendChild(y.preview)}}});if(!y)return{};const{onUpdate:b,editor:O,dom:x,onFocus:T,onBlur:A,onDestroy:v,stopEvent:S}=y;return O.dataset.type=a,x.classList.add("mermaid","diagram"),b(m,!0),u.get(yt).onFlush(()=>{b(m,!1)},!1),{dom:x,update:I=>I.sameMarkup(m)?(m=I,b(m,!1),!0):!1,selectNode:()=>{T(m)},deselectNode:()=>{A(m)},stopEvent:S,ignoreMutation:()=>!0,destroy(){v()}}},inputRules:u=>[new Li(Yst,(h,d,f,p)=>{const g=h.doc.resolve(f);if(!g.node(-1).canReplaceWith(g.index(-1),g.indexAfter(-1),u))return null;const m=h.tr.delete(f,p).setBlockType(f,f,u,{id:q1()});return m.setSelection(tt.create(m.doc,f-1))})],remarkPlugins:()=>[Kst]}}),Hst=t=>({type:"diagram",value:t}),Gst=t=>k0(t,"code",(e,n,r)=>{const{lang:i,value:s}=e;if(i!=="mermaid")return e;const o=Hst(s);return r&&n!=null&&r.children.splice(n,1,o),e}),Kst=()=>{function t(e){Gst(e)}return t},Jst=oo.create([Xst()]);var eot=Object.defineProperty,tot=(t,e,n)=>e in t?eot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ko=(t,e,n)=>(tot(t,typeof e!="symbol"?e+"":e,n),n);let Wj=class{constructor(){Ko(this,"beforeMountedListeners",[]),Ko(this,"mountedListeners",[]),Ko(this,"updatedListeners",[]),Ko(this,"markdownUpdatedListeners",[]),Ko(this,"blurListeners",[]),Ko(this,"focusListeners",[]),Ko(this,"destroyListeners",[]),Ko(this,"beforeMount",e=>(this.beforeMountedListeners.push(e),this)),Ko(this,"mounted",e=>(this.mountedListeners.push(e),this)),Ko(this,"updated",e=>(this.updatedListeners.push(e),this))}get listeners(){return{beforeMounted:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}};const i4=mt(new Wj,"listener"),not=new en("MILKDOWN_LISTENER"),rot=t=>(t.inject(i4,new Wj),async e=>{await e.wait(kl);const n=e.get(i4),{listeners:r}=n;r.beforeMounted.forEach(l=>l(e)),await e.wait(Sg);const i=e.get(Xu);let s=null,o=null;const a=new Xt({key:not,view:()=>({destroy:()=>{r.destroy.forEach(l=>l(e))}}),props:{handleDOMEvents:{focus:()=>(r.focus.forEach(l=>l(e)),!1),blur:()=>(r.blur.forEach(l=>l(e)),!1)}},state:{init:()=>{},apply:l=>{if(!l.docChanged)return;const{doc:u}=l;if(r.updated.length>0&&(s==null||!s.eq(u))&&r.updated.forEach(h=>{h(e,u,s)}),r.markdownUpdated.length>0&&(s==null||!s.eq(u))){const h=i(l.doc);(o==null||o!==h)&&(r.markdownUpdated.forEach(d=>{d(e,h,o)}),o=h)}s=u}}});e.update(as,l=>l.concat(a)),await e.wait(Eg),r.mounted.forEach(l=>l(e))});function DP(t){return typeof t=="object"&&t!=null&&t.nodeType===1}function AP(t,e){return(!e||t!=="hidden")&&t!=="visible"&&t!=="clip"}function A_(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return AP(n.overflowY,e)||AP(n.overflowX,e)||function(r){var i=function(s){if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)}(t)}return!1}function Y1(t,e,n,r,i,s,o,a){return s<t&&o>e||s>t&&o<e?0:s<=t&&a<=n||o>=e&&a>=n?s-t-r:o>e&&a<n||s<t&&a>n?o-e+i:0}var MP=function(t,e){var n=window,r=e.scrollMode,i=e.block,s=e.inline,o=e.boundary,a=e.skipOverflowHiddenElements,l=typeof o=="function"?o:function(F){return F!==o};if(!DP(t))throw new TypeError("Invalid target");for(var u,h,d=document.scrollingElement||document.documentElement,f=[],p=t;DP(p)&&l(p);){if((p=(h=(u=p).parentElement)==null?u.getRootNode().host||null:h)===d){f.push(p);break}p!=null&&p===document.body&&A_(p)&&!A_(document.documentElement)||p!=null&&A_(p,a)&&f.push(p)}for(var g=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,O=t.getBoundingClientRect(),x=O.height,T=O.width,A=O.top,v=O.right,S=O.bottom,I=O.left,M=i==="start"||i==="nearest"?A:i==="end"?S:A+x/2,C=s==="center"?I+T/2:s==="end"?v:I,E=[],_=0;_<f.length;_++){var L=f[_],k=L.getBoundingClientRect(),B=k.height,w=k.width,Q=k.top,U=k.right,W=k.bottom,$=k.left;if(r==="if-needed"&&A>=0&&I>=0&&S<=m&&v<=g&&A>=Q&&S<=W&&I>=$&&v<=U)return E;var X=getComputedStyle(L),Y=parseInt(X.borderLeftWidth,10),N=parseInt(X.borderTopWidth,10),he=parseInt(X.borderRightWidth,10),ge=parseInt(X.borderBottomWidth,10),j=0,Te=0,K="offsetWidth"in L?L.offsetWidth-L.clientWidth-Y-he:0,ee="offsetHeight"in L?L.offsetHeight-L.clientHeight-N-ge:0,H="offsetWidth"in L?L.offsetWidth===0?0:w/L.offsetWidth:0,G="offsetHeight"in L?L.offsetHeight===0?0:B/L.offsetHeight:0;if(d===L)j=i==="start"?M:i==="end"?M-m:i==="nearest"?Y1(b,b+m,m,N,ge,b+M,b+M+x,x):M-m/2,Te=s==="start"?C:s==="center"?C-g/2:s==="end"?C-g:Y1(y,y+g,g,Y,he,y+C,y+C+T,T),j=Math.max(0,j+b),Te=Math.max(0,Te+y);else{j=i==="start"?M-Q-N:i==="end"?M-W+ge+ee:i==="nearest"?Y1(Q,W,B,N,ge+ee,M,M+x,x):M-(Q+B/2)+ee/2,Te=s==="start"?C-$-Y:s==="center"?C-($+w/2)+K/2:s==="end"?C-U+he+K:Y1($,U,w,Y,he+K,C,C+T,T);var z=L.scrollLeft,D=L.scrollTop;M+=D-(j=Math.max(0,Math.min(D+j/G,L.scrollHeight-B/G+ee))),C+=z-(Te=Math.max(0,Math.min(z+Te/H,L.scrollWidth-w/H+K)))}E.push({el:L,top:j,left:Te})}return E};function Uj(t){return t===Object(t)&&Object.keys(t).length!==0}function iot(t,e){e===void 0&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach(function(r){var i=r.el,s=r.top,o=r.left;i.scroll&&n?i.scroll({top:s,left:o,behavior:e}):(i.scrollTop=s,i.scrollLeft=o)})}function sot(t){return t===!1?{block:"end",inline:"nearest"}:Uj(t)?t:{block:"start",inline:"nearest"}}function PP(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(Uj(e)&&typeof e.behavior=="function")return e.behavior(n?MP(t,e):[]);if(n){var r=sot(e);return iot(MP(t,r),r.behavior)}}var M_,jj=function(){return M_||(M_="performance"in window?performance.now.bind(performance):Date.now),M_()};function qj(t){var e=jj(),n=Math.min((e-t.startTime)/t.duration,1),r=t.ease(n),i=t.startX+(t.x-t.startX)*r,s=t.startY+(t.y-t.startY)*r;t.method(i,s),i!==t.x||s!==t.y?requestAnimationFrame(function(){return qj(t)}):t.cb()}function oot(t,e,n,r,i,s){r===void 0&&(r=600),i===void 0&&(i=function(d){return 1+--d*d*d*d*d});var o,a,l,u;o=t,a=t.scrollLeft,l=t.scrollTop,u=function(d,f){t.scrollLeft=Math.ceil(d),t.scrollTop=Math.ceil(f)},qj({scrollable:o,method:u,startTime:jj(),startX:a,startY:l,x:e,y:n,duration:r,ease:i,cb:s})}var aot=function(e){return e&&!e.behavior||e.behavior==="smooth"};function lot(t,e){var n=e||{};return aot(n)?PP(t,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(i){return Promise.all(i.reduce(function(s,o){var a=o.el,l=o.left,u=o.top,h=a.scrollLeft,d=a.scrollTop;return h===l&&d===u?s:[].concat(s,[new Promise(function(f){return oot(a,l,u,n.duration,n.ease,function(){return f({el:a,left:[h,l],top:[d,u]})})})])},[]))}}):Promise.resolve(PP(t,e))}var Yj=lot;const cot=(t,{css:e})=>{const n=(r,i=1)=>t.get(_r,[r,i]);return e`
        .slash-dropdown-item {
            display: flex;
            gap: 32px;
            height: 48px;
            padding: 0 16px;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 48px;
            font-family: ${t.get(To,"typography")};
            font-size: 14px;

            transition: all 0.2s ease-in-out;

            &,
            .icon {
                color: ${n("neutral",.87)};
                transition: all 0.2s ease-in-out;
            }

            &.hide {
                display: none;
            }

            &.active {
                background: ${n("secondary",.12)};
                &,
                .icon {
                    color: ${n("primary")};
                }
            }
        }
    `},uot=(t,e)=>{const n=(r,i=1)=>t.get(_r,[r,i]);return e.css`
        width: 320px;
        min-height: 48px;
        max-height: 320px;
        overflow-y: auto;
        border-radius: ${t.get(sn,"radius")};
        position: absolute;
        background: ${n("surface")};

        ${t.get(Cr,void 0)}
        ${t.get(Lo,void 0)}
        ${t.get(Do,void 0)}

        &.hide {
            display: none;
        }

        ${cot(t,e)}
    `},hot=(t,e)=>{const n=document.createElement("div");return n.setAttribute("role","listbox"),n.setAttribute("tabindex","-1"),t.themeManager.onFlush(()=>{const r=t.getStyle(i=>uot(t.themeManager,i));r&&n.classList.add(r)}),n.classList.add(t.getClassName({},e),"hide"),n},mn=(t,e,n,r)=>{var i;const s=(i=void 0)!=null?i:"text",o=document.createElement("div");o.setAttribute("role","option"),o.classList.add("slash-dropdown-item");const a=t.get(Un,n);if(!a)throw fI(n);const l=document.createElement("span");return l.textContent=e,l.className=s,o.appendChild(a.dom),o.appendChild(l),o},dot=(t,e)=>{const{selection:n}=t,{$from:r}=n,i=t.tr.deleteRange(r.start(),r.pos);return e==null||e(i),!1},fot=t=>(e,n,r)=>(r&&(dot(e,n),t()),!0),$P=(t,e="/")=>{const{nodes:n}=t.get(Fn),r=[{id:"h1",dom:mn(t.get(yt),"Large Heading","h1"),command:()=>t.get(_t).call("TurnIntoHeading",1),keyword:["h1","large heading"],typeName:"heading"},{id:"h2",dom:mn(t.get(yt),"Medium Heading","h2"),command:()=>t.get(_t).call("TurnIntoHeading",2),keyword:["h2","medium heading"],typeName:"heading"},{id:"h3",dom:mn(t.get(yt),"Small Heading","h3"),command:()=>t.get(_t).call("TurnIntoHeading",3),keyword:["h3","small heading"],typeName:"heading"},{id:"bulletList",dom:mn(t.get(yt),"Bullet List","bulletList"),command:()=>t.get(_t).call("WrapInBulletList"),keyword:["bullet list","ul"],typeName:"bullet_list"},{id:"orderedList",dom:mn(t.get(yt),"Ordered List","orderedList"),command:()=>t.get(_t).call("WrapInOrderedList"),keyword:["ordered list","ol"],typeName:"ordered_list"},{id:"taskList",dom:mn(t.get(yt),"Task List","taskList"),command:()=>t.get(_t).call("TurnIntoTaskList"),keyword:["task list","task"],typeName:"task_list_item"},{id:"image",dom:mn(t.get(yt),"Image","image"),command:()=>t.get(_t).call("InsertImage"),keyword:["image"],typeName:"image"},{id:"blockquote",dom:mn(t.get(yt),"Quote","quote"),command:()=>t.get(_t).call("WrapInBlockquote"),keyword:["quote","blockquote"],typeName:"blockquote"},{id:"table",dom:mn(t.get(yt),"Table","table"),command:()=>t.get(_t).call("InsertTable"),keyword:["table"],typeName:"table"},{id:"code",dom:mn(t.get(yt),"Code Fence","code"),command:()=>t.get(_t).call("TurnIntoCodeFence"),keyword:["code"],typeName:"fence"},{id:"divider",dom:mn(t.get(yt),"Divide Line","divider"),command:()=>t.get(_t).call("InsertHr"),keyword:["divider","hr"],typeName:"hr"}],i=e.slice(1).toLocaleLowerCase();return r.filter(s=>!!n[s.typeName]&&s.keyword.some(o=>o.includes(i))).map(({keyword:s,typeName:o,...a})=>a)},pot=t=>({content:e,isTopLevel:n})=>{if(!n)return null;const r=t.get(un);return r!=null&&r.editable?e?e.startsWith("/")?e==="/"?{placeholder:"Type to filter...",actions:$P(t)}:{actions:$P(t,e)}:null:{placeholder:"Type / to use the slash commands..."}:null},got=(t,{css:e})=>{const n=(i,s=1)=>t.get(_r,[i,s]),r=t.get(To,"typography");return e`
        position: relative;
        &::before {
            position: absolute;
            cursor: text;
            font-family: ${r};
            font-size: 14px;
            color: ${n("neutral",.6)};
            content: attr(data-text);
            height: 100%;
            display: flex;
            align-items: center;
        }
    `},mot=(t,{css:e})=>e`
    &::before {
        left: 8px;
    }
`,yot=(t,e)=>({handleKeyDown:(n,r)=>!(t.isEmpty()||!(r instanceof KeyboardEvent)||!["ArrowUp","ArrowDown","Enter"].includes(r.key)),decorations:n=>{const r=p5(({type:d})=>d.name==="paragraph")(n.selection),i=n.plugins.find(d=>d.key==="MILKDOWN_UPLOAD$"),s=i==null?void 0:i.getState(n);if(s!=null&&s.find(n.selection.from,n.selection.to).length>0||!r||r.node.childCount>1||n.selection.$from.parentOffset!==r.node.textContent.length||r.node.firstChild&&r.node.firstChild.type.name!=="text")return t.clear(),null;const{placeholder:o,actions:a}=t.update({parentNode:n.selection.$from.node(n.selection.$from.depth-1),isTopLevel:n.selection.$from.depth===1,content:r.node.textContent,state:n});if(!o)return null;const l=(d,f)=>{const p=r.pos;return Jt.create(n.doc,[pi.node(p,p+r.node.nodeSize,{class:f.filter(g=>g).join(" "),"data-text":d})])},u=e.getStyle(d=>got(e.themeManager,d)),h=e.getStyle(d=>mot(e.themeManager,d));return a.length?l(o,[u,h,"empty-node","is-slash"]):l(o,[u,"empty-node"])}}),bot=t=>({id:t.id,$:t.dom,command:fot(t.command)}),Oot=()=>({placeholder:null,actions:[]}),kot=t=>{const e=Oot();return{get:()=>e,clear:()=>{e.placeholder=null,e.actions=[]},update:n=>{var r,i;const s=t(n);return e.placeholder=(r=s==null?void 0:s.placeholder)!=null?r:null,e.actions=((i=s==null?void 0:s.actions)!=null?i:[]).map(bot),e},isEmpty:()=>e.actions.length===0}},xot=(t,e,n)=>{const{actions:r}=t.get();if(!r.length)return e.classList.add("hide"),!1;for(e.childNodes.forEach(s=>{s.removeEventListener("mouseenter",n.mouseEnter),s.removeEventListener("mouseleave",n.mouseLeave)});e.firstChild;)e.firstChild.remove();r.forEach(({$:s})=>{s.classList.remove("active"),s.addEventListener("mouseenter",n.mouseEnter),s.addEventListener("mouseleave",n.mouseLeave),e.appendChild(s)}),e.style.maxHeight="",e.classList.remove("hide");const i=r[0];return i&&(i.$.classList.add("active"),requestAnimationFrame(()=>{Yj(i.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})})),!0},wot=()=>{let t=!1;return{isLock:()=>t,lock:()=>{t=!0},unlock:()=>{t=!1}}},_ot=t=>()=>{t.unlock()},vot=(t,e)=>n=>{if(e.isLock())return;const{actions:r}=t.get(),i=r.findIndex(a=>a.$.classList.contains("active")),s=r[i];s&&i>=0&&s.$.classList.remove("active");const{target:o}=n;o instanceof HTMLElement&&o.classList.add("active")},Sot=()=>t=>{const{target:e}=t;e instanceof HTMLElement&&e.classList.remove("active")},Cot=(t,e,n)=>r=>{const{target:i}=r;if(!(i instanceof HTMLElement)||!e)return;const s=()=>{r.stopPropagation(),r.preventDefault()},{actions:o}=t.get(),a=Object.values(o).find(({$:l})=>l.contains(i));if(!a){if(t.isEmpty())return;t.clear(),n.classList.add("hide"),s();return}s(),a.command(e.state,e.dispatch,e)},Eot=(t,e,n,r)=>i=>{if(!(i instanceof KeyboardEvent))return;r.isLock()||r.lock();const{key:s}=i;if(t.isEmpty()||!["ArrowDown","ArrowUp","Enter","Escape"].includes(s))return;const{actions:o}=t.get();let a=o.findIndex(({$:h})=>h.classList.contains("active"));a<0&&(a=0);const l=h=>{const d=o[a],f=o[h];!d||!f||(d.$.classList.remove("active"),f.$.classList.add("active"),Yj(f.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}))};if(s==="ArrowDown"){const h=a===o.length-1?0:a+1;l(h);return}if(s==="ArrowUp"){const h=a===0?o.length-1:a-1;l(h);return}if(s==="Escape"){if(t.isEmpty())return;t.clear(),n.classList.add("hide");return}const u=o[a];!u||(u.command(e.state,e.dispatch,e),u.$.classList.remove("active"))},Tot=(t,e)=>{h5(t,e,(n,r,i)=>{const s=e.parentElement;if(!s)throw Mi();let o=n.left-i.left;o<0&&(o=0);let a,l;const u=n.top-i.top,h=i.height+i.top-n.bottom;h>=r.height+28?a="bottom":u>=r.height+28?a="top":h>=u?(a="bottom",l=h-28):(a="top",l=u-28),(u<0||h<0)&&(l=i.height-n.height-28,l>r.height&&(l=void 0));const d=a==="top"?n.top-i.top-(l??r.height)-14+s.scrollTop:n.bottom-i.top+14+s.scrollTop;return e.style.maxHeight=l!==void 0&&l>0?`${l}px`:"",[d,o]})},Dot=(t,e,n,r,i)=>{const s=e.dom.parentNode;if(!s)return{};const o=hot(n,r),a=wot();s.appendChild(o);const l=_ot(a),u=Cot(t,e,o),h=Eot(t,e,o,a),d=vot(t,a),f=Sot();return s.addEventListener("mousemove",l),s.addEventListener("mousedown",u),s.addEventListener("keydown",h),{update:p=>{!xot(t,o,{mouseEnter:d,mouseLeave:f})||i(p,o)},destroy:()=>{s.removeEventListener("mousemove",l),s.removeEventListener("mousedown",u),s.removeEventListener("keydown",h),o.remove()}}},Aot="MILKDOWN_SLASH",Mot=(t,e,n,r)=>{const i=kot(e);return new Xt({key:new en(Aot),props:yot(i,t),view:s=>Dot(i,s,t,n,r)})},Zj=ao((t,e)=>{var n,r;const i=(n=e==null?void 0:e.config)!=null?n:pot,s=(r=e==null?void 0:e.calcPosition)!=null?r:Tot;return{prosePlugins:(o,a)=>{const l=i(a);return[Mot(t,l,"slash-dropdown",s)]}}}),Pot=oo.create([Zj()]),s4={text:"正文",h1:"一级标题",h2:"二级标题",h3:"三级标题",bulletList:"符号列表",orderedList:"数字列表",image:"图像",quote:"引用",blockquote:"引用",code:"代码",table:"表格",taskList:"任务列表",divider:"水平线"},RP=(t,e="/")=>{const{nodes:n}=t.get(Fn),r=[{id:"h1",dom:mn(t.get(yt),"Large Heading","h1"),command:()=>t.get(_t).call("TurnIntoHeading",1),keyword:["h1","large heading"],typeName:"heading"},{id:"h2",dom:mn(t.get(yt),"Medium Heading","h2"),command:()=>t.get(_t).call("TurnIntoHeading",2),keyword:["h2","medium heading"],typeName:"heading"},{id:"h3",dom:mn(t.get(yt),"Small Heading","h3"),command:()=>t.get(_t).call("TurnIntoHeading",3),keyword:["h3","small heading"],typeName:"heading"},{id:"bulletList",dom:mn(t.get(yt),"Bullet List","bulletList"),command:()=>t.get(_t).call("WrapInBulletList"),keyword:["bullet list","ul"],typeName:"bullet_list"},{id:"orderedList",dom:mn(t.get(yt),"Ordered List","orderedList"),command:()=>t.get(_t).call("WrapInOrderedList"),keyword:["ordered list","ol"],typeName:"ordered_list"},{id:"taskList",dom:mn(t.get(yt),"Task List","taskList"),command:()=>t.get(_t).call("TurnIntoTaskList"),keyword:["task list","task"],typeName:"task_list_item"},{id:"image",dom:mn(t.get(yt),"Image","image"),command:()=>t.get(_t).call("InsertImage"),keyword:["image"],typeName:"image"},{id:"blockquote",dom:mn(t.get(yt),"Quote","quote"),command:()=>t.get(_t).call("WrapInBlockquote"),keyword:["quote","blockquote"],typeName:"blockquote"},{id:"table",dom:mn(t.get(yt),"Table","table"),command:()=>t.get(_t).call("InsertTable"),keyword:["table"],typeName:"table"},{id:"code",dom:mn(t.get(yt),"Code Fence","code"),command:()=>t.get(_t).call("TurnIntoCodeFence"),keyword:["code"],typeName:"fence"},{id:"divider",dom:mn(t.get(yt),"Divide Line","divider"),command:()=>t.get(_t).call("InsertHr"),keyword:["divider","hr"],typeName:"hr"},{id:"diagram",dom:mn(t.get(yt),"图表","diagram"),command:()=>t.get(vg).action(Rw("```mermaid")),keyword:["diagram","tu"],typeName:"diagram"},{id:"mathInline",dom:mn(t.get(yt),"行内公式","mathInline"),command:()=>t.get(vg).action(Rw("$E = mc^2$")),keyword:["math_inline","gu"],typeName:"math_inline"},{id:"mathBlock",dom:mn(t.get(yt),"块级公式","mathBlock"),command:()=>t.get(vg).action(Rw("$$")),keyword:["math_block","gu"],typeName:"math_block"}],i=e.slice(1).toLocaleLowerCase();return r.filter(s=>!!n[s.typeName]&&s.keyword.some(o=>o.includes(i))).map(({keyword:s,typeName:o,...a})=>a)},$ot=Pot.configure(Zj,{config:t=>({content:e,isTopLevel:n,parentNode:r})=>{if(!n)return null;if(!e)return{placeholder:"/ 👈 👩🏻‍💻"};const i=s=>{const{id:o=""}=s;return s4[o]&&(s.dom=mn(t.get(yt),s4[o],o)),s};return e.startsWith("/")?e==="/"?{placeholder:"🤔 ...",actions:RP(t).map(i)}:{actions:RP(t,e).map(i)}:null}}),Rot=({injectGlobal:t})=>t`
    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */
    .ProseMirror {
        position: relative;
    }

    .ProseMirror {
        word-wrap: break-word;
        white-space: pre-wrap;
        white-space: break-spaces;
        -webkit-font-variant-ligatures: none;
        font-variant-ligatures: none;
        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */
    }

    .ProseMirror pre {
        white-space: pre-wrap;
    }

    .ProseMirror li {
        position: relative;
    }

    .ProseMirror-hideselection *::selection {
        background: transparent;
    }
    .ProseMirror-hideselection *::-moz-selection {
        background: transparent;
    }
    .ProseMirror-hideselection {
        caret-color: transparent;
    }

    .ProseMirror-selectednode {
        outline: 2px solid #8cf;
    }

    /* Make sure li selections wrap around markers */

    li.ProseMirror-selectednode {
        outline: none;
    }

    li.ProseMirror-selectednode:after {
        content: '';
        position: absolute;
        left: -32px;
        right: -2px;
        top: -2px;
        bottom: -2px;
        border: 2px solid #8cf;
        pointer-events: none;
    }

    /* Protect against generic img rules */

    img.ProseMirror-separator {
        display: inline !important;
        border: none !important;
        margin: 0 !important;
    }
`,Lot=(t,{css:e})=>{const n=io(t),r=t.get(sn,"radius"),i=t.get(sn,"lineWidth");return e`
        background-color: ${n("background")};
        color: ${n("neutral")};
        font-size: 14px;
        padding: 18px 6px 22px;
        border-radius: ${r};
        font-family: ${t.get(To,"typography")};

        .code-fence_selector-wrapper {
            position: relative;
        }

        .code-fence_selector {
            width: 180px;
            box-sizing: border-box;
            border-radius: ${r};
            margin: 0 18px 18px;
            cursor: pointer;
            background-color: ${n("surface")};
            position: relative;
            display: flex;
            color: ${n("neutral",.87)};
            letter-spacing: 0.5px;
            height: 42px;
            align-items: center;

            ${t.get(Cr,void 0)};
            ${t.get(Lo,void 0)};

            & > .icon {
                width: 42px;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: ${n("solid",.87)};
                border-left: ${i} solid ${n("line")};

                text-align: center;
                transition: all 0.2s ease-in-out;
                &:hover {
                    background: ${n("background")};
                    color: ${n("primary")};
                }
            }

            > span:first-child {
                padding-left: 16px;
                flex: 1;
                font-weight: 500;
            }
        }

        .code-fence_selector-list-item {
            list-style: none;
            line-height: 2;
            padding-left: 16px;
            cursor: pointer;
            margin: 0 !important;
            :hover {
                background: ${n("secondary",.12)};
                color: ${n("primary")};
            }
        }

        .code-fence_selector-list {
            &[data-fold='true'] {
                display: none;
            }

            margin: 0 !important;
            font-weight: 500;
            position: absolute;
            z-index: 1;
            top: 42px;
            box-sizing: border-box;
            left: 18px;
            padding: 8px 0;
            max-height: 260px;
            width: 180px;
            background-color: ${n("surface")};
            border-top: none;
            overflow-y: auto;
            display: flex;
            flex-direction: column;

            ${t.get(Do,["y"])}
            ${t.get(Cr,void 0)};
            ${t.get(Lo,void 0)};
        }
    `},Iot=(t,e)=>{t.set("code-fence",({view:n,editable:r,onSelectLanguage:i,onBlur:s,onFocus:o,languageList:a})=>{const l=document.createElement("div"),u=document.createElement("div"),h=document.createElement("ul"),d=document.createElement("pre"),f=document.createElement("code"),p=document.createElement("div");p.className="code-fence_selector";const g=document.createElement("span");p.appendChild(g);const m=t.get(Un,"downArrow");r()&&m&&p.appendChild(m.dom),f.spellcheck=!1,u.className="code-fence_selector-wrapper",u.contentEditable="false",u.append(p),u.append(h),d.append(f);const y=document.createElement("div");f.append(y),y.style.whiteSpace="inherit",l.append(u,d),l.classList.add("code-fence"),t.onFlush(()=>{const O=Lot(t,e);O&&l.classList.add(O)}),h.className="code-fence_selector-list",h.addEventListener("mousedown",O=>{if(O.preventDefault(),O.stopPropagation(),!r())return;const x=O.target;if(!(x instanceof HTMLLIElement))return;const T=x.dataset.value;T!=null&&i(T)}),p.addEventListener("mousedown",O=>{O.preventDefault(),O.stopPropagation(),r()&&o()});const b=()=>{!r()||h.dataset.fold==="true"||s()};return document.addEventListener("mousedown",b),a.forEach(O=>{const x=document.createElement("li");x.className="code-fence_selector-list-item",x.innerText=O||"--",h.appendChild(x),x.setAttribute("data-value",O)}),{dom:l,contentDOM:y,onUpdate:O=>{l.dataset.language=O.attrs.language,g.innerText=O.attrs.language||"--",h.style.maxHeight="",h.setAttribute("data-fold",O.attrs.fold?"true":"false");const x=n.dom.parentElement;if(!x)throw Mi();const T=x.getBoundingClientRect(),A=u.getBoundingClientRect(),v=h.getBoundingClientRect();let S,I;const M=A.top-T.top,C=T.height+T.top-(A.height+A.top);C>=v.height+14?S="bottom":M>=v.height+14?S="top":C>=M?(S="bottom",I=C-14):(S="top",I=M-14);const E=S==="top"?-(I??v.height):A.height;h.style.maxHeight=I!==void 0&&I>0?`${I}px`:"",h.style.top=`${E}px`},onDestroy:()=>{l.remove(),document.removeEventListener("mousedown",b)}}})},Not=(t,{css:e})=>{const n=io(t);t.set("image",({placeholder:r,isBlock:i,onError:s,onLoad:o})=>{const a=g=>{var m;return(m=t.get(Un,g))==null?void 0:m.dom},l=document.createElement("span");l.classList.add("image-container"),t.onFlush(()=>{const g=e`
                display: inline-block;
                position: relative;
                text-align: center;
                font-size: 0;
                vertical-align: text-bottom;
                line-height: 1;

                ${i?`
                width: 100%;
                margin: 0 auto;
                `:""}

                &.ProseMirror-selectednode::after {
                    content: '';
                    background: ${n("secondary",.38)};
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                }

                img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                    margin: 0 2px;
                }
                .icon,
                .placeholder {
                    display: none;
                }

                &.system {
                    width: 100%;
                    padding: 0 32px;
                    font-size: inherit;

                    img {
                        width: 0;
                        height: 0;
                        display: none;
                    }

                    .icon,
                    .placeholder {
                        display: inline;
                    }

                    box-sizing: border-box;
                    height: 48px;
                    background-color: ${n("background")};
                    border-radius: ${t.get(sn,"radius")};
                    display: inline-flex;
                    gap: 32px;
                    justify-content: flex-start;
                    align-items: center;
                    .placeholder {
                        margin: 0;
                        line-height: 1;
                        &::before {
                            content: '';
                            font-size: 14px;
                            color: ${n("neutral",.6)};
                        }
                    }
                }

                &.empty {
                    .placeholder {
                        &::before {
                            content: '${r}';
                        }
                    }
                }
            `;g&&l.classList.add(g)});const u=document.createElement("img");l.append(u);let h=a("image");const d=document.createElement("span");d.classList.add("placeholder"),l.append(h,d);const f=g=>{const m=a(g);l.replaceChild(m,h),h=m},p=g=>{l.classList.add("system","loading"),f("loading");const m=document.createElement("img");m.src=g,m.onerror=()=>{s==null||s(m)},m.onload=()=>{o==null||o(m)}};return{dom:l,onUpdate:g=>{const{src:m,alt:y,title:b,loading:O,failed:x}=g.attrs;if(u.src=m,u.title=b||y,u.alt=y,m.length===0){l.classList.add("system","empty"),f("image");return}if(O){p(m);return}if(x){l.classList.remove("loading","empty"),l.classList.add("system","failed"),f("brokenImage");return}if(m.length>0){l.classList.remove("system","empty","loading");return}l.classList.add("system","empty"),f("image")}}})},Fot=(t,{css:e})=>{const n=io(t),r=t.get(sn,"radius"),i=t.get(To,"code"),s=e`
        color: ${n("neutral",.87)};
        background-color: ${n("background")};
        border-radius: ${r};
        padding: 16px 32px;
        font-size: 14px;
        font-family: ${i};
        overflow: hidden;
        line-height: 1.5;
        .ProseMirror {
            outline: none;
        }
    `,o=e`
        display: none;
    `,a=e`
        display: flex;
        justify-content: center;
        padding: 16px 0;
    `;return{codeStyle:s,hideCodeStyle:o,previewPanelStyle:a}},Bot=(t,e)=>{let n=!1,r;return{isEditing:()=>n,innerView:()=>r,openEditor:(i,s)=>{r=new MF(i,{state:XC.create({doc:s,plugins:[tB(),sh({...VF,Backspace:Ek(g5,a=>{var l;if(!a.selection.empty||r&&r.state.doc.textContent.length>0)return!1;const{dispatch:u,state:h}=t,d=(l=h.schema.nodes.paragraph)==null?void 0:l.create();if(!d)return!1;const f=h.tr.replaceSelectionWith(d);let p=f.selection.from-2;return p<0&&(p=0),u(f.setSelection(ht.create(f.doc,p))),t.focus(),!0}),"Mod-Enter":(a,l)=>{var u;if(l){const{state:h}=t,{to:d}=h.selection,f=(u=h.schema.nodes.paragraph)==null?void 0:u.createAndFill();if(!f)return!1;const p=h.tr.replaceWith(d,d,f);t.dispatch(p.setSelection(ht.create(p.doc,d))),t.focus()}return!0}}),sh({"Mod-z":Om,"Mod-y":Gu,"Shift-Mod-z":Gu})]}),plugins:[],dispatchTransaction:a=>{if(!r)return;const{state:l,transactions:u}=r.state.applyTransaction(a);if(r.updateState(l),!a.getMeta("fromOutside")){const h=t.state.tr,d=qi.offset(e()+1);u.forEach(f=>{const{steps:p}=f;p.forEach(g=>{const m=g.map(d);if(!m)throw new Error("step discarded!");h.step(m)})}),h.docChanged&&t.dispatch(h)}}}),r.focus();const{state:o}=r;r.dispatch(o.tr.setSelection(ht.create(o.doc,0))),n=!0},closeEditor:()=>{r&&r.destroy(),r=void 0,n=!1}}},Qot=(t,e)=>{t.set("inner-editor",({view:n,getPos:r,render:i})=>{const s=Bot(n,r),o=document.createElement("div");o.classList.add("math-block");const a=document.createElement("div"),l=document.createElement("div");let u="",h="",d="";return t.onFlush(()=>{({codeStyle:u,hideCodeStyle:h,previewPanelStyle:d}=Fot(t,e)),u&&h&&a.classList.add(u,h),d&&l.classList.add(d)}),o.append(a),{dom:o,preview:l,editor:a,onUpdate:(f,p)=>{var g;if(p){const b=f.attrs.value||f.textContent||"";a.dataset.value=b,i(b);return}const m=s.innerView();if(m){const b=m.state,O=f.content.findDiffStart(b.doc.content);if(O!=null){const x=f.content.findDiffEnd(b.doc.content);if(x){let{a:T,b:A}=x;const v=O-Math.min(T,A);v>0&&(T+=v,A+=v),m.dispatch(b.tr.replace(O,A,f.slice(O,T)).setMeta("fromOutside",!0))}}}const y=((g=f.content.firstChild)==null?void 0:g.text)||"";a.dataset.value=y,i(y)},onFocus:f=>{!n.editable||(h&&a.classList.remove(h),s.openEditor(a,f),o.classList.add("ProseMirror-selectednode"))},onBlur:()=>{h&&a.classList.add(h),s.closeEditor(),o.classList.remove("ProseMirror-selectednode")},onDestroy:()=>{l.remove(),a.remove(),o.remove()},stopEvent:f=>{const p=s.innerView(),{target:g}=f,m=g&&(p==null?void 0:p.dom.contains(g));return!!(p&&m)}}})},zot=(t,{css:e},n)=>{const r=io(t);return e`
        ${t.get(Cr,void 0)}
        ${t.get(Lo,void 0)}

        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        background: ${r("surface")};
        border-radius: ${t.get(sn,"radius")};
        font-size: 16px;

        height: 56px;
        box-sizing: border-box;
        width: ${n.width};
        padding: 0 16px;
        gap: 16px;
        z-index: 2;

        input,
        button {
            all: unset;
        }

        input {
            flex-grow: 1;
            caret-color: ${r("primary")};
            &::placeholder {
                color: ${r("neutral",.6)};
            }
        }

        button {
            cursor: pointer;
            height: 36px;
            color: ${r("primary")};
            font-size: 14px;
            padding: 0 8px;
            font-weight: 500;
            letter-spacing: 1.25px;
            &:hover {
                background-color: ${r("secondary",.12)};
            }
            &.disable {
                color: ${r("neutral",.38)};
                cursor: not-allowed;
                &:hover {
                    background: transparent;
                }
            }
            &.hide {
                display: none;
            }
        }

        &.hide {
            display: none;
        }
    `},Vot=(t,e)=>{d5(t,e,(n,r,i,s)=>{const o=t.dom.parentElement;if(!o)throw Mi();const a=r.left-n.left;let l=n.left-s.left-(i.width-a)/2;const u=n.bottom-s.top+14+o.scrollTop;l<0&&(l=0);const h=o.clientWidth-(i.width+4);return l>h&&(l=h),[u,l]})},Wot=(t,e)=>{t.set("input-chip",({isBindMode:n,onUpdate:r,buttonText:i,placeholder:s,width:o="400px",calculatePosition:a=Vot})=>{let l=null,u=!1,h="";const d=document.createElement("div");t.onFlush(()=>{const O=zot(t,e,{width:o});O&&d.classList.add(O)}),d.classList.add("tooltip-input");const f=document.createElement("input");s&&(f.placeholder=s),d.appendChild(f),n||(l=document.createElement("button"),l.innerText=i||"APPLY",d.appendChild(l));const p=()=>{d.classList.add("hide")},g=O=>{d.classList.remove("hide"),a(O,d)},m=O=>{const{target:x}=O;if(x instanceof HTMLInputElement){if(h=x.value,!l){r(h);return}if(!h){l.classList.add("disable"),u=!0;return}l.classList.remove("disable"),u=!1}},y=O=>{u||(O.stopPropagation(),r(h),p())},b=O=>{"key"in O&&O.key==="Enter"&&(r(h),p())};return{dom:d,init:O=>{const x=O.dom.parentElement;if(!x)throw Mi();f.addEventListener("input",m),f.addEventListener("keydown",b),l==null||l.addEventListener("mousedown",y),x.appendChild(d),p()},show:g,hide:p,destroy:()=>{f.removeEventListener("input",m),f.removeEventListener("keydown",b),l==null||l.removeEventListener("mousedown",y),d.remove()},update:O=>{h=O,f.value=O}}})},Uot=(t,{css:e})=>{const n=io(t);t.set("task-list-item",({onChange:r,editable:i})=>{const s=p=>{var g;return(g=t.get(Un,p))==null?void 0:g.dom},o=document.createElement("li"),a=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),h=document.createElement("div");let d=s("unchecked");a.appendChild(d);const f=p=>{const g=s(p);a.replaceChild(g,d),d=g};return a.append(u,l),o.append(a,h),a.contentEditable="false",u.type="checkbox",i()||(u.disabled=!0,a.style.cursor="not-allowed"),u.onchange=p=>{if(p.target instanceof HTMLInputElement){if(!i()){u.checked=!u.checked;return}p.preventDefault(),r(u.checked)}},o.dataset.type="task-item",o.classList.add("task-list-item"),t.onFlush(()=>{const p=e`
                list-style-type: none;
                position: relative;

                & > div {
                    overflow: hidden;
                    padding: 0 2px;
                    width: 100%;
                }

                label {
                    display: inline-block;
                    width: 24px;
                    height: 24px;
                    cursor: pointer;
                    input {
                        visibility: hidden;
                    }
                }
                &[data-checked='true'] {
                    > label {
                        color: ${n("primary")};
                    }
                }
                &[data-checked='false'] {
                    > label {
                        color: ${n("solid",.87)};
                    }
                }
                .paragraph {
                    margin: 8px 0;
                }
            `;p&&o.classList.add(p)}),{dom:o,contentDOM:h,onUpdate:p=>{o.dataset.checked=p.attrs.checked,p.attrs.checked?u.setAttribute("checked","checked"):u.removeAttribute("checked"),f(p.attrs.checked?"checked":"unchecked")}}})},jot=(t,e)=>{[Wot,Not,Iot,Uot,Qot].forEach(n=>{n(t,e)})},qot=["iconfont","HelveticaNeue-Light","Helvetica Neue Light","Helvetica Neue","Helvetica","Arial","Lucida Grande","sans-serif"],Yot=["Consolas","Monaco","Andale Mono","Ubuntu Mono","monospace"],Zot={h1:{label:"h1",icon:"h1"},h2:{label:"h2",icon:"h2"},h3:{label:"h3",icon:"h3"},loading:{label:"loading",icon:"hourglass"},quote:{label:"引用",icon:"format_quote"},blockquote:{label:"块引用",icon:"format_quote"},code:{label:"代码块",icon:"code"},table:{label:"表格",icon:"table"},divider:{label:"水平线",icon:"horizontal-rule"},image:{label:"图片",icon:"image"},brokenImage:{label:"broken image",icon:"broken_image"},bulletList:{label:"项目符号",icon:"format-list-bulleted"},orderedList:{label:"编号",icon:"format-list-numbered"},taskList:{label:"任务列表",icon:"check_list"},bold:{label:"加粗",icon:"format-bold"},italic:{label:"斜体",icon:"format-italic"},inlineCode:{label:"inline code",icon:"code"},strikeThrough:{label:"删除线",icon:"strike-throughs"},link:{label:"超链接",icon:"link"},leftArrow:{label:"left arrow",icon:"chevron-left"},rightArrow:{label:"right arrow",icon:"chevron-right"},upArrow:{label:"up arrow",icon:"arrow-up"},downArrow:{label:"down arrow",icon:"arrow-down"},alignLeft:{label:"align left",icon:"formatalignleft"},alignRight:{label:"align right",icon:"formatalignright"},alignCenter:{label:"align center",icon:"formataligncenter"},delete:{label:"删除",icon:"delete"},select:{label:"选择",icon:"select-all"},unchecked:{label:"unchecked",icon:"checkboxoutlineblank"},checked:{label:"checked",icon:"check_box"},undo:{label:"撤销",icon:"arrow-left"},redo:{label:"重做",icon:"arrow-right"},liftList:{label:"lift list",icon:"format_indent_decrease"},sinkList:{label:"sink list",icon:"format_indent_increase"},diagram:{label:"图表",icon:"diagram"},mathInline:{label:"行内公式",icon:"math_inline"},mathBlock:{label:"块级公式",icon:"math_block"},dragHandle:{label:"拖放",icon:"drag"},text:{label:"文本",icon:"text"}},Xot=t=>{const e=Zot[t];if(!e)return;const n=document.createElement("span");return n.className=`iconfont icon-${e.icon}`,{dom:n,label:e.label}},Vi={nord0:"#2e3440",nord1:"#3b4252",nord2:"#434c5e",nord3:"#4c566a",nord4:"#d8dee9",nord5:"#e5e9f0",nord6:"#eceff4",nord7:"#8fbcbb",nord8:"#88c0d0",nord9:"#81a1c1",nord10:"#5e81ac",nord11:"#bf616a",nord12:"#d08770",nord13:"#ebcb8b",nord14:"#a3be8c",nord15:"#b48ead"},Hot={shadow:Vi.nord1,primary:Vi.nord10,secondary:Vi.nord9,neutral:Vi.nord0,solid:Vi.nord3,line:Vi.nord4,background:Vi.nord6,surface:"#fff"},Got={shadow:Vi.nord1,primary:Vi.nord10,secondary:Vi.nord9,neutral:Vi.nord6,solid:Vi.nord4,line:Vi.nord2,background:"#252932",surface:Vi.nord0},Kot=(t,e)=>{const{injectGlobal:n,css:r}=e,i=io(t),s=t.get(sn,"radius"),o=i("neutral",.87),a=i("surface"),l=i("line"),u=i("secondary",.38),h=r`
    .ProseMirror-selectednode {
      outline: ${t.get(sn,"lineWidth")} solid ${l};
    }
    li.ProseMirror-selectednode {
      outline: none;
    }
    li.ProseMirror-selectednode::after {
      ${t.get(Cr,void 0)};
    }
    & ::selection {
      background: ${u};
    }
  `,d=r`
    padding: 1em 2em;
    outline: none;
    & > * {
      margin: 1em 0;
    }
  `,f=r`
    p {
      font-size: 1em;
      line-height: 1.5;
      letter-spacing: 0.5px;
    }
  `,p=r`
    blockquote {
      padding-left: 1em;
      line-height: 1.75em;
      border-left: 4px solid ${i("primary")};
      margin-left: 0;
      margin-right: 0;
      * {
        font-size: 1em;
        line-height: 1.5em;
      }
    }
  `,g=r`
    h1 {
      font-size: 2em;
      line-height: 1.25;
      font-weight: 600;
    }
    h2 {
      font-size: 1.5em;
      line-height: 1.25;
      font-weight: 500;
    }
    h3 {
      font-size: 1.25em;
      line-height: 1.25;
      font-weight: 500;
    }
    h4 {
      font-size: 1em;
      line-height: 1.25;
    }
    h5 {
      font-size: 0.875em;
      line-height: 1.25;
    }
    h6 {
      font-size: 0.85em;
      line-height: 1.25;
    }
    .heading {
      margin: 20px 0;
    }
  `,m=r`
    hr {
      height: ${t.get(sn,"lineWidth")};
      background-color: ${l};
      border-width: 0;
    }
  `,y=r`
    ul,
    ol {
      margin: 0;
      padding: 0;
    }
    .list-item {
      display: flex;
      align-items: baseline;
      .list-item_label {
        margin-right: 0.5em;
      }
    }
    li {
      margin: 0.5em 0;
      &::marker {
        color: ${i("primary")};
      }
      .paragraph {
        margin: 0;
      }
    }
    .task-list-item {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      .iconfont {
        font-size: 1.5em;
        padding: 0;
      }
      &_checkbox {
        margin: 0.5em 0.5em 0.5em 0;
        height: 1em;
      }
    }
  `,b=r`
    .code-fence {
      ::before {
        content: ' ';
        width: 54px;
        display: inline-block;
        background-repeat: no-repeat;
        height: 14px;
        margin-left: 1rem;
        margin-bottom: 1rem;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDU0IDE0Ij48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMSkiPjxjaXJjbGUgY3g9IjYiIGN5PSI2IiByPSI2IiBmaWxsPSIjRkY1RjU2IiBzdHJva2U9IiNFMDQ0M0UiIHN0cm9rZS13aWR0aD0iLjUiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjI2IiBjeT0iNiIgcj0iNiIgZmlsbD0iI0ZGQkQyRSIgc3Ryb2tlPSIjREVBMTIzIiBzdHJva2Utd2lkdGg9Ii41Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSI0NiIgY3k9IjYiIHI9IjYiIGZpbGw9IiMyN0M5M0YiIHN0cm9rZT0iIzFBQUIyOSIgc3Ryb2tlLXdpZHRoPSIuNSI+PC9jaXJjbGU+PC9nPjwvc3ZnPg==');
      }
      .code-fence_selector-wrapper {
        text-align: right;
        float: right;
        .code-fence_selector {
          background-color: transparent;
          box-shadow: none;
          margin: 0;
          height: 1rem;
          border: 0;
          width: initial;
        }
        .code-fence_selector-list {
          top: 2em;
          right: 0;
          left: initial;
          width: 7em;
          padding: 0;
          box-shadow: none;
          border-radius: 4px;
          li {
            padding-right: 0.5em;
            padding-left: 0;
          }
        }
      }
      pre {
        font-family: ${t.get(To,"code")};
        margin: 0 1.2em !important;
        white-space: pre;
        overflow: auto;
        ${t.get(Do,["x"])}
        background-color: ${i("background")};
        color: ${i("neutral")};
        font-size: 0.875em;
        border-radius: ${s};
        code {
          line-height: 1.5;
          font-family: ${t.get(To,"code")};
        }
      }
    }
  `,O=r`
    .code-fence_selector-wrapper {
      .code-fence_selector {
        margin-right: 1em;
        cursor: default;
      }
      .icon-arrow-down {
        display: none;
      }
    }
  `,x=r`
    .image {
      display: inline-block;
      margin: 0 auto;
      object-fit: contain;
      width: 100%;
      position: relative;
      height: auto;
      text-align: center;
    }
    .image-container {
      .icon-image {
        display: none;
      }
      &.system {
        .icon-image {
          display: inline-block;
        }
      }
    }
  `,T=r`
    .code-inline {
      background-color: ${i("neutral")};
      color: ${i("background")};
      border-radius: ${s};
      font-weight: 500;
      font-family: ${b};
      padding: 0 0.2em;
      font-size: 1.2em;
    }
    .strong {
      font-weight: 600;
    }
    .link,
    a {
      color: ${i("secondary")};
      cursor: pointer;
      transition: all 0.4s ease-in-out;
      font-weight: 500;
      &:hover {
        background-color: ${i("line")};
        box-shadow:
          0 0.2em ${i("line")},
          0 -0.2em ${i("line")};
      }
    }
    .strike-through {
      text-decoration-color: ${i("secondary")};
    }
  `,A=r`
    .footnote-definition {
      ${t.get(Cr,void 0)};
      border-radius: ${t.get(sn,"radius")};
      background-color: ${i("background")};
      padding: 1em;
      display: flex;
      flex-direction: row;
      & > .footnote-definition_content {
        flex: 1;
        width: calc(100% - 1em);
        & > dd {
          margin-inline-start: 1em;
        }
        & > dt {
          color: ${i("secondary")};
          font-weight: 500;
        }
      }
      & > .footnote-definition_anchor {
        width: 1em;
      }
    }
  `,v=r`
    /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
    .tableWrapper {
      overflow-x: auto;
      margin: 0;
      ${t.get(Do,["x"])}
      width: 100%;
      * {
        margin: 0;
        box-sizing: border-box;
        font-size: 1em;
      }
    }
    table {
      border-collapse: collapse;
      table-layout: fixed;
      width: 100%;
      overflow: auto;
      border-radius: ${t.get(sn,"radius")};
      p {
        line-height: unset;
      }
    }
    tr {
      ${t.get(Cr,"bottom")};
    }
    td,
    th {
      padding: 0 1em;
      vertical-align: top;
      box-sizing: border-box;
      position: relative;
      min-width: 100px;
      ${t.get(Cr,void 0)};
      text-align: left;
      line-height: 3;
      height: 3em;
    }
    th {
      background: ${i("background",.5)};
      font-weight: 400;
    }
    .column-resize-handle {
      position: absolute;
      right: -2px;
      top: 0;
      bottom: 0;
      z-index: 20;
      pointer-events: none;
      background: ${i("secondary")};
      width: ${t.get(sn,"lineWidth")};
    }
    .resize-cursor {
      cursor: ew-resize;
      cursor: col-resize;
    }
    .selectedCell {
      &::after {
        z-index: 2;
        position: absolute;
        content: '';
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: ${i("secondary",.38)};
        pointer-events: none;
      }
      & ::selection {
        background: transparent;
      }
    }
  `,S=r`
    .slash-dropdown {
      box-shadow: none;
      width: 10em;
      .slash-dropdown-item {
        height: 2.8em;
      }
    }
  `,I=r`
    .icon-drag {
      font-size: 24px;
    }
    .block-menu {
      box-shadow: none;
    }
  `,M=r`
    .tooltip,
    .table-tooltip,
    .tooltip-input {
      box-shadow: none;
      span {
        font-size: 18px;
      }
    }
  `;Rot(e),n`
        .milkdown {
            .material-icons-outlined {
                font-size: 1.5em;
            }
            position: relative;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;
            color: ${o};
            background: ${a};
            font-family: ${t.get(To,"typography")};
            ${t.get(Do,void 0)}
            ${h};
            ${I};
            ${M};
            ${S};
            .editor {
                ${d};
                ${f};
                ${g};
                ${p};
                ${m};
                ${y};
                ${b};
                ${x};
                ${v};
                ${A};
                ${T};
            }
            .editor[contenteditable="false"] {
                ${O};
            }
        }
    `},Jot={typography:qot,code:Yot},eat={radius:"4px",lineWidth:"1px"},tat=t=>(e,n)=>{const{css:r}=e,i=t?Got:Hot;n.set(_r,s=>{if(!s)return;const[o,a]=s,l=i[o],u=vee(l);if(u)return`rgba(${u==null?void 0:u.join(", ")}, ${a||1})`}),n.set(sn,s=>{if(s)return eat[s]}),n.set(To,s=>{if(s)return Jot[s].join(", ")}),n.set(Do,([s="y",o="normal"]=["y","normal"])=>{const a=n.get(_r,["secondary",.38]),l=n.get(_r,["secondary",.12]),u=n.get(_r,["secondary"]);return r`
      scrollbar-width: thin;
      scrollbar-color: ${a} ${l};
      -webkit-overflow-scrolling: touch;
      &::-webkit-scrollbar {
        ${s==="y"?"width":"height"}: ${o==="thin"?2:12}px;
        background-color: transparent;
      }
      &::-webkit-scrollbar-track {
        border-radius: 999px;
        background: transparent;
        border: 4px solid transparent;
      }
      &::-webkit-scrollbar-thumb {
        border-radius: 999px;
        background-color: ${a};
        border: ${o==="thin"?0:4}px solid transparent;
        background-clip: content-box;
      }
      &::-webkit-scrollbar-thumb:hover {
        background-color: ${u};
      }
    `}),n.set(Lo,()=>{const s=n.get(sn,"lineWidth"),o=a=>n.get(_r,["shadow",a]);return r`
      box-shadow:
        0 ${s} ${s} ${o(.14)},
        0 2px ${s} ${o(.12)},
        0 ${s} 3px ${o(.2)};
    `}),n.set(Cr,s=>{const o=n.get(sn,"lineWidth"),a=n.get(_r,["line"]);return s?r`
      ${`border-${s}`}: ${o} solid ${a};
    `:r`
        border: ${o} solid ${a};
      `}),n.set(Un,s=>{if(s)return Xot(s)}),n.set(WC,()=>{Kot(n,e)}),jot(n,e)},WT=(t=!1)=>Bae((e,n)=>tat(t)(e,n)),LP=WT(!0),IP=WT(!1);let Xj=!1;var uL;typeof window<"u"&&(Xj=!!((uL=window.matchMedia)!=null&&uL.call(window,"(prefers-color-scheme: dark)").matches));const nat=WT(Xj);function Hj(t,e){return function(n,r){let{$from:i,$to:s,node:o}=n.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(s))return!1;let a=i.node(-1);if(a.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let d=Ae.empty,f=i.index(-1)?1:i.index(-2)?2:3;for(let b=i.depth-f;b>=i.depth-3;b--)d=Ae.from(i.node(b).copy(d));let p=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;d=d.append(Ae.from(t.createAndFill()));let g=i.before(i.depth-(f-1)),m=n.tr.replace(g,i.after(-p),new Be(d,4-f,0)),y=-1;m.doc.nodesBetween(g,m.doc.content.size,(b,O)=>{if(y>-1)return!1;b.isTextblock&&b.content.size==0&&(y=O+1)}),y>-1&&m.setSelection(ut.near(m.doc.resolve(y))),r(m.scrollIntoView())}return!0}let l=s.pos==i.end()?a.contentMatchAt(0).defaultType:null,u=n.tr.delete(i.pos,s.pos),h=l?[null,{type:l}]:void 0;return bg(u.doc,i.pos,2,h)?(r&&r(u.split(i.pos,2,h).scrollIntoView()),!0):!1}}function UT(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?rat(e,n,t,s):iat(e,n,s):!0:!1}}function rat(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new hi(s-1,o,s,o,new Be(Ae.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new LI(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=gk(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return mk(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function iat(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,g=n.endIndex-1,m=n.startIndex;g>m;g--)p-=i.child(g).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=s.node(-1),h=s.index(-1);if(!u.canReplace(h+(a?0:1),h+1,o.content.append(l?Ae.empty:Ae.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new hi(d-(a?1:0),f+(l?1:0),d+1,f-1,new Be((a?Ae.empty:Ae.from(i.copy(Ae.empty))).append(l?Ae.empty:Ae.from(i.copy(Ae.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function jT(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,h=Ae.from(u?t.create():null),d=new Be(Ae.from(t.create(null,Ae.from(a.type.create(null,h)))),u?3:1,0),f=s.start,p=s.end;n(e.tr.step(new hi(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}const NP={}.hasOwnProperty;function sat(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return k0(t,"definition",r=>{const i=FP(r.identifier);i&&!NP.call(e,i)&&(e[i]=r)}),n;function n(r){const i=FP(r);return i&&NP.call(e,i)?e[i]:null}}function FP(t){return String(t||"").toUpperCase()}function oat(){return t=>{const e=sat(t);k0(t,(n,r,i)=>{if(n.type==="definition"&&i!==null&&typeof r=="number")return i.children.splice(r,1),[a3,r];if(n.type==="imageReference"||n.type==="linkReference"){const s=e(n.identifier);if(s&&i!==null&&typeof r=="number"){const o=n.type==="imageReference"?{type:"image",url:s.url,title:s.title,alt:n.alt}:{type:"link",url:s.url,title:s.title,children:n.children};return i.children[r]=o,[a3,r]}}})}}const Kn={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",DowngradeHeading:"DowngradeHeading",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},BP="code_inline",QP=Qt("ToggleInlineCode"),aat=Ff(t=>({id:BP,schema:()=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",{class:t.getClassName(e.attrs,"code-inline")}],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,n,r)=>{e.openMark(r),e.addText(n.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===BP,runner:(e,n,r)=>{e.withMark(n,"inlineCode",r.text||"")}}}),commands:e=>[jt(QP,()=>(n,r)=>{const{selection:i,tr:s}=n;if(i.empty)return!1;const{from:o,to:a}=i;return n.doc.rangeHasMark(o,a,e)?(r==null||r(s.removeMark(o,a,e)),!0):(Object.keys(n.schema.marks).filter(l=>l!==e.name).map(l=>n.schema.marks[l]).forEach(l=>{s.removeMark(o,a,l)}),r==null||r(s.addMark(o,a,e.create())),!0)})],shortcuts:{[Kn.CodeInline]:ln(QP,"Mod-e")}})),P_="em",zP=Qt("ToggleItalic"),lat=Ff(t=>({id:P_,schema:()=>({inclusive:!1,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",{class:t.getClassName(e.attrs,P_)}],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===P_,runner:(e,n)=>{e.withMark(n,"emphasis")}}}),commands:e=>[jt(zP,()=>Ck(e))],shortcuts:{[Kn.Em]:ln(zP,"Mod-i")}})),cat=new en("MILKDOWN_LINK_INPUT"),uat=Qt("ToggleLink"),VP=Qt("ModifyLink"),Z1="link",Gj=Ff((t,e)=>({id:Z1,schema:()=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Yr(n);return{href:n.getAttribute("href"),title:n.getAttribute("title")}}}],toDOM:n=>["a",{...n.attrs,class:t.getClassName(n.attrs,Z1)}],parseMarkdown:{match:n=>n.type==="link",runner:(n,r,i)=>{const s=r.url,o=r.title;n.openMark(i,{href:s,title:o}),n.next(r.children),n.closeMark(i)}},toMarkdown:{match:n=>n.type.name===Z1,runner:(n,r)=>{n.withMark(r,"link",void 0,{title:r.attrs.title,url:r.attrs.href})}}}),commands:n=>[jt(uat,(r="")=>Ck(n,{href:r})),jt(VP,(r="")=>(i,s)=>{var o;if(!s)return!1;const{marks:a}=i.schema;let l,u=-1;const{selection:h}=i,{from:d,to:f}=h;if(i.doc.nodesBetween(d,d===f?f+1:f,(O,x)=>{var T;if((T=a.link)!=null&&T.isInSet(O.marks))return l=O,u=x,!1}),!l)return!1;const p=l.marks.find(({type:O})=>O===n);if(!p)return!1;const g=u,m=u+l.nodeSize,{tr:y}=i,b=(o=a.link)==null?void 0:o.create({...p.attrs,href:r});return b?(s(y.removeMark(g,m,p).addMark(g,m,b).setSelection(new ht(y.selection.$anchor)).scrollIntoView()),!0):!1})],prosePlugins:(n,r)=>{let i=!1;return[new Xt({key:cat,view:s=>{var o,a,l;const u=t.themeManager.get("input-chip",{placeholder:(a=(o=e==null?void 0:e.input)==null?void 0:o.placeholder)!=null?a:"Input Web Link",buttonText:(l=e==null?void 0:e.input)==null?void 0:l.buttonText,onUpdate:p=>{r.get(_t).call(VP,p)},calculatePosition:(p,g)=>{d5(p,g,(m,y,b,O)=>{const x=p.dom.parentElement;if(!x)throw Mi();const T=y.left-m.left;let A=m.left-O.left-(b.width-T)/2,v=m.bottom-O.top+14+x.scrollTop;i&&(v=m.top-O.top-b.height-14+x.scrollTop),A<0&&(A=0);const S=x.clientWidth-(b.width+4);return A>S&&(A=S),[v,A]})}});if(!u)return{};const h=p=>{var g;const{selection:m,doc:y}=p.state,{from:b,to:O}=m;if(!p.hasFocus())return!1;if(m instanceof ht&&O<y.content.size&&b<y.content.size&&y.rangeHasMark(b,b===O?O+1:O,n)){let x=m.empty;if((g=e==null?void 0:e.input)!=null&&g.displayWhenSelected&&!x&&y.nodesBetween(b,b===O?O+1:O,(T,A)=>{if(T.marks.some(v=>v.type===n&&b>=A&&O<=A+T.nodeSize))return x=!0,!1}),x)return i=!1,!0}if(m instanceof tt){const{node:x}=m;if(x.type.name==="image"&&x.marks.findIndex(T=>T.type.name===Z1)>-1)return i=!0,!0}return!1},d=p=>{const{selection:g}=p.state;let m;const{from:y,to:b}=g;if(p.state.doc.nodesBetween(y,y===b?b+1:b,x=>{if(n.isInSet(x.marks))return m=x,!1}),!m)return;const O=m.marks.find(x=>x.type===n);return O?O.attrs.href:void 0},f=p=>{p.editable&&(h(p)?(u.show(p),u.update(d(p))):u.hide())};return u.init(s),f(s),{update:(p,g)=>{g!=null&&g.doc.eq(p.state.doc)&&g.selection.eq(p.state.selection)||requestAnimationFrame(()=>{f(p)})},destroy:()=>{u.destroy()}}}})]}})),$_="strong",WP=Qt("ToggleBold"),hat=Ff(t=>({id:$_,schema:()=>({inclusive:!1,parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"}],toDOM:e=>["strong",{class:t.getClassName(e.attrs,$_)}],parseMarkdown:{match:e=>e.type==="strong",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===$_,runner:(e,n)=>{e.withMark(n,"strong")}}}),commands:e=>[jt(WP,()=>Ck(e))],shortcuts:{[Kn.Bold]:ln(WP,"Mod-b")}})),dat=[aat(),lat(),hat(),Gj()],X1="blockquote",UP=Qt("WrapInBlockquote"),fat=Mr(t=>({id:X1,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",{class:t.getClassName(e.attrs,X1)},0],parseMarkdown:{match:({type:e})=>e===X1,runner:(e,n,r)=>{e.openNode(r).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name===X1,runner:(e,n)=>{e.openNode("blockquote").next(n.content).closeNode()}}}),inputRules:e=>[If(/^\s*>\s$/,e)],commands:e=>[jt(UP,()=>_o(e))],shortcuts:{[Kn.Blockquote]:ln(UP,"Mod-Shift-b")}})),jP=Qt("WrapInBulletList"),pat=Mr(t=>{const e="bullet_list";return{id:e,schema:()=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Yr(n);return{spread:n.dataset.spread}}}],toDOM:n=>["ul",{"data-spread":n.attrs.spread,class:t.getClassName(n.attrs,"bullet-list")},0],parseMarkdown:{match:({type:n,ordered:r})=>n==="list"&&!r,runner:(n,r,i)=>{const s=r.spread!=null?`${r.spread}`:"false";n.openNode(i,{spread:s}).next(r.children).closeNode()}},toMarkdown:{match:n=>n.type.name===e,runner:(n,r)=>{n.openNode("list",void 0,{ordered:!1,spread:r.attrs.spread==="true"}).next(r.content).closeNode()}}}),inputRules:n=>[If(/^\s*([-+*])\s$/,n)],commands:n=>[jt(jP,()=>_o(n))],shortcuts:{[Kn.BulletList]:ln(jP,"Mod-Alt-8")}}}),gat=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],mat=/^```(?<language>[a-z]*)?[\s\n]$/,yat=/^~~~(?<language>[a-z]*)?[\s\n]$/,qP=Qt("TurnIntoCodeFence"),R_="fence",bat=Mr((t,e)=>{const n=(e==null?void 0:e.languageList)||gat;return{id:R_,schema:r=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"div.code-fence-container",preserveWhitespace:"full",getAttrs:i=>{var s;if(!(i instanceof HTMLElement))throw Yr(i);return{language:(s=i.querySelector("pre"))==null?void 0:s.dataset.language}},getContent:(i,s)=>{var o,a;if(!(i instanceof HTMLElement))throw Yr(i);const l=(a=(o=i.querySelector("pre"))==null?void 0:o.textContent)!=null?a:"";if(!l)return Ae.empty;const u=s.text(l);return Ae.from(u)}},{tag:"pre",preserveWhitespace:"full",getAttrs:i=>{if(!(i instanceof HTMLElement))throw Yr(i);return{language:i.dataset.language}}}],toDOM:i=>{const s=document.createElement("select");return n.forEach(o=>{const a=document.createElement("option");a.value=o,a.innerText=o||"--",o===i.attrs.language&&(a.selected=!0),s.appendChild(a)}),s.onchange=o=>{const a=o.target;if(!(a instanceof HTMLSelectElement))return;const l=r.get(un);if(!l.editable){a.value=i.attrs.language;return}const{top:u,left:h}=a.getBoundingClientRect(),d=l.posAtCoords({top:u,left:h});if(!d)return;const{tr:f}=l.state;l.dispatch(f.setNodeMarkup(d.inside,void 0,{...i.attrs,language:a.value}))},["div",{class:"code-fence-container"},s,["pre",{"data-language":i.attrs.language,class:t.getClassName(i.attrs,"code-fence")},["code",{spellCheck:"false"},0]]]},parseMarkdown:{match:({type:i})=>i==="code",runner:(i,s,o)=>{const a=s.lang,l=s.value;i.openNode(o,{language:a}),l&&i.addText(l),i.closeNode()}},toMarkdown:{match:i=>i.type.name===R_,runner:(i,s)=>{var o;i.addNode("code",void 0,((o=s.content.firstChild)==null?void 0:o.text)||"",{lang:s.attrs.language})}}}),inputRules:r=>[_3(mat,r,i=>{const[s,o]=i;if(s)return{language:o}}),_3(yat,r,i=>{const[s,o]=i;if(s)return{language:o}})],commands:r=>[jt(qP,()=>Cc(r))],shortcuts:{[Kn.CodeFence]:ln(qP,"Mod-Alt-c")},view:()=>(r,i,s)=>{let o=r;const a=m=>{const{tr:y}=i.state;i.dispatch(y.setNodeMarkup(s(),void 0,{fold:!0,language:m}))},l=()=>{const{tr:m}=i.state;i.dispatch(m.setNodeMarkup(s(),void 0,{...o.attrs,fold:!0}))},u=()=>{const{tr:m}=i.state;i.dispatch(m.setNodeMarkup(s(),void 0,{...o.attrs,fold:!1}))},h=t.themeManager.get("code-fence",{view:i,onBlur:l,onFocus:u,onSelectLanguage:a,editable:()=>i.editable,languageList:n});if(!h)return{};const{dom:d,contentDOM:f,onUpdate:p,onDestroy:g}=h;return p(o),{dom:d,contentDOM:f,update:m=>m.type.name!==R_?!1:(o=m,p(o),!0),destroy:g}}}}),Oat=Mr(()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}})})),YP=Qt("InsertHardbreak"),kat=new en("MILKDOWN_HARDBREAK_FILTER"),xat=Mr((t,e)=>{var n;const r=(n=e==null?void 0:e.notIn)!=null?n:["table","fence"];return{id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:i=>["br",{class:t.getClassName(i.attrs,"hardbreak")}],parseMarkdown:{match:({type:i})=>i==="break",runner:(i,s,o)=>{i.addNode(o)}},toMarkdown:{match:i=>i.type.name==="hardbreak",runner:i=>{i.addNode("break")}}}),commands:i=>[jt(YP,()=>(s,o)=>{var a;const{selection:l,tr:u}=s;if(l.empty){const h=l.$from.node();if(h.childCount>0&&((a=h.lastChild)==null?void 0:a.type.name)==="hardbreak")return o==null||o(u.replaceRangeWith(l.to-1,l.to,s.schema.node("paragraph")).setSelection(ut.near(u.doc.resolve(l.to))).scrollIntoView()),!0}return o==null||o(u.setMeta("hardbreak",!0).replaceSelectionWith(i.create()).scrollIntoView()),!0})],shortcuts:{[Kn.HardBreak]:ln(YP,"Shift-Enter")},prosePlugins:i=>[new Xt({key:kat,filterTransaction:(s,o)=>{const a=s.getMeta("hardbreak"),[l]=s.steps;if(a&&l){const{from:u}=l,h=o.doc.resolve(u);let d=h.depth,f=!0;for(;d>0;)r.includes(h.node(d).type.name)&&(f=!1),d--;return f}return!0}}),new Xt({key:new en("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(s,o,a)=>{if(!s.length)return;const[l]=s;if(!l)return;const[u]=l.steps;if(l.getMeta("hardbreak")){if(!(u instanceof Qr))return;const{from:h}=u;return a.tr.setNodeMarkup(h,i,void 0,[])}if(u instanceof cl){let h=a.tr;const{from:d,to:f}=u;return a.doc.nodesBetween(d,f,(p,g)=>{p.type===i&&(h=h.setNodeMarkup(g,i,void 0,[]))}),h}}})]}}),ZP=Array(6).fill(0).map((t,e)=>e+1),yu=Qt("TurnIntoHeading"),XP=Qt("DowngradeHeading"),L_=new en("MILKDOWN_HEADING_ID"),wat=new en("MILKDOWN_HEADING_HASH"),_at=t=>t.textContent.replace(/[\p{P}\p{S}]/gu,"").replace(/\s/g,"-").toLowerCase().trim(),vat=(t,e,n)=>{let r=!1;const i=(s,o)=>{const a=s.tr.setMeta("addToHistory",!1);let l=!1;s.doc.descendants((u,h)=>{if(u.type===e&&!r){if(u.textContent.trim().length===0)return;const d=u.attrs,f=n(u);d.id!==f&&(l=!0,a.setMeta(L_,!0).setNodeMarkup(h,void 0,{...d,id:f}))}}),l&&o(a)};return new Xt({key:L_,props:{handleDOMEvents:{compositionstart:()=>(r=!0,!1),compositionend:()=>{r=!1;const s=t.get(un);return setTimeout(()=>{i(s.state,o=>s.dispatch(o))},0),!1}}},appendTransaction:(s,o,a)=>{let l=null;return s.every(u=>!u.getMeta(L_))&&s.some(u=>u.docChanged)&&i(a,u=>{l=u}),l},view:s=>{const o=s.state.doc;let a=s.state.tr.setMeta("addToHistory",!1);return o.descendants((l,u)=>{l.type.name==="heading"&&l.attrs.level&&(l.attrs.id||(a=a.setNodeMarkup(u,void 0,{...l.attrs,id:n(l)})))}),s.dispatch(a),{}}})},Sat=(t,e,n)=>new Xt({key:wat,state:{init:()=>Jt.empty,apply:r=>{var i;const s=t.get(un);if(!((i=s.hasFocus)!=null&&i.call(s))||!s.editable)return Jt.empty;const{$from:o}=r.selection,a=o.node();if(a.type!==e)return Jt.empty;const l=a.attrs.level,u=f=>Array(f).fill(0).map(p=>"#").join(""),h=document.createElement("span");h.textContent=u(l),h.contentEditable="false",n.themeManager.onFlush(()=>{const f=n.getStyle(({css:p})=>{const g=io(n.themeManager);return p`
                            margin-right: 4px;
                            color: ${g("primary")};
                        `});f&&(h.className=f)});const d=pi.widget(o.before()+1,h,{side:-1});return Jt.create(r.doc,[d])}},props:{handleDOMEvents:{focus:r=>{const i=f5(r.state.tr);return r.dispatch(i),!1}},decorations(r){return this.getState(r)}}}),Cat=Mr((t,e)=>{var n,r;const i="heading",s=(n=e==null?void 0:e.getId)!=null?n:_at,o=(r=e==null?void 0:e.displayHashtag)!=null?r:!0;return{id:i,schema:()=>({content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:ZP.map(a=>({tag:`h${a}`,getAttrs:l=>{if(!(l instanceof HTMLElement))throw Yr(l);return{level:a,id:l.id}}})),toDOM:a=>[`h${a.attrs.level}`,{id:a.attrs.id||s(a),class:t.getClassName(a.attrs,`heading h${a.attrs.level}`)},0],parseMarkdown:{match:({type:a})=>a===i,runner:(a,l,u)=>{const h=l.depth;a.openNode(u,{level:h}),a.next(l.children),a.closeNode()}},toMarkdown:{match:a=>a.type.name===i,runner:(a,l)=>{var u;if(a.openNode("heading",void 0,{depth:l.attrs.level}),l.childCount>=1&&((u=l.lastChild)==null?void 0:u.type.name)==="hardbreak"){const h=[];l.content.forEach((d,f,p)=>{p!==l.childCount-1&&h.push(d)}),a.next(Ae.fromArray(h))}else a.next(l.content);a.closeNode()}}}),inputRules:(a,l)=>ZP.map(u=>_3(new RegExp(`^(#{1,${u}})\\s$`),a,()=>{const h=l.get(un),{$from:d}=h.state.selection,f=d.node();if(f.type.name==="heading"){let p=Number(f.attrs.level)+Number(u);return p>6&&(p=6),{level:p}}return{level:u}})),commands:(a,l)=>[jt(yu,(u=1)=>u<1?Cc(u===0&&l.get(Fn).nodes.paragraph||a):Cc(u===0&&l.get(Fn).nodes.paragraph||a,{level:u})),jt(XP,()=>(u,h,d)=>{const{$from:f}=u.selection,p=f.node();if(p.type!==a||!u.selection.empty||f.parentOffset!==0)return!1;const g=p.attrs.level-1;return g?(h==null||h(u.tr.setNodeMarkup(u.selection.$from.before(),void 0,{...p.attrs,level:g})),!0):Cc(l.get(Fn).nodes.paragraph||a)(u,h,d)})],shortcuts:{[Kn.H1]:ln(yu,"Mod-Alt-1",1),[Kn.H2]:ln(yu,"Mod-Alt-2",2),[Kn.H3]:ln(yu,"Mod-Alt-3",3),[Kn.H4]:ln(yu,"Mod-Alt-4",4),[Kn.H5]:ln(yu,"Mod-Alt-5",5),[Kn.H6]:ln(yu,"Mod-Alt-6",6),[Kn.DowngradeHeading]:ln(XP,["Backspace","Delete"])},prosePlugins:(a,l)=>{const u=[vat(l,a,s)];return o&&u.push(Sat(l,a,t)),u}}}),I_="hr",Eat=Qt("InsertHr"),Tat=Mr(t=>({id:I_,schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",{class:t.getClassName(e.attrs,I_)}],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,n,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name===I_,runner:e=>{e.addNode("thematicBreak")}}}),inputRules:e=>[new Li(/^(?:---|___\s|\*\*\*\s)$/,(n,r,i,s)=>{const{tr:o}=n;return r[0]&&o.replaceWith(i-1,s,e.create()),o})],commands:(e,n)=>[jt(Eat,()=>(r,i)=>{if(!i)return!0;const s=n.get(Fn).node("paragraph"),{tr:o,selection:a}=r,{from:l}=a,u=e.create();if(!u)return!0;const h=o.replaceSelectionWith(u).insert(l,s),d=ut.findFrom(h.doc.resolve(l),1,!0);return d&&i(h.setSelection(d).scrollIntoView()),!0})]})),HP=Qt("ModifyImage"),Dat=Qt("InsertImage"),H1="image",Aat=new en("MILKDOWN_IMAGE_INPUT"),Kj=Mr((t,e)=>({id:"image",schema:()=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:n=>{if(!(n instanceof HTMLElement))throw Yr(n);return{src:n.getAttribute("src")||"",alt:n.getAttribute("alt")||"",title:n.getAttribute("title")||n.getAttribute("alt")||""}}}],toDOM:n=>["img",{...n.attrs,class:t.getClassName(n.attrs,H1)}],parseMarkdown:{match:({type:n})=>n===H1,runner:(n,r,i)=>{const s=r.url,o=r.alt,a=r.title;n.addNode(i,{src:s,alt:o,title:a})}},toMarkdown:{match:n=>n.type.name===H1,runner:(n,r)=>{n.addNode("image",void 0,void 0,{title:r.attrs.title,url:r.attrs.src,alt:r.attrs.alt})}}}),commands:n=>[jt(Dat,(r="")=>(i,s)=>{if(!s)return!0;const{tr:o}=i,a=n.create({src:r});if(!a)return!0;const l=o.replaceSelectionWith(a);return s(l.scrollIntoView()),!0}),jt(HP,(r="")=>(i,s)=>{const o=Ol(i.selection,n);if(!o)return!1;const{tr:a}=i;return s==null||s(a.setNodeMarkup(o.pos,void 0,{...o.node.attrs,loading:!0,src:r}).scrollIntoView()),!0})],inputRules:n=>[new Li(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(r,i,s,o)=>{const[a,l,u="",h]=i,{tr:d}=r;return a&&d.replaceWith(s,o,n.create({src:u,alt:l,title:h})),d})],view:()=>n=>{var r,i;let s=n;const o=(r=e==null?void 0:e.placeholder)!=null?r:"Add an Image",a=(i=e==null?void 0:e.isBlock)!=null?i:!1,l=t.themeManager.get("image",{placeholder:o,isBlock:a});if(!l)return{};const{dom:u,onUpdate:h}=l;return h(s),{dom:u,update:d=>d.type.name!==H1?!1:(s=d,h(s),!0),selectNode:()=>{u.classList.add("ProseMirror-selectednode")},deselectNode:()=>{u.classList.remove("ProseMirror-selectednode")}}},prosePlugins:(n,r)=>[new Xt({key:Aat,view:i=>{var s,o,a;const l=t.themeManager.get("input-chip",{placeholder:(o=(s=e==null?void 0:e.input)==null?void 0:s.placeholder)!=null?o:"Input Image Link",buttonText:(a=e==null?void 0:e.input)==null?void 0:a.buttonText,onUpdate:f=>{r.get(_t).call(HP,f)}});if(!l)return{};const u=f=>!!(f.hasFocus()&&n&&Ol(f.state.selection,n)),h=f=>{const p=Ol(f.state.selection,n);return p?p.node.attrs.src:void 0},d=f=>{f.editable&&(u(f)?(l.show(f),l.update(h(f))):l.hide())};return l.init(i),d(i),{update:(f,p)=>{p!=null&&p.doc.eq(f.state.doc)&&p.selection.eq(f.state.selection)||d(f)},destroy:()=>{l.destroy()}}}})]})),GP="list_item",KP=Qt("SplitListItem"),JP=Qt("SinkListItem"),e$=Qt("LiftListItem"),Mat=new en("MILKDOWN_KEEP_LIST_ORDER"),Pat=t=>{const e=(n,r)=>{const i=Eu("ordered_list",n.schema);let s=n.tr;n.doc.descendants((o,a,l,u)=>{if(o.type===t&&(l==null?void 0:l.type)===i){let h=!1;const d={...o.attrs};o.attrs.listType!=="ordered"&&(d.listType="ordered",h=!0);const f=l==null?void 0:l.maybeChild(0);f&&f.type===t&&f.attrs.listType==="ordered"&&(d.label=`${u+1}.`,h=!0),o.attrs.label==="•"&&(d.label=`${u+1}.`,h=!0),h&&(s=s.setNodeMarkup(a,void 0,d))}}),r(s)};return new Xt({key:Mat,appendTransaction:(n,r,i)=>{let s=null;return n.some(o=>o.docChanged)&&e(i,o=>{s=o}),s}})},$at=Mr(t=>({id:GP,schema:()=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"•"},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li.list-item",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Yr(e);return{label:e.dataset.label,listType:e.dataset["list-type"],spread:e.dataset.spread}},contentElement:e=>{if(!(e instanceof HTMLElement))throw Yr(e);return e.querySelector(".list-item_body")||e}},{tag:"li"}],toDOM:e=>["li",{class:t.getClassName(e.attrs,"list-item"),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},["div",{class:t.getClassName(e.attrs,"list-item_label")},e.attrs.label],["div",{class:t.getClassName(e.attrs,"list-item_body")},0]],parseMarkdown:{match:({type:e,checked:n})=>e==="listItem"&&n===null,runner:(e,n,r)=>{const i=n.label!=null?`${n.label}.`:"•",s=n.label!=null?"ordered":"bullet",o=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{label:i,listType:s,spread:o}),e.next(n.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===GP,runner:(e,n)=>{e.openNode("listItem",void 0,{spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}),inputRules:e=>[If(/^\s*([-+*])\s$/,e)],commands:e=>[jt(KP,()=>Hj(e)),jt(JP,()=>jT(e)),jt(e$,()=>UT(e))],shortcuts:{[Kn.NextListItem]:ln(KP,"Enter"),[Kn.SinkListItem]:ln(JP,"Mod-]"),[Kn.LiftListItem]:ln(e$,"Mod-[")},prosePlugins:e=>[Pat(e)]})),t$=Qt("WrapInOrderedList"),n$="ordered_list",Rat=Mr(t=>({id:n$,schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw Yr(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread,class:t.getClassName(e.attrs,"ordered-list")},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name===n$,runner:(e,n)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}),inputRules:e=>[If(/^(\d+)\.\s$/,e,n=>({order:Number(n[1])}),(n,r)=>r.childCount+r.attrs.order===Number(n[1]))],commands:e=>[jt(t$,()=>_o(e))],shortcuts:{[Kn.OrderedList]:ln(t$,"Mod-Alt-7")}})),r$=Qt("TurnIntoText"),i$="paragraph",Lat=Mr(t=>({id:i$,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",{class:t.getClassName(e.attrs,i$)},0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,n,r)=>{e.openNode(r),n.children?e.next(n.children):e.addText(n.value),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,n)=>{var r;if(e.openNode("paragraph"),n.childCount>=1&&((r=n.lastChild)==null?void 0:r.type.name)==="hardbreak"){const i=[];n.content.forEach((s,o,a)=>{a!==n.childCount-1&&i.push(s)}),e.next(Ae.fromArray(i))}else e.next(n.content);e.closeNode()}}}),commands:e=>[jt(r$,()=>Cc(e))],shortcuts:{[Kn.Text]:ln(r$,"Mod-Alt-0")}})),Iat=Mr(()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}})})),Nat=[Oat(),Lat(),xat(),fat(),bat(),pat(),Rat(),$at(),Cat(),Tat(),Kj(),Iat()],Fat=()=>{function t(e){k0(e,"list",n=>{var r;if(n.ordered){const i=(r=n.start)!=null?r:1;n.children.forEach((s,o)=>{s.label=o+i})}})}return t},Bat=t=>!!t.children,Qat=t=>t.type==="html";function zat(t,e){return n(t,0,null)[0];function n(r,i,s){if(Bat(r)){const o=[];for(let a=0,l=r.children.length;a<l;a++){const u=r.children[a];if(u){const h=n(u,a,r);if(h)for(let d=0,f=h.length;d<f;d++){const p=h[d];p&&o.push(p)}}}r.children=o}return e(r,i,s)}}const Vat=()=>{function t(e){zat(e,n=>Qat(n)?[]:[n])}return t},Wat=new en("MILKDOWN_INLINE_NODES_CURSOR"),Uat=()=>{let t=!1;const e=new Xt({key:Wat,state:{init(){return!1},apply(n){if(!n.selection.empty)return!1;const r=n.selection.$from,i=r.nodeBefore,s=r.nodeAfter;return!!(i&&s&&i.isInline&&!i.isText&&s.isInline&&!s.isText)}},props:{handleDOMEvents:{compositionend:(n,r)=>t?(t=!1,requestAnimationFrame(()=>{if(e.getState(n.state)){const i=n.state.selection.from;r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",i))}}),!0):!1,compositionstart:n=>(e.getState(n.state)&&(t=!0),!1),beforeinput:(n,r)=>{if(e.getState(n.state)&&r instanceof InputEvent&&r.data&&!t){const i=n.state.selection.from;return r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",i)),!0}return!1}},decorations(n){if(e.getState(n)){const r=n.selection.$from.pos,i=document.createElement("span"),s=pi.widget(r,i,{side:-1}),o=document.createElement("span"),a=pi.widget(r,o);return setTimeout(()=>{i.contentEditable="true",o.contentEditable="true"}),Jt.create(n.doc,[s,a])}return Jt.empty}}});return e},N_=/\[(?<span>((www|https:\/\/|http:\/\/)[^\s\]]+))]\((?<url>[^\s\]]+)\)/,jat=t=>new RegExp(`\\\\(?=[^\\w\\s${t}\\\\]|_)`,"g"),qat=t=>{let e=t,n=e.match(N_);for(;n&&n.groups;){const{span:r}=n.groups;e=e.replace(N_,r),n=e.match(N_)}return e},Yat=(t,e,n)=>{const r=t.split(""),i=r[e];return r[e]&&r[n]&&(r[e]=r[n],r[n]=i),r.join("").toString()},Zat=t=>e=>e.replace(jat(t),""),Xat=t=>e=>{const n=e.indexOf(t.hole),r=e.charAt(n-1),i=e.charAt(n+1),s=/[^\w]|_/;return i?r&&s.test(r)&&s.test(i)?t.punctuation:t.char:t.punctuation},Hat=(t,e,n)=>{let r=e,i=!1;return t.descendants(s=>{var o;if(i)return!1;if(s.isText){const a=(o=s.text)==null?void 0:o.indexOf(n);if(a!=null&&a>=0)return i=!0,r+=a,!1}r+=s.nodeSize}),r},Gat={placeholderConfig:{hole:"∅",punctuation:"⁂",char:"∴"},globalNodes:["footnote_definition"],shouldSyncNode:({prevNode:t,nextNode:e})=>t.inlineContent&&e&&t.type===e.type&&!t.eq(e),movePlaceholder:(t,e)=>{const n=["*","_"];let r=e.indexOf(t);for(;n.includes(e[r-1]||"")&&n.includes(e[r+1]||"");)e=Yat(e,r,r+1),r=r+1;return e}},n1=mt(Gat,"inlineSyncConfig"),Kat=t=>{const{selection:e}=t,{$from:n}=e;return n.node()},Jat=(t,e,n,r)=>{const i=t.get(Xu),s=e.schema.topNodeType.create(void 0,[n,...r]);return i(s)},elt=(t,e)=>{const n=t.get(n1),r=n.placeholderConfig.hole,[i="",...s]=e.split(`

`),o=u=>n.movePlaceholder(r,u);let a=Tk(Zat(r),o,qat)(i);const l=Xat(n.placeholderConfig)(a);return a=a.replace(r,l),a=[a,...s].join(`

`),[a,l]},tlt=(t,e)=>{const n=t.get(Dc)(e);return n?n.firstChild:null},nlt=(t,e)=>{const{globalNodes:n}=t.get(n1),r=[];return e.doc.descendants(i=>{if(n.includes(i.type.name)||n.includes(i.type))return r.push(i),!1}),r},rlt=t=>t.split(`

`)[0]||"",Jj=(t,e)=>{try{const n=nlt(t,e),r=Kat(e),i=Jat(t,e,r,n),[s,o]=elt(t,i),a=tlt(t,s);return!a||r.type!==a.type?null:(a.attrs={...r.attrs},a.descendants(l=>{var u;const h=l.marks.find(d=>d.type.name==="link");h&&((u=l.text)!=null&&u.includes(o))&&h.attrs.href.includes(o)&&(h.attrs.href=h.attrs.href.replace(o,""))}),{text:rlt(s),prevNode:r,nextNode:a,placeholder:o})}catch{return null}},ilt=(t,e,n,r,i)=>{const{placeholderConfig:s}=t.get(n1),o=s.hole;let a=n.tr.setMeta(e,!0).insertText(o,n.selection.from);const l=n.apply(a),u=Jj(t,l);if(!u)return;const{$from:h}=l.selection,d=h.before(),f=h.after(),p=Hat(u.nextNode,d,u.placeholder);a=a.replaceWith(d,f,u.nextNode).setNodeMarkup(d,void 0,i).delete(p+1,p+2),a=a.setSelection(ht.near(a.doc.resolve(p+1))),r(a)},F_=new en("MILKDOWN_INLINE_SYNC"),slt=t=>{let e=null;return new Xt({key:F_,state:{init:()=>null,apply:(n,r,i,s)=>{var o;const a=t.get(un);if(!((o=a.hasFocus)!=null&&o.call(a))||!a.editable||!n.docChanged||n.getMeta(F_))return null;const l=Jj(t,s);if(!l)return null;e&&(cancelAnimationFrame(e),e=null);const{prevNode:u,nextNode:h,text:d}=l,{shouldSyncNode:f}=t.get(n1);return f({prevNode:u,nextNode:h,ctx:t,tr:n,text:d})&&(e=requestAnimationFrame(()=>{e=null;const{dispatch:p,state:g}=t.get(un);ilt(t,F_,g,p,u.attrs)})),null}}})},olt=[ao(()=>({injectSlices:[n1],prosePlugins:(t,e)=>[Uat(),slt(e)],remarkPlugins:()=>[oat,Vat,Fat]}))()],alt=oo.create([...Nat,...dat]),llt=oo.create([...olt,...alt]),clt={tokenize:glt,partial:!0},eq={tokenize:mlt,partial:!0},tq={tokenize:ylt,partial:!0},nq={tokenize:blt,partial:!0},ult={tokenize:Olt,partial:!0},rq={tokenize:flt,previous:sq},iq={tokenize:plt,previous:oq},zl={tokenize:dlt,previous:aq},Ba={},hlt={text:Ba};let bu=48;for(;bu<123;)Ba[bu]=zl,bu++,bu===58?bu=65:bu===91&&(bu=97);Ba[43]=zl;Ba[45]=zl;Ba[46]=zl;Ba[95]=zl;Ba[72]=[zl,iq];Ba[104]=[zl,iq];Ba[87]=[zl,rq];Ba[119]=[zl,rq];function dlt(t,e,n){const r=this;let i,s;return o;function o(d){return!o4(d)||!aq.call(r,r.previous)||qT(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return o4(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(ult,h,u)(d):d===45||d===95||Hi(d)?(s=!0,t.consume(d),l):h(d)}function u(d){return t.consume(d),i=!0,l}function h(d){return s&&i&&_i(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function flt(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!sq.call(r,r.previous)||qT(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(clt,t.attempt(eq,t.attempt(tq,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function plt(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&oq.call(r,r.previous)&&!qT(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(_i(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||u2(d)||dn(d)||nh(d)||bk(d)?n(d):t.attempt(eq,t.attempt(tq,h),n)(d)}function h(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function glt(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function mlt(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(nq,l,a)(u):u===null||dn(u)||nh(u)||u!==45&&bk(u)?l(u):(s=!0,t.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function l(u){return i||r||!s?n(u):e(u)}}function ylt(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(nq,e,s)(o):o===null||dn(o)||nh(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function blt(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||dn(a)||nh(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||dn(a)||nh(a)?e(a):r(a)}function s(a){return _i(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):_i(a)?(t.consume(a),o):n(a)}}function Olt(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Hi(s)?n(s):e(s)}}function sq(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||dn(t)}function oq(t){return!_i(t)}function aq(t){return!(t===47||o4(t))}function o4(t){return t===43||t===45||t===46||t===95||Hi(t)}function qT(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const klt={tokenize:Tlt,partial:!0};function xlt(){return{document:{91:{tokenize:Slt,continuation:{tokenize:Clt},exit:Elt}},text:{91:{tokenize:vlt},93:{add:"after",tokenize:wlt,resolveTo:_lt}}}}function wlt(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=Ao(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function _lt(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function vlt(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||dn(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(Ao(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return dn(d)||(o=!0),s++,t.consume(d),d===92?h:u}function h(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function Slt(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(g)}function h(g){if(o>999||g===93&&!a||g===null||g===91||dn(g))return n(g);if(g===93){t.exit("chunkString");const m=t.exit("gfmFootnoteDefinitionLabelString");return s=Ao(r.sliceSerialize(m)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return dn(g)||(a=!0),o++,t.consume(g),g===92?d:h}function d(g){return g===91||g===92||g===93?(t.consume(g),o++,h):h(g)}function f(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ut(t,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return e(g)}}function Clt(t,e,n){return t.check(O0,e,t.attempt(klt,e,n))}function Elt(t){t.exit("gfmFootnoteDefinition")}function Tlt(t,e,n){const r=this;return Ut(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function Dlt(t){let n=(t||{}).singleTilde;const r={tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",h,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],p=a.parser.constructs.insideSpan.null;p&&_s(f,f.length,0,Ok(p,o.slice(u+1,l),a)),_s(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",h,a]]),_s(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,h=this.events;let d=0;return f;function f(g){return u===126&&h[h.length-1][1].type!=="characterEscape"?l(g):(o.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const m=h2(u);if(g===126)return d>1?l(g):(o.consume(g),d++,p);if(d<2&&!n)return l(g);const y=o.exit("strikethroughSequenceTemporary"),b=h2(g);return y._open=!b||b===2&&!!m,y._close=!m||m===2&&!!b,a(g)}}}class Alt{constructor(){this.map=[]}add(e,n,r){Mlt(this,e,n,r)}consume(e){if(this.map.sort((s,o)=>s[0]-o[0]),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1])),r.push(this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function Mlt(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Plt(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}const $lt={flow:{null:{tokenize:Rlt,resolveAll:Llt}}};function Rlt(t,e,n){const r=this;let i=0,s=0,o;return a;function a(C){let E=r.events.length-1;for(;E>-1;){const k=r.events[E][1].type;if(k==="lineEnding"||k==="linePrefix")E--;else break}const _=E>-1?r.events[E][1].type:null,L=_==="tableHead"||_==="tableRow"?v:l;return L===v&&r.parser.lazy[r.now().line]?n(C):L(C)}function l(C){return t.enter("tableHead"),t.enter("tableRow"),u(C)}function u(C){return C===124||(o=!0,s+=1),h(C)}function h(C){return C===null?n(C):rt(C)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),p):n(C):Ft(C)?Ut(t,h,"whitespace")(C):(s+=1,o&&(o=!1,i+=1),C===124?(t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),o=!0,h):(t.enter("data"),d(C)))}function d(C){return C===null||C===124||dn(C)?(t.exit("data"),h(C)):(t.consume(C),C===92?f:d)}function f(C){return C===92||C===124?(t.consume(C),d):d(C)}function p(C){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(C):(t.enter("tableDelimiterRow"),o=!1,Ft(C)?Ut(t,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):g(C))}function g(C){return C===45||C===58?y(C):C===124?(o=!0,t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),m):A(C)}function m(C){return Ft(C)?Ut(t,y,"whitespace")(C):y(C)}function y(C){return C===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(C),t.exit("tableDelimiterMarker"),b):C===45?(s+=1,b(C)):C===null||rt(C)?T(C):A(C)}function b(C){return C===45?(t.enter("tableDelimiterFiller"),O(C)):A(C)}function O(C){return C===45?(t.consume(C),O):C===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(C),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(C))}function x(C){return Ft(C)?Ut(t,T,"whitespace")(C):T(C)}function T(C){return C===124?g(C):C===null||rt(C)?!o||i!==s?A(C):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(C)):A(C)}function A(C){return n(C)}function v(C){return t.enter("tableRow"),S(C)}function S(C){return C===124?(t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),S):C===null||rt(C)?(t.exit("tableRow"),e(C)):Ft(C)?Ut(t,S,"whitespace")(C):(t.enter("data"),I(C))}function I(C){return C===null||C===124||dn(C)?(t.exit("data"),S(C)):(t.consume(C),C===92?M:I)}function M(C){return C===92||C===124?(t.consume(C),I):I(C)}}function Llt(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,h,d;const f=new Alt;for(;++n<t.length;){const p=t[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(a=!1,l!==0&&(s$(f,e,l,u,h),h=void 0,l=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",u,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",h,e]])),i=g.type==="tableDelimiterRow"?2:h?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=G1(f,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=G1(f,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):g.type==="tableHead"?(a=!0,l=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=G1(f,e,s,i,n,d)):o[1]!==0&&(d=G1(f,e,o,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&s$(f,e,l,u,h),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Plt(e.events,n))}return t}function G1(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},nd(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=nd(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=nd(e.events,n[2]),h=nd(e.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,m=n[3]-n[2]-1;t.add(g,m,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},nd(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function s$(t,e,n,r,i){const s=[],o=nd(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function nd(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const Ilt={tokenize:Flt},Nlt={text:{91:Ilt}};function Flt(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return dn(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return rt(l)?e(l):Ft(l)?t.check({tokenize:Blt},e,n)(l):n(l)}}function Blt(t,e,n){return Ut(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Qlt(t){return gN([hlt,xlt(),Dlt(t),$lt,Nlt])}function o$(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const B_="phrasing",Q_=["autolink","link","image","label"],zlt={transforms:[Zlt],enter:{literalAutolink:Wlt,literalAutolinkEmail:z_,literalAutolinkHttp:z_,literalAutolinkWww:z_},exit:{literalAutolink:Ylt,literalAutolinkEmail:qlt,literalAutolinkHttp:Ult,literalAutolinkWww:jlt}},Vlt={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:B_,notInConstruct:Q_},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:B_,notInConstruct:Q_},{character:":",before:"[ps]",after:"\\/",inConstruct:B_,notInConstruct:Q_}]};function Wlt(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function z_(t){this.config.enter.autolinkProtocol.call(this,t)}function Ult(t){this.config.exit.autolinkProtocol.call(this,t)}function jlt(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.url="http://"+this.sliceSerialize(t)}function qlt(t){this.config.exit.autolinkEmail.call(this,t)}function Ylt(t){this.exit(t)}function Zlt(t){IB(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Xlt],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Hlt]],{ignore:["link","linkReference"]})}function Xlt(t,e,n,r,i){let s="";if(!lq(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Glt(n)))return!1;const o=Klt(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Hlt(t,e,n,r){return!lq(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Glt(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Klt(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=o$(t,"(");let s=o$(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function lq(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||nh(n)||bk(n))&&(!e||n!==47)}cq.peek=cct;function Jlt(){return{enter:{gfmFootnoteDefinition:tct,gfmFootnoteDefinitionLabelString:nct,gfmFootnoteCall:sct,gfmFootnoteCallString:oct},exit:{gfmFootnoteDefinition:ict,gfmFootnoteDefinitionLabelString:rct,gfmFootnoteCall:lct,gfmFootnoteCallString:act}}}function ect(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:uct,footnoteReference:cq}}}function tct(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function nct(){this.buffer()}function rct(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=Ao(this.sliceSerialize(t)).toLowerCase()}function ict(t){this.exit(t)}function sct(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function oct(){this.buffer()}function act(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=Ao(this.sliceSerialize(t)).toLowerCase()}function lct(t){this.exit(t)}function cq(t,e,n,r){const i=x0(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(r5(n,t5(t),{...i.current(),before:s,after:"]"})),a(),o(),s+=i.move("]"),s}function cct(){return"["}function uct(t,e,n,r){const i=x0(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),a=n.enter("label");return s+=i.move(r5(n,t5(t),{...i.current(),before:s,after:"]"})),a(),s+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),s+=i.move(jN(UN(t,n,i.current()),hct)),o(),s}function hct(t,e,n){return e===0?t:(n?"":"    ")+t}const dct=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];uq.peek=yct;const fct={canContainEols:["delete"],enter:{strikethrough:gct},exit:{strikethrough:mct}},pct={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:dct}],handlers:{delete:uq}};function gct(t){this.enter({type:"delete",children:[]},t)}function mct(t){this.exit(t)}function uq(t,e,n,r){const i=x0(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n5(t,n,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function yct(){return"~"}function bct(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||kct,i=[],s=[],o=[],a=[];let l=0,u=-1;for(;++u<t.length;){const g=[],m=[];let y=-1;for(t[u].length>l&&(l=t[u].length);++y<t[u].length;){const b=Oct(t[u][y]);if(e.alignDelimiters!==!1){const O=r(b);m[y]=O,(a[y]===void 0||O>a[y])&&(a[y]=O)}g.push(b)}s[u]=g,o[u]=m}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<l;)i[h]=a$(n[h]);else{const g=a$(n);for(;++h<l;)i[h]=g}h=-1;const d=[],f=[];for(;++h<l;){const g=i[h];let m="",y="";g===99?(m=":",y=":"):g===108?m=":":g===114&&(y=":");let b=e.alignDelimiters===!1?1:Math.max(1,a[h]-m.length-y.length);const O=m+"-".repeat(b)+y;e.alignDelimiters!==!1&&(b=m.length+b+y.length,b>a[h]&&(a[h]=b),f[h]=b),d[h]=O}s.splice(1,0,d),o.splice(1,0,f),u=-1;const p=[];for(;++u<s.length;){const g=s[u],m=o[u];h=-1;const y=[];for(;++h<l;){const b=g[h]||"";let O="",x="";if(e.alignDelimiters!==!1){const T=a[h]-(m[h]||0),A=i[h];A===114?O=" ".repeat(T):A===99?T%2?(O=" ".repeat(T/2+.5),x=" ".repeat(T/2-.5)):(O=" ".repeat(T/2),x=O):x=" ".repeat(T)}e.delimiterStart!==!1&&!h&&y.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&b==="")&&(e.delimiterStart!==!1||h)&&y.push(" "),e.alignDelimiters!==!1&&y.push(O),y.push(b),e.alignDelimiters!==!1&&y.push(x),e.padding!==!1&&y.push(" "),(e.delimiterEnd!==!1||h!==l-1)&&y.push("|")}p.push(e.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function Oct(t){return t==null?"":String(t)}function kct(t){return t.length}function a$(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const xct={enter:{table:wct,tableData:l$,tableHeader:l$,tableRow:vct},exit:{codeText:Sct,table:_ct,tableData:V_,tableHeader:V_,tableRow:V_}};function wct(t){const e=t._align;this.enter({type:"table",align:e.map(n=>n==="none"?null:n),children:[]},t),this.setData("inTable",!0)}function _ct(t){this.exit(t),this.setData("inTable")}function vct(t){this.enter({type:"tableRow",children:[]},t)}function V_(t){this.exit(t)}function l$(t){this.enter({type:"tableCell",children:[]},t)}function Sct(t){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,Cct));const n=this.stack[this.stack.length-1];n.value=e,this.exit(t)}function Cct(t,e){return e==="|"?e:t}function Ect(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:l,inlineCode:f}};function o(p,g,m,y){return u(h(p,m,y),p.align)}function a(p,g,m,y){const b=d(p,m,y),O=u([b]);return O.slice(0,O.indexOf(`
`))}function l(p,g,m,y){const b=m.enter("tableCell"),O=m.enter("phrasing"),x=n5(p,m,{...y,before:s,after:s});return O(),b(),x}function u(p,g){return bct(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function h(p,g,m){const y=p.children;let b=-1;const O=[],x=g.enter("table");for(;++b<y.length;)O[b]=d(y[b],g,m);return x(),O}function d(p,g,m){const y=p.children;let b=-1;const O=[],x=g.enter("tableRow");for(;++b<y.length;)O[b]=l(y[b],p,g,m);return x(),O}function f(p,g,m){let y=JC(p,g,m);return m.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}const Tct={exit:{taskListCheckValueChecked:c$,taskListCheckValueUnchecked:c$,paragraph:Act}},Dct={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Mct}};function c$(t){const e=this.stack[this.stack.length-2];e.checked=t.type==="taskListCheckValueChecked"}function Act(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Mct(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=x0(r);s&&a.move(o);let l=VN(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+o}}function Pct(){return[zlt,Jlt(),fct,xct,Tct]}function $ct(t){return{extensions:[Vlt,ect(),pct,Ect(t),Dct]}}function Rct(t={}){const e=this.data();n("micromarkExtensions",Qlt(t)),n("fromMarkdownExtensions",Pct()),n("toMarkdownExtensions",$ct(t));function n(r,i){(e[r]?e[r]:e[r]=[]).push(i)}}var Lct=Object.defineProperty,Ict=(t,e,n)=>e in t?Lct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Iu=(t,e,n)=>(Ict(t,typeof e!="symbol"?e+"":e,n),n);const hq=t=>`footnote-ref-${t}`,dq=t=>`footnote-def-${t}`,Nct=new en("MILKDOWN_FOOTNOTE_DEF_INPUT"),u$=Qt("ModifyFootnoteDef"),Fct=Mr(t=>{const e="footnote_definition",n="footnoteDefinition";return{id:e,schema:r=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:""}},parseDOM:[{tag:`div[data-type="${e}"]`,getAttrs:i=>{if(!(i instanceof HTMLElement))throw Yr(i);return{label:i.dataset.label}},contentElement:"dd"}],toDOM:i=>{const s=i.attrs.label,o=t.getClassName(i.attrs,"footnote-definition"),a=document.createElement("dt");a.textContent=`[${s}]:`,a.onclick=()=>{const u=r.get(un),h=tt.create(u.state.doc,u.state.selection.from-2);u.dispatch(u.state.tr.setSelection(h))};const l=document.createElement("a");return l.href=`#${hq(s)}`,l.contentEditable="false",l.textContent="↩",l.onmousedown=u=>{u.preventDefault()},["div",{class:o,"data-label":s,"data-type":e,id:dq(s)},["div",{class:"footnote-definition_content"},a,["dd",0]],["div",{class:"footnote-definition_anchor"},l]]},parseMarkdown:{match:({type:i})=>i===n,runner:(i,s,o)=>{i.openNode(o,{label:s.label}).next(s.children).closeNode()}},toMarkdown:{match:i=>i.type.name===e,runner:(i,s)=>{i.openNode(n,void 0,{label:s.attrs.label,identifier:s.attrs.label}).next(s.content).closeNode()}}}),commands:r=>[jt(u$,(i="")=>(s,o)=>{const a=Ol(s.selection,r);if(!a)return!1;const{tr:l}=s,u=l.setNodeMarkup(a.pos,void 0,{...a.node.attrs,label:i});return o==null||o(u.setSelection(tt.create(u.doc,a.pos))),!0})],inputRules:r=>[If(/(?:\[\^)([^:]+)(?::)$/,r,i=>{var s;return{label:(s=i[1])!=null?s:"footnote"}},()=>!1)],prosePlugins:(r,i)=>[new Xt({key:Nct,view:s=>{const o=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:h=>{i.get(_t).call(u$,h)},isBindMode:!0});if(!o)return{};const a=h=>!!(r&&Ol(h.state.selection,r)),l=h=>{const d=Ol(h.state.selection,r);return d?d.node.attrs.label:void 0},u=h=>{h.editable&&(a(h)?(o.show(h),o.update(l(h))):o.hide())};return o.init(s),u(s),{update:(h,d)=>{d!=null&&d.doc.eq(h.state.doc)&&d.selection.eq(h.state.selection)||u(h)},destroy:()=>{o.destroy()}}}})]}}),h$=Qt("ModifyFootnoteRef"),Bct=new en("MILKDOWN_FOOTNOTE_REF_INPUT"),Qct=Mr(t=>{const e="footnote_reference";return{id:e,schema:n=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:""}},parseDOM:[{tag:`sup[data-type="${e}"]`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw Yr(r);return{label:r.dataset.label}}}],toDOM:r=>{const i=r.attrs.label,s=document.createElement("a"),o=`#${dq(i)}`;return s.href=o,s.textContent=`[${i}]`,s.onclick=a=>{n.get(un).editable&&a.preventDefault()},s.ondblclick=()=>{n.get(un).editable&&(window.location.href=o)},["sup",{"data-label":i,"data-type":e,id:hq(i)},s]},parseMarkdown:{match:({type:r})=>r==="footnoteReference",runner:(r,i,s)=>{r.addNode(s,{label:i.label})}},toMarkdown:{match:r=>r.type.name===e,runner:(r,i)=>{r.addNode("footnoteReference",void 0,void 0,{label:i.attrs.label,identifier:i.attrs.label})}}}),commands:n=>[jt(h$,(r="")=>(i,s)=>{const o=Ol(i.selection,n);if(!o)return!1;const{tr:a}=i,l=a.setNodeMarkup(o.pos,void 0,{...o.node.attrs,label:r});return s==null||s(l.setSelection(tt.create(l.doc,o.pos))),!0})],inputRules:n=>[new Li(/(?:\[\^)([^\]]+)(?:\])$/,(r,i,s,o)=>{const a=r.doc.resolve(s),l=a.index(),u=r.doc.resolve(o);if(!a.parent.canReplaceWith(l,u.index(),n))return null;const h=i[1];return r.tr.replaceRangeWith(s,o,n.create({label:h}))})],prosePlugins:(n,r)=>{const i=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:l=>{r.get(_t).call(h$,l)},isBindMode:!0});if(!i)return[];const s=l=>!!(n&&Ol(l.state.selection,n)),o=l=>{const u=Ol(l.state.selection,n);return u?u.node.attrs.label:void 0},a=l=>{l.editable&&(s(l)?(i.show(l),i.update(o(l))):i.hide())};return[new Xt({key:Bct,view:l=>(i.init(l),a(l),{update:(u,h)=>{h!=null&&h.doc.eq(u.state.doc)&&h.selection.eq(u.state.selection)||a(u)},destroy:()=>{i.destroy()}})})]}}}),fq=new WeakMap,zct=t=>fq.get(t),Vct=(t,e)=>(fq.set(t,e),e);class d${constructor(e,n,r,i){Iu(this,"tableStart"),Iu(this,"map"),Iu(this,"table"),this.left=e,this.top=n,this.right=r,this.bottom=i}}let cn=class{constructor(e,n,r,i){this.width=e,this.height=n,this.map=r,this.problems=i,this.width=e,this.height=n,this.map=r,this.problems=i}findCell(e){for(let n=0;n<this.map.length;n++){const r=this.map[n];if(r!=e)continue;const i=n%this.width,s=n/this.width|0;let o=i+1,a=s+1;for(let l=1;o<this.width&&this.map[n+l]==r;l++)o++;for(let l=1;a<this.height&&this.map[n+this.width*l]==r;l++)a++;return new d$(i,s,o,a)}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let n=0;n<this.map.length;n++)if(this.map[n]==e)return n%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,n,r){const{left:i,right:s,top:o,bottom:a}=this.findCell(e);return n=="horiz"?(r<0?i==0:s==this.width)?void 0:this.map[o*this.width+(r<0?i-1:s)]:(r<0?o==0:a==this.height)?void 0:this.map[i+this.width*(r<0?o-1:a)]}rectBetween(e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(e),{left:a,right:l,top:u,bottom:h}=this.findCell(n);return new d$(Math.min(r,a),Math.min(s,u),Math.max(i,l),Math.max(o,h))}cellsInRect(e){const n=[],r={};for(let i=e.top;i<e.bottom;i++)for(let s=e.left;s<e.right;s++){const o=i*this.width+s,a=this.map[o];r[a]||(r[a]=!0,(s!=e.left||!s||this.map[o-1]!=a)&&(i!=e.top||!i||this.map[o-this.width]!=a)&&n.push(a))}return n}positionAt(e,n,r){for(let i=0,s=0;;i++){const o=s+r.child(i).nodeSize;if(i==e){let a=n+e*this.width;const l=(e+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?o-1:this.map[a]}s=o}}static get(e){return zct(e)||Vct(e,Wct(e))}};function Wct(t){if(t.type.spec.tableRole!="table")throw new RangeError(`Not a table node: ${t.type.name}`);const e=Uct(t),n=t.childCount,r=[],i=[];let s=0,o;for(let u=0,h=e*n;u<h;u++)r[u]=0;for(let u=0,h=0;u<n;u++){const d=t.child(u);h++;for(let g=0;;g++){for(;s<r.length&&r[s]!=0;)s++;if(g==d.childCount)break;const m=d.child(g),{colspan:y,rowspan:b,colwidth:O}=m.attrs;for(let x=0;x<b;x++){if(x+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:h,n:b-x});break}const T=s+x*e;for(let A=0;A<y;A++){r[T+A]==0?r[T+A]=h:(o||(o=[])).push({type:"collision",row:u,pos:h,n:y-A});const v=O&&O[A];if(v){const S=(T+A)%e*2,I=i[S];I==null||I!=v&&i[S+1]==1?(i[S]=v,i[S+1]=1):I==v&&i[S+1]++}}}s+=y,h+=m.nodeSize}const f=(u+1)*e;let p=0;for(;s<f;)r[s++]==0&&p++;p&&(o||(o=[])).push({type:"missing",row:u,n:p}),h++}const a=new cn(e,n,r,o);let l=!1;for(let u=0;!l&&u<i.length;u+=2)i[u]!=null&&i[u+1]<n&&(l=!0);return l&&jct(a,i,t),a}function Uct(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=t.child(o);for(let l=0;l<a.childCount;l++){const u=a.child(l);o+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function jct(t,e,n){t.problems||(t.problems=[]);for(let r=0,i={};r<t.map.length;r++){const s=t.map[r];if(i[s])continue;i[s]=!0;const o=n.nodeAt(s);let a=null;for(let l=0;l<o.attrs.colspan;l++){const u=(r+l)%t.width,h=e[u*2];h!=null&&(!o.attrs.colwidth||o.attrs.colwidth[l]!=h)&&((a||(a=qct(o.attrs)))[l]=h)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function qct(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}class Yt extends ut{constructor(e,n=e){const r=e.node(-1),i=cn.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(h=>h!=n.pos-s);l.unshift(n.pos-s);const u=l.map(h=>{const d=r.nodeAt(h),f=h+s+1;return new hN(a.resolve(f),a.resolve(f+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n,this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(a4(r)&&a4(i)&&ZT(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Yt.rowSelection(r,i):s&&this.isColSelection()?Yt.colSelection(r,i):new Yt(r,i)}return ht.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=cn.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const u=[];for(let h=l*n.width+i.left,d=i.left;d<i.right;d++,h++){const f=n.map[h];if(!s[f]){s[f]=!0;const p=n.findCell(f);let g=e.nodeAt(f);const m=i.left-p.left,y=p.right-i.right;if(m>0||y>0){let b=g.attrs;m>0&&(b=kh(b,0,m)),y>0&&(b=kh(b,b.colspan-y,y)),p.left<i.left?g=g.type.createAndFill(b):g=g.type.create(b,g.content)}if(p.top<i.top||p.bottom>i.bottom){const b=Cs(g.attrs,"rowspan",Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top));p.top<i.top?g=g.type.createAndFill(b):g=g.type.create(b,g.content)}u.push(g)}}o.push(e.child(l).copy(Ae.from(u)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new Be(Ae.from(a),1,1)}replace(e,n=Be.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],u=e.mapping.slice(r);e.replace(u.map(a.pos),u.map(l.pos),o?Be.empty:n)}const s=ut.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new Be(Ae.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=cn.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=cn.get(e.node(-1)),i=e.start(-1),s=r.findCell(e.pos-i),o=r.findCell(n.pos-i),a=e.node(0);if(s.top<=o.top){if(s.top>0){const l=r.map[s.left];e=a.resolve(i+l)}if(o.bottom<r.height){const l=r.map[r.width*(r.height-1)+o.right-1];n=a.resolve(i+l)}}else{if(o.top>0){const l=r.map[s.left];n=a.resolve(i+l)}if(s.bottom<r.height){const l=r.map[r.width*(r.height-1)+s.right-1];e=a.resolve(i+l)}}return new Yt(e,n)}isRowSelection(){const e=cn.get(this.$anchorCell.node(-1)),n=this.$anchorCell.start(-1),r=e.colCount(this.$anchorCell.pos-n),i=e.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;const s=r+this.$anchorCell.nodeAfter.attrs.colspan,o=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,o)==e.width}eq(e){return e instanceof Yt&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=cn.get(e.node(-1)),i=e.start(-1),s=r.findCell(e.pos-i),o=r.findCell(n.pos-i),a=e.node(0);if(s.left<=o.left){if(s.left>0){const l=r.map[s.top*r.width];e=a.resolve(i+l)}if(o.right<r.width){const l=r.map[r.width*(o.top+1)-1];n=a.resolve(i+l)}}else{if(o.left>0){const l=r.map[o.top*r.width];n=a.resolve(i+l)}if(s.right<r.width){const l=r.map[r.width*(s.top+1)-1];e=a.resolve(i+l)}}return new Yt(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Yt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Yt(e.resolve(n),e.resolve(r))}getBookmark(){return new YT(this.$anchorCell.pos,this.$headCell.pos)}}Yt.prototype.visible=!1;ut.jsonID("cell",Yt);class YT{constructor(e,n){this.anchor=e,this.head=n,this.anchor=e,this.head=n}map(e){return new YT(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&ZT(n,r)?new Yt(n,r):ut.near(r,1)}}function Yct(t){if(!(t.selection instanceof Yt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(pi.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Jt.create(t.doc,e)}function Zct({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function Xct({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function Hct(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof tt&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=Yt.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=Yt.rowSelection(a,a)}else if(!n){const a=cn.get(r.node),l=r.from+1,u=a.map[a.width*a.height-1],h=l+u;s=Yt.create(i,l+1,h)}}else r instanceof ht&&Zct(r)?s=ht.create(i,r.from):r instanceof ht&&Xct(r)&&(s=ht.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}function f$(t,e){const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(o=>Number(o)):null,i=Number(t.getAttribute("colspan")||1),s={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const o in e){const a=e[o].getFromDOM,l=a&&a(t);l!=null&&(s[o]=l)}return s}function p$(t,e){const n={};t.attrs.colspan!=1&&(n.colspan=t.attrs.colspan),t.attrs.rowspan!=1&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function Gct(t){const e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const i in e)n[i]={default:e[i].default};const r=n;return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:r,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:i=>f$(i,e)}],toDOM(i){return["td",p$(i,e),0]}},table_header:{content:t.cellContent,attrs:r,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:i=>f$(i,e)}],toDOM(i){return["th",p$(i,e),0]}}}}function to(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r==null?void 0:r.spec.tableRole;i&&(e[i]=r)}}return e}const K1=Gct({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:t=>t.style.textAlign||"left",setDOMAttr:(t,e)=>{e.style=`text-align: ${t||"left"}`}}}});function r1(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1))}function a4(t){return t.parent.type.spec.tableRole=="row"?t.nodeAfter:null}function Kct(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function ZT(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function pq(t,e,n){const r=t.start(-1),i=cn.get(t.node(-1)).nextCell(t.pos-r,e,n);return i==null?null:t.node(0).resolve(r+i)}function Cs(t,e,n){const r={};for(const i in t)r[i]=t[i];return r[e]=n,r}function kh(t,e,n=1){const r=Cs(t,"colspan",t.colspan-n);if(r.colwidth){const i=r.colwidth;r.colwidth=i.slice(),i.splice(e,n),i.some(s=>s>0)||(r.colwidth=null)}return r}function no(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function wx(t){const e=t.selection;return e instanceof Yt?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&e.node.type.spec.tableRole=="cell"?e.$anchor:r1(e.$head)||Jct(e.$head)}function Jct(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function eut(t,e,n=1){const r=Cs(t,"colspan",t.colspan+n);if(r.colwidth){const i=r.colwidth;r.colwidth=i.slice();for(let s=0;s<n;s++)i.splice(e,0,0)}return r}function tut(t,e,n){const r=to(e.type.schema).header_cell;for(let i=0;i<t.height;i++){const s=t.map[n+i*t.width];if(e.nodeAt(s).type!=r)return!1}return!0}const nut=t=>(e,n)=>{if(!no(e))return!1;const{$head:r}=e.selection,i=r.after(),s=e.tr.replaceWith(i,i,t.createAndFill());return s.setSelection(ut.near(s.doc.resolve(i),1)),n==null||n(s.scrollIntoView()),!0};function _f(t){const e=t.selection,n=wx(t),r=n.node(-1),i=n.start(-1),s=cn.get(r);let o;return e instanceof Yt?o=s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o=s.findCell(n.pos-i),o.tableStart=i,o.map=s,o.table=r,o}function gq(t,{map:e,tableStart:n,table:r},i){e=e,r=r,n=n;let s=i>0?-1:0;tut(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],u=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,eut(u.attrs,i-e.colCount(l))),o+=u.attrs.rowspan-1}else{const l=e.map[a+s],u=s==null?to(r.type.schema).cell:r.nodeAt(l).type,h=e.positionAt(o,i,r);t.insert(t.mapping.map(n+h),u.createAndFill())}}return t}const rut=(t,e)=>{if(!no(t))return!1;if(e){const n=_f(t);e(gq(t.tr,n,n.left))}return!0},iut=(t,e)=>{if(!no(t))return!1;if(e){const n=_f(t);e(gq(t.tr,n,n.right))}return!0};function sut(t,{map:e,table:n,tableStart:r},i){e=e,n=n,r=r;const s=t.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,l=e.map[a],u=n.nodeAt(l);if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,kh(u.attrs,i-e.colCount(l)));else{const h=t.mapping.slice(s).map(r+l);t.delete(h,h+u.nodeSize)}o+=u.attrs.rowspan}}const out=(t,e)=>{if(!no(t))return!1;if(e){const n=_f(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;sut(r,n,i),i!=n.left;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=cn.get(n.table);e(r)}return!0};function aut(t,{map:e,tableStart:n,table:r},i){e=e,r=r,n=n;let s=0;for(let l=0;l<i;l++)s+=r.child(l).nodeSize;const o=s+r.child(i).nodeSize,a=t.mapping.maps.length;t.delete(s+n,o+n);for(let l=0,u=i*e.width;l<e.width;l++,u++){const h=e.map[u];if(i>0&&h==e.map[u-e.width]){const d=r.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(a).map(h+n),null,Cs(d,"rowspan",d.rowspan-1)),l+=d.colspan-1}else if(i<e.width&&h==e.map[u+e.width]){const d=r.nodeAt(h),f=d.type.create(Cs(d.attrs,"rowspan",d.attrs.rowspan-1),d.content),p=e.positionAt(i+1,l,r);t.insert(t.mapping.slice(a).map(n+p),f),l+=d.attrs.colspan-1}}}const lut=(t,e)=>{if(!no(t))return!1;if(e){const n=_f(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;aut(r,n,i),i!=n.top;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=cn.get(n.table);e(r)}return!0};function W_(t,e){return(n,r)=>{if(!no(n))return!1;const i=wx(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof Yt?n.selection.forEachCell((o,a)=>{o.attrs[t]!==e&&s.setNodeMarkup(a,null,Cs(o.attrs,t,e))}):s.setNodeMarkup(i.pos,null,Cs(i.nodeAfter.attrs,t,e)),r(s)}return!0}}function cut(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r);if(s.childCount)return i-1-s.lastChild.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}}function g$(t){return(e,n)=>{if(!no(e))return!1;const r=cut(wx(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(ht.between(i,Kct(i))).scrollIntoView())}return!0}}const uut=(t,e)=>{const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1},_x=t=>p5(e=>e.type.spec.tableRole==="table")(t),hut=t=>e=>{const n=_x(e);if(!n)return;const r=cn.get(n.node);if(!(t>=r.width))return r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height}).map(i=>{const s=n.node.nodeAt(i);if(!s)return;const o=i+n.start;return{pos:o,start:o+1,node:s}}).filter(i=>i!=null)},dut=t=>e=>{const n=_x(e);if(!n)return;const r=cn.get(n.node);if(!(t>=r.height))return r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1}).map(i=>{const s=n.node.nodeAt(i);if(!s)return;const o=i+n.start;return{pos:o,start:o+1,node:s}}).filter(i=>i!=null)},U_=(t,e=3,n=3)=>{const{cell:r,header_cell:i,row:s,table:o}=to(t),a=Array(n).fill(0).map(()=>r.createAndFill(null)),l=Array(n).fill(0).map(()=>i.createAndFill(null)),u=Array(e).fill(0).map((h,d)=>s.create(null,d===0?l:a));return o.create(null,u)},m$=t=>e=>n=>{const r=_x(n.selection),i=t==="row";if(r){const s=cn.get(r.node);if(e>=0&&e<(i?s.height:s.width)){const o=s.positionAt(i?e:s.height-1,i?s.width-1:e,r.node),a=n.doc.resolve(r.start+o),l=i?Yt.rowSelection:Yt.colSelection,u=s.positionAt(i?e:0,i?0:e,r.node),h=n.doc.resolve(r.start+u);return f5(n.setSelection(l(a,h)))}}return n},fut=t=>{const e=_x(t);if(!e)return;const n=cn.get(e.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map(r=>{const i=e.node.nodeAt(r),s=r+e.start;return{pos:s,start:s+1,node:i}})},put=t=>{const e=fut(t.selection);if(e&&e[0]){const n=t.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const i=t.doc.resolve(r.pos);return f5(t.setSelection(new Yt(i,n)))}}return t};function y$(t,{map:e,tableStart:n,table:r},i){const s=Array(i).fill(0).reduce((u,h,d)=>u+r.child(d).nodeSize,n),{cell:o,row:a}=to(r.type.schema),l=Array(e.width).fill(0).map((u,h)=>{const d=r.nodeAt(e.map[h]);return o.createAndFill({alignment:d==null?void 0:d.attrs.alignment})});return t.insert(s,a.create(null,l)),t}const Jo=t=>t.state.selection,gut=t=>{const e=cn.get(t.$anchorCell.node(-1)),n=t.$anchorCell.start(-1),r=e.cellsInRect({left:0,right:e.width,top:0,bottom:1}),i=e.cellsInRect(e.rectBetween(t.$anchorCell.pos-n,t.$headCell.pos-n));for(let s=0,o=r.length;s<o;s++)if(!i.includes(r[s]))return!1;return!0},mut=(t,e)=>{Object.values(t).forEach(n=>{var r;if((r=n.disable)!=null&&r.call(n,e)){n.$.classList.add("hide");return}n.$.classList.remove("hide")})},yut=t=>{var e,n,r,i,s,o,a,l;return{0:{$:(e=t.get(yt).get(Un,"leftArrow"))==null?void 0:e.dom,command:()=>rut,disable:u=>!Jo(u).isColSelection()},1:{$:(n=t.get(yt).get(Un,"rightArrow"))==null?void 0:n.dom,command:()=>iut,disable:u=>!Jo(u).isColSelection()},2:{$:(r=t.get(yt).get(Un,"upArrow"))==null?void 0:r.dom,command:()=>(u,h)=>{if(!no(u))return!1;if(h){const d=_f(u);h(y$(u.tr,d,d.top))}return!0},disable:u=>!Jo(u).isRowSelection()||Jo(u).$head.parent.type.name==="table_header"},3:{$:(i=t.get(yt).get(Un,"downArrow"))==null?void 0:i.dom,command:()=>(u,h)=>{if(!no(u))return!1;if(h){const d=_f(u);h(y$(u.tr,d,d.bottom))}return!0},disable:u=>!Jo(u).isRowSelection()},4:{$:(s=t.get(yt).get(Un,"alignLeft"))==null?void 0:s.dom,command:()=>W_("alignment","left"),disable:u=>!Jo(u).isColSelection()},5:{$:(o=t.get(yt).get(Un,"alignCenter"))==null?void 0:o.dom,command:()=>W_("alignment","center"),disable:u=>!Jo(u).isColSelection()},6:{$:(a=t.get(yt).get(Un,"alignRight"))==null?void 0:a.dom,command:()=>W_("alignment","right"),disable:u=>!Jo(u).isColSelection()},7:{$:(l=t.get(yt).get(Un,"delete"))==null?void 0:l.dom,command:(u,h)=>{const d=Jo(h),f=d.isColSelection(),p=d.isRowSelection();return f&&p?uut:f?out:lut},disable:u=>{const h=Jo(u);return h.isRowSelection()?h.isColSelection()?!1:gut(h):!1}}}},but=(t,e)=>{const{selection:n}=t.state,r=n.isColSelection(),i=n.isRowSelection();h5(t,e,(s,o,a)=>{const l=e.parentElement;if(!l)throw Mi();let u=i?s.left-a.left-o.width/2-8:s.left-a.left+(s.width-o.width)/2,h=s.top-a.top-o.height-(r?14:0)-14+l.scrollTop;u<0&&(u=0);const d=l.clientWidth-(o.width+4);return u>d&&(u=d),h<l.scrollTop&&(h=s.top-a.top+14+l.scrollTop),[h,u]})};var Co=(t=>(t.Left="Left",t.Top="Top",t.Point="Point",t))(Co||{});const Out=(t,{css:e,injectGlobal:n})=>{const r=io(t),i=t.get(sn,"radius"),s=t.get(sn,"lineWidth");return n`
        .milkdown {
            .tableWrapper {
                table {
                    width: calc(100% - 32px) !important;
                    margin: 16px 0 16px 16px !important;

                    .milkdown-cell-left,
                    .milkdown-cell-point,
                    .milkdown-cell-top {
                        position: absolute;

                        &::after {
                            cursor: pointer;
                            position: absolute;
                            top: 0;
                            left: 0;
                            height: 100%;
                            width: 100%;
                            display: block;
                            transition: all 0.2s ease-in-out;
                            background: ${r("secondary",.12)};
                            content: '';
                        }

                        &:hover::after {
                            background: ${r("secondary",.38)};
                        }
                    }

                    .milkdown-cell-left {
                        left: -14px;
                        top: 0;
                        bottom: 0;
                        width: 8px;
                    }

                    .milkdown-cell-top {
                        left: 0;
                        right: 0;
                        top: -14px;
                        height: 8px;
                    }

                    .milkdown-cell-point {
                        left: -18px;
                        top: -18px;
                        width: 16px;
                        height: 16px;

                        .icon {
                            position: absolute;
                            top: 0;
                            bottom: 0;
                            left: 0;
                            right: 0;
                        }
                    }
                }
            }
        }
    `,e`
        display: inline-flex;
        cursor: pointer;
        z-index: 2;

        justify-content: space-evenly;

        position: absolute;

        border-radius: ${i};

        ${t.get(Cr,void 0)};
        ${t.get(Lo,void 0)};

        overflow: hidden;
        background: ${r("surface")};

        .icon {
            position: relative;
            color: ${r("solid",.87)};

            width: 48px;
            line-height: 48px;
            text-align: center;
            transition: all 0.4s ease-in-out;

            &:hover {
                background-color: ${r("secondary",.12)};
            }

            &.active {
                color: ${r("primary")};
            }

            &:not(:last-child)::after {
                content: '';
                position: absolute;
                right: 0;
                top: 0;
                width: ${s};
                bottom: 0;
                background: ${r("line")};
            }
        }

        &.hide,
        .hide {
            display: none;
        }
    `},kut=t=>{switch(t){case Co.Left:return"milkdown-cell-left";case Co.Top:return"milkdown-cell-top";case Co.Point:default:return"milkdown-cell-point"}};function j_(t,e,n,r=0){return pi.widget(e.pos+1,i=>{var s;const o=document.createElement("div");return o.classList.add(kut(n)),n===Co.Point&&o.appendChild((s=t.get(yt).get(Un,"select"))==null?void 0:s.dom),o.addEventListener("mousedown",a=>{if(i)switch(a.preventDefault(),n){case Co.Point:{i.dispatch(put(i.state.tr));return}case Co.Left:{i.dispatch(m$("row")(r)(i.state.tr));return}case Co.Top:i.dispatch(m$("col")(r)(i.state.tr))}}),o})}const xut=(t,e)=>new Xt({key:new en("MILKDOWN_TABLE_OP"),props:{decorations:n=>{if(!t.get(un).editable)return null;const r=[],i=hut(0)(n.selection);if(!i)return null;const s=dut(0)(n.selection);if(!s)return null;const[o]=i;return r.push(j_(t,o,Co.Point)),i.forEach((a,l)=>{r.push(j_(t,a,Co.Left,l))}),s.forEach((a,l)=>{r.push(j_(t,a,Co.Top,l))}),Jt.create(n.doc,r)}},view:n=>{var r;const i=Object.fromEntries(Object.entries(yut(t)).filter(([,l])=>l.$!=null)),s=document.createElement("div");e.themeManager.onFlush(()=>{const l=e.getStyle(u=>Out(e.themeManager,u));l&&s.classList.add(l)}),s.classList.add("table-tooltip","hide"),Object.values(i).forEach(({$:l})=>s.appendChild(l)),(r=n.dom.parentNode)==null||r.appendChild(s);const o=l=>{!n||(l.stopPropagation(),l.preventDefault(),Object.values(i).forEach(({$:u,command:h})=>{u.contains(l.target)&&h(l,n)(n.state,n.dispatch,n)}))},a=()=>{s.classList.add("hide")};return s.addEventListener("mousedown",o),{update:(l,u)=>{const h=l.state;if(!(u!=null&&u.doc.eq(h.doc)&&u.selection.eq(h.selection))){if(!(h.selection instanceof Yt)||!l.editable){a();return}if(mut(i,l),Object.values(i).every(({$:d})=>d.classList.contains("hide"))){a();return}s.classList.remove("hide"),but(l,s)}},destroy:()=>{s.removeEventListener("mousedown",o),s.remove()}}}}),wut=t=>t.type.name==="paragraph"&&t.nodeSize===2,_ut=t=>t.type.name==="paragraph",vut=new en("plugin_autoInsertZeroSpace"),Sut=()=>new Xt({key:vut,props:{handleDOMEvents:{compositionstart(t){const{state:e,dispatch:n}=t,{tr:r,selection:i}=e,{$from:s}=i;return ld.safari&&no(e)&&i.empty&&wut(s.parent)&&n(r.insertText("⁠",s.start())),!1},compositionend(t){const{state:e,dispatch:n}=t,{tr:r,selection:i}=e,{$from:s}=i;return ld.safari&&no(e)&&i.empty&&_ut(s.parent)&&s.parent.textContent.startsWith("⁠")&&n(r.delete(s.start(),s.start()+1)),!1}}}});class Cut{constructor(e,n){Iu(this,"dom"),Iu(this,"contentDOM"),Iu(this,"table"),Iu(this,"colgroup"),this.node=e,this.cellMinWidth=n,this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),l4(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,l4(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}}function l4(t,e,n,r,i,s){var o;let a=0,l=!0,u=e.firstChild;const h=t.firstChild;for(let d=0,f=0;d<h.childCount;d++){const{colspan:p,colwidth:g}=h.child(d).attrs;for(let m=0;m<p;m++,f++){const y=i==f?s:g&&g[m],b=y?`${y}px`:"";a+=y||r,y||(l=!1),u?(u.style.width!=b&&(u.style.width=b),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=b}}for(;u;){const d=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=d}l?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}const Ws=new en("tableColumnResizing");function Eut({handleWidth:t=5,cellMinWidth:e=25,View:n=Cut,lastColumnResizable:r=!0}={}){return new Xt({key:Ws,state:{init(i,s){return this.spec.props.nodeViews[to(s.schema).table.name]=o=>new n(o,e),new Vg(-1,!1)},apply(i,s){return s.apply(i)}},props:{attributes(i){return Ws.getState(i).activeHandle>-1?{class:"resize-cursor"}:void 0},handleDOMEvents:{mousemove(i,s){!i.editable||Tut(i,s,t,r)},mouseleave(i){!i.editable||Dut(i)},mousedown(i,s){!i.editable||Aut(i,s,e)}},decorations(i){const s=Ws.getState(i);return s.activeHandle>-1?Iut(i,s.activeHandle):null},nodeViews:{}}})}class Vg{constructor(e,n){this.activeHandle=e,this.dragging=n,this.activeHandle=e,this.dragging=n}apply(e){let n=this;const r=e.getMeta(Ws);if(r&&r.setHandle!=null)return new Vg(r.setHandle,null);if(r&&r.setDragging!==void 0)return new Vg(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);a4(e.doc.resolve(i))||(i=0),n=new Vg(i,n.dragging)}return n}}function Tut(t,e,n,r){const i=Ws.getState(t.state);if(!i.dragging){const s=Put(e.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();l-e.clientX<=n||e.clientX===Math.floor(a)?o=b$(t,e,"right"):e.clientX-a<=n&&(o=b$(t,e,"left"))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=t.state.doc.resolve(o),l=a.node(-1),u=cn.get(l),h=a.start(-1);if(u.colCount(a.pos-h)+a.nodeAfter.attrs.colspan-1==u.width-1)return}mq(t,o)}}}function Dut(t){const e=Ws.getState(t.state);e.activeHandle>-1&&!e.dragging&&mq(t,-1)}function Aut(t,e,n){const r=Ws.getState(t.state);if(r.activeHandle==-1||r.dragging)return!1;const i=t.state.doc.nodeAt(r.activeHandle),s=Mut(t,r.activeHandle,i.attrs);t.dispatch(t.state.tr.setMeta(Ws,{setDragging:{startX:e.clientX,startWidth:s}}));function o(l){window.removeEventListener("mouseup",o),window.removeEventListener("mousemove",a);const u=Ws.getState(t.state);u.dragging&&($ut(t,u.activeHandle,O$(u.dragging,l,n)),t.dispatch(t.state.tr.setMeta(Ws,{setDragging:null})))}function a(l){if(!l.which)return o(l);const u=Ws.getState(t.state),h=O$(u.dragging,l,n);Rut(t,u.activeHandle,h,n)}return window.addEventListener("mouseup",o),window.addEventListener("mousemove",a),e.preventDefault(),!0}function Mut(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let o=s.node.childNodes[s.offset].offsetWidth,a=n;if(r)for(let l=0;l<n;l++)r[l]&&(o-=r[l],a--);return o/a}function Put(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function b$(t,e,n){const r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;const{pos:i}=r,s=r1(t.state.doc.resolve(i));if(!s)return-1;if(n=="right")return s.pos;const o=cn.get(s.node(-1)),a=s.start(-1),l=o.map.indexOf(s.pos-a);return l%o.width==0?-1:a+o.map[l-1]}function O$(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function mq(t,e){t.dispatch(t.state.tr.setMeta(Ws,{setHandle:e}))}function $ut(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=cn.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let u=0;u<s.height;u++){const h=u*s.width+a;if(u&&s.map[h]==s.map[h-s.width])continue;const d=s.map[h],{attrs:f}=i.nodeAt(d),p=f.colspan==1?0:a-s.colCount(d);if(f.colwidth&&f.colwidth[p]==n)continue;const g=f.colwidth?f.colwidth.slice():Lut(f.colspan);g[p]=n,l.setNodeMarkup(o+d,null,Cs(f,"colwidth",g))}l.docChanged&&t.dispatch(l)}function Rut(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=cn.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l.nodeName!="TABLE";)l=l.parentNode;l4(s,l.firstChild,l,r,a,n)}function Lut(t){const e=[];for(let n=0;n<t;n++)e.push(0);return e}function Iut(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1),s=cn.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan;for(let l=0;l<s.height;l++){const u=a+l*s.width-1;if((a==s.width||s.map[u]!=s.map[u+1])&&(l==0||s.map[u-1]!=s.map[u-1-s.width])){const h=s.map[u],d=o+h+i.nodeAt(h).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(pi.widget(d,f))}}return Jt.create(t.doc,n)}function Nut(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.firstChild.type.spec.tableRole=="table");)n--,r--,e=e.firstChild.content;const i=e.firstChild,s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let u=e.child(l).content;const h=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(h||d)&&(u=c4(to(o).row,new Be(u,h,d)).content),a.push(u)}else if(s=="cell"||s=="header_cell")a.push(n||r?c4(to(o).row,new Be(e,n,r)).content:e);else return null;return Fut(o,a)}function Fut(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let u=i;u<i+a;u++)n[u]=(n[u]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(Ae.empty),n[i]<r){const s=to(t).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);e[i]=e[i].append(Ae.from(o))}return{height:e.length,width:r,rows:e}}function c4(t,e){const n=t.createAndFill();return new uN(n).replace(0,n.content.size,e).doc}function But({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],u=[];for(let h=s[a]||0,d=0;h<r;d++){let f=l.child(d%l.childCount);h+f.attrs.colspan>r&&(f=f.type.create(kh(f.attrs,f.attrs.colspan,h+f.attrs.colspan-r),f.content)),u.push(f),h+=f.attrs.colspan;for(let p=1;p<f.attrs.rowspan;p++)s[a+p]=(s[a+p]||0)+f.attrs.colspan}o.push(Ae.from(u))}n=o,t=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],u=n[a%e];for(let h=0;h<u.childCount;h++){let d=u.child(h);o+d.attrs.rowspan>i&&(d=d.type.create(Cs(d.attrs,"rowspan",Math.max(1,i-d.attrs.rowspan)),d.content)),l.push(d)}s.push(Ae.from(l))}n=s,e=i}return{width:t,height:e,rows:n}}function Qut(t,e,n,r,i,s,o){const a=t.doc.type.schema,l=to(a);let u,h;if(i>e.width)for(let d=0,f=0;d<e.height;d++){const p=n.child(d);f+=p.nodeSize;const g=[];let m;p.lastChild==null||p.lastChild.type==l.cell?m=u||(u=l.cell.createAndFill()):m=h||(h=l.header_cell.createAndFill());for(let y=e.width;y<i;y++)g.push(m);t.insert(t.mapping.slice(o).map(f-1+r),g)}if(s>e.height){const d=[];for(let g=0,m=(e.height-1)*e.width;g<Math.max(e.width,i);g++){const y=g>=e.width?!1:n.nodeAt(e.map[m+g]).type==l.header_cell;d.push(y?h||(h=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const f=l.row.create(null,Ae.from(d)),p=[];for(let g=e.height;g<s;g++)p.push(f);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),p)}return!!(u||h)}function k$(t,e,n,r,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let u=i;u<s;u++){const h=o*e.width+u,d=e.map[h];if(e.map[h-e.width]==d){l=!0;const f=n.nodeAt(d),{top:p,left:g}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,Cs(f.attrs,"rowspan",o-p)),t.insert(t.mapping.slice(a).map(e.positionAt(o,g,n)),f.type.createAndFill(Cs(f.attrs,"rowspan",p+f.attrs.rowspan-o))),u+=f.attrs.colspan-1}}return l}function x$(t,e,n,r,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let u=i;u<s;u++){const h=u*e.width+o,d=e.map[h];if(e.map[h-1]==d){l=!0;const f=n.nodeAt(d),p=e.colCount(d),g=t.mapping.slice(a).map(d+r);t.setNodeMarkup(g,null,kh(f.attrs,o-p,f.attrs.colspan-(o-p))),t.insert(g+f.nodeSize,f.type.createAndFill(kh(f.attrs,0,o-p))),u+=f.attrs.rowspan-1}}return l}function w$(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc,o=cn.get(s);const{top:a,left:l}=r,u=l+i.width,h=a+i.height,d=t.tr;let f=0;function p(){s=n?d.doc.nodeAt(n-1):d.doc,o=cn.get(s),f=d.mapping.maps.length}Qut(d,o,s,n,u,h,f)&&p(),k$(d,o,s,n,l,u,a,f)&&p(),k$(d,o,s,n,l,u,h,f)&&p(),x$(d,o,s,n,a,h,l,f)&&p(),x$(d,o,s,n,a,h,u,f)&&p();for(let g=a;g<h;g++){const m=o.positionAt(g,l,s),y=o.positionAt(g,u,s);d.replace(d.mapping.slice(f).map(m+n),d.mapping.slice(f).map(y+n),new Be(i.rows[g-a],0,0))}p(),d.setSelection(new Yt(d.doc.resolve(n+o.positionAt(a,l,s)),d.doc.resolve(n+o.positionAt(h-1,u-1,s)))),e(d)}const zut=new en("fix-tables");function yq(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let u=a,h=Math.min(i,o+3);u<h;u++)if(t.child(u)==l){a=u+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?yq(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function Vut(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=Wut(t,i,s,n))};return e?e.doc!=t.doc&&yq(e.doc,t.doc,0,r):t.doc.descendants(r),n}function Wut(t,e,n,r){const i=cn.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const u=i.problems[l];if(u.type=="collision"){const h=e.nodeAt(u.pos);for(let d=0;d<h.attrs.rowspan;d++)s[u.row+d]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,kh(h.attrs,h.attrs.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const h=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Cs(h.attrs,"rowspan",h.attrs.rowspan-u.n))}else if(u.type=="colwidth mismatch"){const h=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Cs(h.attrs,"colwidth",u.colwidth))}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,u=n+1;l<i.height;l++){const h=e.child(l),d=u+h.nodeSize,f=s[l];if(f>0){let p="cell";h.firstChild&&(p=h.firstChild.type.spec.tableRole);const g=[];for(let y=0;y<f;y++)g.push(to(t.schema)[p].createAndFill());const m=(l==0||o==l-1)&&a==l?u+1:d-1;r.insert(r.mapping.map(m),g)}u=d}return r.setMeta(zut,{fixTables:!0})}const uc=new en("selectingCells");function _$(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e}function q_(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?r1(t.state.doc.resolve(n.pos)):null}function Uut(t,e){const n=e;if(n.ctrlKey||n.metaKey)return;const r=_$(t,n.target);let i;if(n.shiftKey&&t.state.selection instanceof Yt)s(t.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&(i=r1(t.state.selection.$anchor))!=null&&q_(t,n).pos!=i.pos)s(i,n),n.preventDefault();else if(!r)return;function s(l,u){let h=q_(t,u);const d=uc.getState(t.state)==null;if(!h||!ZT(l,h))if(d)h=l;else return;const f=new Yt(l,h);if(d||!t.state.selection.eq(f)){const p=t.state.tr.setSelection(f);d&&p.setMeta(uc,l.pos),t.dispatch(p)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),uc.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(uc,-1))}function a(l){const u=uc.getState(t.state);let h;if(u!=null)h=t.state.doc.resolve(u);else if(_$(t,l.target)!=r&&(h=q_(t,n),!h))return o();h&&s(h,l)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function jut(t,e){const n=t.state.doc,r=r1(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Yt(r))),!0):!1}function Db(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function bq(t,e,n){if(!(t.state.selection instanceof ht))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const o=r.before(i),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?o:null}}return null}function J1(t,e){return(n,r,i)=>{const s=n.selection;if(s instanceof Yt)return Db(n,r,ut.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=bq(i,t,e);if(o==null)return!1;if(t=="horiz")return Db(n,r,ut.near(n.doc.resolve(s.head+e),e));{const a=n.doc.resolve(o),l=pq(a,t,e);let u;return l?u=ut.near(l,1):e<0?u=ut.near(n.doc.resolve(a.before(-1)),-1):u=ut.near(n.doc.resolve(a.after(-1)),1),Db(n,r,u)}}}function ey(t,e){return(n,r,i)=>{let s=n.selection;if(!(s instanceof Yt)){const a=bq(i,t,e);if(a==null)return!1;s=new Yt(n.doc.resolve(a))}const o=pq(s.$headCell,t,e);return o?Db(n,r,new Yt(s.$anchorCell,o)):!1}}function ty(t,e){const n=t.selection;if(!(n instanceof Yt))return!1;if(e){const r=t.tr,i=to(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new Be(i,0,0))}),r.docChanged&&e(r)}return!0}const qut=y5({ArrowLeft:J1("horiz",-1),ArrowRight:J1("horiz",1),ArrowUp:J1("vert",-1),ArrowDown:J1("vert",1),"Shift-ArrowLeft":ey("horiz",-1),"Shift-ArrowRight":ey("horiz",1),"Shift-ArrowUp":ey("vert",-1),"Shift-ArrowDown":ey("vert",1),Backspace:ty,"Mod-Backspace":ty,Delete:ty,"Mod-Delete":ty});function Yut(t,e,n){if(!no(t.state))return!1;let r=Nut(n);const i=t.state.selection;if(i instanceof Yt){r||(r={width:1,height:1,rows:[Ae.from(c4(to(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=cn.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=But(r,a.right-a.left,a.bottom-a.top),w$(t.state,t.dispatch,o,a,r),!0}else if(r){const s=wx(t.state),o=s.start(-1);return w$(t.state,t.dispatch,o,cn.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Zut({allowTableNodeSelection:t=!1}={}){return new Xt({key:uc,state:{init(){return null},apply(e,n){const r=e.getMeta(uc);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:Yct,handleDOMEvents:{mousedown:Uut},createSelectionBetween(e){return uc.getState(e.state)!=null?e.state.selection:null},handleTripleClick:jut,handleKeyDown:qut,handlePaste:Yut},appendTransaction(e,n,r){return Hct(r,Vut(r,n),t)}})}const Ab={NextCell:"NextCell",PrevCell:"PrevCell",ExitTable:"ExitTable"},v$=Qt("PrevCell"),S$=Qt("NextCell"),C$=Qt("BreakTable"),Xut=Qt("InsertTable"),Hut=ao(t=>({schema:()=>({node:{table:{...K1.table,parseMarkdown:{match:e=>e.type==="table",runner:(e,n,r)=>{const i=n.align,s=n.children.map((o,a)=>({...o,align:i,isHeader:a===0}));e.openNode(r),e.next(s),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table",runner:(e,n)=>{var r;const i=(r=n.content.firstChild)==null?void 0:r.content;if(!i)return;const s=[];i.forEach(o=>{s.push(o.attrs.alignment)}),e.openNode("table",void 0,{align:s}),e.next(n.content),e.closeNode()}}},table_row:{...K1.table_row,parseMarkdown:{match:e=>e.type==="tableRow",runner:(e,n,r)=>{const i=n.align,s=n.children.map((o,a)=>({...o,align:i[a],isHeader:n.isHeader}));e.openNode(r),e.next(s),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_row",runner:(e,n)=>{e.openNode("tableRow"),e.next(n.content),e.closeNode()}}},table_cell:{...K1.table_cell,parseMarkdown:{match:e=>e.type==="tableCell"&&!e.isHeader,runner:(e,n,r)=>{const i=n.align;e.openNode(r,{alignment:i}).openNode(e.schema.nodes.paragraph).next(n.children).closeNode().closeNode()}},toMarkdown:{match:e=>e.type.name==="table_cell",runner:(e,n)=>{e.openNode("tableCell").next(n.content).closeNode()}}},table_header:{...K1.table_header,parseMarkdown:{match:e=>e.type==="tableCell"&&!!e.isHeader,runner:(e,n,r)=>{const i=n.align;e.openNode(r,{alignment:i}),e.openNode(e.schema.nodes.paragraph),e.next(n.children),e.closeNode(),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_header",runner:(e,n)=>{e.openNode("tableCell"),e.next(n.content),e.closeNode()}}}}}),inputRules:(e,n)=>[new Li(/^\|\|\s$/,(r,i,s,o)=>{const a=r.doc.resolve(s);if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.table))return null;const l=U_(n.get(Fn)),u=r.tr.replaceRangeWith(s,o,l).scrollIntoView();return u.setSelection(ht.create(u.doc,s+3))}),new Li(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,(r,i,s,o)=>{var a,l;const u=r.doc.resolve(s);if(!u.node(-1).canReplaceWith(u.index(-1),u.indexAfter(-1),e.table))return null;const h=U_(n.get(Fn),Number((a=i.groups)==null?void 0:a.row),Number((l=i.groups)==null?void 0:l.col)),d=r.tr.replaceRangeWith(s,o,h).scrollIntoView();return d.setSelection(ht.create(d.doc,s+3))})],commands:(e,n)=>[jt(v$,()=>g$(-1)),jt(S$,()=>g$(1)),jt(C$,()=>nut(n.get(Fn).nodes.paragraph)),jt(Xut,()=>(r,i)=>{const{selection:s,tr:o}=r,{from:a}=s,l=U_(n.get(Fn)),u=o.replaceSelectionWith(l),h=ut.findFrom(u.doc.resolve(a),1,!0);return h&&(i==null||i(u.setSelection(h))),!0})],shortcuts:{[Ab.NextCell]:ln(S$,"Mod-]"),[Ab.PrevCell]:ln(v$,"Mod-["),[Ab.ExitTable]:ln(C$,"Mod-Enter")},prosePlugins:(e,n)=>[xut(n,t),Sut(),Eut(),Zut()]})),Gp={...Kn,...Ab,StrikeThrough:"StrikeThrough",TaskList:"TaskList"},E$=Qt("ToggleStrikeThrough"),T$="strike_through",Gut=Ff(t=>({id:T$,schema:()=>({inclusive:!1,parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:e=>["del",{class:t.getClassName(e.attrs,"strike-through")}],parseMarkdown:{match:e=>e.type==="delete",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name===T$,runner:(e,n)=>{e.withMark(n,"delete")}}}),commands:e=>[jt(E$,()=>Ck(e))],shortcuts:{[Gp.StrikeThrough]:ln(E$,"Mod-Alt-x")}})),D$=Qt("SplitTaskListItem"),A$=Qt("SinkTaskListItem"),M$=Qt("LiftTaskListItem"),P$=Qt("TurnIntoTaskList"),Kut=Mr(t=>{const e="task_list_item";return{id:e,schema:n=>({group:"listItem",content:"paragraph block*",defining:!0,priority:60,attrs:{checked:{default:!1}},parseDOM:[{tag:'li[data-type="task-item"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw Yr(r);return{checked:r.dataset.checked==="true"}}}],toDOM:r=>{const i=document.createElement("input");return i.type="checkbox",i.checked=r.attrs.checked,i.className=t.getClassName(r.attrs,"task-list-item_checkbox"),i.onchange=s=>{const o=s.target;if(!(o instanceof HTMLInputElement))return;const a=n.get(un);if(!a.editable){i.checked=!i.checked;return}const{top:l,left:u}=o.getBoundingClientRect(),h=a.posAtCoords({top:l,left:u});if(!h)return;const{tr:d}=a.state;a.dispatch(d.setNodeMarkup(h.inside,void 0,{checked:o.checked}))},["li",{"data-type":"task-item","data-checked":r.attrs.checked?"true":"false",class:t.getClassName(r.attrs,"task-list-item")},i,["span",{class:t.getClassName(r.attrs,"task-list-item_body")},0]]},parseMarkdown:{match:({type:r,checked:i})=>r==="listItem"&&i!==null,runner:(r,i,s)=>{r.openNode(s,{checked:i.checked}),r.next(i.children),r.closeNode()}},toMarkdown:{match:r=>r.type.name===e,runner:(r,i)=>{r.openNode("listItem",void 0,{checked:i.attrs.checked}),r.next(i.content),r.closeNode()}}}),inputRules:n=>[If(/^\s*(\[([ |x])\])\s$/,n,r=>({checked:r[r.length-1]==="x"}))],commands:n=>[jt(D$,()=>Hj(n)),jt(A$,()=>jT(n)),jt(M$,()=>UT(n)),jt(P$,()=>_o(n))],shortcuts:{[Gp.NextListItem]:ln(D$,"Enter"),[Gp.SinkListItem]:ln(A$,"Mod-]"),[Gp.LiftListItem]:ln(M$,"Mod-["),[Gp.TaskList]:ln(P$,"Mod-Alt-9")},view:()=>(n,r,i)=>{let s=n;const o=t.themeManager.get("task-list-item",{editable:()=>r.editable,onChange:h=>{const{tr:d}=r.state;r.dispatch(d.setNodeMarkup(i(),void 0,{checked:h}))}});if(!o)return{};const{dom:a,contentDOM:l,onUpdate:u}=o;return u(s),{dom:a,contentDOM:l,update:h=>h.type.name!==e?!1:(s=h,u(s),!0)}}}}),Jut=oo.create([...llt,ile(()=>Rct),Hut(),Gut(),Kut(),Qct(),Fct()]),eht=Eh({name:"my-link",setup(t,{slots:e}){var i,s;const n=wc(HF,{}).node,r=(s=(i=n==null?void 0:n.value)==null?void 0:i.attrs)==null?void 0:s.href;return()=>{var o;return gg("a",{target:"_blank",href:r},(o=e.default)==null?void 0:o.call(e))}}}),tht=t=>Jut.configure(Kj,{placeholder:"添加图片",input:{placeholder:"请输入图片地址",buttonText:"确认"}}).configure(Gj,{view:t(eht),input:{placeholder:"请输入链接地址",buttonText:"确认"}});var nht=Object.defineProperty,rht=(t,e,n)=>e in t?nht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nl=(t,e,n)=>(rht(t,typeof e!="symbol"?e+"":e,n),n),XT=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},wt=(t,e,n)=>(XT(t,e,"read from private field"),n?n.call(t):e.get(t)),$n=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ii=(t,e,n,r)=>(XT(t,e,"write to private field"),e.set(t,n),n),OO=(t,e,n)=>(XT(t,e,"access private method"),n);const Oq=()=>[{id:"text",icon:"text",content:"Text",command:t=>t.get(_t).call("TurnIntoHeading",0),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h1",icon:"h1",content:"Heading 1",command:t=>t.get(_t).call("TurnIntoHeading",1),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h2",icon:"h2",content:"Heading 2",command:t=>t.get(_t).call("TurnIntoHeading",2),disabled:(t,e)=>!e.node.type.isTextblock},{id:"h3",icon:"h3",content:"Heading 3",command:t=>t.get(_t).call("TurnIntoHeading",3),disabled:(t,e)=>!e.node.type.isTextblock},{id:"bullet_list",icon:"bulletList",content:"Bullet list",command:t=>t.get(_t).call("WrapInBulletList"),disabled:t=>{const e=t.get(un),n=Eu("bullet_list",e.state.schema);return!_o(n)(e.state)}},{id:"ordered_list",icon:"orderedList",content:"Ordered list",command:t=>t.get(_t).call("WrapInOrderedList"),disabled:t=>{const e=t.get(un),n=Eu("ordered_list",e.state.schema);return!_o(n)(e.state)}},{id:"task_list",icon:"taskList",content:"Task list",command:t=>t.get(_t).call("TurnIntoTaskList"),disabled:t=>{const e=t.get(un),n=Eu("task_list_item",e.state.schema);return!_o(n)(e.state)}},{id:"blockquote",icon:"quote",content:"Blockquote",command:t=>t.get(_t).call("WrapInBlockquote"),disabled:t=>{const e=t.get(un),n=Eu("blockquote",e.state.schema);return!_o(n)(e.state)}},{id:"code_fence",icon:"code",content:"Code",command:t=>t.get(_t).call("TurnIntoCodeFence"),disabled:t=>{const e=t.get(un),n=Eu("fence",e.state.schema);return!Cc(n)(e.state)}}];var Wg,u4,kq,h4,xq;class iht{constructor(e){$n(this,u4),$n(this,h4),nl(this,"dom$"),$n(this,Wg,void 0),ii(this,Wg,e),this.dom$=OO(this,h4,xq).call(this),OO(this,u4,kq).call(this)}hide(){this.dom$.classList.add("hide")}show(){this.dom$.classList.remove("hide")}toggle(){this.dom$.classList.toggle("hide")}mount(e){var n;(n=e.dom.parentNode)==null||n.appendChild(this.dom$)}unmount(){this.dom$.remove()}render(e,n){const r=e.dom.parentElement;if(!r)throw Mi();const i=n.getBoundingClientRect(),s=r.getBoundingClientRect(),o=this.dom$.getBoundingClientRect(),a=i.left-s.left-o.width,l=i.top-s.top+r.scrollTop;this.dom$.style.left=`${a}px`,this.dom$.style.top=`${l}px`}}Wg=new WeakMap,u4=new WeakSet,kq=function(){const{themeManager:t,getStyle:e}=wt(this,Wg);t.onFlush(()=>{if(!this.dom$)return;const n=e(({css:r})=>{const i=io(t);return r`
                    position: absolute;
                    color: ${i("solid")};
                    cursor: grab;
                    border-radius: ${t.get(sn,"radius")};
                    transition: background-color 0.4s;
                    height: 24px;
                    line-height: 24px;
                    &:hover {
                        color: ${i("primary")};
                        background-color: ${i("background")};
                    }
                    &.hide {
                        display: none;
                    }
                `});if(n){const r=["block-handle",n,"hide"].filter(i=>i!=null).join(" ");this.dom$.className=r}})},h4=new WeakSet,xq=function(){const{themeManager:t}=wt(this,Wg),e=document.createElement("div");e.draggable=!0;const n=t.get(Un,"dragHandle");return e.appendChild(n.dom),e};var Ug,rd,Mb,yd,Kp,Jp,d4,wq,f4,_q,Pb;class sht{constructor(e,n,r,i,s){$n(this,d4),$n(this,f4),nl(this,"dom$"),$n(this,Ug,void 0),$n(this,rd,void 0),$n(this,Mb,void 0),$n(this,yd,void 0),$n(this,Kp,void 0),$n(this,Jp,void 0),$n(this,Pb,o=>{let a=o.target;for(;a&&!a.dataset.id&&a.parentElement;)a=a.parentElement;if(a){const l=a.dataset.id,u=wt(this,yd).find(d=>d.id===l),h=wt(this,Jp).call(this);h&&(u==null||u.command(wt(this,rd),h))}wt(this,Kp).hide(),this.hide()}),ii(this,Ug,e),ii(this,rd,n),ii(this,Mb,r),ii(this,Kp,i),ii(this,yd,wt(this,Mb).call(this,wt(this,rd))),ii(this,Jp,s),this.dom$=OO(this,f4,_q).call(this),OO(this,d4,wq).call(this)}hide(){this.dom$.classList.add("hide")}show(){this.dom$.style.maxHeight="",this.dom$.classList.remove("hide")}toggle(){this.dom$.style.maxHeight="",this.dom$.classList.toggle("hide")}mount(e){var n;(n=e.dom.parentNode)==null||n.appendChild(this.dom$),this.dom$.addEventListener("click",wt(this,Pb))}unmount(){this.dom$.remove(),this.dom$.removeEventListener("click",wt(this,Pb))}render(e,n){const r=e.dom.parentElement;if(!r)throw Mi();if(wt(this,yd).reduce((p,{disabled:g,id:m})=>{const y=wt(this,Jp).call(this);if(!y)return p;const b=g(wt(this,rd),y),O=this.dom$.querySelector(`[data-id="${m}"]`);return O?b?(O.classList.add("hide"),p):(O.classList.remove("hide"),!1):p},!0)){this.hide();return}const i=r.getBoundingClientRect(),s=wt(this,Kp).dom$.getBoundingClientRect(),o=this.dom$.getBoundingClientRect(),a=n.left-i.left-s.width;let l,u;const h=n.top-i.top,d=i.height+i.top-(s.height+n.top);d>=o.height+14?l="bottom":h>=o.height+14?l="top":d>=h?(l="bottom",u=d-14):(l="top",u=h-14);const f=l==="top"?n.top-i.top-(u??o.height)-2+r.scrollTop:n.top-i.top+r.scrollTop+s.height;this.dom$.style.left=`${a}px`,this.dom$.style.top=`${f}px`,this.dom$.style.maxHeight=u!==void 0&&u>0?`${u}px`:""}}Ug=new WeakMap,rd=new WeakMap,Mb=new WeakMap,yd=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,d4=new WeakSet,wq=function(){const{themeManager:t,getStyle:e}=wt(this,Ug);t.onFlush(()=>{if(!this.dom$)return;const n=e(({css:r})=>{const i=io(t);return r`
                    position: absolute;
                    cursor: pointer;
                    background: ${i("surface")};
                    z-index: 2;
                    border-radius: ${t.get(sn,"radius")};
                    width: 140px;
                    overflow-y: auto;

                    ${t.get(Do,["y"])}
                    ${t.get(Lo,void 0)};
                    ${t.get(Cr,void 0)}

                    &.hide {
                        display: none;
                    }

                    .block-menu_item {
                        font-size: 14px;
                        display: flex;
                        height: 24px;
                        padding: 4px 10px;
                        align-items: center;
                        justify-content: start;
                        gap: 10px;
                        transition: all 0.4s;

                        &:hover {
                            background: ${i("secondary",.12)};
                            color: ${i("primary")};
                        }

                        &.hide {
                            display: none;
                        }
                    }
                `});if(n){const r=["block-menu",n,"hide"].filter(i=>i!=null).join(" ");this.dom$.className=r}})},f4=new WeakSet,_q=function(){const t=document.createElement("div");return wt(this,yd).forEach(({icon:e,content:n,id:r})=>{const i=document.createElement("div"),s=document.createElement("span");s.textContent=n;let o;typeof e=="string"?o=wt(this,Ug).themeManager.get(Un,e).dom:o=e,i.appendChild(o),i.appendChild(s),i.dataset.id=r,i.classList.add("block-menu_item"),t.appendChild(i)}),t},Pb=new WeakMap;const oht=(t,e)=>{var n;const{state:r}=t,i=r.selection.$anchor;for(let s=i.depth;s>0;s--)if(i.node(s).type.spec.tableRole==="table"){const o=t.posAtCoords({left:e.clientX,top:e.clientY});if(!o)return null;const a=(n=t.dragging)==null?void 0:n.slice;if(!a)return null;const l=t.state.doc.resolve(o.pos),u=qC(t.state.doc,l.pos,a);if(u==null||u<0)return null;let h=r.tr;h=h.delete(i.before(s),i.after(s));const d=h.mapping.map(u);return h=h.replaceRange(d,d,a),h}return null},aht=(t,e,n)=>{const{node:r}=t.domAtPos(n.pos);let i=r,s=i.parentElement;for(;s&&s!==e&&n.pos===t.posAtDOM(s,0);)i=s,s=s.parentElement;return i},lht=t=>!t.type.isBlock,cht=t=>{let e=t.parent;const n=t.node();return e===n&&(e=t.node(t.depth-1)),!e||e.type.name==="doc"?!1:e.firstChild===n},uht=(t,e,n)=>{const r=e.dom.parentElement;if(!r)throw Mi();const i=e.posAtDOM(t,0);if(i===0)return null;let s=e.state.doc.resolve(i),o=s.node();for(;o&&(lht(o)||cht(s)||!n(o));)s=e.state.doc.resolve(s.before()),o=s.node();s=e.state.doc.resolve(s.pos-s.parentOffset);const a=aht(e,r,s);return{node:o,$pos:s,el:a}};let $$=null;function hht(){return $$||($$=document.implementation.createHTMLDocument("title"))}const dht={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};function fht(t,e){const n=[];let{openStart:r,openEnd:i,content:s}=e;for(;r>1&&i>1&&s.childCount===1&&s.firstChild.childCount===1;){r-=1,i-=1;const p=s.firstChild;n.push(p.type.name,p.attrs!==p.type.defaultAttrs?p.attrs:null),s=p.content}const o=t.someProp("clipboardSerializer")||wo.fromSchema(t.state.schema),a=hht(),l=a.createElement("div");l.appendChild(o.serializeFragment(s,{document:a}));let u=l.firstChild,h,d=0;for(;u&&u.nodeType===1&&(h=dht[u.nodeName.toLowerCase()]);){for(let p=h.length-1;p>=0;p--){const g=a.createElement(h[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),d++}u=l.firstChild}u&&u.nodeType===1&&u.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);const f=t.someProp("clipboardTextSerializer",p=>p(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}const R$=ld.ie&&ld.ie_version<15||ld.ios&&ld.webkit_version<604,L$=20;var p4,eg,_u,tg,ia,kO,$b,Jl,vu,Rb,Lb,Ib;class pht{constructor(e,n,r,i){$n(this,Jl),nl(this,"blockHandle$"),nl(this,"blockMenu$"),$n(this,p4,()=>{if(!wt(this,_u))return null;const s=wt(this,_u),o=wt(this,Jl,vu);if(tt.isSelectable(s.node)){const a=tt.create(o.state.doc,s.$pos.pos-1);return o.dispatch(o.state.tr.setSelection(a)),o.focus(),ii(this,eg,a),a}return null}),$n(this,eg,null),$n(this,_u,null),$n(this,tg,void 0),$n(this,ia,!1),$n(this,kO,void 0),$n(this,$b,void 0),$n(this,Rb,()=>{var s;ii(this,tg,(s=wt(this,_u))==null?void 0:s.el.getBoundingClientRect()),wt(this,p4).call(this)}),$n(this,Lb,()=>{if(!wt(this,ia)){requestAnimationFrame(()=>{!wt(this,tg)||(this.blockMenu$.toggle(),this.blockMenu$.render(wt(this,Jl,vu),wt(this,tg)),wt(this,Jl,vu).focus())});return}ii(this,ia,!1),ii(this,eg,null)}),$n(this,Ib,s=>{ii(this,ia,!0);const o=wt(this,eg);if(s.dataTransfer&&o){const a=wt(this,Jl,vu),l=o.content();s.dataTransfer.effectAllowed="copyMove";const{dom:u,text:h}=fht(a,l);s.dataTransfer.clearData(),s.dataTransfer.setData(R$?"Text":"text/html",u.innerHTML),R$||s.dataTransfer.setData("text/plain",h),a.dragging={slice:l,move:!0}}}),nl(this,"keydownCallback",()=>(this.blockMenu$.hide(),this.blockHandle$.hide(),!1)),nl(this,"mousedownCallback",()=>(this.blockMenu$.hide(),!1)),nl(this,"mousemoveCallback",(s,o)=>{if(!s.editable)return!1;const a=o.target;if(!(a instanceof Element))return wt(this,ia)||this.blockHandle$.hide(),!1;const l=uht(a,s,wt(this,$b));return ii(this,_u,l),l?(this.blockHandle$.show(),this.blockHandle$.render(s,l.el),!1):(wt(this,ia)||this.blockHandle$.hide(),!1)}),nl(this,"dragoverCallback",(s,o)=>{if(wt(this,ia)){const a=wt(this,Jl,vu).dom.parentElement;if(!a)return!1;const l=a.scrollHeight>a.clientHeight,u=a.getBoundingClientRect();if(l){if(a.scrollTop>0&&Math.abs(o.y-u.y)<L$){const d=a.scrollTop>10?a.scrollTop-10:0;return a.scrollTop=d,!1}const h=Math.round(wt(this,Jl,vu).dom.getBoundingClientRect().height);if(Math.round(a.scrollTop+u.height)<h&&Math.abs(o.y-(u.height+u.y))<L$){const d=a.scrollTop+10;return a.scrollTop=d,!1}}}return!1}),nl(this,"dropCallback",(s,o)=>{if(wt(this,ia)){this.blockMenu$.hide();const a=o,l=oht(s,a);if(ii(this,ia,!1),l)return s.dispatch(l),a.preventDefault(),!0}return!1}),ii(this,kO,e),ii(this,$b,r),this.blockHandle$=new iht(n),this.blockMenu$=new sht(n,e,i,this.blockHandle$,()=>wt(this,_u))}mount(e){this.blockHandle$.dom$.addEventListener("mousedown",wt(this,Rb)),this.blockHandle$.dom$.addEventListener("mouseup",wt(this,Lb)),this.blockHandle$.dom$.addEventListener("dragstart",wt(this,Ib)),this.blockHandle$.mount(e),this.blockMenu$.mount(e)}unmount(){this.blockHandle$.dom$.removeEventListener("mousedown",wt(this,Rb)),this.blockHandle$.dom$.removeEventListener("mouseup",wt(this,Lb)),this.blockHandle$.dom$.removeEventListener("dragstart",wt(this,Ib)),this.blockHandle$.unmount(),this.blockMenu$.unmount()}}p4=new WeakMap,eg=new WeakMap,_u=new WeakMap,tg=new WeakMap,ia=new WeakMap,kO=new WeakMap,$b=new WeakMap,Jl=new WeakSet,vu=function(){return wt(this,kO).get(un)},Rb=new WeakMap,Lb=new WeakMap,Ib=new WeakMap;const ght=new en("MILKDOWN_BLOCK"),mht=(t,e,n,r)=>{const i=new pht(t,e,n,r);return new Xt({key:ght,props:{handleDOMEvents:{drop:(s,o)=>i.dropCallback(s,o),mousemove:(s,o)=>i.mousemoveCallback(s,o),mousedown:()=>i.mousedownCallback(),keydown:()=>i.keydownCallback(),dragover:(s,o)=>i.dragoverCallback(s,o)}},view:s=>(i.mount(s),{destroy:()=>{i.unmount()}})})},yht=t=>{const{name:e}=t.type;return!(e.startsWith("table")&&e!=="table")},vq=ao((t,e)=>{var n,r;const i=(n=e==null?void 0:e.filterNodes)!=null?n:yht,s=(r=e==null?void 0:e.configBuilder)!=null?r:Oq;return{prosePlugins:(o,a)=>[mht(a,t,i,s)]}}),bht=oo.create([vq()]),Oht=bht.configure(vq,{configBuilder:t=>Oq().map(e=>(e.content=s4[e.icon]||e.content,e))});var kht=Object.defineProperty,xht=(t,e,n)=>e in t?kht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wht=(t,e,n)=>(xht(t,e+"",n),n);const ny=(t,e)=>{if(!e)return!1;const{from:n,$from:r,to:i,empty:s}=t.selection;return s?!!e.isInSet(t.storedMarks||r.marks()):t.doc.rangeHasMark(n,i,e)},Sq=Qt("SelectParent"),Cq=[[{type:"button",icon:"undo",key:"Undo",disabled:t=>!Om(t.state)},{type:"button",icon:"redo",key:"Redo",disabled:t=>!Gu(t.state)}],[{type:"select",text:"Heading",options:[{id:"1",text:"Large Heading"},{id:"2",text:"Medium Heading"},{id:"3",text:"Small Heading"},{id:"0",text:"Plain Text"}],disabled:t=>{const{state:e}=t,n=e.schema.nodes.heading;if(!n)return!0;const r=i=>Cc(n,{level:i})(e);return!(t.state.selection instanceof ht)||!(r(1)||r(2)||r(3))},onSelect:t=>Number(t)?["TurnIntoHeading",Number(t)]:["TurnIntoText",null]}],[{type:"button",icon:"bold",key:"ToggleBold",active:t=>ny(t.state,t.state.schema.marks.strong),disabled:t=>!t.state.schema.marks.strong},{type:"button",icon:"italic",key:"ToggleItalic",active:t=>ny(t.state,t.state.schema.marks.em),disabled:t=>!t.state.schema.marks.em},{type:"button",icon:"strikeThrough",key:"ToggleStrikeThrough",active:t=>ny(t.state,t.state.schema.marks.strike_through),disabled:t=>!t.state.schema.marks.strike_through}],[{type:"button",icon:"bulletList",key:"WrapInBulletList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.bullet_list;return n?!_o(n)(e):!0}},{type:"button",icon:"orderedList",key:"WrapInOrderedList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.ordered_list;return n?!_o(n)(e):!0}},{type:"button",icon:"taskList",key:"TurnIntoTaskList",disabled:t=>{const{state:e}=t,n=e.schema.nodes.task_list_item;return n?!_o(n)(e):!0}},{type:"button",icon:"liftList",key:"LiftListItem",disabled:t=>{const{state:e}=t,n=e.schema.nodes.list_item;return n?!UT(n)(e):!0}},{type:"button",icon:"sinkList",key:"SinkListItem",disabled:t=>{const{state:e}=t,n=e.schema.nodes.list_item;return n?!jT(n)(e):!0}}],[{type:"button",icon:"link",key:"ToggleLink",active:t=>ny(t.state,t.state.schema.marks.link)},{type:"button",icon:"image",key:"InsertImage"},{type:"button",icon:"table",key:"InsertTable"},{type:"button",icon:"code",key:"TurnIntoCodeFence"}],[{type:"button",icon:"quote",key:"WrapInBlockquote"},{type:"button",icon:"divider",key:"InsertHr"},{type:"button",icon:"select",key:Sq}]],_ht=(t,e,n)=>{const r=document.createElement("button");r.setAttribute("type","button"),t.themeManager.onFlush(()=>{r.className="button";const s=t.getStyle(({css:o})=>{const a=io(t.themeManager);return o`
                border: 0;
                box-sizing: unset;
                width: 28px;
                height: 28px;
                padding: 4px;
                margin: 8px;
                flex-shrink: 0;
                font-size: 14px;

                display: flex;
                justify-content: center;
                align-items: center;

                background-color: ${a("surface")};
                color: ${a("solid")};
                transition: color 0.4s ease-in-out, background-color 0.4s ease-in-out;

                cursor: pointer;

                &.active,
                &:hover {
                    background-color: ${a("secondary",.12)};
                    color: ${a("primary")};
                }

                &:disabled {
                    display: none;
                }

                .material-icons-outlined {
                    font-size: 24px;
                }
            `});s&&r.classList.add(s)});const i=t.themeManager.get(Un,e.icon);if(i){const{label:s,dom:o}=i;s&&(r.setAttribute("aria-label",s),r.setAttribute("title",s)),r.appendChild(o)}else r.setAttribute("aria-label",e.icon),r.setAttribute("title",e.icon),r.textContent=e.icon;return r.addEventListener("mousedown",s=>{s.preventDefault(),s.stopPropagation(),n.get(_t).call(e.key,e.options)}),r},vht=t=>{const e=document.createElement("div");e.classList.add("divider");const{themeManager:n}=t;return n.onFlush(()=>{const r=t.getStyle(({css:i})=>i`
                flex-shrink: 0;
                width: ${n.get(sn,"lineWidth")};
                background-color: ${n.get(_r,["line"])};
                margin: 12px 16px;
                min-height: 24px;
            `);r&&e.classList.add(r)}),e},Sht=(t,e,n,r)=>{var i;const s=document.createElement("div");s.classList.add("menu-selector-wrapper","fold");const o=document.createElement("button"),a=document.createElement("div");o.setAttribute("type","button"),o.classList.add("menu-selector","fold"),o.addEventListener("mousedown",d=>{var f;d.preventDefault(),d.stopPropagation(),s.classList.toggle("fold");const p=s.getBoundingClientRect();a.style.left=`${p.left-(((f=r.dom.parentElement)==null?void 0:f.getBoundingClientRect().left)||0)}px`;const g=t.themeManager.get(sn,"lineWidth");a.style.top=`calc(${`${p.height}px`} + ${g} * 2)`}),r.dom.addEventListener("click",()=>{s.classList.add("fold")});const l=document.createElement("span");l.classList.add("menu-selector-value"),l.textContent=e.text;const u=(i=t.themeManager.get(Un,"downArrow"))==null?void 0:i.dom;s.appendChild(o),o.appendChild(l),u&&(u.setAttribute("aria-hidden","true"),o.appendChild(u)),a.classList.add("menu-selector-list"),e.options.forEach(d=>{const f=document.createElement("button");f.setAttribute("type","button"),f.dataset.id=d.id,f.textContent=d.text,f.classList.add("menu-selector-list-item"),a.appendChild(f)}),a.addEventListener("mousedown",d=>{const{target:f}=d;if(f instanceof HTMLButtonElement&&f.dataset.id){const p=e.onSelect(f.dataset.id,r),[g,m]=p;n.get(_t).call(g,m),s.classList.add("fold")}}),s.appendChild(a);const{themeManager:h}=t;return h.onFlush(()=>{const d=t.getStyle(({css:f})=>{const p=(g,m=1)=>h.get(_r,[g,m]);return f`
                flex-shrink: 0;
                font-weight: 500;
                font-size: 14px;

                ${h.get(Cr,"right")}
                ${h.get(Cr,"left")}

                .menu-selector {
                    border: 0;
                    box-sizing: unset;
                    cursor: pointer;
                    font: inherit;
                    text-align: left;
                    justify-content: space-between;
                    align-items: center;
                    color: ${p("neutral",.87)};
                    display: flex;
                    padding: 4px;
                    margin: 8px;
                    height: 28px;
                    background: ${p("secondary",.12)};
                    width: 160px;

                    &:disabled {
                        display: none;
                    }
                }

                .menu-selector-value {
                    flex: 1;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                }

                .menu-selector-list {
                    width: 184px;
                    position: absolute;
                    background: ${p("surface")};
                    ${h.get(Cr,void 0)}
                    ${h.get(Lo,void 0)}
                    border-bottom-left-radius: ${h.get(sn,"radius")};
                    border-bottom-right-radius: ${h.get(sn,"radius")};
                    z-index: 3;
                }

                .menu-selector-list-item {
                    background-color: transparent;
                    border: 0;
                    cursor: pointer;
                    display: block;
                    font: inherit;
                    text-align: left;
                    padding: 12px 16px;
                    line-height: 28px;
                    width: 100%;
                    color: ${p("neutral",.87)};

                    &:hover {
                        background: ${p("secondary",.12)};
                        color: ${p("primary")};
                    }
                }

                &.fold {
                    border-color: transparent;

                    .menu-selector {
                        background: unset;
                    }

                    .menu-selector-list {
                        display: none;
                    }
                }
            `});d&&s.classList.add(d)}),s};class Cht{constructor(e,n,r,i,s){wht(this,"config"),this.utils=n,this.ctx=r,this.config=e.map(o=>o.map(a=>({...a,$:this.$create(a,s)}))).map((o,a)=>{if(a===e.length-1)return o;const l={type:"divider",group:o.map(u=>u.$)};return[...o,{...l,$:this.$create(l,s)}]}).flat(),this.config.forEach(o=>i.appendChild(o.$))}update(e){this.config.forEach(n=>{if(n.type==="button"){n.active&&(n.active(e)?n.$.classList.add("active"):n.$.classList.remove("active")),n.disabled&&(n.disabled(e)?n.$.setAttribute("disabled","true"):n.$.removeAttribute("disabled"));return}if(n.type==="select"&&n.disabled){const r=n.disabled(e),i=n.$.children[0];i&&(r?(n.$.classList.add("disabled"),i.setAttribute("disabled","true")):(n.$.classList.remove("disabled"),i.removeAttribute("disabled")))}n.type==="divider"&&(n.group.every(r=>r.getAttribute("disabled")||r.classList.contains("disabled"))?n.$.classList.add("disabled"):n.$.classList.remove("disabled"))})}$create(e,n){const{utils:r,ctx:i}=this;switch(e.type){case"button":return _ht(r,e,i);case"select":return Sht(r,e,i,n);case"divider":default:return vht(r)}}}const Eht=({menu:t,menuWrapper:e,milkdownDOM:n,editorRoot:r})=>{r.appendChild(n),e.remove(),t.remove()},Tht=({menu:t,menuWrapper:e,milkdownDOM:n})=>{e.insertBefore(t,n)},Eq=t=>t?typeof t=="string"?document.querySelector(t)||document.body:t:document.body,Dht=(t,e)=>{let n=null;n=document.createElement("div"),n.classList.add("milkdown-menu-wrapper");const r=t.get(Ed),i=e.dom,s=Eq(r),o=i.parentElement;if(!o)throw Mi();return s.replaceChild(n,o),n.appendChild(o),n},Aht=(t,e,n,r,i=Tht)=>{if(!r)throw wJ();const s=document.createElement("div");s.classList.add("milkdown-menu");const o=e.dom,{themeManager:a}=t;a.onFlush(()=>{const d=t.getStyle(()=>a.get(Do,["y"]));d&&o.classList.add(d);const f=t.getStyle(({css:g})=>g`
                position: relative;
            `);r&&f&&r.classList.add(f);const p=t.getStyle(({css:g})=>{const m=a.get(Cr,void 0),y=a.get(Do,["x","thin"]);return g`
                font-family: ${a.get(To,"typography")};
                box-sizing: border-box;
                width: 100%;
                display: flex;
                flex-wrap: nowrap;
                overflow-x: scroll;
                ${m};
                ${y};
                overflow-y: hidden;
                background: ${a.get(_r,["surface"])};
                transition: background-color 0.4s ease-in-out;

                -webkit-overflow-scrolling: auto;

                .disabled {
                    display: none;
                }
            `});p&&p.split(" ").forEach(g=>s.classList.add(g))});const l=n.get(Ed),u=Eq(l),h=o.parentElement;if(!h)throw Mi();return i({menu:s,menuWrapper:r,editorDOM:o,editorRoot:u,milkdownDOM:h}),[s,()=>(Eht({menu:s,menuWrapper:r,editorDOM:o,editorRoot:u,milkdownDOM:h}),h)]},Mht=new en("MILKDOWN_MENU"),Tq=ao((t,e)=>{const n=e==null?void 0:e.domHandler;let r=null,i=null,s=null,o=null;const a=(l,u)=>{const h=e!=null&&e.config?typeof e.config=="function"?e.config(l):e.config:Cq;if(u.editable){if(s||(s=Dht(l,u),l.set(bm,s)),!i){const[d,f]=Aht(t,u,l,s,n);i=d,r=()=>{const p=f();s=null,i=null,o=null,r=null,l.set(bm,p)}}o||(o=new Cht(h,t,l,i,u))}};return{commands:()=>[jt(Sq,()=>wae)],prosePlugins:(l,u)=>[new Xt({key:Mht,view:h=>(a(u,h),h.editable&&(o==null||o.update(h)),{update:d=>{a(u,h),h.editable?o==null||o.update(d):r==null||r()},destroy:()=>{r==null||r()}})})]}}),Pht=oo.create([Tq()]),$ht=Pht.configure(Tq,{config:Cq.map(t=>t.map(e=>{if(e.type!=="select")return e;switch(e.text){case"Heading":return{...e,text:"标题选择",options:[{id:"1",text:"一级标题"},{id:"2",text:"二级标题"},{id:"3",text:"三级标题"},{id:"0",text:"正文"}]};default:return e}}))}),Rht=t=>new Promise(e=>{const n=new FileReader;n.addEventListener("load",()=>{e({alt:t.name,src:n.result})},!1),n.readAsDataURL(t)}),Lht=async(t,e)=>{const n=[];for(let i=0;i<t.length;i++){const s=t.item(i);!s||!s.type.includes("image")||n.push(s)}const{image:r}=e.nodes;if(!r)throw kJ("image");return(await Promise.all(n.map(i=>Rht(i)))).map(({alt:i,src:s})=>r.createAndFill({src:s,alt:i}))},Iht=new en("MILKDOWN_UPLOAD"),Dq=ao((t,e)=>{var n;const r=(n=e==null?void 0:e.uploader)!=null?n:Lht;return{prosePlugins:(i,s)=>{const o=s.get(Fn),a=new Xt({key:Iht,state:{init(){return Jt.empty},apply(d,f){const p=f.map(d.mapping,d.doc),g=d.getMeta(this);if(!g)return p;if(g.add){const m=document.createElement("span"),y=s.get(yt).get(Un,"loading");if(!y)throw fI("loading");m.appendChild(y.dom);const b=pi.widget(g.add.pos,m,{id:g.add.id});return p.add(d.doc,[b])}return g.remove?p.remove(p.find(void 0,void 0,m=>m.id===g.remove.id)):p}},props:{decorations(d){return this.getState(d)}}}),l=(d,f)=>{var p,g;const m=a.getState(d);if(!m)return-1;const y=m.find(void 0,void 0,b=>b.id===f);return y.length&&(g=(p=y[0])==null?void 0:p.from)!=null?g:-1},u=(d,f,p)=>{var g,m;if(!p||p.length<=0)return!1;const y=Symbol("upload symbol"),{tr:b}=d.state,O=f instanceof DragEvent&&(m=(g=d.posAtCoords({left:f.clientX,top:f.clientY}))==null?void 0:g.pos)!=null?m:b.selection.from;return d.dispatch(b.setMeta(a,{add:{id:y,pos:O}})),r(p,o).then(x=>{const T=l(d.state,y);T<0||d.dispatch(d.state.tr.replaceWith(T,T,x).setMeta(a,{remove:{id:y}}))}).catch(x=>{console.error(x)}),!0},h=new Xt({props:{handlePaste:(d,f)=>{var p,g;return!(f instanceof ClipboardEvent)||!(e!=null&&e.enableHtmlFileUploader)&&((p=f.clipboardData)!=null&&p.getData("text/html"))?!1:u(d,f,(g=f.clipboardData)==null?void 0:g.files)},handleDrop:(d,f)=>{var p;return f instanceof DragEvent?u(d,f,(p=f.dataTransfer)==null?void 0:p.files):!1}}});return[a,h]}}}),I$=oo.create([Dq()]),Nht=t=>async(n,r)=>{const i=[];for(let o=0;o<n.length;o++){const a=n.item(o);a&&a.type.includes("image")&&i.push(a)}let s=[];try{s=await t(i)}catch(o){console.error(o)}if(Array.isArray(s)&&s.length)return s.map(a=>{const l=a.url,u=a.name;return r.nodes.image.createAndFill({src:l,alt:u,title:u})})},Fht=t=>t?I$.configure(Dq,{uploader:Nht(t)}):I$;let tn=class Aq{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=vf(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),ga.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=vf(this,e,n);let r=[];return this.decompose(e,n,r,0),ga.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new jg(this),s=new jg(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new jg(this,e)}iterRange(e,n=this.length){return new Mq(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Pq(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Aq.empty:e.length<=32?new Wn(e):ga.from(Wn.split(e,[]))}};class Wn extends tn{constructor(e,n=Bht(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new Qht(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new Wn(N$(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Nb(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new Wn(a,o.length+s.length));else{let l=a.length>>1;r.push(new Wn(a.slice(0,l)),new Wn(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof Wn))return super.replace(e,n,r);[e,n]=vf(this,e,n);let i=Nb(this.text,Nb(r.text,N$(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new Wn(i,s):ga.from(Wn.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=vf(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new Wn(r,i)),r=[],i=-1);return i>-1&&n.push(new Wn(r,i)),n}}class ga extends tn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?r.push(a):a.decompose(e-o,n-o,r,u)}o=l+1}}replace(e,n,r){if([e,n]=vf(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let h=this.children.slice();return h[i]=l,new ga(h,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=vf(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof ga))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of e)r+=p.lines;if(r<32){let p=[];for(let g of e)g.flatten(p);return new Wn(p,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,h=[];function d(p){let g;if(p.lines>s&&p instanceof ga)for(let m of p.children)d(m);else p.lines>o&&(l>o||!l)?(f(),a.push(p)):p instanceof Wn&&l&&(g=h[h.length-1])instanceof Wn&&p.lines+g.lines<=32?(l+=p.lines,u+=p.length+1,h[h.length-1]=new Wn(g.text.concat(p.text),g.length+1+p.length)):(l+p.lines>i&&f(),l+=p.lines,u+=p.length+1,h.push(p))}function f(){l!=0&&(a.push(h.length==1?h[0]:ga.from(h,u)),u=-1,l=h.length=0)}for(let p of e)d(p);return f(),a.length==1?a[0]:new ga(a,n)}}tn.empty=new Wn([""],0);function Bht(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Nb(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function N$(t,e,n){return Nb(t,[""],e,n)}class jg{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Wn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof Wn?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Wn){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Wn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Mq{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new jg(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Pq{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(tn.prototype[Symbol.iterator]=function(){return this.iter()},jg.prototype[Symbol.iterator]=Mq.prototype[Symbol.iterator]=Pq.prototype[Symbol.iterator]=function(){return this});let Qht=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function vf(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let Nd="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Nd.length;t++)Nd[t]+=Nd[t-1];function zht(t){for(let e=1;e<Nd.length;e+=2)if(Nd[e]>t)return Nd[e-1]<=t;return!1}function F$(t){return t>=127462&&t<=127487}const B$=8205;function qr(t,e,n=!0,r=!0){return(n?$q:Vht)(t,e,r)}function $q(t,e,n){if(e==t.length)return e;e&&Rq(t.charCodeAt(e))&&Lq(t.charCodeAt(e-1))&&e--;let r=Wr(t,e);for(e+=Us(r);e<t.length;){let i=Wr(t,e);if(r==B$||i==B$||n&&zht(i))e+=Us(i),r=i;else if(F$(i)){let s=0,o=e-2;for(;o>=0&&F$(Wr(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Vht(t,e,n){for(;e>0;){let r=$q(t,e-2,n);if(r<e)return r;e--}return 0}function Rq(t){return t>=56320&&t<57344}function Lq(t){return t>=55296&&t<56320}function Wr(t,e){let n=t.charCodeAt(e);if(!Lq(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Rq(r)?(n-55296<<10)+(r-56320)+65536:n}function HT(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Us(t){return t<65536?1:2}const g4=/\r\n?|\n/;var li=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(li||(li={}));class Ea{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){m4(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Ea(e)}composeDesc(e){return this.empty?e:e.empty?this:Iq(this,e)}mapDesc(e,n=!1){return e.empty?this:y4(this,e,n)}mapPos(e,n=-1,r=li.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=li.Simple&&u>=e&&(r==li.TrackDel&&i<e&&u>e||r==li.TrackBefore&&i<e||r==li.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ea(e)}static create(e){return new Ea(e)}}class fr extends Ea{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return m4(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return y4(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(tn.empty);r.push(o?e.slice(s,s+o):tn.empty)}s+=o}return new fr(n,r)}compose(e){return this.empty?e:e.empty?this:Iq(this,e,!0)}map(e,n=!1){return e.empty?this:y4(this,e,n,!0)}iterChanges(e,n=!1){m4(this,e,n)}get desc(){return Ea.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Jm(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);si(i,h,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;si(n,h,d),d>0&&bc(r,n,s.text),s.forward(h),a+=h}let u=e[o++];for(;a<u;){if(s.done)break e;let h=Math.min(s.len,u-a);si(n,h,-1),si(i,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new fr(n,r),filtered:Ea.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!i.length)return;o<n&&si(i,n-o,-1);let d=new fr(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function u(h){if(Array.isArray(h))for(let d of h)u(d);else if(h instanceof fr){if(h.length!=n)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${n})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:d,to:f=d,insert:p}=h;if(d>f||d<0||f>n)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${n})`);let g=p?typeof p=="string"?tn.of(p.split(r||g4)):p:tn.empty,m=g.length;if(d==f&&m==0)return;d<o&&l(),d>o&&si(i,d-o,-1),si(i,f-d,m),bc(s,i,g),o=f}}return u(e),l(!a),a}static empty(e){return new fr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(tn.empty);r[i]=tn.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new fr(n,r)}static createSet(e,n){return new fr(e,n)}}function si(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function bc(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(tn.empty);t.push(n)}}function m4(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,h=s,d=tn.empty;for(;u+=a,h+=l,l&&r&&(d=d.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,u,s,h,d),i=u,s=h}}}function y4(t,e,n,r=!1){let i=[],s=r?[]:null,o=new Jm(t),a=new Jm(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);si(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(si(i,a.ins,-1);u;){let h=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=h&&(si(i,0,o.ins),s&&bc(s,i,o.text),l=o.i),o.forward(h),u-=h}a.next()}else if(o.ins>=0){let u=0,h=o.len;for(;h;)if(a.ins==-1){let d=Math.min(h,a.len);u+=d,h-=d,a.forward(d)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;si(i,u,l<o.i?o.ins:0),s&&l<o.i&&bc(s,i,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?fr.createSet(i,s):Ea.create(i);throw new Error("Mismatched change set lengths")}}function Iq(t,e,n=!1){let r=[],i=n?[]:null,s=new Jm(t),o=new Jm(e);for(let a=!1;;){if(s.done&&o.done)return i?fr.createSet(r,i):Ea.create(r);if(s.ins==0)si(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)si(r,0,o.ins,a),i&&bc(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;si(r,l,h,a),i&&h&&bc(i,r,o.text)}else o.ins==-1?(si(r,s.off?0:s.len,l,a),i&&bc(i,r,s.textBit(l))):(si(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&bc(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class Jm{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?tn.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?tn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Nu{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Nu(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Se.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Se.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Se.range(e.anchor,e.head)}static create(e,n,r){return new Nu(e,n,r)}}class Se{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Se.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Se([this.main],0)}addRange(e,n=!0){return Se.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Se.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Se(e.ranges.map(n=>Nu.fromJSON(n)),e.main)}static single(e,n=e){return new Se([Se.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Se.normalized(e.slice(),n);r=s.to}return new Se(e,n)}static cursor(e,n=0,r,i){return Nu.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Nu.create(n,e,48|s):Nu.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Se.range(l,a):Se.range(a,l))}}return new Se(e,n)}}function Nq(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let GT=0;class Ze{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=GT++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ze(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:KT),!!e.static,e.enables)}of(e){return new Fb([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Fb(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Fb(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function KT(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Fb{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=GT++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,h=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?u=!0:((n=e[d.id])!==null&&n!==void 0?n:1)&1||h.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,f){if(l&&f.docChanged||u&&(f.docChanged||f.selection)||b4(d,h)){let p=r(d);if(a?!Q$(p,d.values[o],i):!i(p,d.values[o]))return d.values[o]=p,1}return 0},reconfigure:(d,f)=>{let p,g=f.config.address[s];if(g!=null){let m=wO(f,g);if(this.dependencies.every(y=>y instanceof Ze?f.facet(y)===d.facet(y):y instanceof yi?f.field(y,!1)==d.field(y,!1):!0)||(a?Q$(p=r(d),m,i):i(p=r(d),m)))return d.values[o]=m,0}else p=r(d);return d.values[o]=p,1}}}}function Q$(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function b4(t,e){let n=!1;for(let r of e)qg(t,r)&1&&(n=!0);return n}function Wht(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let h=0;h<r.length;h++){let d=wO(l,r[h]);if(i[h]==2)for(let f of d)u.push(f);else u.push(d)}return e.combine(u)}return{create(l){for(let u of r)qg(l,u);return l.values[o]=a(l),1},update(l,u){if(!b4(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,u){let h=b4(l,r),d=u.config.facets[e.id],f=u.facet(e);if(d&&!h&&KT(n,d))return l.values[o]=f,0;let p=a(l);return e.compare(p,f)?(l.values[o]=f,0):(l.values[o]=p,1)}}}const z$=Ze.define({static:!0});class yi{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new yi(GT++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(z$).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,z$.of({field:this,create:e})]}get extension(){return this}}const Au={lowest:4,low:3,default:2,high:1,highest:0};function xp(t){return e=>new Fq(e,t)}const Vl={highest:xp(Au.highest),high:xp(Au.high),default:xp(Au.default),low:xp(Au.low),lowest:xp(Au.lowest)};class Fq{constructor(e,n){this.inner=e,this.prec=n}}class vx{of(e){return new O4(this,e)}reconfigure(e){return vx.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class O4{constructor(e,n){this.compartment=e,this.inner=n}}class xO{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let f of Uht(e,n,o))f instanceof yi?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],u=[];for(let f of i)a[f.id]=u.length<<1,u.push(p=>f.slot(p));let h=r==null?void 0:r.config.facets;for(let f in s){let p=s[f],g=p[0].facet,m=h&&h[f]||[];if(p.every(y=>y.type==0))if(a[g.id]=l.length<<1|1,KT(m,p))l.push(r.facet(g));else{let y=g.combine(p.map(b=>b.value));l.push(r&&g.compare(y,r.facet(g))?r.facet(g):y)}else{for(let y of p)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=u.length<<1,u.push(b=>y.dynamicSlot(b)));a[g.id]=u.length<<1,u.push(y=>Wht(y,g,p))}}let d=u.map(f=>f(a));return new xO(e,o,d,a,l,s)}}function Uht(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof O4&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof O4){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof Fq)s(o.inner,o.prec);else if(o instanceof yi)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Fb)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Au.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,Au.default),r.reduce((o,a)=>o.concat(a))}function qg(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function wO(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const Bq=Ze.define(),k4=Ze.define({combine:t=>t.some(e=>e),static:!0}),Qq=Ze.define({combine:t=>t.length?t[0]:void 0,static:!0}),zq=Ze.define(),Vq=Ze.define(),Wq=Ze.define(),Uq=Ze.define({combine:t=>t.length?t[0]:!1});class Wl{constructor(e,n){this.type=e,this.value=n}static define(){return new jht}}class jht{of(e){return new Wl(this,e)}}class qht{constructor(e){this.map=e}of(e){return new Bt(this,e)}}class Bt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Bt(this.type,n)}is(e){return this.type==e}static define(e={}){return new qht(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Bt.reconfigure=Bt.define();Bt.appendConfig=Bt.define();class sr{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&Nq(r,n.newLength),s.some(a=>a.type==sr.time)||(this.annotations=s.concat(sr.time.of(Date.now())))}static create(e,n,r,i,s,o){return new sr(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(sr.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}sr.time=Wl.define();sr.userEvent=Wl.define();sr.addToHistory=Wl.define();sr.remote=Wl.define();function Yht(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function jq(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=fr.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Bt.mapEffects(t.effects,i).concat(Bt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function x4(t,e,n){let r=e.selection,i=Fd(e.annotations);return e.userEvent&&(i=i.concat(sr.userEvent.of(e.userEvent))),{changes:e.changes instanceof fr?e.changes:fr.of(e.changes||[],n,t.facet(Qq)),selection:r&&(r instanceof Se?r:Se.single(r.anchor,r.head)),effects:Fd(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function qq(t,e,n){let r=x4(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=jq(r,x4(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=sr.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Xht(n?Zht(i):i)}function Zht(t){let e=t.startState,n=!0;for(let i of e.facet(zq)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:Yht(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=fr.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=sr.create(e,i,t.selection&&t.selection.map(s),Bt.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(Vq);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof sr?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof sr?t=s[0]:t=qq(e,Fd(s),!1)}return t}function Xht(t){let e=t.startState,n=e.facet(Wq),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=jq(r,x4(e,s,t.changes.newLength),!0))}return r==t?t:sr.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Hht=[];function Fd(t){return t==null?Hht:Array.isArray(t)?t:[t]}var Tn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Tn||(Tn={}));const Ght=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let w4;try{w4=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Kht(t){if(w4)return w4.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Ght.test(n)))return!0}return!1}function Jht(t){return e=>{if(!/\S/.test(e))return Tn.Space;if(Kht(e))return Tn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Tn.Word;return Tn.Other}}class Vt{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)qg(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return qg(this,r),wO(this,r)}update(...e){return qq(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(vx.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Bt.reconfigure)?(n=null,r=a.value):a.is(Bt.appendConfig)&&(n=null,r=Fd(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=xO.resolve(r,i,this),s=new Vt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(k4)?e.newSelection:e.newSelection.asSingle();new Vt(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Se.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=Fd(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),h=u.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(h);let d=i.mapDesc(u,!0);s.push(l.range.map(d)),i=i.compose(h),o=Bt.mapEffects(o,h).concat(Bt.mapEffects(Fd(l.effects),d))}return{changes:i,selection:Se.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof fr?e:fr.of(e,this.doc.length,this.facet(Vt.lineSeparator))}toText(e){return tn.of(e.split(this.facet(Vt.lineSeparator)||g4))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(qg(this,n),wO(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof yi&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Vt.create({doc:e.doc,selection:Se.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=xO.resolve(e.extensions||[],new Map),r=e.doc instanceof tn?e.doc:tn.of((e.doc||"").split(n.staticFacet(Vt.lineSeparator)||g4)),i=e.selection?e.selection instanceof Se?e.selection:Se.single(e.selection.anchor,e.selection.head):Se.single(0);return Nq(i,r.length),n.staticFacet(k4)||(i=i.asSingle()),new Vt(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Vt.tabSize)}get lineBreak(){return this.facet(Vt.lineSeparator)||`
`}get readOnly(){return this.facet(Uq)}phrase(e,...n){for(let r of this.facet(Vt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(Bq))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Jht(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=qr(n,o,!1);if(s(n.slice(l,o))!=Tn.Word)break;o=l}for(;a<i;){let l=qr(n,a);if(s(n.slice(a,l))!=Tn.Word)break;a=l}return o==a?null:Se.range(o+r,a+r)}}Vt.allowMultipleSelections=k4;Vt.tabSize=Ze.define({combine:t=>t.length?t[0]:4});Vt.lineSeparator=Qq;Vt.readOnly=Uq;Vt.phrases=Ze.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Vt.languageData=Bq;Vt.changeFilter=zq;Vt.transactionFilter=Vq;Vt.transactionExtender=Wq;vx.reconfigure=Bt.define();function Ul(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class xh{eq(e){return this==e}range(e,n=e){return _4.create(e,n,this)}}xh.prototype.startSide=xh.prototype.endSide=0;xh.prototype.point=!1;xh.prototype.mapMode=li.TrackDel;let _4=class Yq{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new Yq(e,n,r)}};function v4(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class JT{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],h=this.from[l]+e,d=this.to[l]+e,f,p;if(h==d){let g=n.mapPos(h,u.startSide,u.mapMode);if(g==null||(f=p=g,u.startSide!=u.endSide&&(p=n.mapPos(h,u.endSide),p<f)))continue}else if(f=n.mapPos(h,u.startSide),p=n.mapPos(d,u.endSide),f>p||f==p&&u.startSide>0&&u.endSide<=0)continue;(p-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(a=Math.max(a,p-f)),r.push(u),i.push(f-o),s.push(p-o))}return{mapped:r.length?new JT(i,s,r,a):null,pos:o}}}class Zt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Zt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(v4)),this.isEmpty)return n.length?Zt.of(n):this;let a=new Zq(this,null,-1).goto(0),l=0,u=[],h=new jc;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];h.addInner(d.from,d.to,d.value)||u.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||u.push(_4.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!u.length?Zt.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:h,pos:d}=l.map(a,e);h&&(i=Math.max(i,h.maxPoint),n.push(h),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new Zt(r,n,s||Zt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return e0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return e0.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=V$(o,a,r),u=new wp(o,l,s),h=new wp(a,l,s);r.iterGaps((d,f,p)=>W$(u,d,h,f,p,i)),r.empty&&r.length==0&&W$(u,0,h,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(h=>!h.isEmpty&&n.indexOf(h)<0),o=n.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=V$(s,o),l=new wp(s,a,0).goto(r),u=new wp(o,a,0).goto(r);for(;;){if(l.to!=u.to||!S4(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let o=new wp(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let h=o.activeForPoint(o.to),d=o.pointFrom<n?h.length+1:o.point.startSide<0?h.length:Math.min(h.length,l);i.point(a,u,o.point,h,d,o.pointRank),l=Math.min(o.openEnd(u),h.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new jc;for(let i of e instanceof _4?[e]:n?edt(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Zt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Zt.empty;i=i.nextLayer)n=new Zt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Zt.empty=new Zt([],[],null,-1);function edt(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(v4(e,r)>0)return t.slice().sort(v4);e=r}return t}Zt.empty.nextLayer=Zt.empty;class jc{finishChunk(e){this.chunks.push(new JT(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new jc)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Zt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Zt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function V$(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class Zq{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class e0{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new Zq(o,n,r,s));return i.length==1?i[0]:new e0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Y_(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Y_(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Y_(this.heap,0)}}}function Y_(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class wp{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=e0.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){ry(this.active,e),ry(this.activeTo,e),ry(this.activeRank,e),this.minActive=U$(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;iy(this.active,n,r),iy(this.activeTo,n,i),iy(this.activeRank,n,s),e&&iy(e,n,this.cursor.from),this.minActive=U$(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&ry(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function W$(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,h=u<0?t.to+l:n.to,d=Math.min(h,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&S4(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,d,t.point,n.point):d>a&&!S4(t.active,n.active)&&s.compareRange(a,d,t.active,n.active),h>o)break;a=h,u<=0&&t.next(),u>=0&&n.next()}}function S4(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function ry(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function iy(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function U$(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Qo(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=qr(t,i));return r}function C4(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=qr(t,i)}return r===!0?-1:t.length}const E4="ͼ",j$=typeof Symbol>"u"?"__"+E4:Symbol.for(E4),T4=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),q$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class qc{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let h=[],d=/^@(\w+)\b/.exec(o[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let p in a){let g=a[p];if(/&/.test(p))s(p.split(/,\s*/).map(m=>o.map(y=>m.replace(/&/,y))).reduce((m,y)=>m.concat(y)),g,l);else if(g&&typeof g=="object"){if(!d)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(i(p),g,h,f)}else g!=null&&h.push(p.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+g+";")}(h.length||f)&&l.push((r&&!d&&!u?o.map(r):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=q$[j$]||1;return q$[j$]=e+1,E4+e.toString(36)}static mount(e,n,r){let i=e[T4],s=r&&r.nonce;i?s&&i.setNonce(s):i=new tdt(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let Y$=new Map;class tdt{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Y$.get(r);if(s)return e[T4]=s;this.sheet=new i.CSSStyleSheet,Y$.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[T4]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}function _O(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function D4(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function ndt(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Bb(t,e){if(!e.anchorNode)return!1;try{return D4(t,e.anchorNode)}catch{return!1}}function t0(t){return t.nodeType==3?_h(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Yg(t,e,n,r){return n?Z$(t,e,n,r,-1)||Z$(t,e,n,r,1):!1}function wh(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function vO(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Z$(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Pl(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=wh(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Pl(t):0}else return!1}}function Pl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function eD(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function rdt(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Xq(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function idt(t,e,n,r,i,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let h=t,d=!1;h&&!d;)if(h.nodeType==1){let f,p=h==l.body,g=1,m=1;if(p)f=rdt(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(d=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let O=h.getBoundingClientRect();({scaleX:g,scaleY:m}=Xq(h,O)),f={left:O.left,right:O.left+h.clientWidth*g,top:O.top,bottom:O.top+h.clientHeight*m}}let y=0,b=0;if(i=="nearest")e.top<f.top?(b=-(f.top-e.top+o),n>0&&e.bottom>f.bottom+b&&(b=e.bottom-f.bottom+b+o)):e.bottom>f.bottom&&(b=e.bottom-f.bottom+o,n<0&&e.top-b<f.top&&(b=-(f.top+b-e.top+o)));else{let O=e.bottom-e.top,x=f.bottom-f.top;b=(i=="center"&&O<=x?e.top+O/2-x/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-x+o)-f.top}if(r=="nearest"?e.left<f.left?(y=-(f.left-e.left+s),n>0&&e.right>f.right+y&&(y=e.right-f.right+y+s)):e.right>f.right&&(y=e.right-f.right+s,n<0&&e.left<f.left+y&&(y=-(f.left+y-e.left+s))):y=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,y||b)if(p)u.scrollBy(y,b);else{let O=0,x=0;if(b){let T=h.scrollTop;h.scrollTop+=b/m,x=(h.scrollTop-T)*m}if(y){let T=h.scrollLeft;h.scrollLeft+=y/g,O=(h.scrollLeft-T)*g}e={left:e.left-O,top:e.top-x,right:e.right-O,bottom:e.bottom-x},O&&Math.abs(O-y)<1&&(r="nearest"),x&&Math.abs(x-b)<1&&(i="nearest")}if(p)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function sdt(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class odt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Pl(n):0),r,Math.min(e.focusOffset,r?Pl(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let qh=null;function Hq(t){if(t.setActive)return t.setActive();if(qh)return t.focus(qh);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(qh==null?{get preventScroll(){return qh={preventScroll:!0},!0}}:void 0),!qh){qh=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let X$;function _h(t,e,n=e){let r=X$||(X$=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Bd(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function adt(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Gq(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function ldt(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Pl(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Pl(n))}else{if(n==t)return!0;r=wh(n),n=n.parentNode}}function Kq(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function Jq(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Pl(n)}else if(n.parentNode&&!vO(n))r=wh(n),n=n.parentNode;else return null}}function eY(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!vO(n))r=wh(n)+1,n=n.parentNode;else return null}}class ci{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new ci(e.parentNode,wh(e),n)}static after(e,n){return new ci(e.parentNode,wh(e)+1,n)}}const tD=[];class hn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=hn.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=H$(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=H$(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Pl(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!hn.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,h=r;l<this.children.length;l++){let d=this.children[l],f=u+d.length;if(u<e&&f>n)return d.domBoundsAround(e,n,u);if(f>=e&&i==-1&&(i=l,s=u),u>n&&d.dom.parentNode==this.dom){o=l,a=h;break}h=f,u=f+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=tD){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new tY(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}hn.prototype.breakAfter=0;function H$(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class tY{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function nY(t,e,n,r,i,s,o,a,l){let{children:u}=t,h=u.length?u[e]:null,d=s.length?s[s.length-1]:null,f=d?d.breakAfter:o;if(!(e==r&&h&&!o&&!f&&s.length<2&&h.merge(n,i,s.length?d:null,n==0,a,l))){if(r<u.length){let p=u[r];p&&(i<p.length||p.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(p=p.split(i),i=0),!f&&d&&p.merge(0,i,d,!0,0,l)?s[s.length-1]=p:((i||p.children.length&&!p.children[0].length)&&p.merge(0,i,null,!1,0,l),s.push(p))):p!=null&&p.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(h&&(h.breakAfter=o,n>0&&(!o&&s.length&&h.merge(n,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(n<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(n,h.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function rY(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:h}=o.findPos(e,-1),d=e-n;for(let f of r)d+=f.length;t.length+=d,nY(t,u,h,a,l,r,0,i,s)}let bs=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},A4=typeof document<"u"?document:{documentElement:{style:{}}};const M4=/Edge\/(\d+)/.exec(bs.userAgent),iY=/MSIE \d/.test(bs.userAgent),P4=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bs.userAgent),Sx=!!(iY||P4||M4),G$=!Sx&&/gecko\/(\d+)/i.test(bs.userAgent),Z_=!Sx&&/Chrome\/(\d+)/.exec(bs.userAgent),K$="webkitFontSmoothing"in A4.documentElement.style,sY=!Sx&&/Apple Computer/.test(bs.vendor),J$=sY&&(/Mobile\/\w+/.test(bs.userAgent)||bs.maxTouchPoints>2);var Ye={mac:J$||/Mac/.test(bs.platform),windows:/Win/.test(bs.platform),linux:/Linux|X11/.test(bs.platform),ie:Sx,ie_version:iY?A4.documentMode||6:P4?+P4[1]:M4?+M4[1]:0,gecko:G$,gecko_version:G$?+(/Firefox\/(\d+)/.exec(bs.userAgent)||[0,0])[1]:0,chrome:!!Z_,chrome_version:Z_?+Z_[1]:0,ios:J$,android:/Android\b/.test(bs.userAgent),webkit:K$,safari:sY,webkit_version:K$?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:A4.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const cdt=256;class zo extends hn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof zo)||this.length-(n-e)+r.length>cdt||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new zo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new ci(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return udt(this.dom,e,n)}}class $l extends hn{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(Gq(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof $l&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(rY(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new $l(this.mark,n,o)}domAtPos(e){return oY(this,e)}coordsAt(e,n){return lY(this,e,n)}}function udt(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?Ye.chrome||Ye.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=_h(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return Ye.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?eD(l,o<0):l||null}class Fu extends hn{static create(e,n,r){return new Fu(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Fu.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Fu)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Fu&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return tn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):tn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?ci.before(this.dom):ci.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return eD(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Sf extends hn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Sf&&e.side==this.side}split(){return new Sf(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ci.before(this.dom):ci.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return tn.empty}get isHidden(){return!0}}zo.prototype.children=Fu.prototype.children=Sf.prototype.children=tD;function oY(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new ci(n,0)}function aY(t,e,n){let r,{children:i}=t;n>0&&e instanceof $l&&i.length&&(r=i[i.length-1])instanceof $l&&r.mark.eq(e.mark)?aY(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function lY(t,e,n){let r=null,i=-1,s=null,o=-1;function a(u,h){for(let d=0,f=0;d<u.children.length&&f<=h;d++){let p=u.children[d],g=f+p.length;g>=h&&(p.children.length?a(p,h-f):(!s||s.isHidden&&n>0)&&(g>h||f==g&&p.getSide()>0)?(s=p,o=h-f):(f<h||f==g&&p.getSide()<0&&!p.isHidden)&&(r=p,i=h-f)),f=g}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):hdt(t)}function hdt(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=t0(e);return n[n.length-1]||null}function $4(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const e9=Object.create(null);function nD(t,e,n){if(t==e)return!0;t||(t=e9),e||(e=e9);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function R4(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function ddt(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class hr extends hn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof hr))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),rY(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new hr;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){nD(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){aY(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=$4(n,this.attrs||{})),r&&(this.attrs=$4({class:r},this.attrs||{}))}domAtPos(e){return oY(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(Gq(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(R4(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&hn.get(i)instanceof $l;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=hn.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Ye.ios||!this.children.some(s=>s instanceof zo))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof zo)||/[^ -~]/.test(r.text))return null;let i=t0(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=lY(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return!1}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof hr)return s;if(o>n)break}i=o+s.breakAfter}return null}}class Lc extends hn{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof Lc)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?ci.before(this.dom):ci.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Lc(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return tD}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):tn.empty}domBoundsAround(){return null}become(e){return e instanceof Lc&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class su{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Di=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Di||(Di={}));class kt extends xh{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new i1(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Yc(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=cY(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new Yc(e,r,i,n,e.widget||null,!0)}static line(e){return new s1(e)}static set(e,n=!1){return Zt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}kt.none=Zt.empty;class i1 extends kt{constructor(e){let{start:n,end:r}=cY(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof i1&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&nD(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}i1.prototype.point=!1;class s1 extends kt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof s1&&this.spec.class==e.spec.class&&nD(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}s1.prototype.mapMode=li.TrackBefore;s1.prototype.point=!0;class Yc extends kt{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?li.TrackBefore:li.TrackAfter:li.TrackDel}get type(){return this.startSide!=this.endSide?Di.WidgetRange:this.startSide<=0?Di.WidgetBefore:Di.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Yc&&fdt(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Yc.prototype.point=!0;function cY(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function fdt(t,e){return t==e||!!(t&&e&&t.compare(e))}function L4(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Zg{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Lc&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new hr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(sy(new Sf(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Lc)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(sy(new zo(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof Yc){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Yc)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Lc(r.widget||Cf.block,a,r));else{let l=Fu.create(r.widget||Cf.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),h=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(d.append(sy(new Sf(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(sy(l,i),s),this.atCursorPos=h,this.pendingBuffer=h?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new Zg(e,n,r,s);return o.openEnd=Zt.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function sy(t,e){for(let n of e)t=new $l(n,[t],t.length);return t}class Cf extends su{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Cf.inline=new Cf("span");Cf.block=new Cf("div");var Dn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Dn||(Dn={}));const vh=Dn.LTR,rD=Dn.RTL;function uY(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const pdt=uY("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),gdt=uY("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),I4=Object.create(null),ea=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);I4[e]=n,I4[n]=-e}function hY(t){return t<=247?pdt[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?gdt[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const mdt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Oc{get dir(){return this.level%2?rD:vh}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function dY(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!dY(r.inner,i.inner))return!1}return!0}const an=[];function ydt(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let u=o,h=l,d=l;u<a;u++){let f=hY(t.charCodeAt(u));f==512?f=h:f==8&&d==4&&(f=16),an[u]=f==4?2:f,f&7&&(d=f),h=f}for(let u=o,h=l,d=l;u<a;u++){let f=an[u];if(f==128)u<a-1&&h==an[u+1]&&h&24?f=an[u]=h:an[u]=256;else if(f==64){let p=u+1;for(;p<a&&an[p]==64;)p++;let g=u&&h==8||p<n&&an[p]==8?d==1?1:8:256;for(let m=u;m<p;m++)an[m]=g;u=p-1}else f==8&&d==1&&(an[u]=1);h=f,f&7&&(d=f)}}}function bdt(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let u=o?r[o-1].to:e,h=o<r.length?r[o].from:n;for(let d=u,f,p,g;d<h;d++)if(p=I4[f=t.charCodeAt(d)])if(p<0){for(let m=a-3;m>=0;m-=3)if(ea[m+1]==-p){let y=ea[m+2],b=y&2?i:y&4?y&1?s:i:0;b&&(an[d]=an[ea[m]]=b),a=m;break}}else{if(ea.length==189)break;ea[a++]=d,ea[a++]=f,ea[a++]=l}else if((g=an[d])==2||g==1){let m=g==i;l=m?0:1;for(let y=a-3;y>=0;y-=3){let b=ea[y+2];if(b&2)break;if(m)ea[y+2]|=2;else{if(b&4)break;ea[y+2]|=4}}}}}function Odt(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let u=an[l];if(u==256){let h=l+1;for(;;)if(h==a){if(i==n.length)break;h=n[i++].to,a=i<n.length?n[i].from:e}else if(an[h]==256)h++;else break;let d=s==1,f=(h<e?an[h]:r)==1,p=d==f?d?1:2:r;for(let g=h,m=i,y=m?n[m-1].to:t;g>l;)g==y&&(g=n[--m].from,y=m?n[m-1].to:t),an[--g]=p;l=h}else s=u,l++}}}function N4(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let h=!0,d=!1;if(u==s.length||l<s[u].from){let m=an[l];m!=a&&(h=!1,d=m==16)}let f=!h&&a==1?[]:null,p=h?r:r+1,g=l;e:for(;;)if(u<s.length&&g==s[u].from){if(d)break e;let m=s[u];if(!h)for(let y=m.to,b=u+1;;){if(y==n)break e;if(b<s.length&&s[b].from==y)y=s[b++].to;else{if(an[y]==a)break e;break}}if(u++,f)f.push(m);else{m.from>l&&o.push(new Oc(l,m.from,p));let y=m.direction==vh!=!(p%2);F4(t,y?r+1:r,i,m.inner,m.from,m.to,o),l=m.to}g=m.to}else{if(g==n||(h?an[g]!=a:an[g]==a))break;g++}f?N4(t,l,g,r+1,i,f,o):l<g&&o.push(new Oc(l,g,p)),l=g}else for(let l=n,u=s.length;l>e;){let h=!0,d=!1;if(!u||l>s[u-1].to){let m=an[l-1];m!=a&&(h=!1,d=m==16)}let f=!h&&a==1?[]:null,p=h?r:r+1,g=l;e:for(;;)if(u&&g==s[u-1].to){if(d)break e;let m=s[--u];if(!h)for(let y=m.from,b=u;;){if(y==e)break e;if(b&&s[b-1].to==y)y=s[--b].from;else{if(an[y-1]==a)break e;break}}if(f)f.push(m);else{m.to<l&&o.push(new Oc(m.to,l,p));let y=m.direction==vh!=!(p%2);F4(t,y?r+1:r,i,m.inner,m.from,m.to,o),l=m.from}g=m.from}else{if(g==e||(h?an[g-1]!=a:an[g-1]==a))break;g--}f?N4(t,g,l,r+1,i,f,o):g<l&&o.push(new Oc(g,l,p)),l=g}}function F4(t,e,n,r,i,s,o){let a=e%2?2:1;ydt(t,i,s,r,a),bdt(t,i,s,r,a),Odt(i,s,r,a),N4(t,i,s,e,n,r,o)}function kdt(t,e,n){if(!t)return[new Oc(0,0,e==rD?1:0)];if(e==vh&&!n.length&&!mdt.test(t))return fY(t.length);if(n.length)for(;t.length>an.length;)an[an.length]=256;let r=[],i=e==vh?0:1;return F4(t,i,i,n,0,t.length,r),r}function fY(t){return[new Oc(0,t,0)]}let pY="";function xdt(t,e,n,r,i){var s;let o=r.head-t.from,a=Oc.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],u=l.side(i,n);if(o==u){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!i,n),u=l.side(i,n)}let h=qr(t.text,o,l.forward(i,n));(h<l.from||h>l.to)&&(h=u),pY=t.text.slice(Math.min(o,h),Math.max(o,h));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&h==u&&d.level+(i?0:1)<l.level?Se.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):Se.cursor(h+t.from,l.forward(i,n)?-1:1,l.level)}function wdt(t,e,n){for(let r=e;r<n;r++){let i=hY(t.charCodeAt(r));if(i==1)return vh;if(i==2||i==4)return rD}return vh}const gY=Ze.define(),mY=Ze.define(),yY=Ze.define(),bY=Ze.define(),B4=Ze.define(),OY=Ze.define(),kY=Ze.define(),xY=Ze.define({combine:t=>t.some(e=>e)}),wY=Ze.define({combine:t=>t.some(e=>e)}),_Y=Ze.define();class Qd{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Qd(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Qd(Se.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const oy=Bt.define({map:(t,e)=>t.map(e)});function ks(t,e,n){let r=t.facet(bY);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Cx=Ze.define({combine:t=>t.length?t[0]:!0});let _dt=0;const ng=Ze.define();class mr{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new mr(_dt++,e,r,i,a=>{let l=[ng.of(a)];return o&&l.push(n0.of(u=>{let h=u.plugin(a);return h?o(h):kt.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return mr.define(r=>new e(r),n)}}class X_{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(ks(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){ks(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){ks(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const vY=Ze.define(),iD=Ze.define(),n0=Ze.define(),SY=Ze.define(),sD=Ze.define(),CY=Ze.define();function t9(t,e){let n=t.state.facet(CY);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return Zt.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,h=o-e.from,d=i;for(let f=a.length-1;f>=0;f--,l--){let p=a[f].spec.bidiIsolate,g;if(p==null&&(p=wdt(e.text,u,h)),l>0&&d.length&&(g=d[d.length-1]).to==u&&g.direction==p)g.to=h,d=g.inner;else{let m={from:u,to:h,direction:p,inner:[]};d.push(m),d=m.inner}}}}),i}const EY=Ze.define();function TY(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(EY)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const rg=Ze.define();class Hs{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Hs(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,h=l?l.fromB:1e9;for(;s<n.length&&n[s]<h;){let d=n[s],f=n[s+1],p=Math.max(a,d),g=Math.min(h,f);if(p<=g&&new Hs(p+u,g+u,p,g).addToSet(r),f>h)break;s+=2}if(!l)return r;new Hs(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class SO{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=fr.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new Hs(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new SO(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class n9 extends hn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new hr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Hs(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:h})=>h<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!Adt(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?Sdt(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:h}=this.hasComposition;r=new Hs(u,h,e.changes.mapPos(u,-1),e.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Ye.ie||Ye.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=Tdt(o,a,e.changes);return r=Hs.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Ye.chrome||Ye.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Lc&&o.widget instanceof r9&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:h,toB:d}=a,f,p,g,m;if(r&&r.range.fromB<d&&r.range.toB>h){let T=Zg.build(this.view.state.doc,h,r.range.fromB,this.decorations,this.dynamicDecorationMap),A=Zg.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);p=T.breakAtStart,g=T.openStart,m=A.openEnd;let v=this.compositionView(r);A.breakAtStart?v.breakAfter=1:A.content.length&&v.merge(v.length,v.length,A.content[0],!1,A.openStart,0)&&(v.breakAfter=A.content[0].breakAfter,A.content.shift()),T.content.length&&v.merge(0,0,T.content[T.content.length-1],!0,0,T.openEnd)&&T.content.pop(),f=T.content.concat(v).concat(A.content)}else({content:f,breakAtStart:p,openStart:g,openEnd:m}=Zg.build(this.view.state.doc,h,d,this.decorations,this.dynamicDecorationMap));let{i:y,off:b}=s.findPos(u,1),{i:O,off:x}=s.findPos(l,-1);nY(this,O,x,y,b,f,p,g,m)}r&&this.fixCompositionDOM(r)}compositionView(e){let n=new zo(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new $l(i,[n],n.length);let r=new hr;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=hn.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&Bb(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Ye.gecko&&a.empty&&!this.hasComposition&&vdt(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=u=new ci(d,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||(!Yg(l.node,l.offset,h.anchorNode,h.anchorOffset)||!Yg(u.node,u.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,a))&&(this.view.observer.ignore(()=>{Ye.android&&Ye.chrome&&this.dom.contains(h.focusNode)&&Ddt(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=_O(this.view.root);if(d)if(a.empty){if(Ye.gecko){let f=Cdt(l.node,l.offset);if(f&&f!=3){let p=(f==1?Jq:eY)(l.node,l.offset);p&&(l=new ci(p.node,p.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),f.setEnd(u.node,u.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new ci(h.anchorNode,h.anchorOffset),this.impreciseHead=u.precise?null:new ci(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Yg(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=_O(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=hr.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let h=this.domAtPos(n.head+n.assoc);r.collapse(h.node,h.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=hn.get(n.childNodes[i]);s instanceof hr&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=hn.get(n.childNodes[i]);s instanceof hr&&(r=s.domAtPos(s.length))}return r?new ci(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=hn.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof hr)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof hr&&!(r instanceof hr&&n>=0))&&(r=a,i=u),s=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof hr))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof zo))return null;let s=qr(i.text,r);if(s==r)return null;let o=_h(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Dn.LTR;for(let u=0,h=0;h<this.children.length;h++){let d=this.children[h],f=u+d.length;if(f>i)break;if(u>=r){let p=d.dom.getBoundingClientRect();if(n.push(p.height),o){let g=d.dom.lastChild,m=g?t0(g):[];if(m.length){let y=m[m.length-1],b=l?y.right-p.left:p.right-y.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Dn.RTL:Dn.LTR}measureTextSize(){for(let s of this.children)if(s instanceof hr){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=t0(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new tY(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(kt.replace({widget:new r9(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return kt.set(e)}updateDeco(){let e=0,n=this.view.state.facet(n0).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(SY).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Zt.join(i))),this.decorations=[...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(_Y))try{if(u(this.view,e.range,e))return!0}catch(h){ks(this.view.state,h,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=TY(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;idt(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Dn.LTR)}}function vdt(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class r9 extends su{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function DY(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=Jq(n.focusNode,n.focusOffset),i=eY(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=hn.get(i.node);if(!a||a instanceof zo&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=hn.get(r.node);!l||l instanceof zo&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function Sdt(t,e,n){let r=DY(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new Hs(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let d=i.parentNode;;d=d.parentNode){let f=hn.get(d);if(f instanceof $l)h.push({node:d,deco:f.mark});else{if(f instanceof hr||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:u,text:i,marks:h,line:d};if(d!=t.contentDOM)h.push({node:d,deco:new i1({inclusive:!0,attributes:ddt(d),tagName:d.tagName.toLowerCase()})});else return null}}}function Cdt(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Edt=class{constructor(){this.changes=[]}compareRange(e,n){L4(e,n,this.changes)}comparePoint(e,n){L4(e,n,this.changes)}};function Tdt(t,e,n){let r=new Edt;return Zt.compare(t,e,n,r),r.changes}function Ddt(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Adt(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function Mdt(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Se.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=qr(i.text,s,!1):a=qr(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=qr(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=qr(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return Se.range(o+i.from,a+i.from)}function Pdt(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function $dt(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function H_(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function i9(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function s9(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Q4(t,e,n){let r,i,s,o,a=!1,l,u,h,d;for(let g=t.firstChild;g;g=g.nextSibling){let m=t0(g);for(let y=0;y<m.length;y++){let b=m[y];i&&H_(i,b)&&(b=i9(s9(b,i.bottom),i.top));let O=Pdt(e,b),x=$dt(n,b);if(O==0&&x==0)return g.nodeType==3?o9(g,e,n):Q4(g,e,n);if(!r||o>x||o==x&&s>O){r=g,i=b,s=O,o=x;let T=x?n<b.top?-1:1:O?e<b.left?-1:1:0;a=!T||(T>0?y<m.length-1:y>0)}O==0?n>b.bottom&&(!h||h.bottom<b.bottom)?(l=g,h=b):n<b.top&&(!d||d.top>b.top)&&(u=g,d=b):h&&H_(h,b)?h=s9(h,b.bottom):d&&H_(d,b)&&(d=i9(d,b.top))}}if(h&&h.bottom>=n?(r=l,i=h):d&&d.top<=n&&(r=u,i=d),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return o9(r,f,n);if(a&&r.contentEditable!="false")return Q4(r,f,n);let p=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:p}}function o9(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=_h(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let h=l[u];if(h.top==h.bottom)continue;o||(o=e-h.left);let d=(h.top>n?h.top-n:n-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&d<s){let f=e>=(h.left+h.right)/2,p=f;if((Ye.chrome||Ye.gecko)&&_h(t,a).getBoundingClientRect().left==h.right&&(p=!f),d<=0)return{node:t,offset:a+(p?1:0)};i=a+(p?1:0),s=d}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function AY(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:h,y:d}=e,f=d-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let T=t.viewState.heightOracle.textHeight/2,A=!1;l=t.elementAtHeight(f),l.type!=Di.Text;)for(;f=r>0?l.bottom+T:l.top-T,!(f>=0&&f<=u);){if(A)return n?null:0;A=!0,r=-r}d=a+f;let p=l.from;if(p<t.viewport.from)return t.viewport.from==0?0:n?null:a9(t,o,l,h,d);if(p>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:a9(t,o,l,h,d);let g=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:g,y=m.elementFromPoint(h,d);y&&!t.contentDOM.contains(y)&&(y=null),y||(h=Math.max(o.left+1,Math.min(o.right-1,h)),y=m.elementFromPoint(h,d),y&&!t.contentDOM.contains(y)&&(y=null));let b,O=-1;if(y&&((i=t.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let T=g.caretPositionFromPoint(h,d);T&&({offsetNode:b,offset:O}=T)}else if(g.caretRangeFromPoint){let T=g.caretRangeFromPoint(h,d);T&&({startContainer:b,startOffset:O}=T,(!t.contentDOM.contains(b)||Ye.safari&&Rdt(b,O,h)||Ye.chrome&&Ldt(b,O,h))&&(b=void 0))}}if(!b||!t.docView.dom.contains(b)){let T=hr.find(t.docView,p);if(!T)return f>l.top+l.height/2?l.to:l.from;({node:b,offset:O}=Q4(T.dom,h,d))}let x=t.docView.nearest(b);if(!x)return null;if(x.isWidget&&((s=x.dom)===null||s===void 0?void 0:s.nodeType)==1){let T=x.dom.getBoundingClientRect();return e.y<T.top||e.y<=T.bottom&&e.x<=(T.left+T.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(b,O)+x.posAtStart}function a9(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+C4(o,s,t.state.tabSize)}function Rdt(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return _h(t,r-1,r).getBoundingClientRect().left>n}function Ldt(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():_h(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function z4(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Di.Text))return r}return n}function Idt(t,e,n,r){let i=z4(t,e.head),s=!r||i.type!=Di.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==Dn.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Se.cursor(l,n?-1:1)}return Se.cursor(n?i.to:i.from,n?-1:1)}function l9(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=xdt(i,s,o,a,n),h=pY;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;h=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(h))return a}else{if(!r)return u;l=r(h)}a=u}}function Ndt(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Tn.Space&&(i=o),i==o}}function Fdt(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Se.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),h=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let p=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-p.from))),a=(s<0?p.top:p.bottom)+h}let d=l.left+o,f=r??t.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let g=a+(f+p)*s,m=AY(t,{x:d,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?m<i:m>i)){let y=t.docView.coordsForChar(m),b=!y||g<y.top?-1:1;return Se.cursor(m,b,void 0,o)}}}function Qb(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function G_(t,e,n){let r=Qb(t.state.facet(sD).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Se.cursor(r,r<n.from?1:-1)}class Bdt{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ye.safari&&e.contentDOM.addEventListener("input",()=>null),Ye.gecko&&tft(e.contentDOM.ownerDocument)}handleEvent(e){!Ydt(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Qdt(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&PY.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),Ye.android&&Ye.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Ye.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=MY.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||zdt.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Bd(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ye.safari&&!Ye.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function c9(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){ks(n.state,i)}}}function Qdt(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&n(s).handlers.push(c9(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&n(s).observers.push(c9(r.value,o))}}for(let r in Vo)n(r).handlers.push(Vo[r]);for(let r in ro)n(r).observers.push(ro[r]);return e}const MY=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],zdt="dthko",PY=[16,17,18,20,91,92,224,225],ay=6;function ly(t){return Math.max(0,t)*.7+8}function Vdt(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Wdt{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=sdt(e.contentDOM),this.atoms=e.state.facet(sD).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Vt.allowMultipleSelections)&&Udt(e,n),this.dragging=qdt(e,n)&&IY(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Vdt(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,i=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=TY(this.view);e.clientX-o.left<=s.left+ay?r=-ly(s.left-e.clientX):e.clientX+o.right>=s.right-ay&&(r=ly(e.clientX-s.right)),e.clientY-o.top<=s.top+ay?i=-ly(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-ay&&(i=ly(e.clientY-s.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=Qb(this.atoms,i.from,0);o!=i.from&&(s=Se.cursor(o,-1))}else{let o=Qb(this.atoms,i.from,-1),a=Qb(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=Se.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?Se.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Udt(t,e){let n=t.state.facet(gY);return n.length?n[0](e):Ye.mac?e.metaKey:e.ctrlKey}function jdt(t,e){let n=t.state.facet(mY);return n.length?n[0](e):Ye.mac?!e.altKey:!e.ctrlKey}function qdt(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=_O(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Ydt(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=hn.get(n))&&r.ignoreEvent(e))return!1;return!0}const Vo=Object.create(null),ro=Object.create(null),$Y=Ye.ie&&Ye.ie_version<15||Ye.ios&&Ye.webkit_version<604;function Zdt(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),RY(t,n.value)},50)}function RY(t,e){let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(V4!=null&&n.selection.ranges.every(l=>l.empty)&&V4==s.toString()){let l=-1;r=n.changeByRange(u=>{let h=n.doc.lineAt(u.from);if(h.from==l)return{range:u};l=h.from;let d=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:h.from,insert:d},range:Se.cursor(u.from+d.length)}})}else o?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Se.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}ro.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Vo.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1);ro.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};ro.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Vo.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(yY))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Gdt(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Wdt(t,e,n,r)),r&&t.observer.ignore(()=>Hq(t.contentDOM));let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function u9(t,e,n,r){if(r==1)return Se.cursor(e,n);if(r==2)return Mdt(t.state,e,n);{let i=hr.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Se.range(o,a)}}let LY=(t,e)=>t>=e.top&&t<=e.bottom,h9=(t,e,n)=>LY(e,n)&&t>=n.left&&t<=n.right;function Xdt(t,e,n,r){let i=hr.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&h9(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&h9(n,r,a)?1:o&&LY(r,o)?-1:1}function d9(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Xdt(t,n,e.clientX,e.clientY)}}const Hdt=Ye.ie&&Ye.ie_version<=11;let f9=null,p9=0,g9=0;function IY(t){if(!Hdt)return t.detail;let e=f9,n=g9;return f9=t,g9=Date.now(),p9=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(p9+1)%3:1}function Gdt(t,e){let n=d9(t,e),r=IY(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=d9(t,s),u,h=u9(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let d=u9(t,n.pos,n.bias,r),f=Math.min(d.from,h.from),p=Math.max(d.to,h.to);h=f<h.from?Se.range(f,p):Se.range(p,f)}return o?i.replaceRange(i.main.extend(h.from,h.to)):a&&r==1&&i.ranges.length>1&&(u=Kdt(i,l.pos))?u:a?i.addRange(h):Se.create([h])}}}function Kdt(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Se.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Vo.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=Se.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Vo.dragend=t=>(t.inputState.draggedContent=null,!1);function m9(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&jdt(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Vo.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&m9(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return m9(t,e,r,!0),!0}return!1};Vo.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=$Y?null:e.clipboardData;return n?(RY(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Zdt(t),!1)};function Jdt(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function eft(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let V4=null;Vo.copy=Vo.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=eft(t.state);if(!n&&!i)return!1;V4=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=$Y?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(Jdt(t,n),!1)};const NY=Wl.define();function FY(t,e){let n=[];for(let r of t.facet(kY)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:NY.of(!0)}):null}function BY(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=FY(t.state,e);n?t.dispatch(n):t.update([])}},10)}ro.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),BY(t)};ro.blur=t=>{t.observer.clearSelectionRange(),BY(t)};ro.compositionstart=ro.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};ro.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ye.chrome&&Ye.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};ro.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Vo.beforeinput=(t,e)=>{var n;let r;if(Ye.chrome&&Ye.android&&(r=MY.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Ye.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Ye.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>ro.compositionend(t,e),20),!1};const y9=new Set;function tft(t){y9.has(t)||(y9.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const b9=["pre-wrap","normal","pre-line","break-spaces"];class nft{constructor(e){this.lineWrapping=e,this.doc=tn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return b9.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=b9.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let h=o[u];h<0?u++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class rft{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class ma{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Di.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Yc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ma(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var wn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(wn||(wn={}));const zb=.001;class Ai{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>zb&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return Ai.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:h,toB:d}=i[a],f=s.lineAt(l,wn.ByPosNoHeight,r.setDoc(n),0,0),p=f.to>=u?f:s.lineAt(u,wn.ByPosNoHeight,r,0,0);for(d+=p.to-u,u=p.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,h=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,wn.ByPosNoHeight,r,0,0));h+=f.from-l,l=f.from;let g=oD.build(r.setDoc(o),e,h,d);s=s.replace(l,u,g)}return s.updateHeight(r,0)}static empty(){return new gs(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new ift(Ai.of(e.slice(0,n)),o,Ai.of(e.slice(r)))}}Ai.prototype.size=1;class QY extends Ai{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new ma(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class gs extends QY{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new ma(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof gs||i instanceof Fr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Fr?i=new gs(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ai.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Fr extends Ai{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),h=n.doc.lineAt(u),d=a+h.length*l,f=Math.max(r,e-d/2);return new ma(h.from,h.length,f,d,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:h,length:d}=n.doc.line(s+u);return new ma(h,d,r+a*u,a,0)}}lineAt(e,n,r,i,s){if(n==wn.ByHeight)return this.blockAt(e,r,i,s);if(n==wn.ByPosNoHeight){let{from:p,to:g}=r.doc.lineAt(e);return new ma(p,g-p,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),h=a+u.length*l,d=u.number-o,f=i+a*d+l*(u.from-s-d);return new ma(u.from,u.length,Math.max(i,Math.min(f,i+this.height-h)),h,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let h=e,d=i;h<=n;){let f=r.doc.lineAt(h);if(h==e){let g=f.number-a;d+=l*g+u*(e-s-g)}let p=l+u*f.length;o(new ma(f.from,f.length,d,p,0)),d+=p,h=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof Fr?r[r.length-1]=new Fr(s.length+i):r.push(null,new Fr(i-1))}if(e>0){let s=r[0];s instanceof Fr?r[0]=new Fr(e+s.length):r.unshift(new Fr(e-1),null)}return Ai.of(r)}decomposeLeft(e,n){n.push(new Fr(e-1),null)}decomposeRight(e,n){n.push(null,new Fr(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new Fr(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=zb&&(l=-2);let f=new gs(h,d);f.outdated=!1,o.push(f),a+=h+1}a<=s&&o.push(null,new Fr(s-a).updateHeight(e,a));let u=Ai.of(o);return(l<0||Math.abs(u.height-this.height)>=zb||Math.abs(l-this.heightMetrics(e,n).perLine)>=zb)&&(e.heightChanged=!0),u}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class ift extends Ai{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==wn.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let h=n==wn.ByPosNoHeight?wn.ByPosNoHeight:wn.ByPos;return l?u.join(this.right.lineAt(a,h,r,o,a)):this.left.lineAt(a,h,r,i,s).join(u)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let u=this.lineAt(l,wn.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&O9(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),O9(s,a)}return Ai.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Ai.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function O9(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Fr&&(r=t[e+1])instanceof Fr&&t.splice(e-1,3,new Fr(n.length+1+r.length))}const sft=5;class oD{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof gs?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new gs(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new QY(o,i,r)):(o||s||i>=sft)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new gs(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Fr(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof gs)return e;let n=new gs(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof gs)&&!this.isCovered?this.nodes.push(new gs(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof gs&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new oD(r,e);return Zt.spans(n,r,i,s,0),s.finish(r)}}function oft(t,e,n){let r=new aft;return Zt.compare(t,e,n,r,0),r.changes}class aft{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&L4(e,n,this.changes,5)}}function lft(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let h=u,d=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&d.overflow!="visible"){let f=h.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=u==t.parentNode?f.bottom:Math.min(l,f.bottom)}u=d.position=="absolute"||d.position=="fixed"?h.offsetParent:h.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function cft(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class K_{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return kt.replace({widget:new uft(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class uft extends su{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class k9{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=x9,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Dn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(iD).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new nft(n),this.stateDeco=e.facet(n0).filter(r=>typeof r!="function"),this.heightMap=Ai.empty().applyChanges(this.stateDeco,tn.empty,this.heightOracle.setDoc(e.doc),[new Hs(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=kt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new cy(s,o))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?x9:new fft(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:ig(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(n0).filter(h=>typeof h!="function");let i=e.changedRanges,s=Hs.extendWithRanges(i,oft(r,this.stateDeco,e?e.changes:fr.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(wY)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Dn.RTL:Dn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,h=0;if(a.width&&a.height){let{scaleX:T,scaleY:A}=Xq(n,a);(T>.005&&Math.abs(this.scaleX-T)>.005||A>.005&&Math.abs(this.scaleY-A)>.005)&&(this.scaleX=T,this.scaleY=A,u|=8,o=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=Kq(e.scrollDOM);let g=(this.printing?cft:lft)(n,this.paddingTop),m=g.top-this.pixelViewport.top,y=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let O=a.width;if((this.contentDOMWidth!=O||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let T=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(T)&&(o=!0),o||i.lineWrapping&&Math.abs(O-this.contentDOMWidth)>i.charWidth){let{lineHeight:A,charWidth:v,textHeight:S}=e.docView.measureTextSize();o=A>0&&i.refresh(s,A,v,S,O/v,T),o&&(e.docView.minWidth=0,u|=8)}m>0&&y>0?h=Math.max(m,y):m<0&&y<0&&(h=Math.min(m,y)),i.heightChanged=!1;for(let A of this.viewports){let v=A.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(A);this.heightMap=(o?Ai.empty().applyChanges(this.stateDeco,tn.empty,this.heightOracle,[new Hs(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new rft(A.from,v))}i.heightChanged&&(u|=2)}let x=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(u&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new cy(i.lineAt(o-r*1e3,wn.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,wn.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(u,wn.ByPos,s,0,0),f;n.y=="center"?f=(d.top+d.bottom)/2-h/2:n.y=="start"||n.y=="nearest"&&u<l.from?f=d.top:f=d.bottom-h,l=new cy(i.lineAt(f-1e3/2,wn.ByHeight,s,0,0).from,i.lineAt(f+h+1e3/2,wn.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new cy(this.heightMap.lineAt(r,wn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,wn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,wn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,wn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new K_(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Dn.LTR&&!r)return[];let a=[],l=(u,h,d,f)=>{if(h-u<s)return;let p=this.state.selection.main,g=[p.from];p.empty||g.push(p.to);for(let y of g)if(y>u&&y<h){l(u,y-10,d,f),l(y+10,h,d,f);return}let m=dft(e,y=>y.from>=d.from&&y.to<=d.to&&Math.abs(y.from-u)<s&&Math.abs(y.to-h)<s&&!g.some(b=>y.from<b&&y.to>b));if(!m){if(h<d.to&&n&&r&&n.visibleRanges.some(y=>y.from<=h&&y.to>=h)){let y=n.moveToLineBoundary(Se.cursor(h),!1,!0).head;y>u&&(h=y)}m=new K_(u,h,this.gapSize(d,u,h,f))}a.push(m)};for(let u of this.viewportLines){if(u.length<o)continue;let h=hft(u.from,u.to,this.stateDeco);if(h.total<o)continue;let d=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,m,y;if(d!=null){let b=hy(h,d),O=((this.visibleBottom-this.visibleTop)/2+g)/u.height;m=b-O,y=b+O}else m=(this.visibleTop-u.top-g)/u.height,y=(this.visibleBottom-u.top+g)/u.height;f=uy(h,m),p=uy(h,y)}else{let g=h.total*this.heightOracle.charWidth,m=i*this.heightOracle.charWidth,y,b;if(d!=null){let O=hy(h,d),x=((this.pixelViewport.right-this.pixelViewport.left)/2+m)/g;y=O-x,b=O+x}else y=(this.pixelViewport.left-m)/g,b=(this.pixelViewport.right+m)/g;f=uy(h,y),p=uy(h,b)}f>u.from&&l(u.from,f,u,h),p<u.to&&l(p,u.to,u,h)}return a}gapSize(e,n,r,i){let s=hy(i,r)-hy(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){K_.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=kt.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];Zt.spans(e,this.viewport.from,this.viewport.to,{span(i,s){n.push({from:i,to:s})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=n[s].from||i.to!=n[s].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||ig(this.heightMap.lineAt(e,wn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return ig(this.heightMap.lineAt(this.scaler.fromDOM(e),wn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return ig(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class cy{constructor(e,n){this.from=e,this.to=n}}function hft(t,e,n){let r=[],i=t,s=0;return Zt.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function uy({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function hy(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function dft(t,e){for(let n of t)if(e(n))return n}const x9={toDOM(t){return t},fromDOM(t){return t},scale:1};class fft{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,wn.ByPos,e,0,0).top,h=n.lineAt(l,wn.ByPos,e,0,0).bottom;return i+=h-u,{from:a,to:l,top:u,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function ig(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ma(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>ig(i,e)):t._content)}const dy=Ze.define({combine:t=>t.join(" ")}),W4=Ze.define({combine:t=>t.indexOf(!0)>-1}),U4=qc.newName(),zY=qc.newName(),VY=qc.newName(),WY={"&light":"."+zY,"&dark":"."+VY};function j4(t,e,n){return new qc(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const pft=j4("."+U4,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},WY),sg="￿";class gft{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Vt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=sg}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=hn.get(i),l=hn.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:vO(i))||vO(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=hn.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(mft(e,r.node,r.offset)?n:0))}}function mft(t,e,n){for(;;){if(!e||n<Pl(e))return!1;if(e==t)return!0;n=wh(e)+1,e=e.parentNode}}class w9{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class yft{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:kft(e),l=new gft(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=xft(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!D4(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!D4(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),h=e.viewport;if((Ye.ios||Ye.chrome)&&e.state.selection.main.empty&&l!=u&&(h.from>0||h.to<e.state.doc.length)){let d=Math.min(l,u),f=Math.max(l,u),p=h.from-d,g=h.to-f;(p==0||p==1||d==0)&&(g==0||g==-1||f==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=Se.single(u,l)}}}function UY(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||Ye.android&&e.text.length<a-o)&&(l=i.to,u="end");let h=Oft(t.state.doc.sliceString(o,a,sg),e.text,l-o,u);h&&(Ye.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==sg+sg&&h.toB--,n={from:o+h.from,to:o+h.toA,insert:tn.of(e.text.slice(h.from,h.toB).split(sg))})}else r&&(!t.hasFocus&&t.state.facet(Cx)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(Ye.mac||Ye.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Se.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:tn.of([" "])}):Ye.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Se.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:tn.of([" "])}),n){if(Ye.ios&&t.inputState.flushIOSKey(n)||Ye.android&&(n.to==i.to&&(n.from==i.from||n.from==i.from-1&&t.state.sliceDoc(n.from,i.from)==" ")&&n.insert.length==1&&n.insert.lines==2&&Bd(t.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&n.insert.length==0||s==8&&n.insert.length<n.to-n.from&&n.to>i.head)&&Bd(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&Bd(t.contentDOM,"Delete",46)))return!0;let o=n.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,l=()=>a||(a=bft(t,n,r));return t.state.facet(OY).some(u=>u(t,n.from,n.to,o,l))||t.dispatch(l()),!0}else if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function bft(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=t.state.sliceDoc(e.from,e.to),h,d=n&&DY(t,n.main.head);if(d){let g=e.insert.length-(e.to-e.from);h={from:d.from,to:d.to-g}}else h=t.state.doc.lineAt(s.head);let f=s.to-e.to,p=s.to-s.from;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let m=g.to-f,y=m-u.length;if(g.to-g.from!=p||t.state.sliceDoc(y,m)!=u||g.to>=h.from&&g.from<=h.to)return{range:g};let b=i.changes({from:y,to:m,insert:e.insert}),O=g.to-s.to;return{changes:b,range:l?Se.range(Math.max(0,l.anchor+O),Math.max(0,l.head+O)):g.map(b)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function Oft(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function kft(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new w9(n,r)),(i!=n||s!=r)&&e.push(new w9(i,s))),e}function xft(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Se.single(n+e,r+e):null}const wft={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},J_=Ye.ie&&Ye.ie_version<=11;class _ft{constructor(e){this.view=e,this.active=!1,this.selectionRange=new odt,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Ye.ie&&Ye.ie_version<=11||Ye.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),J_&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){e.type=="change"&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Cx)?r.root.activeElement!=this.dom:!Bb(r.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Ye.ie&&Ye.ie_version<=11||Ye.android&&Ye.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Yg(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=_O(e.root);if(!n)return!1;let r=Ye.safari&&e.root.nodeType==11&&ndt(this.dom.ownerDocument)==this.dom&&vft(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Bb(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&ldt(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,wft),J_&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),J_&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Bd(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Bb(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new yft(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=UY(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=_9(n,e.previousSibling||e.target.previousSibling,-1),i=_9(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function _9(t,e,n){for(;e;){let r=hn.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function v9(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Yg(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function vft(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return v9(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?v9(t,n):null}class je{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(r=>r.forEach(i=>n(i,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||adt(e.parent)||document,this.viewState=new k9(e.state||Vt.create(e)),e.scrollTo&&e.scrollTo.is(oy)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ng).map(r=>new X_(r));for(let r of this.plugins)r.update(this);this.observer=new _ft(this),this.inputState=new Bdt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new n9(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let n=e.length==1&&e[0]instanceof sr?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(NY))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=FY(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,h=null;if(u?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(Vt.phrases)!=this.state.facet(Vt.phrases))return this.setState(s);i=SO.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:p}=f.state.selection;d=new Qd(p.empty?p:Se.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of f.effects)p.is(oy)&&(d=p.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=CO.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(rg)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(dy)!=i.state.facet(dy)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(B4))try{f(i)}catch(p){ks(this.state,p,"update listener")}(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!UY(this,h)&&u.force&&Bd(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new k9(e),this.plugins=e.facet(ng).map(r=>new X_(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new n9(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(ng),r=e.state.facet(ng);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new X_(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){ks(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(Kq(r))s=-1,o=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(i);s=p.from,o=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let h=u.map(p=>{try{return p.read(this)}catch(g){return ks(this.state,g),S9}}),d=SO.create(this,this.state,[]),f=!1;d.flags|=l,n?n.flags|=l:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(h[p]!=S9)try{let g=u[p];g.write&&g.write(h[p],this)}catch(g){ks(this.state,g)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(B4))a(n)}get themeClasses(){return U4+" "+(this.state.facet(W4)?VY:zY)+" "+this.state.facet(dy)}updateAttrs(){let e=C9(this,vY,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Cx)?"true":"false",class:"cm-content",style:`${Ye.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),C9(this,iD,n);let r=this.observer.ignore(()=>{let i=R4(this.contentDOM,this.contentAttrs,n),s=R4(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(je.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(rg);let e=this.state.facet(je.cspNonce);qc.mount(this.root,this.styleModules.concat(pft).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return G_(this,e,l9(this,e,n,r))}moveByGroup(e,n){return G_(this,e,l9(this,e,n,r=>Ndt(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return Se.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return Idt(this,e,n,r)}moveVertically(e,n,r){return G_(this,e,Fdt(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),AY(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Oc.find(s,e-i.from,-1,n)];return eD(r,o.dir==Dn.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(xY)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Sft)return fY(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||dY(s.isolates,r=t9(this,e))))return s.order;r||(r=t9(this,e));let i=kdt(e.text,n,r);return this.bidiCache.push(new CO(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ye.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Hq(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return oy.of(new Qd(typeof e=="number"?Se.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return oy.of(new Qd(Se.cursor(r.from),"start","start",r.top-e,n,!0))}static domEventHandlers(e){return mr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return mr.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=qc.newName(),i=[dy.of(r),rg.of(j4(`.${r}`,e))];return n&&n.dark&&i.push(W4.of(!0)),i}static baseTheme(e){return Vl.lowest(rg.of(j4("."+U4,e,WY)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&hn.get(r)||hn.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}je.styleModule=rg;je.inputHandler=OY;je.scrollHandler=_Y;je.focusChangeEffect=kY;je.perLineTextDirection=xY;je.exceptionSink=bY;je.updateListener=B4;je.editable=Cx;je.mouseSelectionStyle=yY;je.dragMovesSelection=mY;je.clickAddsSelectionRange=gY;je.decorations=n0;je.outerDecorations=SY;je.atomicRanges=sD;je.bidiIsolatedRanges=CY;je.scrollMargins=EY;je.darkTheme=W4;je.cspNonce=Ze.define({combine:t=>t.length?t[0]:""});je.contentAttributes=iD;je.editorAttributes=vY;je.lineWrapping=je.contentAttributes.of({class:"cm-lineWrapping"});je.announce=Bt.define();const Sft=4096,S9={};class CO{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Dn.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new CO(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function C9(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&$4(o,n)}return n}const Cft=Ye.mac?"mac":Ye.windows?"win":Ye.linux?"linux":"key";function Eft(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function fy(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Tft=Vl.default(je.domEventHandlers({keydown(t,e){return qY(jY(e.state),t,e,"editor")}})),o1=Ze.define({enables:Tft}),E9=new WeakMap;function jY(t){let e=t.facet(o1),n=E9.get(e);return n||E9.set(e,n=Mft(e.reduce((r,i)=>r.concat(i),[]))),n}function Dft(t,e,n){return qY(jY(t.state),e,t,n)}let hc=null;const Aft=4e3;function Mft(t,e=Cft){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,h)=>{var d,f;let p=n[o]||(n[o]=Object.create(null)),g=a.split(/ (?!$)/).map(b=>Eft(b,e));for(let b=1;b<g.length;b++){let O=g.slice(0,b).join(" ");i(O,!0),p[O]||(p[O]={preventDefault:!0,stopPropagation:!1,run:[x=>{let T=hc={view:x,prefix:O,scope:o};return setTimeout(()=>{hc==T&&(hc=null)},Aft),!0}]})}let m=g.join(" ");i(m,!1);let y=p[m]||(p[m]={preventDefault:!1,stopPropagation:!1,run:((f=(d=p._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&y.run.push(l),u&&(y.preventDefault=!0),h&&(y.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let h=n[u]||(n[u]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let d in h)h[d].run.push(o.any)}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}function qY(t,e,n,r){let i=WF(e),s=Wr(i,0),o=Us(s)==i.length&&i!=" ",a="",l=!1,u=!1,h=!1;hc&&hc.view==n&&hc.scope==r&&(a=hc.prefix+" ",PY.indexOf(e.keyCode)<0&&(u=!0,hc=null));let d=new Set,f=y=>{if(y){for(let b of y.run)if(!d.has(b)&&(d.add(b),b(n,e)))return y.stopPropagation&&(h=!0),!0;y.preventDefault&&(y.stopPropagation&&(h=!0),u=!0)}return!1},p=t[r],g,m;return p&&(f(p[a+fy(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ye.windows&&e.ctrlKey&&e.altKey)&&(g=Sl[e.keyCode])&&g!=i?(f(p[a+fy(g,e,!0)])||e.shiftKey&&(m=pm[e.keyCode])!=i&&m!=g&&f(p[a+fy(m,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(p[a+fy(i,e,!0)])&&(l=!0),!l&&f(p._any)&&(l=!0)),u&&(l=!0),l&&h&&e.stopPropagation(),l}class a1{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=YY(e);return[new a1(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Pft(e,n,r)}}function YY(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Dn.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function T9(t,e,n){let r=Se.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:Di.Text}}function Pft(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==Dn.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=YY(t),u=o.querySelector(".cm-line"),h=u&&window.getComputedStyle(u),d=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),f=a.right-(h?parseInt(h.paddingRight):0),p=z4(t,r),g=z4(t,i),m=p.type==Di.Text?p:null,y=g.type==Di.Text?g:null;if(m&&(t.lineWrapping||p.widgetLineBreaks)&&(m=T9(t,r,m)),y&&(t.lineWrapping||g.widgetLineBreaks)&&(y=T9(t,i,y)),m&&y&&m.from==y.from)return O(x(n.from,n.to,m));{let A=m?x(n.from,null,m):T(p,!1),v=y?x(null,n.to,y):T(g,!0),S=[];return(m||p).to<(y||g).from-(m&&y?1:0)||p.widgetLineBreaks>1&&A.bottom+t.defaultLineHeight/2<v.top?S.push(b(d,A.bottom,f,v.top)):A.bottom<v.top&&t.elementAtHeight((A.bottom+v.top)/2).type==Di.Text&&(A.bottom=v.top=(A.bottom+v.top)/2),O(A).concat(S).concat(O(v))}function b(A,v,S,I){return new a1(e,A-l.left,v-l.top-.01,S-A,I-v+.01)}function O({top:A,bottom:v,horizontal:S}){let I=[];for(let M=0;M<S.length;M+=2)I.push(b(S[M],A,S[M+1],v));return I}function x(A,v,S){let I=1e9,M=-1e9,C=[];function E(k,B,w,Q,U){let W=t.coordsAtPos(k,k==S.to?-2:2),$=t.coordsAtPos(w,w==S.from?2:-2);!W||!$||(I=Math.min(W.top,$.top,I),M=Math.max(W.bottom,$.bottom,M),U==Dn.LTR?C.push(s&&B?d:W.left,s&&Q?f:$.right):C.push(!s&&Q?d:$.left,!s&&B?f:W.right))}let _=A??S.from,L=v??S.to;for(let k of t.visibleRanges)if(k.to>_&&k.from<L)for(let B=Math.max(k.from,_),w=Math.min(k.to,L);;){let Q=t.state.doc.lineAt(B);for(let U of t.bidiSpans(Q)){let W=U.from+Q.from,$=U.to+Q.from;if(W>=w)break;$>B&&E(Math.max(W,B),A==null&&W<=_,Math.min($,w),v==null&&$>=L,U.dir)}if(B=Q.to+1,B>=w)break}return C.length==0&&E(_,A==null,L,v==null,t.textDirection),{top:I,bottom:M,horizontal:C}}function T(A,v){let S=a.top+(v?A.top:A.bottom);return{top:S,bottom:S,horizontal:[]}}}function $ft(t,e){return t.constructor==e.constructor&&t.eq(e)}class Rft{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Vb)!=e.state.facet(Vb)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Vb);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!$ft(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Vb=Ze.define();function ZY(t){return[mr.define(e=>new Rft(e,t)),Vb.of(t)]}const XY=!Ye.ios,r0=Ze.define({combine(t){return Ul(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Lft(t={}){return[r0.of(t),Ift,Nft,Fft,wY.of(!0)]}function HY(t){return t.startState.facet(r0)!=t.state.facet(r0)}const Ift=ZY({above:!0,markers(t){let{state:e}=t,n=e.facet(r0),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||XY:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Se.cursor(i.head,i.head>i.anchor?-1:1);for(let l of a1.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=HY(t);return n&&D9(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){D9(e.state,t)},class:"cm-cursorLayer"});function D9(t,e){e.style.animationDuration=t.facet(r0).cursorBlinkRate+"ms"}const Nft=ZY({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:a1.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||HY(t)},class:"cm-selectionLayer"}),q4={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};XY&&(q4[".cm-line"].caretColor="transparent !important",q4[".cm-content"]={caretColor:"transparent !important"});const Fft=Vl.highest(je.theme(q4)),GY=Bt.define({map(t,e){return t==null?null:e.mapPos(t)}}),og=yi.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(GY)?r.value:n,t)}}),Bft=mr.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(og);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(og)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(og),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(og)!=t&&this.view.dispatch({effects:GY.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Qft(){return[og,Bft]}function A9(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function zft(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Vft{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,h)=>i(h,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,h)=>{let d=r(a,l,u);d&&h(u,u+a[0].length,d)};else if(r)this.addMatch=(a,l,u,h)=>h(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new jc,r=n.add.bind(n);for(let{from:i,to:s}of zft(e,this.maxLength))A9(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,h=Math.max(s.from,l.from),d=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){h=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){d=a;break}}let f=[],p,g=(m,y,b)=>f.push(b.range(m,y));if(l==u)for(this.regexp.lastIndex=h-l.from;(p=this.regexp.exec(l.text))&&p.index<d-l.from;)this.addMatch(p,e,p.index+l.from,g);else A9(e.state.doc,this.regexp,h,d,(m,y)=>this.addMatch(y,e,m,g));n=n.update({filterFrom:h,filterTo:d,filter:(m,y)=>m<h||y>d,add:f})}}return n}}const Y4=/x/.unicode!=null?"gu":"g",Wft=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Y4),Uft={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ev=null;function jft(){var t;if(ev==null&&typeof document<"u"&&document.body){let e=document.body.style;ev=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return ev||!1}const Wb=Ze.define({combine(t){let e=Ul(t,{render:null,specialChars:Wft,addSpecialChars:null});return(e.replaceTabs=!jft())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Y4)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Y4)),e}});function qft(t={}){return[Wb.of(t),Yft()]}let M9=null;function Yft(){return M9||(M9=mr.fromClass(class{constructor(t){this.view=t,this.decorations=kt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Wb)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Vft({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=Wr(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=Qo(o.text,a,r-o.from);return kt.replace({widget:new Gft((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=kt.replace({widget:new Hft(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Wb);t.startState.facet(Wb)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const Zft="•";function Xft(t){return t>=32?Zft:t==10?"␤":String.fromCharCode(9216+t)}class Hft extends su{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=Xft(this.code),r=e.state.phrase("Control character")+" "+(Uft[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Gft extends su{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Kft(){return ept}const Jft=kt.line({class:"cm-activeLine"}),ept=mr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(Jft.range(i.from)),e=i.from)}return kt.set(n)}},{decorations:t=>t.decorations}),Z4=2e3;function tpt(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>Z4||n.off>Z4||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&s.push(Se.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),h=C4(u.text,o,t.tabSize,!0);if(h<0)s.push(Se.cursor(u.to));else{let d=C4(u.text,a,t.tabSize);s.push(Se.range(u.from+h,u.from+d))}}}return s}function npt(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function P9(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>Z4?-1:i==r.length?npt(t,e.clientX):Qo(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function rpt(t,e){let n=P9(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=P9(t,i);if(!a)return r;let l=tpt(t.state,n,a);return l.length?o?Se.create(l.concat(r.ranges)):Se.create(l):r}}:null}function ipt(t){let e=n=>n.altKey&&n.button==0;return je.mouseSelectionStyle.of((n,r)=>e(r)?rpt(n,r):null)}const spt={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},opt={style:"cursor: crosshair"};function apt(t={}){let[e,n]=spt[t.key||"Alt"],r=mr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,je.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?opt:null})]}const _p="-10000px";class lpt{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let u=s[l],h=-1;if(u){for(let d=0;d<this.tooltips.length;d++){let f=this.tooltips[d];f&&f.create==u.create&&(h=d)}if(h<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let d=o[l]=this.tooltipViews[h];a&&(a[l]=n[h]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,u)=>n[u]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function cpt(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const tv=Ze.define({combine:t=>{var e,n,r;return{position:Ye.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||cpt}}}),$9=new WeakMap,KY=mr.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(tv);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new lpt(t,JY,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(tv);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=_p,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(Ye.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==_p&&i.style.left=="0px"){let s=i.getBoundingClientRect();r=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,n=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(tv).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:h}=u,d=t.pos[a],f=t.size[a];if(!d||d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1){h.style.top=_p;continue}let p=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,g=p?7:0,m=f.right-f.left,y=(e=$9.get(u))!==null&&e!==void 0?e:f.bottom-f.top,b=u.offset||hpt,O=this.view.textDirection==Dn.LTR,x=f.width>r.right-r.left?O?r.left:r.right-f.width:O?Math.min(d.left-(p?14:0)+b.x,r.right-m):Math.max(r.left,d.left-m+(p?14:0)-b.x),T=this.above[a];!l.strictSide&&(T?d.top-(f.bottom-f.top)-b.y<r.top:d.bottom+(f.bottom-f.top)+b.y>r.bottom)&&T==r.bottom-d.bottom>d.top-r.top&&(T=this.above[a]=!T);let A=(T?d.top-r.top:r.bottom-d.bottom)-g;if(A<y&&u.resize!==!1){if(A<this.view.defaultLineHeight){h.style.top=_p;continue}$9.set(u,y),h.style.height=(y=A)/s+"px"}else h.style.height&&(h.style.height="");let v=T?d.top-y-g-b.y:d.bottom+g+b.y,S=x+m;if(u.overlap!==!0)for(let I of o)I.left<S&&I.right>x&&I.top<v+y&&I.bottom>v&&(v=T?I.top-y-2-g:I.bottom+g+2);if(this.position=="absolute"?(h.style.top=(v-t.parent.top)/s+"px",h.style.left=(x-t.parent.left)/i+"px"):(h.style.top=v/s+"px",h.style.left=x/i+"px"),p){let I=d.left+(O?b.x:-b.x)-(x+14-7);p.style.left=I/i+"px"}u.overlap!==!0&&o.push({left:x,top:v,right:S,bottom:v+y}),h.classList.toggle("cm-tooltip-above",T),h.classList.toggle("cm-tooltip-below",!T),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=_p}},{eventObservers:{scroll(){this.maybeMeasure()}}}),upt=je.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),hpt={x:0,y:0},JY=Ze.define({enables:[KY,upt]});function eZ(t,e){let n=t.plugin(KY);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const R9=Ze.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function EO(t,e){let n=t.plugin(tZ),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const tZ=mr.fromClass(class{constructor(t){this.input=t.state.facet(TO),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(R9);this.top=new py(t,!0,e.topContainer),this.bottom=new py(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(R9);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new py(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new py(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(TO);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),h;u<0?(h=l(t.view),a.push(h)):(h=this.panels[u],h.update&&h.update(t)),i.push(h),(h.top?s:o).push(h)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>je.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class py{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=L9(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=L9(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function L9(t){let e=t.nextSibling;return t.remove(),e}const TO=Ze.define({enables:tZ});class Rl extends xh{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Rl.prototype.elementClass="";Rl.prototype.toDOM=void 0;Rl.prototype.mapMode=li.TrackBefore;Rl.prototype.startSide=Rl.prototype.endSide=-1;Rl.prototype.point=!0;const Ub=Ze.define(),dpt={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Zt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Xg=Ze.define();function fpt(t){return[nZ(),Xg.of(Object.assign(Object.assign({},dpt),t))]}const I9=Ze.define({combine:t=>t.some(e=>e)});function nZ(t){return[ppt]}const ppt=mr.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Xg).map(e=>new F9(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(I9),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(I9)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Zt.iter(this.view.state.facet(Ub),this.view.viewport.from),r=[],i=this.gutters.map(s=>new gpt(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Di.Text&&o){X4(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Di.Text){X4(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Xg),n=t.state.facet(Xg),r=t.docChanged||t.heightChanged||t.viewportChanged||!Zt.eq(t.startState.facet(Ub),t.state.facet(Ub),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new F9(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>je.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Dn.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function N9(t){return Array.isArray(t)?t:[t]}function X4(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class gpt{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Zt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new rZ(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];X4(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n);r&&this.addElement(e,n,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class F9{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=N9(n.markers(e)),n.initialSpacer&&(this.spacer=new rZ(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=N9(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Zt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class rZ{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),mpt(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,u=!1;if(l){let h=l.elementClass;h&&(r+=" "+h);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,u=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function mpt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const ypt=Ze.define(),bd=Ze.define({combine(t){return Ul(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class nv extends Rl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function rv(t,e){return t.state.facet(bd).formatNumber(e,t.state)}const bpt=Xg.compute([bd],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(ypt)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new nv(rv(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(bd)!=e.state.facet(bd),initialSpacer(e){return new nv(rv(e,B9(e.state.doc.lines)))},updateSpacer(e,n){let r=rv(n.view,B9(n.view.state.doc.lines));return r==e.number?e:new nv(r)},domEventHandlers:t.facet(bd).domEventHandlers}));function Opt(t={}){return[bd.of(t),nZ(),bpt]}function B9(t){let e=9;for(;e<t;)e=e*10+9;return e}const kpt=new class extends Rl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},xpt=Ub.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(kpt.range(i)))}return Zt.of(e)});function wpt(){return xpt}const iZ=1024;let _pt=0;class qs{constructor(e,n){this.from=e,this.to=n}}class Ot{constructor(e={}){this.id=_pt++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=yr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ot.closedBy=new Ot({deserialize:t=>t.split(" ")});Ot.openedBy=new Ot({deserialize:t=>t.split(" ")});Ot.group=new Ot({deserialize:t=>t.split(" ")});Ot.isolate=new Ot({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Ot.contextHash=new Ot({perNode:!0});Ot.lookAhead=new Ot({perNode:!0});Ot.mounted=new Ot({perNode:!0});class i0{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Ot.mounted.id]}}const vpt=Object.create(null);class yr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):vpt,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new yr(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ot.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Ot.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}yr.none=new yr("",Object.create(null),0,8);class l1{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}n.push(i?new yr(r.name,i,r.id,r.flags):r)}return new l1(n)}}const gy=new WeakMap,Q9=new WeakMap;var yn;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(yn||(yn={}));class nn{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=i0.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new DO(this.topNode,e)}cursorAt(e,n=0,r=0){let i=gy.get(this)||this.topNode,s=new DO(i);return s.moveTo(e,n),gy.set(this,s._tree),s}get topNode(){return new fi(this,0,0,null)}resolve(e,n=0){let r=s0(gy.get(this)||this.topNode,e,n,!1);return gy.set(this,r),r}resolveInner(e,n=0){let r=s0(Q9.get(this)||this.topNode,e,n,!0);return Q9.set(this,r),r}resolveStack(e,n=0){return Ept(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&yn.IncludeAnonymous)>0;for(let l=this.cursor(o|yn.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:cD(yr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new nn(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new nn(yr.none,n,r,i)))}static build(e){return Tpt(e)}}nn.empty=new nn(yr.none,[],[],0);class aD{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new aD(this.buffer,this.index)}}class Zc{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return yr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(sZ(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new Zc(s,o,this.set)}}function sZ(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function s0(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof fi&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:yn.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof fi&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class oZ{cursor(e=0){return new DO(this,e)}getChild(e,n=null,r=null){let i=z9(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return z9(this,e,n,r)}resolve(e,n=0){return s0(this,e,n,!1)}resolveInner(e,n=0){return s0(this,e,n,!0)}matchContext(e){return H4(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class fi extends oZ{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let h=a[e],d=l[e]+o.from;if(sZ(i,r,d,d+h.length)){if(h instanceof Zc){if(s&yn.ExcludeBuffers)continue;let f=h.findChild(0,h.buffer.length,n,r-d,i);if(f>-1)return new Oa(new Spt(o,h,e,d),null,f)}else if(s&yn.IncludeAnonymous||!h.type.isAnonymous||lD(h)){let f;if(!(s&yn.IgnoreMounts)&&(f=i0.get(h))&&!f.overlay)return new fi(f.tree,d,e,o);let p=new fi(h,d,e,o);return s&yn.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?h.children.length-1:0,n,r,i)}}}if(s&yn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&yn.IgnoreOverlays)&&(i=i0.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new fi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function z9(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function H4(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Spt{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Oa extends oZ{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Oa(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&yn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Oa(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Oa(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Oa(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new nn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function aZ(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof fi&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new Cpt(i,n)}class Cpt{constructor(e,n){this.heads=e,this.node=n}get next(){return aZ(this.heads)}}function Ept(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof fi?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=i0.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new fi(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(s0(a,e,n,!1))}}return i?aZ(i):r}class DO{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof fi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof fi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&yn.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&yn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&yn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&yn.IncludeAnonymous||a instanceof Zc||!a.type.isAnonymous||lD(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new Oa(this.buffer,n,this.stack[i]);return this.bufferNode=new Oa(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return H4(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return H4(this.node,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function lD(t){return t.children.some(e=>e instanceof Zc||!e.type.isAnonymous||lD(e))}function Tpt(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=iZ,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new aD(n,n.length):n,l=r.types,u=0,h=0;function d(A,v,S,I,M,C){let{id:E,start:_,end:L,size:k}=a,B=h;for(;k<0;)if(a.next(),k==-1){let $=s[E];S.push($),I.push(_-A);return}else if(k==-3){u=E;return}else if(k==-4){h=E;return}else throw new RangeError(`Unrecognized record size: ${k}`);let w=l[E],Q,U,W=_-A;if(L-_<=i&&(U=y(a.pos-v,M))){let $=new Uint16Array(U.size-U.skip),X=a.pos-U.size,Y=$.length;for(;a.pos>X;)Y=b(U.start,$,Y);Q=new Zc($,L-U.start,r),W=U.start-A}else{let $=a.pos-k;a.next();let X=[],Y=[],N=E>=o?E:-1,he=0,ge=L;for(;a.pos>$;)N>=0&&a.id==N&&a.size>=0?(a.end<=ge-i&&(g(X,Y,_,he,a.end,ge,N,B),he=X.length,ge=a.end),a.next()):C>2500?f(_,$,X,Y):d(_,$,X,Y,N,C+1);if(N>=0&&he>0&&he<X.length&&g(X,Y,_,he,_,ge,N,B),X.reverse(),Y.reverse(),N>-1&&he>0){let j=p(w);Q=cD(w,X,Y,0,X.length,0,L-_,j,j)}else Q=m(w,X,Y,L-_,B-L)}S.push(Q),I.push(W)}function f(A,v,S,I){let M=[],C=0,E=-1;for(;a.pos>v;){let{id:_,start:L,end:k,size:B}=a;if(B>4)a.next();else{if(E>-1&&L<E)break;E<0&&(E=k-i),M.push(_,L,k),C++,a.next()}}if(C){let _=new Uint16Array(C*4),L=M[M.length-2];for(let k=M.length-3,B=0;k>=0;k-=3)_[B++]=M[k],_[B++]=M[k+1]-L,_[B++]=M[k+2]-L,_[B++]=B;S.push(new Zc(_,M[2]-L,r)),I.push(L-A)}}function p(A){return(v,S,I)=>{let M=0,C=v.length-1,E,_;if(C>=0&&(E=v[C])instanceof nn){if(!C&&E.type==A&&E.length==I)return E;(_=E.prop(Ot.lookAhead))&&(M=S[C]+E.length+_)}return m(A,v,S,I,M)}}function g(A,v,S,I,M,C,E,_){let L=[],k=[];for(;A.length>I;)L.push(A.pop()),k.push(v.pop()+S-M);A.push(m(r.types[E],L,k,C-M,_-C)),v.push(M-S)}function m(A,v,S,I,M=0,C){if(u){let E=[Ot.contextHash,u];C=C?[E].concat(C):[E]}if(M>25){let E=[Ot.lookAhead,M];C=C?[E].concat(C):[E]}return new nn(A,v,S,I,C)}function y(A,v){let S=a.fork(),I=0,M=0,C=0,E=S.end-i,_={size:0,start:0,skip:0};e:for(let L=S.pos-A;S.pos>L;){let k=S.size;if(S.id==v&&k>=0){_.size=I,_.start=M,_.skip=C,C+=4,I+=4,S.next();continue}let B=S.pos-k;if(k<0||B<L||S.start<E)break;let w=S.id>=o?4:0,Q=S.start;for(S.next();S.pos>B;){if(S.size<0)if(S.size==-3)w+=4;else break e;else S.id>=o&&(w+=4);S.next()}M=Q,I+=k,C+=w}return(v<0||I==A)&&(_.size=I,_.start=M,_.skip=C),_.size>4?_:void 0}function b(A,v,S){let{id:I,start:M,end:C,size:E}=a;if(a.next(),E>=0&&I<o){let _=S;if(E>4){let L=a.pos-(E-4);for(;a.pos>L;)S=b(A,v,S)}v[--S]=_,v[--S]=C-A,v[--S]=M-A,v[--S]=I}else E==-3?u=I:E==-4&&(h=I);return S}let O=[],x=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,O,x,-1,0);let T=(e=t.length)!==null&&e!==void 0?e:O.length?x[0]+O[0].length:0;return new nn(l[t.topID],O.reverse(),x.reverse(),T)}const V9=new WeakMap;function jb(t,e){if(!t.isAnonymous||e instanceof Zc||e.type!=t)return 1;let n=V9.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof nn)){n=1;break}n+=jb(t,r)}V9.set(e,n)}return n}function cD(t,e,n,r,i,s,o,a,l){let u=0;for(let g=r;g<i;g++)u+=jb(t,e[g]);let h=Math.ceil(u*1.5/8),d=[],f=[];function p(g,m,y,b,O){for(let x=y;x<b;){let T=x,A=m[x],v=jb(t,g[x]);for(x++;x<b;x++){let S=jb(t,g[x]);if(v+S>=h)break;v+=S}if(x==T+1){if(v>h){let S=g[T];p(S.children,S.positions,0,S.children.length,m[T]+O);continue}d.push(g[T])}else{let S=m[x-1]+g[x-1].length-A;d.push(cD(t,g,m,T,x,A,S,null,l))}f.push(A+O-s)}}return p(e,n,r,i,0),(a||l)(d,f,o)}class lZ{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Oa?this.setBuffer(e.context.buffer,e.index,n):e instanceof fi&&this.map.set(e.tree,n)}get(e){return e instanceof Oa?this.getBuffer(e.context.buffer,e.index):e instanceof fi?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class vl{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new vl(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let h=a<n.length?n[a]:null,d=h?h.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||u){let p=Math.max(f.from,l)-u,g=Math.min(f.to,d)-u;f=p>=g?null:new vl(p,g,f.tree,f.offset+u,a>0,!!h)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,u=h.toA-h.toB}return i}}class uD{startParse(e,n,r){return typeof e=="string"&&(e=new Dpt(e)),r=r?r.length?r.map(i=>new qs(i.from,i.to)):[new qs(0,0)]:[new qs(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class Dpt{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function cZ(t){return(e,n,r,i)=>new Mpt(e,t,n,r,i)}class W9{constructor(e,n,r,i,s){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=s}}function U9(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class Apt{constructor(e,n,r,i,s,o,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const G4=new Ot({perNode:!0});class Mpt{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new nn(r.type,r.children,r.positions,r.length,r.propValues.concat([[G4,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Ot.mounted.id]=new i0(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new Rpt(this.fragments),n=null,r=null,i=new DO(new fi(this.baseTree,this.ranges[0].from,0,null),yn.IncludeAnonymous|yn.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let u=n.mounts.find(h=>h.frag.from<=i.from&&h.frag.to>=i.to&&h.mount.overlay);if(u)for(let h of u.mount.overlay){let d=h.from+u.pos,f=h.to+u.pos;d>=i.from&&f<=i.to&&!n.ranges.some(p=>p.from<f&&p.to>d)&&n.ranges.push({from:d,to:f})}}a=!1}else if(r&&(o=Ppt(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||$pt(i);let u=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new Apt(s.parser,s.overlay,u,this.inner.length,i.from,i.tree,n);else{let h=Y9(this.ranges,s.overlay||(i.from<i.to?[new qs(i.from,i.to)]:[]));h.length&&U9(h),(h.length||!s.overlay)&&this.inner.push(new W9(s.parser,h.length?s.parser.startParse(this.input,Z9(u,h),h):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new qs(d.from-i.from,d.to-i.from)):null,i.tree,h.length?h[0].from:i.from)),s.overlay?h.length&&(r={ranges:h,depth:0,prev:r}):a=!1}}else n&&(l=n.predicate(i))&&(l===!0&&(l=new qs(i.from,i.to)),l.from<l.to&&n.ranges.push(l));if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let u=Y9(this.ranges,n.ranges);u.length&&(U9(u),this.inner.splice(n.index,0,new W9(n.parser,n.parser.startParse(this.input,Z9(n.mounts,u),u),n.ranges.map(h=>new qs(h.from-n.start,h.to-n.start)),n.target,u[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function Ppt(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function j9(t,e,n,r,i,s){if(e<n){let o=t.buffer[e+1];r.push(t.slice(e,n,o)),i.push(o-s)}}function $pt(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function u(h,d,f,p,g,m){let y=n[m],b=[],O=[];j9(o,h,y,b,O,p);let x=a[y+1],T=a[y+2];l.push(b.length);let A=m?u(y+4,a[y+3],o.set.types[a[y]],x,T-x,m-1):e.toTree();return b.push(A),O.push(x-p),j9(o,a[y+3],d,b,O,p),new nn(f,b,O,g)}i.children[s]=u(0,a.length,yr.none,0,o.length,n.length-1);for(let h of l){let d=t.tree.children[h],f=t.tree.positions[h];t.yield(new fi(d,f+t.from,h,t._tree))}}class q9{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(yn.IncludeAnonymous|yn.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,yn.IgnoreOverlays|yn.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof nn)n=n.children[0];else break}return!1}}let Rpt=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(G4))!==null&&n!==void 0?n:r.to,this.inner=new q9(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(G4))!==null&&e!==void 0?e:n.to,this.inner=new q9(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Ot.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}};function Y9(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let o=t[i-1].to,a=t[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(n||(r=n=e.slice()),l.from<o?(n[s]=new qs(l.from,o),l.to>a&&n.splice(s+1,0,new qs(a,l.to))):l.to>a?n[s--]=new qs(a,l.to):n.splice(s--,1))}}return r}function Lpt(t,e,n,r){let i=0,s=0,o=!1,a=!1,l=-1e9,u=[];for(;;){let h=i==t.length?1e9:o?t[i].to:t[i].from,d=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,n),p=Math.min(h,d,r);f<p&&u.push(new qs(f,p))}if(l=Math.min(h,d),l==1e9)break;h==l&&(o?(o=!1,i++):o=!0),d==l&&(a?(a=!1,s++):a=!0)}return u}function Z9(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),u=Math.min(s.to,a);if(i.overlay){let h=i.overlay.map(f=>new qs(f.from+r,f.to+r)),d=Lpt(e,h,l,u);for(let f=0,p=l;;f++){let g=f==d.length,m=g?u:d[f].from;if(m>p&&n.push(new vl(p,m,i.tree,-o,s.from>=p||s.openStart,s.to<=m||s.openEnd)),g)break;p=d[f].to}}else n.push(new vl(l,u,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let Ipt=0;class yo{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=Ipt++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new yo([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new AO;return n=>n.modified.indexOf(e)>-1?n:AO.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let Npt=0;class AO{constructor(){this.instances=[],this.id=Npt++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&Fpt(n,a.modified));if(r)return r;let i=[],s=new yo(i,e,n);for(let a of n)a.instances.push(s);let o=Bpt(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(AO.get(a,l));return s}}function Fpt(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Bpt(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Gf(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==i.length)break;let p=i[d++];if(d==i.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let h=new MO(r,o,l>0?s.slice(0,l):null);e[u]=h.sort(e[u])}}return uZ.add(e)}const uZ=new Ot;class MO{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}MO.empty=new MO([],2,null);function hZ(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function Qpt(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function zpt(t,e,n,r=0,i=t.length){let s=new Vpt(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class Vpt{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(o)));let u=i,h=Wpt(e)||MO.empty,d=Qpt(s,h.tags);if(d&&(u&&(u+=" "),u+=d,h.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(n,a),u),h.opaque)return;let f=e.tree&&e.tree.prop(Ot.mounted);if(f&&f.overlay){let p=e.node.enter(f.overlay[0].from+a,1),g=this.highlighters.filter(y=>!y.scope||y.scope(f.tree.type)),m=e.firstChild();for(let y=0,b=a;;y++){let O=y<f.overlay.length?f.overlay[y]:null,x=O?O.from+a:l,T=Math.max(n,b),A=Math.min(r,x);if(T<A&&m)for(;e.from<A&&(this.highlightRange(e,T,A,i,s),this.startSpan(Math.min(A,e.to),u),!(e.to>=x||!e.nextSibling())););if(!O||x>r)break;b=O.to+a,b>n&&(this.highlightRange(p.cursor(),Math.max(n,O.from+a),Math.min(r,b),"",g),this.startSpan(Math.min(r,b),u))}m&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function Wpt(t){let e=t.type.prop(uZ);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ze=yo.define,my=ze(),sc=ze(),X9=ze(sc),H9=ze(sc),oc=ze(),yy=ze(oc),iv=ze(oc),sa=ze(),Ou=ze(sa),ta=ze(),na=ze(),K4=ze(),vp=ze(K4),by=ze(),J={comment:my,lineComment:ze(my),blockComment:ze(my),docComment:ze(my),name:sc,variableName:ze(sc),typeName:X9,tagName:ze(X9),propertyName:H9,attributeName:ze(H9),className:ze(sc),labelName:ze(sc),namespace:ze(sc),macroName:ze(sc),literal:oc,string:yy,docString:ze(yy),character:ze(yy),attributeValue:ze(yy),number:iv,integer:ze(iv),float:ze(iv),bool:ze(oc),regexp:ze(oc),escape:ze(oc),color:ze(oc),url:ze(oc),keyword:ta,self:ze(ta),null:ze(ta),atom:ze(ta),unit:ze(ta),modifier:ze(ta),operatorKeyword:ze(ta),controlKeyword:ze(ta),definitionKeyword:ze(ta),moduleKeyword:ze(ta),operator:na,derefOperator:ze(na),arithmeticOperator:ze(na),logicOperator:ze(na),bitwiseOperator:ze(na),compareOperator:ze(na),updateOperator:ze(na),definitionOperator:ze(na),typeOperator:ze(na),controlOperator:ze(na),punctuation:K4,separator:ze(K4),bracket:vp,angleBracket:ze(vp),squareBracket:ze(vp),paren:ze(vp),brace:ze(vp),content:sa,heading:Ou,heading1:ze(Ou),heading2:ze(Ou),heading3:ze(Ou),heading4:ze(Ou),heading5:ze(Ou),heading6:ze(Ou),contentSeparator:ze(sa),list:ze(sa),quote:ze(sa),emphasis:ze(sa),strong:ze(sa),link:ze(sa),monospace:ze(sa),strikethrough:ze(sa),inserted:ze(),deleted:ze(),changed:ze(),invalid:ze(),meta:by,documentMeta:ze(by),annotation:ze(by),processingInstruction:ze(by),definition:yo.defineModifier(),constant:yo.defineModifier(),function:yo.defineModifier(),standard:yo.defineModifier(),local:yo.defineModifier(),special:yo.defineModifier()};hZ([{tag:J.link,class:"tok-link"},{tag:J.heading,class:"tok-heading"},{tag:J.emphasis,class:"tok-emphasis"},{tag:J.strong,class:"tok-strong"},{tag:J.keyword,class:"tok-keyword"},{tag:J.atom,class:"tok-atom"},{tag:J.bool,class:"tok-bool"},{tag:J.url,class:"tok-url"},{tag:J.labelName,class:"tok-labelName"},{tag:J.inserted,class:"tok-inserted"},{tag:J.deleted,class:"tok-deleted"},{tag:J.literal,class:"tok-literal"},{tag:J.string,class:"tok-string"},{tag:J.number,class:"tok-number"},{tag:[J.regexp,J.escape,J.special(J.string)],class:"tok-string2"},{tag:J.variableName,class:"tok-variableName"},{tag:J.local(J.variableName),class:"tok-variableName tok-local"},{tag:J.definition(J.variableName),class:"tok-variableName tok-definition"},{tag:J.special(J.variableName),class:"tok-variableName2"},{tag:J.definition(J.propertyName),class:"tok-propertyName tok-definition"},{tag:J.typeName,class:"tok-typeName"},{tag:J.namespace,class:"tok-namespace"},{tag:J.className,class:"tok-className"},{tag:J.macroName,class:"tok-macroName"},{tag:J.propertyName,class:"tok-propertyName"},{tag:J.operator,class:"tok-operator"},{tag:J.comment,class:"tok-comment"},{tag:J.meta,class:"tok-meta"},{tag:J.invalid,class:"tok-invalid"},{tag:J.punctuation,class:"tok-punctuation"}]);var sv;const Bu=new Ot;function hD(t){return Ze.define({combine:t?e=>e.concat(t):void 0})}const dD=new Ot;class Ys{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Vt.prototype.hasOwnProperty("tree")||Object.defineProperty(Vt.prototype,"tree",{get(){return bn(this)}}),this.parser=n,this.extension=[Xc.of(this),Vt.languageData.of((s,o,a)=>{let l=G9(s,o,a),u=l.type.prop(Bu);if(!u)return[];let h=s.facet(u),d=l.type.prop(dD);if(d){let f=l.resolve(o-l.from,a);for(let p of d)if(p.test(f,s)){let g=s.facet(p.facet);return p.type=="replace"?g:g.concat(h)}}return h})].concat(r)}isActiveAt(e,n,r=-1){return G9(e,n,r).type.prop(Bu)==this.data}findRegions(e){let n=e.facet(Xc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Bu)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Ot.mounted);if(a){if(a.tree.prop(Bu)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof nn&&i(u,s.positions[l]+o)}};return i(bn(e),0),r}get allowsNesting(){return!0}}Ys.setState=Bt.define();function G9(t,e,n){let r=t.facet(Xc),i=bn(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,yn.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Ef extends Ys{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=hD(e.languageData);return new Ef(n,e.parser.configure({props:[Bu.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Ef(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function bn(t){let e=t.field(Ys.state,!1);return e?e.tree:nn.empty}class Upt{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Sp=null;class o0{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new o0(e,n,[],nn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Upt(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=nn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(vl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(vl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Sp;Sp=this;try{return e()}finally{Sp=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=K9(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,h,d,f)=>l.push({fromA:u,toA:h,fromB:d,toB:f})),r=vl.applyChanges(r,l),i=nn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let h=e.mapPos(u.from,1),d=e.mapPos(u.to,-1);h<d&&a.push({from:h,to:d})}}}return new o0(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=K9(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends uD{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Sp;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new nn(yr.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Sp}}function K9(t,e,n){return vl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Tf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Tf(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=o0.create(e.facet(Xc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Tf(r)}}Ys.state=yi.define({create:Tf.init,update(t,e){for(let n of e.effects)if(n.is(Ys.setState))return n.value;return e.startState.facet(Xc)!=e.state.facet(Xc)?Tf.init(e.state):t.apply(e)}});let dZ=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(dZ=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const ov=typeof navigator<"u"&&(!((sv=navigator.scheduling)===null||sv===void 0)&&sv.isInputPending)?()=>navigator.scheduling.isInputPending():null,jpt=mr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Ys.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Ys.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=dZ(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Ys.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!ov?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>ov&&ov()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ys.setState.of(new Tf(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>ks(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Xc=Ze.define({combine(t){return t.length?t[0]:null},enables:t=>[Ys.state,jpt,je.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class a0{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class PO{constructor(e,n,r,i,s,o=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new PO(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(s=>s==n))return i;if(r)for(let i of e)for(let s of i.alias){let o=n.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+s.length])))return i}return null}}const qpt=Ze.define(),c1=Ze.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function $O(t){let e=t.facet(c1);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function l0(t,e){let n="",r=t.tabSize,i=t.facet(c1)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function fD(t,e){t instanceof Vt&&(t=new Ex(t));for(let r of t.state.facet(qpt)){let i=r(t,e);if(i!==void 0)return i}let n=bn(t.state);return n.length>=e?Ypt(t,n,e):null}class Ex{constructor(e,n={}){this.state=e,this.options=n,this.unit=$O(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return Qo(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const u1=new Ot;function Ypt(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o!=r.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return fZ(r,t,n)}function fZ(t,e,n){for(let r=t;r;r=r.next){let i=Xpt(r.node);if(i)return i(pD.create(e,n,r))}return 0}function Zpt(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Xpt(t){let e=t.type.prop(u1);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ot.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>pZ(o,!0,1,void 0,s&&!Zpt(o)?i.from:void 0)}return t.parent==null?Hpt:null}function Hpt(){return 0}class pD extends Ex{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new pD(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Gpt(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return fZ(this.context.next,this.base,this.pos)}}function Gpt(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Kpt(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<o?n:null;a=l.to}}function Jpt({closing:t,align:e=!0,units:n=1}){return r=>pZ(r,e,n,t)}function pZ(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?Kpt(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const egt=t=>t.baseIndent;function qb({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const tgt=200;function ngt(){return Vt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+tgt)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let h=o.doc.lineAt(u);if(h.from==a)continue;a=h.from;let d=fD(o,h.from);if(d==null)continue;let f=/^\s*/.exec(h.text)[0],p=l0(o,d);f!=p&&l.push({from:h.from,to:h.from+f.length,insert:p})}return l.length?[t,{changes:l,sequential:!0}]:t})}const gZ=Ze.define(),Kf=new Ot;function mZ(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function rgt(t,e,n){let r=bn(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(Kf);if(l&&(a.to<r.length-50||r.length==t.doc.length||!igt(a))){let u=l(a,t);u&&u.from<=n&&u.from>=e&&u.to>n&&(s=u)}}return s}function igt(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function RO(t,e,n){for(let r of t.facet(gZ)){let i=r(t,e,n);if(i)return i}return rgt(t,e,n)}function yZ(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Tx=Bt.define({map:yZ}),h1=Bt.define({map:yZ});function bZ(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Sh=yi.define({create(){return kt.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Tx)&&!sgt(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(xZ),i=r?kt.replace({widget:new dgt(r(e.state,n.value))}):J9;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(h1)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>je.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(J9.range(r,i))}return kt.set(e,!0)}});function LO(t,e,n){var r;let i=null;return(r=t.field(Sh,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function sgt(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function OZ(t,e){return t.field(Sh,!1)?e:e.concat(Bt.appendConfig.of(wZ()))}const ogt=t=>{for(let e of bZ(t)){let n=RO(t.state,e.from,e.to);if(n)return t.dispatch({effects:OZ(t.state,[Tx.of(n),kZ(t,n)])}),!0}return!1},agt=t=>{if(!t.state.field(Sh,!1))return!1;let e=[];for(let n of bZ(t)){let r=LO(t.state,n.from,n.to);r&&e.push(h1.of(r),kZ(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function kZ(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return je.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const lgt=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=RO(e,i.from,i.to);s&&n.push(Tx.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:OZ(t.state,n)}),!!n.length},cgt=t=>{let e=t.state.field(Sh,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(h1.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},ugt=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:ogt},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:agt},{key:"Ctrl-Alt-[",run:lgt},{key:"Ctrl-Alt-]",run:cgt}],hgt={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},xZ=Ze.define({combine(t){return Ul(t,hgt)}});function wZ(t){return[Sh,ggt]}function _Z(t,e){let{state:n}=t,r=n.facet(xZ),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=LO(t.state,a.from,a.to);l&&t.dispatch({effects:h1.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const J9=kt.replace({widget:new class extends su{toDOM(t){return _Z(t,null)}}});class dgt extends su{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return _Z(e,this.value)}}const fgt={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class av extends Rl{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function pgt(t={}){let e=Object.assign(Object.assign({},fgt),t),n=new av(e,!0),r=new av(e,!1),i=mr.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Xc)!=o.state.facet(Xc)||o.startState.field(Sh,!1)!=o.state.field(Sh,!1)||bn(o.startState)!=bn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new jc;for(let l of o.viewportLineBlocks){let u=LO(o.state,l.from,l.to)?r:RO(o.state,l.from,l.to)?n:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[i,fpt({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||Zt.empty},initialSpacer(){return new av(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=LO(o.state,a.from,a.to);if(u)return o.dispatch({effects:h1.of(u)}),!0;let h=RO(o.state,a.from,a.to);return h?(o.dispatch({effects:Tx.of(h)}),!0):!1}})}),wZ()]}const ggt=je.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Dx{constructor(e,n){this.specs=e;let r;function i(a){let l=qc.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof Ys?a=>a.prop(Bu)==o.data:o?a=>a==o:void 0,this.style=hZ(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new qc(r):null,this.themeType=n.themeType}static define(e,n){return new Dx(e,n||{})}}const J4=Ze.define(),vZ=Ze.define({combine(t){return t.length?[t[0]]:null}});function lv(t){let e=t.facet(J4);return e.length?e:t.facet(vZ)}function mgt(t,e){let n=[bgt],r;return t instanceof Dx&&(t.module&&n.push(je.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(vZ.of(t)):r?n.push(J4.computeN([je.darkTheme],i=>i.facet(je.darkTheme)==(r=="dark")?[t]:[])):n.push(J4.of(t)),n}class ygt{constructor(e){this.markCache=Object.create(null),this.tree=bn(e.state),this.decorations=this.buildDeco(e,lv(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=bn(e.state),r=lv(e.state),i=r!=lv(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return kt.none;let r=new jc;for(let{from:i,to:s}of e.visibleRanges)zpt(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=kt.mark({class:l})))},i,s);return r.finish()}}const bgt=Vl.high(mr.fromClass(ygt,{decorations:t=>t.decorations})),Ogt=Dx.define([{tag:J.meta,color:"#404740"},{tag:J.link,textDecoration:"underline"},{tag:J.heading,textDecoration:"underline",fontWeight:"bold"},{tag:J.emphasis,fontStyle:"italic"},{tag:J.strong,fontWeight:"bold"},{tag:J.strikethrough,textDecoration:"line-through"},{tag:J.keyword,color:"#708"},{tag:[J.atom,J.bool,J.url,J.contentSeparator,J.labelName],color:"#219"},{tag:[J.literal,J.inserted],color:"#164"},{tag:[J.string,J.deleted],color:"#a11"},{tag:[J.regexp,J.escape,J.special(J.string)],color:"#e40"},{tag:J.definition(J.variableName),color:"#00f"},{tag:J.local(J.variableName),color:"#30a"},{tag:[J.typeName,J.namespace],color:"#085"},{tag:J.className,color:"#167"},{tag:[J.special(J.variableName),J.macroName],color:"#256"},{tag:J.definition(J.propertyName),color:"#00c"},{tag:J.comment,color:"#940"},{tag:J.invalid,color:"#f00"}]),kgt=je.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),SZ=1e4,CZ="()[]{}",EZ=Ze.define({combine(t){return Ul(t,{afterCursor:!0,brackets:CZ,maxScanDistance:SZ,renderMatch:_gt})}}),xgt=kt.mark({class:"cm-matchingBracket"}),wgt=kt.mark({class:"cm-nonmatchingBracket"});function _gt(t){let e=[],n=t.matched?xgt:wgt;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const vgt=yi.define({create(){return kt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(EZ);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=ka(e.state,i.head,-1,r)||i.head>0&&ka(e.state,i.head-1,1,r)||r.afterCursor&&(ka(e.state,i.head,1,r)||i.head<e.state.doc.length&&ka(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return kt.set(n,!0)},provide:t=>je.decorations.from(t)}),Sgt=[vgt,kgt];function Cgt(t={}){return[EZ.of(t),Sgt]}const TZ=new Ot;function eC(t,e,n){let r=t.prop(e<0?Ot.openedBy:Ot.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function tC(t){let e=t.type.prop(TZ);return e?e(t.node):t}function ka(t,e,n,r={}){let i=r.maxScanDistance||SZ,s=r.brackets||CZ,o=bn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=eC(l.type,n,s);if(u&&l.from<l.to){let h=tC(l);if(h&&(n>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return Egt(t,e,n,l,h,u,s)}}return Tgt(t,e,n,o,a.type,i,s)}function Egt(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,h=a==null?void 0:a.cursor();if(h&&(n<0?h.childBefore(r.from):h.childAfter(r.to)))do if(n<0?h.to<=r.from:h.from>=r.to){if(u==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let d=tC(h);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(eC(h.type,n,o))u++;else if(eC(h.type,-n,o)){if(u==0){let d=tC(h);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}u--}}while(n<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function Tgt(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},h=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let f=0;!h.next().done&&f<=s;){let p=h.value;n<0&&(f+=p.length);let g=e+f*n;for(let m=n>0?0:p.length-1,y=n>0?p.length:-1;m!=y;m+=n){let b=o.indexOf(p[m]);if(!(b<0||r.resolveInner(g+m,1).type!=i))if(b%2==0==n>0)d++;else{if(d==1)return{start:u,end:{from:g+m,to:g+m+1},matched:b>>1==l>>1};d--}}n>0&&(f+=p.length)}return h.done?{start:u,matched:!1}:null}const Dgt=Object.create(null),eR=[yr.none],tR=[],nR=Object.create(null),Agt=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Agt[t]=Mgt(Dgt,e);function cv(t,e){tR.indexOf(t)>-1||(tR.push(t),console.warn(e))}function Mgt(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let h=t[u]||J[u];h?typeof h=="function"?l.length?l=l.map(h):cv(u,`Modifier ${u} used at start of tag`):l.length?cv(u,`Tag ${u} used as modifier`):l=Array.isArray(h)?h:[h]:cv(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=nR[i];if(s)return s.id;let o=nR[i]=yr.define({id:eR.length,name:r,props:[Gf({[r]:n})]});return eR.push(o),o.id}Dn.RTL,Dn.LTR;class gD{constructor(e,n,r){this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let n=bn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(AZ(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function rR(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Pgt(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=rR(e)+rR(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function DZ(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Pgt(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function $gt(t,e){return n=>{for(let r=bn(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}let iR=class{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}};function Ic(t){return t.selection.main.from}function AZ(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const mD=Wl.define();function Rgt(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:e},range:Se.cursor(a.from+s+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const sR=new WeakMap;function Lgt(t){if(!Array.isArray(t))return t;let e=sR.get(t);return e||sR.set(t,e=DZ(t)),e}const IO=Bt.define(),c0=Bt.define();class Igt{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Wr(e,n),i=Us(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(Wr(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let O=Wr(e,0),x=Us(O),T=x==e.length?0:-100;if(O!=n[0])if(O==r[0])T+=-200;else return null;return this.ret(T,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(a<0){for(let O=0,x=Math.min(e.length,200);O<x&&u<l;){let T=Wr(e,O);(T==n[u]||T==r[u])&&(i[u++]=O),O+=Us(T)}if(u<l)return null}let h=0,d=0,f=!1,p=0,g=-1,m=-1,y=/[a-z]/.test(e),b=!0;for(let O=0,x=Math.min(e.length,200),T=0;O<x&&d<l;){let A=Wr(e,O);a<0&&(h<l&&A==n[h]&&(s[h++]=O),p<l&&(A==n[p]||A==r[p]?(p==0&&(g=O),m=O+1,p++):p=0));let v,S=A<255?A>=48&&A<=57||A>=97&&A<=122?2:A>=65&&A<=90?1:0:(v=HT(A))!=v.toLowerCase()?1:v!=v.toUpperCase()?2:0;(!O||S==1&&y||T==0&&S!=0)&&(n[d]==A||r[d]==A&&(f=!0)?o[d++]=O:o.length&&(b=!1)),T=S,O+=Us(A)}return d==l&&o[0]==0&&b?this.result(-100+(f?-200:0),o,e):p==l&&g==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-900-e.length,[g,m]):d==l?this.result(-100+(f?-200:0)+-700+(b?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Us(Wr(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class Ngt{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const jr=Ze.define({combine(t){return Ul(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Fgt,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>oR(e(r),n(r)),optionClass:(e,n)=>r=>oR(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function oR(t,e){return t?e?t+" "+e:t:e}function Fgt(t,e,n,r,i,s){let o=t.textDirection==Dn.RTL,a=o,l=!1,u="top",h,d,f=e.left-i.left,p=i.right-e.right,g=r.right-r.left,m=r.bottom-r.top;if(a&&f<Math.min(g,p)?a=!1:!a&&p<Math.min(g,f)&&(a=!0),g<=(a?f:p))h=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,d=Math.min(400,a?f:p);else{l=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let O=i.bottom-e.bottom;O>=m||O>e.top?h=n.bottom-e.top:(u="bottom",h=e.bottom-n.top)}let y=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${h/y}px; max-width: ${d/b}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function Bgt(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let u=0;u<s.length;){let h=s[u++],d=s[u++];h>l&&o.appendChild(document.createTextNode(a.slice(l,h)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(h,d))),f.className="cm-completionMatchedText",l=d}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function uv(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Qgt{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(jr);this.optionContent=Bgt(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=uv(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let h=l.target,d;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(d=/-(\d+)$/.exec(h.id))&&+d[1]<u.length){this.applyCompletion(e,u[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(jr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:c0.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=uv(s.length,o,e.state.facet(jr).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=uv(n.options.length,n.selected,this.view.state.facet(jr).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>ks(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Vgt(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(jr).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let f=typeof u=="string"?u:u.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let p=i.appendChild(document.createElement("completion-section"));p.textContent=f}}const h=i.appendChild(document.createElement("li"));h.id=n+"-"+o,h.setAttribute("role","option");let d=this.optionClass(a);d&&(h.className=d);for(let f of this.optionContent){let p=f(a,this.view.state,this.view,l);p&&h.appendChild(p)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function zgt(t,e){return n=>new Qgt(n,t,e)}function Vgt(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function aR(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Wgt(t,e){let n=[],r=null,i=u=>{n.push(u);let{section:h}=u.completion;if(h){r||(r=[]);let d=typeof h=="string"?h:h.name;r.some(f=>f.name==d)||r.push(typeof h=="string"?{name:d}:h)}},s=e.facet(jr);for(let u of t)if(u.hasResult()){let h=u.result.getMatch;if(u.result.filter===!1)for(let d of u.result.options)i(new iR(d,u.source,h?h(d):[],1e9-n.length));else{let d=e.sliceDoc(u.from,u.to),f,p=s.filterStrict?new Ngt(d):new Igt(d);for(let g of u.result.options)if(f=p.match(g.label)){let m=g.displayLabel?h?h(g,f.matched):[]:f.matched;i(new iR(g,u.source,m,f.score+(g.boost||0)))}}}if(r){let u=Object.create(null),h=0,d=(f,p)=>{var g,m;return((g=f.rank)!==null&&g!==void 0?g:1e9)-((m=p.rank)!==null&&m!==void 0?m:1e9)||(f.name<p.name?-1:1)};for(let f of r.sort(d))h-=1e5,u[f.name]=h;for(let f of n){let{section:p}=f.completion;p&&(f.score+=u[typeof p=="string"?p:p.name])}}let o=[],a=null,l=s.compareCompletions;for(let u of n.sort((h,d)=>d.score-h.score||l(h.completion,d.completion))){let h=u.completion;!a||a.label!=h.label||a.detail!=h.detail||a.type!=null&&h.type!=null&&a.type!=h.type||a.apply!=h.apply||a.boost!=h.boost?o.push(u):aR(u.completion)>aR(a)&&(o[o.length-1]=u),a=u.completion}return o}class Od{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Od(this.options,lR(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s){let o=Wgt(e,n);if(!o.length)return i&&e.some(l=>l.state==1)?new Od(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(jr).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==l){a=u;break}}return new Od(o,lR(r,a),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:Zgt,above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new Od(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class NO{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new NO(qgt,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(jr),s=(r.override||n.languageDataAt("autocomplete",Ic(n)).map(Lgt)).map(a=>(this.active.find(u=>u.source==a)||new wi(a,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!Ugt(s,this.active)?o=Od.build(s,n,this.id,o,r):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new wi(a.source,0):a));for(let a of e.effects)a.is(PZ)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new NO(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:jgt}}function Ugt(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const jgt={"aria-autocomplete":"list"};function lR(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const qgt=[];function nC(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(mD);if(n&&e.activateOnCompletion(n))return"input"}return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class wi{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=nC(e,n),i=this;r?i=i.handleUserEvent(e,r,n):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new wi(i.source,0));for(let s of e.effects)if(s.is(IO))i=new wi(i.source,1,s.value?Ic(e.state):-1);else if(s.is(c0))i=new wi(i.source,0);else if(s.is(MZ))for(let o of s.value)o.source==i.source&&(i=o);return i}handleUserEvent(e,n,r){return n=="delete"||!r.activateOnTyping?this.map(e.changes):new wi(this.source,1)}handleChange(e){return e.changes.touchesRange(Ic(e.startState))?new wi(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new wi(this.source,this.state,e.mapPos(this.explicitPos))}}class zd extends wi{constructor(e,n,r,i,s){super(e,2,n),this.result=r,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,n,r){var i;let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),l=Ic(e.state);if((this.explicitPos<0?l<=o:l<this.from)||l>a||!s||n=="delete"&&Ic(e.startState)==this.from)return new wi(this.source,n=="input"&&r.activateOnTyping?1:0);let u=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return Ygt(s.validFor,e.state,o,a)?new zd(this.source,u,s,o,a):s.update&&(s=s.update(s,o,a,new gD(e.state,l,u>=0)))?new zd(this.source,u,s,s.from,(i=s.to)!==null&&i!==void 0?i:Ic(e.state)):new wi(this.source,1,u)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new wi(this.source,0):this.map(e.changes)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new zd(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new wi(this.source,0)}}function Ygt(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):AZ(t,!0).test(i)}const MZ=Bt.define({map(t,e){return t.map(n=>n.map(e))}}),PZ=Bt.define(),ji=yi.define({create(){return NO.start()},update(t,e){return t.update(e)},provide:t=>[JY.from(t,e=>e.tooltip),je.contentAttributes.from(t,e=>e.attrs)]});function yD(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(ji).active.find(i=>i.source==e.source);return r instanceof zd?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},Rgt(t.state,n,r.from,r.to)),{annotations:mD.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const Zgt=zgt(ji,yD);function Oy(t,e="option"){return n=>{let r=n.state.field(ji,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(jr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=eZ(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:PZ.of(a)}),!0}}const Xgt=t=>{let e=t.state.field(ji,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(jr).interactionDelay?!1:yD(t,e.open.options[e.open.selected])},Hgt=t=>t.state.field(ji,!1)?(t.dispatch({effects:IO.of(!0)}),!0):!1,Ggt=t=>{let e=t.state.field(ji,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:c0.of(null)}),!0)};class Kgt{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const Jgt=50,emt=1e3,tmt=mr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(ji).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(ji),n=t.state.facet(jr);if(!t.selectionSet&&!t.docChanged&&t.startState.field(ji)==e)return;let r=t.transactions.some(s=>(s.selection||s.docChanged)&&!nC(s,n));for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.updates.length+t.transactions.length>Jgt&&Date.now()-o.time>emt){for(let a of o.context.abortListeners)try{a()}catch(l){ks(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(IO)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.state==1&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)nC(s,n)=="input"?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(ji);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Ic(e),r=new gD(e,n,t.explicitPos==n),i=new Kgt(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:c0.of(null)}),ks(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(jr).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(jr);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let o=new zd(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:Ic(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)o=o.update(a,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(ji).active.find(o=>o.source==i.active.source);if(s&&s.state==1)if(i.done==null){let o=new wi(i.active.source,0);for(let a of i.updates)o=o.update(a,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:MZ.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(ji,!1);if(e&&e.tooltip&&this.view.state.facet(jr).closeOnBlur){let n=e.open&&eZ(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:c0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:IO.of(!1)}),20),this.composing=0}}}),nmt=typeof navigator=="object"&&/Win/.test(navigator.platform),rmt=Vl.highest(je.domEventHandlers({keydown(t,e){let n=e.state.field(ji,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(nmt&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&yD(e,r),!1}})),$Z=je.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class imt{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class bD{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,li.TrackDel),r=e.mapPos(this.to,1,li.TrackDel);return n==null||r==null?null:new bD(this.field,n,r)}}class OD{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let u=o,h=/^\t*/.exec(l)[0].length;for(let d=0;d<h;d++)u+=e.facet(c1);i.push(n+u.length-h),l=u+l.slice(h)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new bD(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1,h=l.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<n.length;d++)(a!=null?n[d].seq==a:h&&n[d].name==h)&&(u=d);if(u<0){let d=0;for(;d<n.length&&(a==null||n[d].seq!=null&&n[d].seq<a);)d++;n.splice(d,0,{seq:a,name:h}),u=d;for(let f of i)f.field>=u&&f.field++}i.push(new imt(u,r.length,s.index,s.index+h.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,u)=>{for(let h of i)h.line==r.length&&h.from>u&&(h.from--,h.to--);return l}),r.push(o)}return new OD(r,i)}}let smt=kt.widget({widget:new class extends su{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),omt=kt.mark({class:"cm-snippetField"});class Jf{constructor(e,n){this.ranges=e,this.active=n,this.deco=kt.set(e.map(r=>(r.from==r.to?smt:omt).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new Jf(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const d1=Bt.define({map(t,e){return t&&t.map(e)}}),amt=Bt.define(),u0=yi.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(d1))return n.value;if(n.is(amt)&&t)return new Jf(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>je.decorations.from(t,e=>e?e.deco:kt.none)});function kD(t,e){return Se.create(t.filter(n=>n.field==e).map(n=>Se.range(n.from,n.to)))}function lmt(t){let e=OD.parse(t);return(n,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,i),l={changes:{from:i,to:s,insert:tn.of(o)},scrollIntoView:!0,annotations:r?[mD.of(r),sr.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=kD(a,0)),a.some(u=>u.field>0)){let u=new Jf(a,0),h=l.effects=[d1.of(u)];n.state.field(u0,!1)===void 0&&h.push(Bt.appendConfig.of([u0,fmt,pmt,$Z]))}n.dispatch(n.state.update(l))}}function RZ(t){return({state:e,dispatch:n})=>{let r=e.field(u0,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:kD(r.ranges,i),effects:d1.of(s?null:new Jf(r.ranges,i)),scrollIntoView:!0})),!0}}const cmt=({state:t,dispatch:e})=>t.field(u0,!1)?(e(t.update({effects:d1.of(null)})),!0):!1,umt=RZ(1),hmt=RZ(-1),dmt=[{key:"Tab",run:umt,shift:hmt},{key:"Escape",run:cmt}],cR=Ze.define({combine(t){return t.length?t[0]:dmt}}),fmt=Vl.highest(o1.compute([cR],t=>t.facet(cR)));function zi(t,e){return Object.assign(Object.assign({},e),{apply:lmt(t)})}const pmt=je.domEventHandlers({mousedown(t,e){let n=e.state.field(u0,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:kD(n.ranges,i.field),effects:d1.of(n.ranges.some(s=>s.field>i.field)?new Jf(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),h0={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Qu=Bt.define({map(t,e){let n=e.mapPos(t,-1,li.TrackAfter);return n??void 0}}),xD=new class extends xh{};xD.startSide=1;xD.endSide=-1;const LZ=yi.define({create(){return Zt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Qu)&&(t=t.update({add:[xD.range(n.value,n.value+1)]}));return t}});function gmt(){return[ymt,LZ]}const hv="()[]{}<>";function IZ(t){for(let e=0;e<hv.length;e+=2)if(hv.charCodeAt(e)==t)return hv.charAt(e+1);return HT(t<128?t:t+1)}function NZ(t,e){return t.languageDataAt("closeBrackets",e)[0]||h0}const mmt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ymt=je.inputHandler.of((t,e,n,r)=>{if((mmt?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Us(Wr(r,0))==1||e!=i.from||n!=i.to)return!1;let s=kmt(t.state,r);return s?(t.dispatch(s),!0):!1}),bmt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=NZ(t,t.selection.main.head).brackets||h0.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=xmt(t.doc,o.head);for(let l of r)if(l==a&&Ax(t.doc,o.head)==IZ(Wr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Se.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Omt=[{key:"Backspace",run:bmt}];function kmt(t,e){let n=NZ(t,t.selection.main.head),r=n.brackets||h0.brackets;for(let i of r){let s=IZ(Wr(i,0));if(e==i)return s==i?vmt(t,i,r.indexOf(i+i+i)>-1,n):wmt(t,i,s,n.before||h0.before);if(e==s&&FZ(t,t.selection.main.from))return _mt(t,i,s)}return null}function FZ(t,e){let n=!1;return t.field(LZ).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Ax(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Us(Wr(n,0)))}function xmt(t,e){let n=t.sliceString(e-2,e);return Us(Wr(n,0))==n.length?n:n.slice(1)}function wmt(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Qu.of(o.to+e.length),range:Se.range(o.anchor+e.length,o.head+e.length)};let a=Ax(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Qu.of(o.head+e.length),range:Se.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function _mt(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&Ax(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Se.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function vmt(t,e,n,r){let i=r.stringPrefixes||h0.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Qu.of(a.to+e.length),range:Se.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Ax(t.doc,l),h;if(u==e){if(uR(t,l))return{changes:{insert:e+e,from:l},effects:Qu.of(l+e.length),range:Se.cursor(l+e.length)};if(FZ(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:Se.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(h=hR(t,l-2*e.length,i))>-1&&uR(t,h))return{changes:{insert:e+e+e+e,from:l},effects:Qu.of(l+e.length),range:Se.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=Tn.Word&&hR(t,l,i)>-1&&!Smt(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Qu.of(l+e.length),range:Se.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function uR(t,e){let n=bn(t).resolveInner(e+1);return n.parent&&n.from==e}function Smt(t,e,n,r){let i=bn(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let h=i.firstChild;for(;h&&h.from==i.from&&h.to-h.from>n.length+l;){if(t.sliceDoc(h.to-n.length,h.to)==n)return!1;h=h.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function hR(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Tn.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Tn.Word)return s}return-1}function Cmt(t={}){return[rmt,ji,jr.of(t),tmt,Emt,$Z]}const BZ=[{key:"Ctrl-Space",run:Hgt},{key:"Escape",run:Ggt},{key:"ArrowDown",run:Oy(!0)},{key:"ArrowUp",run:Oy(!1)},{key:"PageDown",run:Oy(!0,"page")},{key:"PageUp",run:Oy(!1,"page")},{key:"Enter",run:Xgt}],Emt=Vl.highest(o1.computeN([jr],t=>t.facet(jr).defaultKeymap?[BZ]:[]));function ei(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)QZ(t,arguments[e]);return t}function QZ(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)QZ(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const dR=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Df{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(dR(a)):dR,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Wr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=HT(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Us(e);let i=this.normalize(n);for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Df.prototype[Symbol.iterator]=function(){return this});const zZ={from:-1,to:-1,match:/.*/.exec("")},wD="gm"+(/x/.unicode==null?"":"u");class VZ{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=zZ,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new WZ(e,n,r,i,s);this.re=new RegExp(n,wD+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=FO(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=FO(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const dv=new WeakMap;class Vd{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=dv.get(e);if(!i||i.from>=r||i.to<=n){let a=new Vd(n,e.sliceString(n,r));return dv.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),dv.set(e,new Vd(o,s)),new Vd(n,s.slice(n-o,r-o))}}class WZ{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=zZ,this.matchPos=FO(e,i),this.re=new RegExp(n,wD+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Vd.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=FO(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Vd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(VZ.prototype[Symbol.iterator]=WZ.prototype[Symbol.iterator]=function(){return this});function Tmt(t){try{return new RegExp(t,wD),!0}catch{return!1}}function FO(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function rC(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=ei("input",{class:"cm-textfield",name:"line",value:e}),r=ei("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:BO.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},ei("label",t.state.phrase("Go to line"),": ",n)," ",ei("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,u,h,d]=s,f=h?+h.slice(1):0,p=u?+u:a.number;if(u&&d){let y=p/100;l&&(y=y*(l=="-"?-1:1)+a.number/o.doc.lines),p=Math.round(o.doc.lines*y)}else u&&l&&(p=p*(l=="-"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,p))),m=Se.cursor(g.from+Math.max(0,Math.min(f,g.length)));t.dispatch({effects:[BO.of(!1),je.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:r}}const BO=Bt.define(),fR=yi.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(BO)&&(t=n.value);return t},provide:t=>TO.from(t,e=>e?rC:null)}),Dmt=t=>{let e=EO(t,rC);if(!e){let n=[BO.of(!0)];t.state.field(fR,!1)==null&&n.push(Bt.appendConfig.of([fR,Amt])),t.dispatch({effects:n}),e=EO(t,rC)}return e&&e.dom.querySelector("input").select(),!0},Amt=je.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Mmt={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Pmt=Ze.define({combine(t){return Ul(t,Mmt,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function $mt(t){return[Fmt,Nmt]}const Rmt=kt.mark({class:"cm-selectionMatch"}),Lmt=kt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function pR(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Tn.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Tn.Word)}function Imt(t,e,n,r){return t(e.sliceDoc(n,n+1))==Tn.Word&&t(e.sliceDoc(r-1,r))==Tn.Word}const Nmt=mr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Pmt),{state:n}=t,r=n.selection;if(r.ranges.length>1)return kt.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return kt.none;let l=n.wordAt(i.head);if(!l)return kt.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return kt.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(pR(o,n,i.from,i.to)&&Imt(o,n,i.from,i.to)))return kt.none}else if(s=n.sliceDoc(i.from,i.to),!s)return kt.none}let a=[];for(let l of t.visibleRanges){let u=new Df(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:h,to:d}=u.value;if((!o||pR(o,n,h,d))&&(i.empty&&h<=i.from&&d>=i.to?a.push(Lmt.range(h,d)):(h>=i.to||d<=i.from)&&a.push(Rmt.range(h,d)),a.length>e.maxMatches))return kt.none}}return kt.set(a)}},{decorations:t=>t.decorations}),Fmt=je.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Bmt=({state:t,dispatch:e})=>{let{selection:n}=t,r=Se.create(n.ranges.map(i=>t.wordAt(i.head)||Se.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function Qmt(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new Df(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Df(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const zmt=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return Bmt({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=Qmt(t,r);return i?(e(t.update({selection:t.selection.addRange(Se.range(i.from,i.to),!1),effects:je.scrollIntoView(i.to)})),!0):!1},ep=Ze.define({combine(t){return Ul(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Jmt(e),scrollToMatch:e=>je.scrollIntoView(e)})}});class UZ{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Tmt(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new jmt(this):new Wmt(this)}getCursor(e,n=0,r){let i=e.doc?e:Vt.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?sd(this,i,n,r):id(this,i,n,r)}}class jZ{constructor(e){this.spec=e}}function id(t,e,n,r){return new Df(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?Vmt(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Vmt(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(QO(i,n-s))!=Tn.Word||e(zO(i,n-s))!=Tn.Word)&&(e(zO(i,r-s))!=Tn.Word||e(QO(i,r-s))!=Tn.Word))}class Wmt extends jZ{constructor(e){super(e)}nextMatch(e,n,r){let i=id(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=id(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=id(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=id(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=id(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function sd(t,e,n,r){return new VZ(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?Umt(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function QO(t,e){return t.slice(qr(t,e,!1),e)}function zO(t,e){return t.slice(e,qr(t,e))}function Umt(t){return(e,n,r)=>!r[0].length||(t(QO(r.input,r.index))!=Tn.Word||t(zO(r.input,r.index))!=Tn.Word)&&(t(zO(r.input,r.index+r[0].length))!=Tn.Word||t(QO(r.input,r.index+r[0].length))!=Tn.Word)}class jmt extends jZ{nextMatch(e,n,r){let i=sd(this.spec,e,r,e.doc.length).next();return i.done&&(i=sd(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=sd(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=sd(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=sd(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const d0=Bt.define(),_D=Bt.define(),Nc=yi.define({create(t){return new fv(iC(t).create(),null)},update(t,e){for(let n of e.effects)n.is(d0)?t=new fv(n.value.create(),t.panel):n.is(_D)&&(t=new fv(t.query,n.value?vD:null));return t},provide:t=>TO.from(t,e=>e.panel)});class fv{constructor(e,n){this.query=e,this.panel=n}}const qmt=kt.mark({class:"cm-searchMatch"}),Ymt=kt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Zmt=mr.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Nc))}update(t){let e=t.state.field(Nc);(e!=t.startState.field(Nc)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return kt.none;let{view:n}=this,r=new jc;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(u,h)=>{let d=n.state.selection.ranges.some(f=>f.from==u&&f.to==h);r.add(u,h,d?Ymt:qmt)})}return r.finish()}},{decorations:t=>t.decorations});function f1(t){return e=>{let n=e.state.field(Nc,!1);return n&&n.query.spec.valid?t(e,n):ZZ(e)}}const VO=f1((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Se.single(r.from,r.to),s=t.state.facet(ep);return t.dispatch({selection:i,effects:[SD(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),YZ(t),!0}),WO=f1((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=Se.single(i.from,i.to),o=t.state.facet(ep);return t.dispatch({selection:s,effects:[SD(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),YZ(t),!0}),Xmt=f1((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Se.create(n.map(r=>Se.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Hmt=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new Df(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Se.range(a.value.from,a.value.to))}return e(t.update({selection:Se.create(s,o),userEvent:"select.search.matches"})),!0},gR=f1((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=[],a,l,u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(je.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let h=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=Se.single(s.from-h,s.to-h),u.push(SD(t,s)),u.push(n.facet(ep).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:u,userEvent:"input.replace"}),!0}),Gmt=f1((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:je.announce.of(r),userEvent:"input.replace.all"}),!0});function vD(t){return t.state.facet(ep).createPanel(t)}function iC(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=t.facet(ep);return new UZ({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function qZ(t){let e=EO(t,vD);return e&&e.dom.querySelector("[main-field]")}function YZ(t){let e=qZ(t);e&&e==t.root.activeElement&&e.select()}const ZZ=t=>{let e=t.state.field(Nc,!1);if(e&&e.panel){let n=qZ(t);if(n&&n!=t.root.activeElement){let r=iC(t.state,e.query.spec);r.valid&&t.dispatch({effects:d0.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[_D.of(!0),e?d0.of(iC(t.state,e.query.spec)):Bt.appendConfig.of(t0t)]});return!0},XZ=t=>{let e=t.state.field(Nc,!1);if(!e||!e.panel)return!1;let n=EO(t,vD);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:_D.of(!1)}),!0},Kmt=[{key:"Mod-f",run:ZZ,scope:"editor search-panel"},{key:"F3",run:VO,shift:WO,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:VO,shift:WO,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:XZ,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Hmt},{key:"Mod-Alt-g",run:Dmt},{key:"Mod-d",run:zmt,preventDefault:!0}];class Jmt{constructor(e){this.view=e;let n=this.query=e.state.field(Nc).query.spec;this.commit=this.commit.bind(this),this.searchField=ei("input",{value:n.search,placeholder:us(e,"Find"),"aria-label":us(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ei("input",{value:n.replace,placeholder:us(e,"Replace"),"aria-label":us(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ei("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=ei("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=ei("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return ei("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=ei("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>VO(e),[us(e,"next")]),r("prev",()=>WO(e),[us(e,"previous")]),r("select",()=>Xmt(e),[us(e,"all")]),ei("label",null,[this.caseField,us(e,"match case")]),ei("label",null,[this.reField,us(e,"regexp")]),ei("label",null,[this.wordField,us(e,"by word")]),...e.state.readOnly?[]:[ei("br"),this.replaceField,r("replace",()=>gR(e),[us(e,"replace")]),r("replaceAll",()=>Gmt(e),[us(e,"replace all")])],ei("button",{name:"close",onclick:()=>XZ(e),"aria-label":us(e,"close"),type:"button"},["×"])])}commit(){let e=new UZ({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:d0.of(e)}))}keydown(e){Dft(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?WO:VO)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),gR(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(d0)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(ep).top}}function us(t,e){return t.state.phrase(e)}const ky=30,xy=/[\s\.,:;?!]/;function SD(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-ky),o=Math.min(i,n+ky),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<ky;l++)if(!xy.test(a[l+1])&&xy.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-ky;l--)if(!xy.test(a[l-1])&&xy.test(a[l])){a=a.slice(0,l);break}}return je.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const e0t=je.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),t0t=[Nc,Vl.low(Zmt),e0t],n0t=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=ED(t.state,n.from);return r.line?r0t(t):r.block?s0t(t):!1};function CD(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const r0t=CD(l0t,0),i0t=CD(HZ,0),s0t=CD((t,e)=>HZ(t,e,a0t(e)),0);function ED(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Cp=50;function o0t(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Cp,r),o=t.sliceDoc(i,i+Cp),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let h,d;i-r<=2*Cp?h=d=t.sliceDoc(r,i):(h=t.sliceDoc(r,r+Cp),d=t.sliceDoc(i-Cp,i));let f=/^\s*/.exec(h)[0].length,p=/\s*$/.exec(d)[0].length,g=d.length-p-n.length;return h.slice(f,f+e.length)==e&&d.slice(g,g+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(h.charAt(f+e.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(d.charAt(g-1))?1:0}}:null}function a0t(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function HZ(t,e,n=e.selection.ranges){let r=n.map(s=>ED(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>o0t(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:h}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function l0t(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,u=ED(e,s).line;if(u){for(let h=s;h<=o;){let d=e.doc.lineAt(h);if(d.from>i&&(s==o||o>d.from)){i=d.from;let f=/^\s*/.exec(d.text)[0].length,p=f==d.length,g=d.text.slice(f,f+u.length)==u?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:g,token:u,indent:f,empty:p,single:!1})}h=d.to+1}if(l<1e9)for(let h=a;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:h,single:d}of r)(d||!h)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,h=u+l.length;o.text[h-o.from]==" "&&h++,s.push({from:u,to:h})}return{changes:s}}return null}const sC=Wl.define(),c0t=Wl.define(),u0t=Ze.define(),GZ=Ze.define({combine(t){return Ul(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),KZ=yi.define({create(){return xa.empty},update(t,e){let n=e.state.facet(GZ),r=e.annotation(sC);if(r){let l=Ji.fromTransaction(e,r.selection),u=r.side,h=u==0?t.undone:t.done;return l?h=UO(h,h.length,n.minDepth,l):h=tX(h,e.startState.selection),new xa(u==0?r.rest:h,u==0?h:r.rest)}let i=e.annotation(c0t);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(sr.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Ji.fromTransaction(e),o=e.annotation(sr.time),a=e.annotation(sr.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new xa(t.done.map(Ji.fromJSON),t.undone.map(Ji.fromJSON))}});function h0t(t={}){return[KZ,GZ.of(t),je.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?JZ:e.inputType=="historyRedo"?oC:null;return r?(e.preventDefault(),r(n)):!1}})]}function Mx(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(KZ,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const JZ=Mx(0,!1),oC=Mx(1,!1),d0t=Mx(0,!0),f0t=Mx(1,!0);class Ji{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Ji(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Ji(e.changes&&fr.fromJSON(e.changes),[],e.mapped&&Ea.fromJSON(e.mapped),e.startSelection&&Se.fromJSON(e.startSelection),e.selectionsAfter.map(Se.fromJSON))}static fromTransaction(e,n){let r=Zs;for(let i of e.startState.facet(u0t)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new Ji(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Zs)}static selection(e){return new Ji(void 0,Zs,void 0,void 0,e)}}function UO(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function p0t(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],h=n[l++];a>=u&&o<=h&&(r=!0)}}),r}function g0t(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function eX(t,e){return t.length?e.length?t.concat(e):t:e}const Zs=[],m0t=200;function tX(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-m0t));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),UO(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Ji.selection([e])]}function y0t(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function pv(t,e){if(!t.length)return t;let n=t.length,r=Zs;for(;n;){let i=b0t(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Ji.selection(r)]:Zs}function b0t(t,e,n){let r=eX(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Zs,n);if(!t.changes)return Ji.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Ji(i,Bt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const O0t=/^(input\.type|delete)($|\.)/;class xa{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new xa(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||O0t.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,p0t(a.changes,e.changes))||r=="input.type.compose")?o=UO(o,o.length-1,i.minDepth,new Ji(e.changes.compose(a.changes),eX(e.effects,a.effects),a.mapped,a.startSelection,Zs)):o=UO(o,o.length,i.minDepth,e),new xa(o,Zs,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Zs;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&g0t(s[s.length-1],e)?this:new xa(tX(this.done,e),this.undone,n,r)}addMapping(e){return new xa(pv(this.done,e),pv(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:sC.of({side:e,rest:y0t(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?Zs:i.slice(0,i.length-1);return s.mapped&&(a=pv(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:sC.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}xa.empty=new xa(Zs,Zs);const k0t=[{key:"Mod-z",run:JZ,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:oC,preventDefault:!0},{linux:"Ctrl-Shift-z",run:oC,preventDefault:!0},{key:"Mod-u",run:d0t,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:f0t,preventDefault:!0}];function tp(t,e){return Se.create(t.ranges.map(e),t.mainIndex)}function Qa(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Yo({state:t,dispatch:e},n){let r=tp(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Qa(t,r)),!0)}function Px(t,e){return Se.cursor(e?t.to:t.from)}function nX(t,e){return Yo(t,n=>n.empty?t.moveByChar(n,e):Px(n,e))}function bi(t){return t.textDirectionAt(t.state.selection.main.head)==Dn.LTR}const rX=t=>nX(t,!bi(t)),iX=t=>nX(t,bi(t));function sX(t,e){return Yo(t,n=>n.empty?t.moveByGroup(n,e):Px(n,e))}const x0t=t=>sX(t,!bi(t)),w0t=t=>sX(t,bi(t));function _0t(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function $x(t,e,n){let r=bn(t).resolveInner(e.head),i=n?Ot.closedBy:Ot.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;_0t(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=n?ka(t,r.from,1):ka(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Se.cursor(a,n?-1:1)}const v0t=t=>Yo(t,e=>$x(t.state,e,!bi(t))),S0t=t=>Yo(t,e=>$x(t.state,e,bi(t)));function oX(t,e){return Yo(t,n=>{if(!n.empty)return Px(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const aX=t=>oX(t,!1),lX=t=>oX(t,!0);function cX(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(je.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function uX(t,e){let n=cX(t),{state:r}=t,i=tp(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):Px(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=je.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Qa(r,i),{effects:s}),!0}const mR=t=>uX(t,!1),aC=t=>uX(t,!0);function ou(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Se.cursor(r.from+s))}return i}const C0t=t=>Yo(t,e=>ou(t,e,!0)),E0t=t=>Yo(t,e=>ou(t,e,!1)),T0t=t=>Yo(t,e=>ou(t,e,!bi(t))),D0t=t=>Yo(t,e=>ou(t,e,bi(t))),A0t=t=>Yo(t,e=>Se.cursor(t.lineBlockAt(e.head).from,1)),M0t=t=>Yo(t,e=>Se.cursor(t.lineBlockAt(e.head).to,-1));function P0t(t,e,n){let r=!1,i=tp(t.selection,s=>{let o=ka(t,s.head,-1)||ka(t,s.head,1)||s.head>0&&ka(t,s.head-1,1)||s.head<t.doc.length&&ka(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Se.cursor(a)});return r?(e(Qa(t,i)),!0):!1}const $0t=({state:t,dispatch:e})=>P0t(t,e);function co(t,e){let n=tp(t.state.selection,r=>{let i=e(r);return Se.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Qa(t.state,n)),!0)}function hX(t,e){return co(t,n=>t.moveByChar(n,e))}const dX=t=>hX(t,!bi(t)),fX=t=>hX(t,bi(t));function pX(t,e){return co(t,n=>t.moveByGroup(n,e))}const R0t=t=>pX(t,!bi(t)),L0t=t=>pX(t,bi(t)),I0t=t=>co(t,e=>$x(t.state,e,!bi(t))),N0t=t=>co(t,e=>$x(t.state,e,bi(t)));function gX(t,e){return co(t,n=>t.moveVertically(n,e))}const mX=t=>gX(t,!1),yX=t=>gX(t,!0);function bX(t,e){return co(t,n=>t.moveVertically(n,e,cX(t).height))}const yR=t=>bX(t,!1),bR=t=>bX(t,!0),F0t=t=>co(t,e=>ou(t,e,!0)),B0t=t=>co(t,e=>ou(t,e,!1)),Q0t=t=>co(t,e=>ou(t,e,!bi(t))),z0t=t=>co(t,e=>ou(t,e,bi(t))),V0t=t=>co(t,e=>Se.cursor(t.lineBlockAt(e.head).from)),W0t=t=>co(t,e=>Se.cursor(t.lineBlockAt(e.head).to)),OR=({state:t,dispatch:e})=>(e(Qa(t,{anchor:0})),!0),kR=({state:t,dispatch:e})=>(e(Qa(t,{anchor:t.doc.length})),!0),xR=({state:t,dispatch:e})=>(e(Qa(t,{anchor:t.selection.main.anchor,head:0})),!0),wR=({state:t,dispatch:e})=>(e(Qa(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),U0t=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),j0t=({state:t,dispatch:e})=>{let n=Rx(t).map(({from:r,to:i})=>Se.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Se.create(n),userEvent:"select"})),!0},q0t=({state:t,dispatch:e})=>{let n=tp(t.selection,r=>{var i;let s=bn(t).resolveStack(r.from,1);for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&(!((i=a.parent)===null||i===void 0)&&i.parent))return Se.range(a.to,a.from)}return r});return e(Qa(t,n)),!0},Y0t=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Se.create([n.main]):n.main.empty||(r=Se.create([Se.cursor(n.main.head)])),r?(e(Qa(t,r)),!0):!1};function p1(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=wy(t,l,!1)):l>o&&(n="delete.forward",l=wy(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=wy(t,o,!1),a=wy(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Se.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?je.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function wy(t,e,n){if(t instanceof je)for(let r of t.state.facet(je.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const OX=(t,e,n)=>p1(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let u=Qo(a,s.tabSize),h=u%$O(s)||$O(s);for(let d=0;d<h&&a[a.length-1-d]==" ";d++)i--;l=i}else l=qr(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=qr(o.text,l-o.from,!1,!1)+o.from);return l}),lC=t=>OX(t,!1,!0),kX=t=>OX(t,!0,!1),xX=(t,e)=>p1(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=qr(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),h=o(u);if(a!=null&&h!=a)break;(u!=" "||r!=n.head)&&(a=h),r=l}return r}),wX=t=>xX(t,!1),Z0t=t=>xX(t,!0),X0t=t=>p1(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),H0t=t=>p1(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),G0t=t=>p1(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),K0t=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:tn.of(["",""])},range:Se.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},J0t=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:qr(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:qr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Se.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Rx(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function _X(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of Rx(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Se.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Se.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Se.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const e1t=({state:t,dispatch:e})=>_X(t,e,!1),t1t=({state:t,dispatch:e})=>_X(t,e,!0);function vX(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Rx(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const n1t=({state:t,dispatch:e})=>vX(t,e,!1),r1t=({state:t,dispatch:e})=>vX(t,e,!0),i1t=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Rx(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=tp(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function s1t(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=bn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Ot.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const o1t=SX(!1),a1t=SX(!0);function SX(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&s1t(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new Ex(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=fD(u,s);for(h==null&&(h=Qo(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",l0(e,h)];return l&&d.push(l0(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:tn.of(d)},range:Se.cursor(s+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function TD(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Se.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const l1t=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Ex(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=TD(t,(s,o,a)=>{let l=fD(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],h=l0(t,l);(u!=h||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:h}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},c1t=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(TD(t,(n,r)=>{r.push({from:n.from,insert:t.facet(c1)})}),{userEvent:"input.indent"})),!0),u1t=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(TD(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=Qo(i,t.tabSize),o=0,a=l0(t,Math.max(0,s-$O(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),h1t=[{key:"Ctrl-b",run:rX,shift:dX,preventDefault:!0},{key:"Ctrl-f",run:iX,shift:fX},{key:"Ctrl-p",run:aX,shift:mX},{key:"Ctrl-n",run:lX,shift:yX},{key:"Ctrl-a",run:A0t,shift:V0t},{key:"Ctrl-e",run:M0t,shift:W0t},{key:"Ctrl-d",run:kX},{key:"Ctrl-h",run:lC},{key:"Ctrl-k",run:X0t},{key:"Ctrl-Alt-h",run:wX},{key:"Ctrl-o",run:K0t},{key:"Ctrl-t",run:J0t},{key:"Ctrl-v",run:aC}],d1t=[{key:"ArrowLeft",run:rX,shift:dX,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:x0t,shift:R0t,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:T0t,shift:Q0t,preventDefault:!0},{key:"ArrowRight",run:iX,shift:fX,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:w0t,shift:L0t,preventDefault:!0},{mac:"Cmd-ArrowRight",run:D0t,shift:z0t,preventDefault:!0},{key:"ArrowUp",run:aX,shift:mX,preventDefault:!0},{mac:"Cmd-ArrowUp",run:OR,shift:xR},{mac:"Ctrl-ArrowUp",run:mR,shift:yR},{key:"ArrowDown",run:lX,shift:yX,preventDefault:!0},{mac:"Cmd-ArrowDown",run:kR,shift:wR},{mac:"Ctrl-ArrowDown",run:aC,shift:bR},{key:"PageUp",run:mR,shift:yR},{key:"PageDown",run:aC,shift:bR},{key:"Home",run:E0t,shift:B0t,preventDefault:!0},{key:"Mod-Home",run:OR,shift:xR},{key:"End",run:C0t,shift:F0t,preventDefault:!0},{key:"Mod-End",run:kR,shift:wR},{key:"Enter",run:o1t},{key:"Mod-a",run:U0t},{key:"Backspace",run:lC,shift:lC},{key:"Delete",run:kX},{key:"Mod-Backspace",mac:"Alt-Backspace",run:wX},{key:"Mod-Delete",mac:"Alt-Delete",run:Z0t},{mac:"Mod-Backspace",run:H0t},{mac:"Mod-Delete",run:G0t}].concat(h1t.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),f1t=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:v0t,shift:I0t},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:S0t,shift:N0t},{key:"Alt-ArrowUp",run:e1t},{key:"Shift-Alt-ArrowUp",run:n1t},{key:"Alt-ArrowDown",run:t1t},{key:"Shift-Alt-ArrowDown",run:r1t},{key:"Escape",run:Y0t},{key:"Mod-Enter",run:a1t},{key:"Alt-l",mac:"Ctrl-l",run:j0t},{key:"Mod-i",run:q0t,preventDefault:!0},{key:"Mod-[",run:u1t},{key:"Mod-]",run:c1t},{key:"Mod-Alt-\\",run:l1t},{key:"Shift-Mod-k",run:i1t},{key:"Shift-Mod-\\",run:$0t},{key:"Mod-/",run:n0t},{key:"Alt-A",run:i0t}].concat(d1t);class jO{static create(e,n,r,i,s){let o=i+(i<<8)+e+(n<<4)|0;return new jO(e,n,r,o,s,[],[])}constructor(e,n,r,i,s,o,a){this.type=e,this.value=n,this.from=r,this.hash=i,this.end=s,this.children=o,this.positions=a,this.hashProp=[[Ot.contextHash,i]]}addChild(e,n){e.prop(Ot.contextHash)!=this.hash&&(e=new nn(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new nn(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,s,o)=>new nn(yr.none,i,s,o,this.hashProp)})}}var Le;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(Le||(Le={}));class p1t{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class g1t{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Hg(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let i=n;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function _R(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==Le.OrderedList?MD:AD)(n,e,!1);return r>0&&(t.type!=Le.BulletList||DD(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const CX={[Le.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(zt(Le.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(uo(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[Le.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[Le.OrderedList]:_R,[Le.BulletList]:_R,[Le.Document](){return!0}};function uo(t){return t==32||t==9||t==10||t==13}function Hg(t,e=0){for(;e<t.length&&uo(t.charCodeAt(e));)e++;return e}function vR(t,e,n){for(;e>n&&uo(t.charCodeAt(e-1));)e--;return e}function EX(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function TX(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function DD(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let i=t.pos+1;i<t.text.length;i++){let s=t.text.charCodeAt(i);if(s==t.next)r++;else if(!uo(s))return-1}return n&&t.next==45&&MX(t)>-1&&t.depth==e.stack.length||r<3?-1:1}function DX(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function AD(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||uo(t.text.charCodeAt(t.pos+1)))&&(!n||DX(e,Le.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function MD(t,e,n){let r=t.pos,i=t.next;for(;i>=48&&i<=57;){r++;if(r==t.text.length)return-1;i=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||i!=46&&i!=41||r<t.text.length-1&&!uo(t.text.charCodeAt(r+1))||n&&!DX(e,Le.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function AX(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function MX(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&uo(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const cC=/^[ \t]*$/,PX=/-->/,$X=/\?>/,uC=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,PX],[/^\s*<\?/,$X],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,cC],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,cC]];function RX(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let i=0,s=uC.length-(n?1:0);i<s;i++)if(uC[i][0].test(r))return i;return-1}function SR(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function ku(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==Le.CodeText?t[r].to=n:t.push(zt(Le.CodeText,e,n))}const _y={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),i=t.lineStart+r,s=t.lineStart+e.text.length,o=[],a=[];for(ku(o,i,s);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){ku(a,t.lineStart-1,t.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<n)break;{if(a.length){for(let u of a)u.type==Le.CodeText?ku(o,u.from,u.to):o.push(u);a=[]}ku(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u);s=t.lineStart+e.text.length;let l=t.lineStart+e.findColumn(e.baseIndent+4);l<s&&ku(o,l,s)}}return a.length&&(a=a.filter(l=>l.type!=Le.CodeText),a.length&&(e.markers=a.concat(e.markers))),t.addNode(t.buffer.writeElements(o,-i).finish(Le.CodeBlock,s-i),i),!0},FencedCode(t,e){let n=EX(e);if(n<0)return!1;let r=t.lineStart+e.pos,i=e.next,s=n-e.pos,o=e.skipSpace(n),a=vR(e.text,e.text.length,o),l=[zt(Le.CodeMark,r,r+s)];o<a&&l.push(zt(Le.CodeInfo,t.lineStart+o,t.lineStart+a));for(let u=!0;t.nextLine()&&e.depth>=t.stack.length;u=!1){let h=e.pos;if(e.indent-e.baseIndent<4)for(;h<e.text.length&&e.text.charCodeAt(h)==i;)h++;if(h-e.pos>=s&&e.skipSpace(h)==e.text.length){for(let d of e.markers)l.push(d);l.push(zt(Le.CodeMark,t.lineStart+e.pos,t.lineStart+h)),t.nextLine();break}else{u||ku(l,t.lineStart-1,t.lineStart);for(let p of e.markers)l.push(p);let d=t.lineStart+e.basePos,f=t.lineStart+e.text.length;d<f&&ku(l,d,f)}}return t.addNode(t.buffer.writeElements(l,-r).finish(Le.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=TX(e);return n<0?!1:(t.startContext(Le.Blockquote,e.pos),t.addNode(Le.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(DD(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(Le.HorizontalRule,n),!0},BulletList(t,e){let n=AD(e,t,!1);if(n<0)return!1;t.block.type!=Le.BulletList&&t.startContext(Le.BulletList,e.basePos,e.next);let r=SR(e,e.pos+1);return t.startContext(Le.ListItem,e.basePos,r-e.baseIndent),t.addNode(Le.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=MD(e,t,!1);if(n<0)return!1;t.block.type!=Le.OrderedList&&t.startContext(Le.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=SR(e,e.pos+n);return t.startContext(Le.ListItem,e.basePos,r-e.baseIndent),t.addNode(Le.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=AX(e);if(n<0)return!1;let r=e.pos,i=t.lineStart+r,s=vR(e.text,e.text.length,r),o=s;for(;o>r&&e.text.charCodeAt(o-1)==e.next;)o--;(o==s||o==r||!uo(e.text.charCodeAt(o-1)))&&(o=e.text.length);let a=t.buffer.write(Le.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,o),i+n+1),-i);o<e.text.length&&a.write(Le.HeaderMark,o-r,s-r);let l=a.finish(Le.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(l,i),!0},HTMLBlock(t,e){let n=RX(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,i=uC[n][1],s=[],o=i!=cC;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){o=!1;break}for(let u of e.markers)s.push(u)}o&&t.nextLine();let a=i==PX?Le.CommentBlock:i==$X?Le.ProcessingInstructionBlock:Le.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(s,-r).finish(a,l-r),r),!0},SetextHeading:void 0};class m1t{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),s=this.advance(i);return s>-1&&s<i.length?this.complete(e,r,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&Hg(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,zt(Le.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(WX(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(zt(Le.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(zX(e,Hg(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=Hg(e,this.pos),r=0;if(n>this.pos){let i=VX(e,n,this.start);if(i){let s=gv(e,i.to-this.start);s>0&&(this.nextStage(i),r=s)}}return r||(r=gv(e,this.pos)),r>0&&r<e.length?r:-1}else return gv(e,this.pos)}}}function gv(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!uo(n))return-1}return e}class y1t{nextLine(e,n,r){let i=n.depth<e.stack.length?-1:MX(n),s=n.next;if(i<0)return!1;let o=zt(Le.HeaderMark,e.lineStart+n.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,zt(s==61?Le.SetextHeading1:Le.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),o])),!0}finish(){return!1}}const b1t={LinkReference(t,e){return e.content.charCodeAt(0)==91?new m1t(e):null},SetextHeading(){return new y1t}},O1t=[(t,e)=>AX(e)>=0,(t,e)=>EX(e)>=0,(t,e)=>TX(e)>=0,(t,e)=>AD(e,t,!0)>=0,(t,e)=>MD(e,t,!0)>=0,(t,e)=>DD(e,t,!0)>=0,(t,e)=>RX(e,t,!0)>=0],k1t={text:"",end:0};class x1t{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.line=new g1t,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=jO.create(Le.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new S1t(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let s=e.markers[r++];this.addNode(s.type,s.from,s.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let n=new p1t(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=UX(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=k1t;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let s=this.ranges[i].from,o=this.lineChunkAt(s);n.end=s+o.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+o,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],s=this.parser.skipContextMarkup[i.type];if(!s)throw new Error("Unhandled block context "+Le[i.type]);if(!s(i,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=jO.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new nn(this.parser.nodeSet.types[e],Af,Af,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(fC(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?LX(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=fC(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Le.Paragraph,e.content.length),e.start)}elt(e,n,r,i){return typeof e=="string"?zt(this.parser.getNodeType(e),n,r,i):new FX(e,n)}get buffer(){return new NX(this.parser.nodeSet)}}function LX(t,e,n,r,i){let s=t[e].to,o=[],a=[],l=n.from+r;function u(h,d){for(;d?h>=s:h>s;){let f=t[e+1].from-s;r+=f,h+=f,e++,s=t[e].to}}for(let h=n.firstChild;h;h=h.nextSibling){u(h.from+r,!0);let d=h.from+r,f,p=i.get(h.tree);p?f=p:h.to+r>s?(f=LX(t,e,h,r,i),u(h.to+r,!1)):f=h.toTree(),o.push(f),a.push(d-l)}return u(n.to+r,!1),new nn(n.type,o,a,n.to+r-l,n.tree?n.tree.propValues:void 0)}class Lx extends uD{constructor(e,n,r,i,s,o,a,l,u){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=s,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=l,this.wrappers=u,this.nodeTypes=Object.create(null);for(let h of e.types)this.nodeTypes[h.name]=h.id}createParse(e,n,r){let i=new x1t(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}configure(e){let n=hC(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,s=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),u=this.inlineNames.slice(),h=this.endLeafBlock.slice(),d=this.wrappers;if(Ep(n.defineNodes)){i=Object.assign({},i);let f=r.types.slice(),p;for(let g of n.defineNodes){let{name:m,block:y,composite:b,style:O}=typeof g=="string"?{name:g}:g;if(f.some(A=>A.name==m))continue;b&&(i[f.length]=(A,v,S)=>b(v,S,A.value));let x=f.length,T=b?["Block","BlockContext"]:y?x>=Le.ATXHeading1&&x<=Le.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;f.push(yr.define({id:x,name:m,props:T&&[[Ot.group,T]]})),O&&(p||(p={}),Array.isArray(O)||O instanceof yo?p[m]=O:Object.assign(p,O))}r=new l1(f),p&&(r=r.extend(Gf(p)))}if(Ep(n.props)&&(r=r.extend(...n.props)),Ep(n.remove))for(let f of n.remove){let p=this.blockNames.indexOf(f),g=this.inlineNames.indexOf(f);p>-1&&(s[p]=o[p]=void 0),g>-1&&(l[g]=void 0)}if(Ep(n.parseBlock))for(let f of n.parseBlock){let p=a.indexOf(f.name);if(p>-1)s[p]=f.parse,o[p]=f.leaf;else{let g=f.before?vy(a,f.before):f.after?vy(a,f.after)+1:a.length-1;s.splice(g,0,f.parse),o.splice(g,0,f.leaf),a.splice(g,0,f.name)}f.endLeaf&&h.push(f.endLeaf)}if(Ep(n.parseInline))for(let f of n.parseInline){let p=u.indexOf(f.name);if(p>-1)l[p]=f.parse;else{let g=f.before?vy(u,f.before):f.after?vy(u,f.after)+1:u.length-1;l.splice(g,0,f.parse),u.splice(g,0,f.name)}}return n.wrap&&(d=d.concat(n.wrap)),new Lx(r,s,o,a,h,i,l,u,d)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new _1t(this,e,n);e:for(let i=n;i<r.end;){let s=r.char(i);for(let o of this.inlineParsers)if(o){let a=o(r,s,i);if(a>=0){i=a;continue e}}i++}return r.resolveMarkers(0)}}function Ep(t){return t!=null&&t.length>0}function hC(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=hC(t[0]);if(t.length==1)return e;let n=hC(t.slice(1));if(!n||!e)return e||n;let r=(o,a)=>(o||Af).concat(a||Af),i=e.wrap,s=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:i?s?(o,a,l,u)=>i(s(o,a,l,u),a,l,u):i:s}}function vy(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let IX=[yr.none];for(let t=1,e;e=Le[t];t++)IX[t]=yr.define({id:t,name:e,props:t>=Le.Escape?[]:[[Ot.group,t in CX?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const Af=[];class NX{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,i=0){return this.content.push(e,n,r,4+i*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return nn.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}}let f0=class{constructor(e,n,r,i=Af){this.type=e,this.from=n,this.to=r,this.children=i}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new NX(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class FX{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Af}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function zt(t,e,n,r){return new f0(t,e,n,r)}const BX={resolve:"Emphasis",mark:"EmphasisMark"},QX={resolve:"Emphasis",mark:"EmphasisMark"},od={},dC={};class Bs{constructor(e,n,r,i){this.type=e,this.from=n,this.to=r,this.side=i}}const CR="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let p0=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{p0=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const mv={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let i=0;i<CR.length;i++)if(CR.charCodeAt(i)==r)return t.append(zt(Le.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(zt(Le.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let i=r-n,s=0;for(;r<t.end;r++)if(t.char(r)==96){if(s++,s==i&&t.char(r+1)!=96)return t.append(zt(Le.InlineCode,n,r+1,[zt(Le.CodeMark,n,n+i),zt(Le.CodeMark,r+1-i,r+1)]))}else s=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return t.append(zt(Le.Autolink,n,n+1+i[0].length,[zt(Le.LinkMark,n,n+1),zt(Le.URL,n+1,n+i[0].length),zt(Le.LinkMark,n+i[0].length,n+1+i[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(s)return t.append(zt(Le.Comment,n,n+1+s[0].length));let o=/^\?[^]*?\?>/.exec(r);if(o)return t.append(zt(Le.ProcessingInstruction,n,n+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return a?t.append(zt(Le.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let i=t.slice(n-1,n),s=t.slice(r,r+1),o=p0.test(i),a=p0.test(s),l=/\s|^$/.test(i),u=/\s|^$/.test(s),h=!u&&(!a||l||o),d=!l&&(!o||u||a),f=h&&(e==42||!d||o),p=d&&(e==42||!h||a);return t.append(new Bs(e==95?BX:QX,n,r,(f?1:0)|(p?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(zt(Le.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(zt(Le.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new Bs(od,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new Bs(dC,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let i=t.parts[r];if(i instanceof Bs&&(i.type==od||i.type==dC)){if(!i.side||t.skipSpace(i.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let s=t.takeContent(r),o=t.parts[r]=w1t(t,s,i.type==od?Le.Link:Le.Image,i.from,n+1);if(i.type==od)for(let a=0;a<r;a++){let l=t.parts[a];l instanceof Bs&&l.type==od&&(l.side=0)}return o.to}}return-1}};function w1t(t,e,n,r,i){let{text:s}=t,o=t.char(i),a=i;if(e.unshift(zt(Le.LinkMark,r,r+(n==Le.Image?2:1))),e.push(zt(Le.LinkMark,i-1,i)),o==40){let l=t.skipSpace(i+1),u=zX(s,l-t.offset,t.offset),h;u&&(l=t.skipSpace(u.to),l!=u.to&&(h=VX(s,l-t.offset,t.offset),h&&(l=t.skipSpace(h.to)))),t.char(l)==41&&(e.push(zt(Le.LinkMark,i,i+1)),a=l+1,u&&e.push(u),h&&e.push(h),e.push(zt(Le.LinkMark,l,a)))}else if(o==91){let l=WX(s,i-t.offset,t.offset,!1);l&&(e.push(l),a=l.to)}return zt(n,r,a,e)}function zX(t,e,n){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let s=t.charCodeAt(i);if(s==62)return zt(Le.URL,e+n,i+1+n);if(s==60||s==10)return!1}return null}else{let i=0,s=e;for(let o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(uo(a))break;if(o)o=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(o=!0)}return s>e?zt(Le.URL,e+n,s+n):s==t.length?null:!1}}function VX(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let s=e+1,o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(o)o=!1;else{if(a==i)return zt(Le.LinkTitle,e+n,s+1+n);a==92&&(o=!0)}}return null}function WX(t,e,n,r){for(let i=!1,s=e+1,o=Math.min(t.length,s+999);s<o;s++){let a=t.charCodeAt(s);if(i)i=!1;else{if(a==93)return r?!1:zt(Le.LinkLabel,e+n,s+1+n);if(r&&!uo(a)&&(r=!1),a==91)return!1;a==92&&(i=!0)}}return null}class _1t{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,i,s){return this.append(new Bs(e,n,r,(i?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof Bs&&(n.type==od||n.type==dC))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof Bs&&i.type.resolve&&i.side&2))continue;let s=i.type==BX||i.type==QX,o=i.to-i.from,a,l=r-1;for(;l>=e;l--){let m=this.parts[l];if(m instanceof Bs&&m.side&1&&m.type==i.type&&!(s&&(i.side&1||m.side&2)&&(m.to-m.from+o)%3==0&&((m.to-m.from)%3||o%3))){a=m;break}}if(!a)continue;let u=i.type.resolve,h=[],d=a.from,f=i.to;if(s){let m=Math.min(2,a.to-a.from,o);d=a.to-m,f=i.from+m,u=m==1?"Emphasis":"StrongEmphasis"}a.type.mark&&h.push(this.elt(a.type.mark,d,a.to));for(let m=l+1;m<r;m++)this.parts[m]instanceof f0&&h.push(this.parts[m]),this.parts[m]=null;i.type.mark&&h.push(this.elt(i.type.mark,i.from,f));let p=this.elt(u,d,f,h);this.parts[l]=s&&a.from!=d?new Bs(a.type,a.from,d,a.side):null,(this.parts[r]=s&&i.to!=f?new Bs(i.type,f,i.to,i.side):null)?this.parts.splice(r,0,p):this.parts[r]=p}let n=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof f0&&n.push(i)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof Bs&&r.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return Hg(this.text,e-this.offset)+this.offset}elt(e,n,r,i){return typeof e=="string"?zt(this.parser.getNodeType(e),n,r,i):new FX(e,n)}}function fC(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let i of e){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let s=n[r];s instanceof f0&&(n[r]=new f0(s.type,s.from,s.to,fC(s.children,[i])))}else n.splice(r++,0,i)}return n}const v1t=[Le.CodeBlock,Le.ListItem,Le.OrderedList,Le.BulletList];let S1t=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(Ot.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,o=s,a=e.block.children.length,l=o,u=a;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let h=UX(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,h);else{let d=new nn(e.parser.nodeSet.types[Le.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(d,n.tree),e.addNode(d,h)}if(n.type.is("Block")&&(v1t.indexOf(n.type.id)<0?(o=n.to-r,a=e.block.children.length):(o=l,a=u,l=n.to-r,u=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-s}};function UX(t,e){let n=t;for(let r=1;r<e.length;r++){let i=e[r-1].to,s=e[r].from;i<t&&(n-=s-i)}return n}const C1t=Gf({"Blockquote/...":J.quote,HorizontalRule:J.contentSeparator,"ATXHeading1/... SetextHeading1/...":J.heading1,"ATXHeading2/... SetextHeading2/...":J.heading2,"ATXHeading3/...":J.heading3,"ATXHeading4/...":J.heading4,"ATXHeading5/...":J.heading5,"ATXHeading6/...":J.heading6,"Comment CommentBlock":J.comment,Escape:J.escape,Entity:J.character,"Emphasis/...":J.emphasis,"StrongEmphasis/...":J.strong,"Link/... Image/...":J.link,"OrderedList/... BulletList/...":J.list,"BlockQuote/...":J.quote,"InlineCode CodeText":J.monospace,"URL Autolink":J.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":J.processingInstruction,"CodeInfo LinkLabel":J.labelName,LinkTitle:J.string,Paragraph:J.content}),E1t=new Lx(new l1(IX).extend(C1t),Object.keys(_y).map(t=>_y[t]),Object.keys(_y).map(t=>b1t[t]),Object.keys(_y),O1t,CX,Object.keys(mv).map(t=>mv[t]),Object.keys(mv),[]);function T1t(t,e,n){let r=[];for(let i=t.firstChild,s=e;;i=i.nextSibling){let o=i?i.from:n;if(o>s&&r.push({from:s,to:o}),!i)break;s=i.to}return r}function D1t(t){let{codeParser:e,htmlParser:n}=t;return{wrap:cZ((i,s)=>{let o=i.type.id;if(e&&(o==Le.CodeBlock||o==Le.FencedCode)){let a="";if(o==Le.FencedCode){let u=i.node.getChild(Le.CodeInfo);u&&(a=s.read(u.from,u.to))}let l=e(a);if(l)return{parser:l,overlay:u=>u.type.id==Le.CodeText}}else if(n&&(o==Le.HTMLBlock||o==Le.HTMLTag))return{parser:n,overlay:T1t(i.node,i.from,i.to)};return null})}}const A1t={resolve:"Strikethrough",mark:"StrikethroughMark"},M1t={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":J.strikethrough}},{name:"StrikethroughMark",style:J.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),i=t.slice(n+2,n+3),s=/\s|^$/.test(r),o=/\s|^$/.test(i),a=p0.test(r),l=p0.test(i);return t.addDelimiter(A1t,n,n+2,!o&&(!l||s||a),!s&&(!a||o||l))},after:"Emphasis"}]};function Gg(t,e,n=0,r,i=0){let s=0,o=!0,a=-1,l=-1,u=!1,h=()=>{r.push(t.elt("TableCell",i+a,i+l,t.parser.parseInline(e.slice(a,l),i+a)))};for(let d=n;d<e.length;d++){let f=e.charCodeAt(d);f==124&&!u?((!o||a>-1)&&s++,o=!1,r&&(a>-1&&h(),r.push(t.elt("TableDelimiter",d+i,d+i+1))),a=l=-1):(u||f!=32&&f!=9)&&(a<0&&(a=d),l=d+1),u=!u&&f==92}return a>-1&&(s++,r&&h()),s}function ER(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const jX=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class TR{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&jX.test(i=n.text.slice(n.pos))){let s=[];Gg(e,r.content,0,s,r.start)==Gg(e,i,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let i=[];Gg(e,n.text,n.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,i))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const P1t={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":J.heading}},"TableRow",{name:"TableCell",style:J.content},{name:"TableDelimiter",style:J.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return ER(e.content,0)?new TR:null},endLeaf(t,e,n){if(n.parsers.some(i=>i instanceof TR)||!ER(e.text,e.basePos))return!1;let r=t.scanLine(t.absoluteLineEnd+1).text;return jX.test(r)&&Gg(t,e.text,e.basePos)==Gg(t,r,e.basePos)},before:"SetextHeading"}]};class $1t{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const R1t={defineNodes:[{name:"Task",block:!0,style:J.list},{name:"TaskMarker",style:J.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new $1t:null},after:"SetextHeading"}]},DR=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,AR=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,L1t=/[\w-]+\.[\w-]+($|\/)/,MR=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,PR=/\/[a-zA-Z\d@.]+/gy;function $R(t,e,n,r){let i=0;for(let s=e;s<n;s++)t[s]==r&&i++;return i}function I1t(t,e){AR.lastIndex=e;let n=AR.exec(t);if(!n||L1t.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let i=t[r-1],s;if(/[?!.,:*_~]/.test(i)||i==")"&&$R(t,e,r,")")>$R(t,e,r,"("))r--;else if(i==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,r))))r=e+s.index;else break}return r}function RR(t,e){MR.lastIndex=e;let n=MR.exec(t);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const N1t={parseInline:[{name:"Autolink",parse(t,e,n){let r=n-t.offset;DR.lastIndex=r;let i=DR.exec(t.text),s=-1;if(!i)return-1;if(i[1]||i[2]){if(s=I1t(t.text,r+i[0].length),s>-1&&t.hasOpenLink){let o=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(r,s));s=r+o[0].length}}else i[3]?s=RR(t.text,r):(s=RR(t.text,r+i[0].length),s>-1&&i[0]=="xmpp:"&&(PR.lastIndex=s,i=PR.exec(t.text),i&&(s=i.index+i[0].length)));return s<0?-1:(t.addElement(t.elt("URL",n,s+t.offset)),s+t.offset)}}]},F1t=[P1t,R1t,M1t,N1t];function qX(t,e,n){return(r,i,s)=>{if(i!=t||r.char(s+1)==t)return-1;let o=[r.elt(n,s,s+1)];for(let a=s+1;a<r.end;a++){let l=r.char(a);if(l==t)return r.addElement(r.elt(e,s,a+1,o.concat(r.elt(n,a,a+1))));if(l==92&&o.push(r.elt("Escape",a,a+++2)),uo(l))break}return-1}}const B1t={defineNodes:[{name:"Superscript",style:J.special(J.content)},{name:"SuperscriptMark",style:J.processingInstruction}],parseInline:[{name:"Superscript",parse:qX(94,"Superscript","SuperscriptMark")}]},Q1t={defineNodes:[{name:"Subscript",style:J.special(J.content)},{name:"SubscriptMark",style:J.processingInstruction}],parseInline:[{name:"Subscript",parse:qX(126,"Subscript","SubscriptMark")}]},z1t={defineNodes:[{name:"Emoji",style:J.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]};var LR={};class qO{constructor(e,n,r,i,s,o,a,l,u,h=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=h,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new qO(e,[],n,r,r,0,[],0,i?new IR(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p;this.reducePos<this.pos-25&&this.setLookAhead(this.pos);let o=s.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(r-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let h=a?this.stack[a-1]:0,d=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,f,d+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4);this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new qO(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new V1t(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new IR(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class IR{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class V1t{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class YO{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new YO(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new YO(this.stack,this.pos,this.index)}}function ag(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Yb{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const NR=new Yb;class W1t{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=NR,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=NR,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Wd{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;YX(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Wd.prototype.contextual=Wd.prototype.fallback=Wd.prototype.extend=!1;class ZO{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?ag(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(YX(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}ZO.prototype.contextual=Wd.prototype.fallback=Wd.prototype.extend=!1;class Zo{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function YX(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[o];){let u=t[o+1];for(let p=o+3;p<u;p+=2)if((t[p+1]&a)>0){let g=t[p];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||U1t(g,e.token.value,i,s))){e.acceptToken(g);break}}let h=e.next,d=0,f=t[o+2];if(e.next<0&&f>d&&t[u+f*3-3]==65535){o=t[u+f*3-1];continue e}for(;d<f;){let p=d+f>>1,g=u+p+(p<<1),m=t[g],y=t[g+1]||65536;if(h<m)f=p;else if(h>=y)d=p+1;else{o=t[g+2],e.advance();continue e}}break}}function FR(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function U1t(t,e,n,r){let i=FR(n,r,e);return i<0||FR(n,r,t)<i}const hs=typeof process<"u"&&LR&&/\bparse\b/.test(LR.LOG);let yv=null;function BR(t,e,n){let r=t.cursor(yn.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class j1t{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?BR(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?BR(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof nn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Ot.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class q1t{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Yb)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let h=s[u],d=this.tokens[u];if(!(r&&!h.fallback)&&((h.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,h,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!h.extend&&(r=d,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Yb,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Yb,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=ol(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(ol(a,u+2),n,r,i));break}a[u]==n&&(i=this.putAction(ol(a,u+1),n,r,i))}return i}}class Y1t{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new W1t(n,i),this.tokens=new q1t(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[qO.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new j1t(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&X1t(i);if(o)return hs&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw hs&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return hs&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=hs?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,h=u?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!u||(d.prop(Ot.contextHash)||0)==h))return e.useNode(d,f),hs&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof nn)||d.children.length==0||d.positions[0]>0)break;let p=d.children[0];if(p instanceof nn&&d.positions[0]==0)d=p;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),hs&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let h=l[u++],d=l[u++],f=l[u++],p=u==l.length||!r,g=p?e:e.split(),m=this.tokens.mainToken;if(g.apply(h,d,m?m.start:g.pos,f),hs&&console.log(o+this.stackID(g)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(d)} @ ${i}${g==e?"":", split"})`),p)return!0;g.pos>i?n.push(g):r.push(g)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return QR(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],h=hs?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),hs&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),f=h;for(let p=0;d.forceReduce()&&p<10&&(hs&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));p++)hs&&(f=this.stackID(d)+" -> ");for(let p of a.recoverByInsert(l))hs&&console.log(h+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),hs&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),QR(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),nn.build({buffer:YO.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(yv||(yv=new WeakMap)).get(e);return n||yv.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function QR(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class Z1t{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const bv=t=>t;class ZX{constructor(e){this.start=e.start,this.shift=e.shift||bv,this.reduce=e.reduce||bv,this.reuse=e.reuse||bv,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Mf extends uD{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Ot[l]);for(let u=1;u<a.length;){let h=a[u++];if(h>=0)s(h,l,a[u++]);else{let d=a[u+-h];for(let f=-h;f>0;f--)s(a[u++],l,d);u++}}}this.nodeSet=new l1(n.map((a,l)=>yr.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=iZ;let o=ag(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(zR),this.states=ag(e.states,Uint32Array),this.data=ag(e.stateData),this.goto=ag(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Wd(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new Y1t(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=ol(r,s+2)];else{if(r[s+1]==2)return ol(r,s+2);break}if(o==n||o==0)return ol(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=ol(this.data,s+2);else break;i=n(ol(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=ol(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Mf.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=zR(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new Z1t(e,r,i)}static deserialize(e){return new Mf(e)}}function ol(t,e){return t[e]|t[e+1]<<16}function X1t(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function zR(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const H1t=54,G1t=1,K1t=55,J1t=2,eyt=56,tyt=3,VR=4,nyt=5,XO=6,XX=7,HX=8,GX=9,KX=10,ryt=11,iyt=12,syt=13,Ov=57,oyt=14,WR=58,JX=20,ayt=22,eH=23,lyt=24,pC=26,tH=27,cyt=28,uyt=31,hyt=34,dyt=36,fyt=37,pyt=0,gyt=1,myt={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},yyt={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},UR={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function byt(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function nH(t){return t==9||t==10||t==13||t==32}let jR=null,qR=null,YR=0;function gC(t,e){let n=t.pos+e;if(YR==n&&qR==t)return jR;let r=t.peek(e);for(;nH(r);)r=t.peek(++e);let i="";for(;byt(r);)i+=String.fromCharCode(r),r=t.peek(++e);return qR=t,YR=n,jR=i?i.toLowerCase():r==Oyt||r==kyt?void 0:null}const rH=60,HO=62,PD=47,Oyt=63,kyt=33,xyt=45;function ZR(t,e){this.name=t,this.parent=e}const wyt=[XO,KX,XX,HX,GX],_yt=new ZX({start:null,shift(t,e,n,r){return wyt.indexOf(e)>-1?new ZR(gC(r,1)||"",t):t},reduce(t,e){return e==JX&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==XO||i==dyt?new ZR(gC(r,1)||"",t):t},strict:!1}),vyt=new Zo((t,e)=>{if(t.next!=rH){t.next<0&&e.context&&t.acceptToken(Ov);return}t.advance();let n=t.next==PD;n&&t.advance();let r=gC(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?oyt:XO);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(ryt);if(i&&yyt[i])return t.acceptToken(Ov,-2);if(e.dialectEnabled(pyt))return t.acceptToken(iyt);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(syt)}else{if(r=="script")return t.acceptToken(XX);if(r=="style")return t.acceptToken(HX);if(r=="textarea")return t.acceptToken(GX);if(myt.hasOwnProperty(r))return t.acceptToken(KX);i&&UR[i]&&UR[i][r]?t.acceptToken(Ov,-1):t.acceptToken(XO)}},{contextual:!0}),Syt=new Zo(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(WR);break}if(t.next==xyt)e++;else if(t.next==HO&&e>=2){n>=3&&t.acceptToken(WR,-2);break}else e=0;t.advance()}});function Cyt(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const Eyt=new Zo((t,e)=>{if(t.next==PD&&t.peek(1)==HO){let n=e.dialectEnabled(gyt)||Cyt(e.context);t.acceptToken(n?nyt:VR,2)}else t.next==HO&&t.acceptToken(VR,1)});function $D(t,e,n){let r=2+t.length;return new Zo(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==rH||s==1&&i.next==PD||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&nH(i.next))o++;else if(s==r&&i.next==HO){a>o?i.acceptToken(e,-o):i.acceptToken(n,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const Tyt=$D("script",H1t,G1t),Dyt=$D("style",K1t,J1t),Ayt=$D("textarea",eyt,tyt),Myt=Gf({"Text RawText":J.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":J.angleBracket,TagName:J.tagName,"MismatchedCloseTag/TagName":[J.tagName,J.invalid],AttributeName:J.attributeName,"AttributeValue UnquotedAttributeValue":J.attributeValue,Is:J.definitionOperator,"EntityReference CharacterReference":J.character,Comment:J.blockComment,ProcessingInst:J.processingInstruction,DoctypeDecl:J.documentMeta}),Pyt=Mf.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:_yt,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[Myt],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Tyt,Dyt,Ayt,Eyt,vyt,Syt,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function iH(t,e){let n=Object.create(null);for(let r of t.getChildren(eH)){let i=r.getChild(lyt),s=r.getChild(pC)||r.getChild(tH);i&&(n[e.read(i.from,i.to)]=s?s.type.id==pC?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function XR(t,e){let n=t.getChild(ayt);return n?e.read(n.from,n.to):" "}function kv(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=iH(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function sH(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return cZ((a,l)=>{let u=a.type.id;if(u==cyt)return kv(a,l,n);if(u==uyt)return kv(a,l,r);if(u==hyt)return kv(a,l,i);if(u==JX&&s.length){let h=a.node,d=h.firstChild,f=d&&XR(d,l),p;if(f){for(let g of s)if(g.tag==f&&(!g.attrs||g.attrs(p||(p=iH(d,l))))){let m=h.lastChild,y=m.type.id==fyt?m.from:h.to;if(y>d.to)return{parser:g.parser,overlay:[{from:d.to,to:y}]}}}}if(o&&u==eH){let h=a.node,d;if(d=h.firstChild){let f=o[l.read(d.from,d.to)];if(f)for(let p of f){if(p.tagName&&p.tagName!=XR(h.parent,l))continue;let g=h.lastChild;if(g.type.id==pC){let m=g.from+1,y=g.lastChild,b=g.to-(y&&y.isError?0:1);if(b>m)return{parser:p.parser,overlay:[{from:m,to:b}]}}else if(g.type.id==tH)return{parser:p.parser,overlay:[{from:g.from,to:g.to}]}}}}return null})}const $yt=99,HR=1,Ryt=100,Lyt=101,GR=2,oH=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Iyt=58,Nyt=40,aH=95,Fyt=91,Zb=45,Byt=46,Qyt=35,zyt=37,Vyt=38,Wyt=92,Uyt=10;function g0(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function lH(t){return t>=48&&t<=57}const jyt=new Zo((t,e)=>{for(let n=!1,r=0,i=0;;i++){let{next:s}=t;if(g0(s)||s==Zb||s==aH||n&&lH(s))!n&&(s!=Zb||i>0)&&(n=!0),r===i&&s==Zb&&r++,t.advance();else if(s==Wyt&&t.peek(1)!=Uyt)t.advance(),t.next>-1&&t.advance(),n=!0;else{n&&t.acceptToken(s==Nyt?Ryt:r==2&&e.canShift(GR)?GR:Lyt);break}}}),qyt=new Zo(t=>{if(oH.includes(t.peek(-1))){let{next:e}=t;(g0(e)||e==aH||e==Qyt||e==Byt||e==Fyt||e==Iyt&&g0(t.peek(1))||e==Zb||e==Vyt)&&t.acceptToken($yt)}}),Yyt=new Zo(t=>{if(!oH.includes(t.peek(-1))){let{next:e}=t;if(e==zyt&&(t.advance(),t.acceptToken(HR)),g0(e)){do t.advance();while(g0(t.next)||lH(t.next));t.acceptToken(HR)}}}),Zyt=Gf({"AtKeyword import charset namespace keyframes media supports":J.definitionKeyword,"from to selector":J.keyword,NamespaceName:J.namespace,KeyframeName:J.labelName,KeyframeRangeName:J.operatorKeyword,TagName:J.tagName,ClassName:J.className,PseudoClassName:J.constant(J.className),IdName:J.labelName,"FeatureName PropertyName":J.propertyName,AttributeName:J.attributeName,NumberLiteral:J.number,KeywordQuery:J.keyword,UnaryQueryOp:J.operatorKeyword,"CallTag ValueName":J.atom,VariableName:J.variableName,Callee:J.operatorKeyword,Unit:J.unit,"UniversalSelector NestingSelector":J.definitionOperator,MatchOp:J.compareOperator,"ChildOp SiblingOp, LogicOp":J.logicOperator,BinOp:J.arithmeticOperator,Important:J.modifier,Comment:J.blockComment,ColorLiteral:J.color,"ParenthesizedContent StringLiteral":J.string,":":J.punctuation,"PseudoOp #":J.derefOperator,"; ,":J.separator,"( )":J.paren,"[ ]":J.squareBracket,"{ }":J.brace}),Xyt={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},Hyt={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},Gyt={__proto__:null,not:132,only:132},Kyt=Mf.deserialize({version:14,states:":^QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO${QdO,59}O-kQ[O'#E^O-xQWO,5;_O-xQWO,5;_POOO'#EV'#EVP.TO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.zQXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/XQ`O1G/^O/rQXO1G/aO0YQXO1G/cO0pQXO1G/dO1WQWO,59|O1]Q[O'#DSO1dQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1kQpO,59]OOQS,59_,59_O${QdO,59aO1sQWO1G/mOOQS,59c,59cO1xQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2QQ[O,59jOOQS,59j,59jO2YQWO'#DjO2eQWO,5:VO2jQWO,5:]O&`Q[O,5:XO&`Q[O'#E_O2rQWO,5;`O2}QWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3`QWO1G0OO3eQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO3pQtO1G/iOOQO,5:x,5:xO4WQ[O,5:xOOQO-E8[-E8[O4eQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO4pQXO'#ErO4wQWO,59nO4|QtO'#EXO5tQdO'#EoO6OQWO,59ZO6TQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XO6]QWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6bQWO,5:yOOQO-E8]-E8]O6pQXO1G/xOOQS7+%j7+%jO6wQYO'#CsOOQO'#EQ'#EQO7SQ`O'#EPOOQO'#EP'#EPO7_QWO'#E`O7gQdO,5:jOOQS,5:j,5:jO7rQtO'#E]O${QdO'#E]O8sQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9WQpO<<HdO9`QWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9hQWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO9pQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3hQdO'#EaO7_QWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO9wQtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO:xQdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";[~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#wO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.`Op#yO|#zO~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/aOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/aOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/aO!S#{O~Oa#fP~P(aOa#cP~P${Oa$SOj#XO~O!Y$UO~Oh$VOo$VO~Op$XO#X#]O~O]!`Xa!^X!b!^X~O]$YO~Oa$ZO!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$`O~O!S$gO#X$bO#e$aO~Oj#XOt$iO!X$kO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$oO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$qOa#cX~P${Oa$sO~Oj#XOp$tO~Oa$uO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$wO~P.`OP#WOtgX!TgX~O#e$aOt!sX!T!sX~Ot$yO!TwO~O!S$}O#X$bO#e$aO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$iO!X%QO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%RO~OtoOa#fa~Ot$qOa#ca~Oa%UO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#skYOPdhotuvw!n#R#h#skSOPdhotuvw!n#R#h#sQmTR!tnQ{VR!xqQ!x}Q#Z!XR#x!zq![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SU$d#m$f$yR$x$cq!XZ]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#x!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ${$eR%X$zSgPwQ!phQ#r!nR$l#sZfPhw!n#sa!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$e#m$fR%V$yV$c#m$f$yQ!rjR#v!rQdOShPwU!ldh#sR#s!nQ$P#SU$p$P$v%SQ$v$YR%S$qQ#_!ZR$W#_Q$r$PR%T$rQpUS!vp$nR$n#|Q$j#qR%P$jQ!ogS#t!o#uR#u!pQ#f!_R$^#fQ$f#mR$|$fQ$z$eR%W$z_cOPdhw!n#s^UOPdhw!n#sQ!uoQ!}tQ#OuQ#PvQ#|#RR$_#hR$Q#SQ!VZQ!d]Q#V!TQ#q!m[$O#S$P$Y$q$v%SQ$R#UQ$T#XS$h#q$jQ$m#zR%O$iR#}#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$[#dR$]#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[Zyt],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[qyt,Yyt,jyt,1,2,3,4,new ZO("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>Xyt[t]||-1},{term:58,get:t=>Hyt[t]||-1},{term:101,get:t=>Gyt[t]||-1}],tokenPrec:1200});let xv=null;function wv(){if(!xv&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));xv=e.sort().map(r=>({type:"property",label:r}))}return xv||[]}const KR=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),JR=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),Jyt=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),Yl=/^(\w[\w-]*|-\w[\w-]*|)$/,ebt=/^-(-[\w-]*)?$/;function tbt(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const eL=new lZ,nbt=["Declaration"];function rbt(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function cH(t,e,n){if(e.to-e.from>4096){let r=eL.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(yn.IncludeAnonymous);if(o.firstChild())do for(let a of cH(t,o.node,n))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return eL.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(nbt)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const ibt=t=>e=>{let{state:n,pos:r}=e,i=bn(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:wv(),validFor:Yl};if(i.name=="ValueName")return{from:i.from,options:JR,validFor:Yl};if(i.name=="PseudoClassName")return{from:i.from,options:KR,validFor:Yl};if(t(i)||(e.explicit||s)&&tbt(i,n.doc))return{from:t(i)||s?i.from:r,options:cH(n.doc,rbt(i),t),validFor:ebt};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:wv(),validFor:Yl};return{from:i.from,options:Jyt,validFor:Yl}}if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:KR,validFor:Yl}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:JR,validFor:Yl}:o.name=="Block"||o.name=="Styles"?{from:r,options:wv(),validFor:Yl}:null},sbt=ibt(t=>t.name=="VariableName"),GO=Ef.define({name:"css",parser:Kyt.configure({props:[u1.add({Declaration:qb()}),Kf.add({"Block KeyframeList":mZ})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function obt(){return new a0(GO,GO.data.of({autocomplete:sbt}))}const abt=312,tL=1,lbt=2,cbt=3,ubt=4,hbt=313,dbt=315,fbt=316,pbt=5,gbt=6,mbt=0,mC=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],uH=125,ybt=59,yC=47,bbt=42,Obt=43,kbt=45,xbt=60,wbt=44,_bt=63,vbt=46,Sbt=new ZX({start:!1,shift(t,e){return e==pbt||e==gbt||e==dbt?t:e==fbt},strict:!1}),Cbt=new Zo((t,e)=>{let{next:n}=t;(n==uH||n==-1||e.context)&&t.acceptToken(hbt)},{contextual:!0,fallback:!0}),Ebt=new Zo((t,e)=>{let{next:n}=t,r;mC.indexOf(n)>-1||n==yC&&((r=t.peek(1))==yC||r==bbt)||n!=uH&&n!=ybt&&n!=-1&&!e.context&&t.acceptToken(abt)},{contextual:!0}),Tbt=new Zo((t,e)=>{let{next:n}=t;if(n==Obt||n==kbt){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(tL);t.acceptToken(r?tL:lbt)}}else n==_bt&&t.peek(1)==vbt&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(cbt))},{contextual:!0});function _v(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const Dbt=new Zo((t,e)=>{if(t.next!=xbt||!e.dialectEnabled(mbt)||(t.advance(),t.next==yC))return;let n=0;for(;mC.indexOf(t.next)>-1;)t.advance(),n++;if(_v(t.next,!0)){for(t.advance(),n++;_v(t.next,!1);)t.advance(),n++;for(;mC.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==wbt)return;for(let r=0;;r++){if(r==7){if(!_v(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(ubt,-n)}),Abt=Gf({"get set async static":J.modifier,"for while do if else switch try catch finally return throw break continue default case":J.controlKeyword,"in of await yield void typeof delete instanceof":J.operatorKeyword,"let var const using function class extends":J.definitionKeyword,"import export from":J.moduleKeyword,"with debugger as new":J.keyword,TemplateString:J.special(J.string),super:J.atom,BooleanLiteral:J.bool,this:J.self,null:J.null,Star:J.modifier,VariableName:J.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":J.function(J.variableName),VariableDefinition:J.definition(J.variableName),Label:J.labelName,PropertyName:J.propertyName,PrivatePropertyName:J.special(J.propertyName),"CallExpression/MemberExpression/PropertyName":J.function(J.propertyName),"FunctionDeclaration/VariableDefinition":J.function(J.definition(J.variableName)),"ClassDeclaration/VariableDefinition":J.definition(J.className),PropertyDefinition:J.definition(J.propertyName),PrivatePropertyDefinition:J.definition(J.special(J.propertyName)),UpdateOp:J.updateOperator,"LineComment Hashbang":J.lineComment,BlockComment:J.blockComment,Number:J.number,String:J.string,Escape:J.escape,ArithOp:J.arithmeticOperator,LogicOp:J.logicOperator,BitOp:J.bitwiseOperator,CompareOp:J.compareOperator,RegExp:J.regexp,Equals:J.definitionOperator,Arrow:J.function(J.punctuation),": Spread":J.punctuation,"( )":J.paren,"[ ]":J.squareBracket,"{ }":J.brace,"InterpolationStart InterpolationEnd":J.special(J.brace),".":J.derefOperator,", ;":J.separator,"@":J.meta,TypeName:J.typeName,TypeDefinition:J.definition(J.typeName),"type enum interface implements namespace module declare":J.definitionKeyword,"abstract global Privacy readonly override":J.modifier,"is keyof unique infer":J.operatorKeyword,JSXAttributeValue:J.attributeValue,JSXText:J.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":J.angleBracket,"JSXIdentifier JSXNameSpacedName":J.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":J.attributeName,"JSXBuiltin/JSXIdentifier":J.standard(J.tagName)}),Mbt={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},Pbt={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},$bt={__proto__:null,"<":187},Rbt=Mf.deserialize({version:14,states:"$=dO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOO`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UO%[Q^O'#D`OOOO'#I_'#I_OFkO!0LbO,59xOOQ?Mr,59x,59xOFyQ^O'#I`OG^QWO'#JoOI]QrO'#JoO+}Q^O'#JoOIdQWO,5:OOIzQWO'#EmOJXQWO'#KOOJdQWO'#J}OJdQWO'#J}OJlQWO,5;ZOJqQWO'#J|OOQ?Mv,5:Z,5:ZOJxQ^O,5:ZOLvQ?NdO,5:cOMgQWO,5:kONQQ?MxO'#J{ONXQWO'#JzO9WQWO'#JzONmQWO'#JzONuQWO,5;YONzQWO'#JzO!#PQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#oQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$VQWO,5=[O!$[Q^O,5;WO!&_Q7[O'#EhO!'xQWO,5;WO!'}Q^O'#DvO!(XQ`O,5;aO!(aQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(oQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*rQ?MxO,5<gO!&_Q7[O,5;bO!+aQ7[O,5;bO!-RQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-YQ&jO'#FiO!.VQ&jO'#KSO!-qQ&jO'#KSO!.^Q&jO'#KSOOQO'#KS'#KSO!.rQ&jO,5<ROOOS,5<_,5<_O!/TQ^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/[Q&jO'#FwOOQ?Mr,5<P,5<PO!/{Q!LQO'#CvOOQ?Mr'#Cz'#CzO!0`QWO'#CzO!0eO!0LbO'#DOO!1RQ7[O,5<dO!1YQWO,5<fO!2uQ$ISO'#GVO!3SQWO'#GWO!3XQWO'#GWO!4wQ$ISO'#G[O!5sQ`O'#G`OOQO'#Gk'#GkO!+hQ7[O'#GjOOQO'#Gm'#GmO!+hQ7[O'#GlO!6fQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6pQWO'#JfO!7OQWO'#JeO!7WQWO'#CuOOQ?Mr'#Cx'#CxOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+hQ7[O'#F}O!+hQ7[O'#GPO!7`QWO'#GRO!7eQWO'#GSO!3XQWO'#GYO!+hQ7[O'#G_O!7jQWO'#EnO!8XQWO,5<eOOQ?Mp'#Cr'#CrO!8aQWO'#EoO!9ZQ`O'#EpOOQ?Mp'#J|'#J|O!9bQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;aQ?NdO,5:_O!9UQ`O,5:]O!=zQ?NdO,5:gO%[Q^O,5:gO!@bQ?NdO,5:iOOQO,5@v,5@vO!ARQ7[O,5=[O!AaQ?MxO'#JdO9RQWO'#JdO!ArQ?MxO,59ZO!A}Q`O,59ZO!BVQ7[O,59ZO:VQ7[O,59ZO!BbQWO,5;WO!BjQWO'#H^O!COQWO'#K`O%[Q^O,5;|O!9UQ`O,5<OO!CWQWO,5=wO!C]QWO,5=wO!CbQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CpQ`O,5=dO!CxQ7[O,5=eO!DTQWO,5=gO!DYQpO,5=jO!DbQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DgQWO'#HVO:VQ7[O'#HXO!DlQWO'#HXOOQU,5=m,5=mO!DqQWO'#HYO!ESQWO'#CoO!EXQWO,59PO!EcQWO,59PO!GhQ^O,59POOQU,59P,59PO!GxQ?MxO,59PO%[Q^O,59PO!JTQ^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JkQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JpQWO,5>TO`Q^O,5>VO!JuQWO,5>YO!JzQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# UQWO,5>jOOQU,5>l,5>lO# UQWO,5>lOOQU,5>n,5>nO# rQ`O'#D[O%[Q^O'#JqO# |Q`O'#JqO#!kQ`O'#DjO#!|Q`O'#DjO#%_Q^O'#DjO#%fQWO'#JpO#%nQWO,5:TO#%sQWO'#EqO#&RQWO'#KPO#&ZQWO,5;[O#&`Q`O'#DjO#&mQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&tQWO,5:lO>tQWO,5;VO!A}Q`O,5;VO!BVQ7[O,5;VO:VQ7[O,5;VO#&|QWO,5@]O#'RQ(CYO,5:pOOQO-E<b-E<bO#(XQ?NQO,5;OOCrQ`O,5:oO#(cQ`O,5:oOCrQ`O,5;OO!ArQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(pQ?MxO,5;OO#({Q?MxO,5;OO!A}Q`O,5:oOOQO,5;U,5;UO#)ZQ?MxO,5;OPOOO'#IY'#IYP#)oO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZO#)zQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*PQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*ZQ^O'#I`OOQO-E<^-E<^O#*hQWO,5@ZO#*pQrO,5@ZO#*wQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+PQWO'#IfOOQO-E<d-E<dO#*wQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+eQ?MxO,5@gO#+vQ?MxO,5@gO#+}QWO,5@fO9WQWO,5@fO#,VQWO,5@fO#,eQWO'#IiO#+}QWO,5@fOOQ?Mp1G0t1G0tO!(XQ`O,5:rO!(dQ`O,5:rOOQQ,5:t,5:tO#-VQYO,5:tO#-_Q7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-mQ?NdO1G0rO#.rQ?NbO,5;SOOQ?Mr'#GU'#GUO#/`Q?NdO'#JgO!$[Q^O1G0rO#1hQrO'#JrO%[Q^O'#JrO#1rQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#1wQWO1G0{O#4]Q?NdO1G0|O#4dQ?NdO1G0|O#6zQ?NdO1G0|O#7RQ?NdO1G0|O#9YQ?NdO1G0|O#9pQ?NdO1G0|O#<gQ?NdO1G0|O#<nQ?NdO1G0|O#?OQ?NdO1G0|O#?]Q?NdO1G0|O#AWQ?NdO1G0|O#DWQ07bO'#CiO#FRQ07bO1G1_O#FYQ07bO'#JnO#FmQ?NdO,5?WOOQ?Mp-E<j-E<jO#GaQ?NdO1G0|OOQ?Mr1G0|1G0|O#IiQ7[O'#JwO#IsQWO,5:uO#IxQ?NdO1G1bO#JlQ&jO,5<VO#JtQ&jO,5<WO#J|Q&jO'#FnO#KeQWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#KjQ&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#K{Q07bO'#JmO#LVQWO,5<aO!(oQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#L[Q`O'#KSOOQ?Mr,5<c,5<cO#LdQ`O,5<cOOQ?Mr,59f,59fO!&_Q7[O'#DQOOOO'#I^'#I^O#LiO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7eQWO'#InO#LtQ7[O,5<xOOQ?Mr,5<u,5<uO!+hQ7[O'#IqO#MdQ7[O,5=UO!+hQ7[O'#IsO#NVQ7[O,5=WO!&_Q7[O,5=YOOQO1G2Q1G2QO#NaQpO'#CrO#NtQ$ISO'#EoO$ sQ`O'#G`O$!aQpO,5<qO$!hQWO'#KWO9WQWO'#KWO$!vQWO,5<sO!+hQ7[O,5<rO$!{QWO'#GXO$#^QWO,5<rO$#cQpO'#GUO$#pQpO'#KXO$#zQWO'#KXO!&_Q7[O'#KXO$$PQWO,5<vO$$UQ`O'#GaO!5nQ`O'#GaO$$gQWO'#GcO$$lQWO'#GeO!3XQWO'#GhO$$qQ?MxO'#IpO$$|Q`O,5<zOOQ?Mv,5<z,5<zO$%TQ`O'#GaO$%cQ`O'#GbO$%kQ`O'#GbO$%pQ7[O,5=UO$&QQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+hQ7[O,5@QO!+hQ7[O,5@QO$&bQWO'#IuO$&mQWO,5@PO$&uQWO,59aO$'iQ!LSO,59rOOQ?Mr'#Jk'#JkO$([Q7[O,5<iO$(}Q7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$)XQWO,5<tO$)^Q7[O,5<yO$)nQWO'#JzO!$[Q^O1G2PO$)sQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$)xQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$+zQ?NdO1G0ROOQU1G2v1G2vO!&_Q7[O1G2vO%[Q^O1G2vO#-bQWO1G2vO$.OQ7[O'#EhOOQ?Mp,5@O,5@OO$.YQ?MxO,5@OOOQU1G.u1G.uO!ArQ?MxO1G.uO!A}Q`O1G.uO!BVQ7[O1G.uO$.kQWO1G0rO$.pQWO'#CiO$.{QWO'#KaO$/TQWO,5=xO$/YQWO'#KaO$/_QWO'#KaO$/mQWO'#I}O$/{QWO,5@zO$0TQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$0[QWO1G3cO$0aQWO1G3cOOQU1G3c1G3cO!DTQWO1G3RO!&_Q7[O1G3OO$0fQWO1G3OOOQU1G3P1G3PO!&_Q7[O1G3PO$0kQWO1G3PO$0sQ`O'#G}OOQU1G3R1G3RO!5nQ`O'#IyO!DYQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$0{Q7[O,5=qO9^QWO,5=qO$$lQWO,5=sO9RQWO,5=sO!A}Q`O,5=sO!BVQ7[O,5=sO:VQ7[O,5=sO$1ZQWO'#K_O$1fQWO,5=tOOQU1G.k1G.kO$1kQ?MxO1G.kO@fQWO1G.kO$1vQWO1G.kO9hQ?MxO1G.kO$4OQrO,5@|O$4]QWO,5@|O9WQWO,5@|O$4hQ^O,5={O$4oQWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$4tQ^O1G3qO$8xQ^O'#HpOOQU1G3t1G3tO$9VQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$9_Q^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$=fQWO,5@]O!(oQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(oQ^O,5:UO!A}Q`O,5:UO$=kQ07bO,5:UOOQO,5;],5;]O$=uQ`O'#IaO$>]QWO,5@[OOQ?Mr1G/o1G/oO$>eQ`O'#IgO$>oQWO,5@kOOQ?Mp1G0v1G0vO#!|Q`O,5:UOOQO'#Ic'#IcO$>wQ`O,5:nOOQ?Mv,5:n,5:nO#&wQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!A}Q`O1G0qO!BVQ7[O1G0qOOQ?Mp1G5w1G5wO!ArQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$?OQ?MxO1G0jO$?ZQ?MxO1G0jO!A}Q`O1G0ZOCrQ`O1G0ZO$?iQ?MxO1G0jOOQO1G0Z1G0ZO$?}Q?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$@XQpO,5<gO$@aQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$@kQWO1G5uO$@sQWO1G6TO$@{QrO1G6UO9WQWO,5?QO$AVQ?NdO1G6RO%[Q^O1G6RO$AgQ?MxO1G6RO$AxQWO1G6QO$AxQWO1G6QO9WQWO1G6QO$BQQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$BfQWO,5?TO$)nQWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-YQWO1G0`OOQU7+(b7+(bO!&_Q7[O7+(bO%[Q^O7+(bO$BtQWO7+(bO$CPQ7[O7+(bO$C_Q?NdO,5=UO$EgQ?NdO,5=WO$GoQ?NdO,5=UO$I}Q?NdO,5=WO$L]Q?NdO,59rO$NbQ?NdO,5<iO%!jQ?NdO,5<kO%$rQ?NdO,5<yOOQ?Mr7+&^7+&^O%'QQ?NdO7+&^O%'tQ^O'#IbO%(RQWO,5@^O%(ZQrO,5@^OOQ?Mr1G/|1G/|O%(eQWO7+&gOOQ?Mr7+&g7+&gO%(jQ07bO,5:cO%[Q^O7+&yO%(tQ07bO,5:_O%)RQ07bO,5:gO%)]Q07bO,5:iO%)gQ7[O'#IeO%)qQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%)yQtO,5<YO!(oQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%*UQWO1G1{OOQ?Mr1G1}1G1}O%*ZQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%*bQ?NdO7+'jOOQ?Mr,5?Y,5?YO%+UQpO,5?YOOQ?Mr1G2d1G2dP!&_Q7[O'#InPOQ?Mr-E<l-E<lO%+tQ7[O,5?]OOQ?Mr-E<o-E<oO%,gQ7[O,5?_OOQ?Mr-E<q-E<qO%,qQpO1G2tO%,xQpO'#CrO%-`Q7[O'#J}O%-gQ^O'#EqOOQ?Mr1G2]1G2]O%-qQWO'#ImO%.VQWO,5@rO%.VQWO,5@rO%._QWO,5@rO%.jQWO,5@rOOQO1G2_1G2_O%.xQ7[O1G2^O!+hQ7[O1G2^O%/YQ$ISO'#IoO%/gQWO,5@sO!&_Q7[O,5@sO%/oQpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$)nQWO,5<|OCcQWO,5<|O!A}Q`O,5<{OOQO'#Gd'#GdO%/yQWO,5<}OOQ?Mp,5=P,5=PO$)nQWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5nQ`O,5<{O%0RQWO,5<|O$$gQWO,5<}O!5nQ`O,5<|O!+hQ7[O'#IqO%0uQ7[O1G2pO!+hQ7[O'#IsO%1hQ7[O1G2rO%1rQ7[O1G5lO%1|Q7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9UQ`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%2ZQWO1G2XO!+hQ7[O1G2`O%2`Q?NdO7+'kOOQ?Mr7+'k7+'kO!$[Q^O7+'kO%3SQWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%3XQpO'#KYO#&wQWO7+(bO4UQrO7+(bO$BwQWO7+(bO%3cQ?NbO'#CiO%3vQ?NbO,5=QO%4hQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!ArQ?MxO7+$aO!A}Q`O7+$aO!$[Q^O7+&^O%4mQWO'#I|O%5UQWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%5UQWO,5@{O%5^QWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%5cQWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%5hQ?NbO7+(jO!&_Q7[O7+(jO%5rQpO7+(kOOQU7+(k7+(kO!&_Q7[O7+(kO%5yQWO'#K^O%6UQWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%7eQ`O'#HWOOQU1G3]1G3]O!&_Q7[O1G3]O%[Q^O1G3]O%7lQWO1G3]O%7wQ7[O1G3]O9hQ?MxO1G3_O$$lQWO1G3_O9RQWO1G3_O!A}Q`O1G3_O!BVQ7[O1G3_O%8VQWO'#I{O%8kQWO,5@yO%8sQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%9OQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%9TQ?MxO1G6hO%9_Q^O1G3gO%9fQWO1G3gO%9kQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%9rQ^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%:PQWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%:UQ`O1G5wO%:jQ07bO1G0wO%:tQWO1G0wOOQO1G/p1G/pO%;PQ07bO1G/pO>tQWO1G/pO!(oQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!A}Q`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#&wQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!A}Q`O7+&]OOQO7+%u7+%uO$?}Q?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%;ZQ?MxO7+&UO!ArQ?MxO7+%uO!A}Q`O7+%uO%;fQ?MxO7+&UO%;tQ?NdO7++mO%[Q^O7++mO%<UQWO7++lO%<UQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%<^QWO1G4oOOQQ7+%z7+%zO#&wQWO<<K|O4UQrO<<K|O%<lQWO<<K|OOQU<<K|<<K|O!&_Q7[O<<K|O%[Q^O<<K|O%<tQWO<<K|O%=PQ?NdO,5?]O%?XQ?NdO,5?_O%AaQ?NdO1G2^O%CoQ?NdO1G2pO%EwQ?NdO1G2rO%HPQrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%HZQWO1G5xOOQ?Mr<<JR<<JRO%HcQ07bO1G0rO%JjQ07bO1G0|O%JqQ07bO1G0|O%LrQ07bO1G0|O%LyQ07bO1G0|O%NkQ07bO1G0|O& RQ07bO1G0|O&#cQ07bO1G0|O&#jQ07bO1G0|O&%eQ07bO1G0|O&%rQ07bO1G0|O&'mQ07bO1G0|O&(QQ?NdO<<JeO&)VQ07bO1G0|O&*xQ07bO'#JgO&,{Q07bO1G1bO&-YQ07bO1G0RO&-dQ7[O,5?POOQO-E<c-E<cO!(oQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&-nQWO1G1sO&-sQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+hQ7[O7+(`O&0TQrO'#CiO&0_QWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&0mQWO1G6^O&0mQWO1G6^O&0uQWO1G6^O&1QQ7[O7+'xO&1bQpO,5?ZO&1lQWO,5?ZO!&_Q7[O,5?ZOOQO-E<m-E<mO&1qQpO1G6_O&1{QWO1G6_OOQ?Mp1G2h1G2hO$)nQWO1G2hOOQ?Mp1G2g1G2gO&2TQWO1G2iO!&_Q7[O1G2iOOQ?Mp1G2n1G2nO!A}Q`O1G2gOCcQWO1G2hO&2YQWO1G2iO&2bQWO1G2hO&3UQ7[O,5?]OOQ?Mr-E<p-E<pO&3wQ7[O,5?_OOQ?Mr-E<r-E<rO!+hQ7[O7++WOOQ?Mr1G/`1G/`O&4RQWO1G/`OOQ?Mr7+'s7+'sO&4WQ7[O7+'zO&4hQ?NdO<<KVOOQ?Mr<<KV<<KVO&5[QWO1G0wO!&_Q7[O'#IvO&5aQWO,5@tO&7cQrO<<K|O!&_Q7[O1G2lOOQU<<G{<<G{O!ArQ?MxO<<G{O&7jQ?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&8^QWO,5?hO&8cQWO,5?hOOQO-E<z-E<zO&8qQWO1G6gO&8qQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&8yQWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%5hQ?NbO<<LUOOQU<<LV<<LVO%5rQpO<<LVO&9OQ`O'#IxO&9ZQWO,5@xO!(oQ^O,5@xOOQU1G3T1G3TO%-gQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&9cQ`O,5=rOOQU,5=r,5=rO&9jQ`O'#EdO&:OQWO7+(wO&:TQWO7+(wOOQU7+(w7+(wO!&_Q7[O7+(wO%[Q^O7+(wO&:]QWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$$lQWO7+(yO9RQWO7+(yO!A}Q`O7+(yO&:hQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&:sQWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&:{QWO7+,SO&;QQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&;VQWO7+)RO&;[Q^O7+)RO&;cQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&;hQWO,5>]OOQU,5>_,5>_O&;mQWO1G3|O9WQWO7+&cO!(oQ^O7+&cOOQO7+%[7+%[O&;rQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$?}Q?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!ArQ?MxO<<IaO&;|Q?MxO<<IpO&<XQ?NdO<= XO&<iQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&<qQrOANAhO!&_Q7[OANAhO#&wQWOANAhO4UQrOANAhO&<xQWOANAhO%[Q^OANAhO&=QQ?NdO7+'xO&?`Q?NdO,5?]O&AhQ?NdO,5?_O&CpQ?NdO7+'zO&FOQrO1G4hO&FYQ07bO7+&^O&HZQ07bO,5=UO&J_Q07bO,5=WO&JoQ07bO,5=UO&KPQ07bO,5=WO&KaQ07bO,59rO&MdQ07bO,5<iO' dQ07bO,5<kO'#dQ07bO,5<yO'%VQ07bO7+'jO'%dQ07bO7+'kO'%qQWO,5<[OOQO7+'_7+'_O'%vQ7[O<<KzOOQO1G4s1G4sO'%}QWO1G4sO'&YQWO1G4sO'&hQWO7++xO'&hQWO7++xO!&_Q7[O1G4uO'&pQpO1G4uO'&zQWO7++yOOQ?Mp7+(S7+(SO$)nQWO7+(TO''SQpO7+(TOOQ?Mp7+(R7+(RO$)nQWO7+(SO''ZQWO7+(TO!&_Q7[O7+(TOCcQWO7+(SO''`Q7[O<<NrOOQ?Mr7+$z7+$zO''jQpO,5?bOOQO-E<t-E<tO''tQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'(UQWO1G5SO'(ZQWO7+,RO'(ZQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'(cQWO,5?dOOQO-E<v-E<vO'(nQ07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%-gQ^O,5<}OOQU<<Lc<<LcO!&_Q7[O<<LcO&:OQWO<<LcO'(xQWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$$lQWO<<LeO9RQWO<<LeO')QQ`O1G5RO')]QWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO')eQWO<= nO')jQWO<= oOOQU<<Lm<<LmO')oQWO<<LmO')tQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'){QWO<<I}O'*WQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$?}Q?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&_Q7[OG27SO#&wQWOG27SO'*bQrOG27SO4UQrOG27SO'*iQWOG27SO'*qQ07bO<<JeO'+OQ07bO1G2^O',qQ07bO,5?]O'.qQ07bO,5?_O'0qQ07bO1G2pO'2qQ07bO1G2rO'4qQ07bO<<KVO'5OQ07bO<<IxOOQO1G1v1G1vO!+hQ7[OANAfOOQO7+*_7+*_O'5]QWO7+*_O'5hQWO<= dO'5pQpO7+*aOOQ?Mp<<Ko<<KoO$)nQWO<<KoOOQ?Mp<<Kn<<KnO'5zQpO<<KoO$)nQWO<<KnOOQO7+*n7+*nO9^QWO7+*nO'6RQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(oQ^O1G5OO'6ZQWO7+,OO&:OQWOANA}OOQUANA}ANA}O!&_Q7[OANA}O'6cQWOANA}OOQUANBPANBPO9hQ?MxOANBPO$$lQWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'6kQWOANBXOOQU<<MS<<MSO!(oQ^OAN?iOOQOG24vG24vO$?}Q?NdOG24vO#&wQWOLD,nOOQULD,nLD,nO!&_Q7[OLD,nO'6pQrOLD,nO'6wQ07bO7+'xO'8jQ07bO,5?]O':jQ07bO,5?_O'<jQ07bO7+'zO'>]Q7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$)nQWOANAZOOQ?MpANAYANAYOOQO<<NY<<NYOOQULD-ZLD-ZO'>mQ07bO7+*jOOQUG27iG27iO&:OQWOG27iO!&_Q7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'>wQ07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#&wQWO!$(!YO!&_Q7[O!$(!YO'?RQ?NdOG27QOOQ?MpG26uG26uOOQULD-TLD-TO&:OQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#&wQWO!)9EtOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'AaQ07bOG27QO!(oQ^O'#DwO1PQWO'#EUO'CSQrO'#JmO'CZQMnO'#DsO'CbQ^O'#D{O'CiQrO'#CiO'FPQrO'#CiO!(oQ^O'#D}O'FaQ^O,5;WO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O'#IlO'HdQWO,5<gO'HlQ7[O,5;bO'JVQ7[O,5;bO!(oQ^O,5;vO!&_Q7[O'#GjO'HlQ7[O'#GjO!&_Q7[O'#GlO'HlQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&_Q7[O'#F}O'HlQ7[O'#F}O!&_Q7[O'#GPO'HlQ7[O'#GPO!&_Q7[O'#G_O'HlQ7[O'#G_O!(oQ^O,5:gO'J^Q`O'#D[O!(oQ^O,5@jO'FaQ^O1G0rO'JhQ07bO'#CiO!(oQ^O1G2OO!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO'JrQpO'#CrO!&_Q7[O,5<rO'HlQ7[O,5<rO'FaQ^O1G2PO!(oQ^O7+&yO!&_Q7[O1G2^O'HlQ7[O1G2^O!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO!&_Q7[O1G2`O'HlQ7[O1G2`O'FaQ^O7+'kO'FaQ^O7+&^O!&_Q7[OANAfO'HlQ7[OANAfO'KVQWO'#ElO'K[QWO'#ElO'KdQWO'#F[O'KiQWO'#EvO'KnQWO'#KOO'KyQWO'#J|O'LUQWO,5;WO'LZQ7[O,5<dO'LbQWO'#GWO'LgQWO'#GWO'LlQWO,5<eO'LtQWO,5;WO'L|Q07bO1G1_O'MTQWO,5<rO'MYQWO,5<rO'M_QWO,5<tO'MdQWO,5<tO'MiQWO1G2PO'MnQWO1G0rO'MsQ7[O<<KzO'MzQ7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(oQ^O,5;sO!3XQWO'#GWO!3XQWO'#GWO!3XQWO'#GYO!3XQWO'#GYO!+hQ7[O7+(`O!+hQ7[O7+(`O%,qQpO1G2tO%,qQpO1G2tO!&_Q7[O,5=YO!&_Q7[O,5=Y",stateData:"( O~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O:pO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O:qO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y$`O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$vO(t%OO(u%QOg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%WO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$SO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y:lO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%WO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Ou#SO!R#TO(]#TO(^'}O~O!X(PO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(RO!V(cX~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y(RO!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~O!V(cX~PGfO!V(WO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIiO#](XO!V(rX!Y(rX~O!Y(YO!V(qX~O!V(]O~O#]$eO~PIiO!Z(^O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKPO!h(_O~O!d#vO#](`O(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMlO!P%fO![%gO!y]O#f(eO#g(dO(O%eO~O!Y(fO!h(nX~O!h(hO~O!P%fO![%gO#g(dO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! YOR(jO}(iO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#ZO!u(nO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#h(tO~O!X(vO!h(fP~P%[O(`(xO(j[O~O!P(zO!i#xO(`(xO(j[O~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y$`Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)`O~P!&_Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~Og(kP~P!+hO})eO!d)dO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)dO![(vX$Y(vX$[(vX$^(vX$e(vX~O})eO~P!-qO})eO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)gO$Y)kO$[)fO$^)fO$e)lO~O!X)oO~P!(oO$[$hO$^$gO$e)sO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/gOp)uO~Ou)vO(])wO(^)yO~Ok*SO}){O!P)|O(t%OO(u%QO~Og)zO~P!0pOg*TO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P*VO![*WO!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~O!X*ZO(O*UO!h(zP~P!1_O#h*]O~O!i*^O~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O*`O(QTO(TUO([$vO(t%OO(u%QO~O!X*cO!V({P~P!3^Oo*oO!P*gO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO(`!mO~O!Z*lO~P!5RO#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5zOk*tO#]*sOg(YX!Y(YX~O!Y*uOg(XX~O(O&WOg(XP~O!i*|O~O(O(rO~Om+QO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+RO~O!P%fO!X+TO!Y(YO![%gO(O%eO!V(qP~Op'XO!P+VO!X+UO(QTO(TUO(`(xO~O!Z(sP~P!8uO!Y+WOa)PX'u)PX~OP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9mOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<TOR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>kOh%WOk+aO![']O%f+`O~O!d+cOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%WO!i%cO~Oh%WO!i%cO(O%eO~O!d#vO#h(tO~Ob+nO%g+oO(O+kO(QTO(TUO!Z)TP~O!Y+pO`)SX~O[+tO~O`+uO~O![%}O(O%eO(P!lO`)SP~Oh%WO#]+zO~Oh%WOk+}O![$}O~O![,PO~O},RO![XO~O%k%tO~O!u,WO~Oe,]O~Ob,^O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,cO`,bO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!EkO`,bOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,hO!rwO#t!OO%i!OO%j!OO%k!OO~P!HTO!i&lO~O&Y,nO~O![,pO~O&k,rO&m,sOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,xO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# ZO!d,}O#],|Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%WO!d-PO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(QTO(TUO([VO(j[O(y<dO~O(O;fO~P##_O!Y-TO!Z(dX~O!Z-VO~O!d,}O#],|O!Y#eX!Z#eX~O!Y-WO!Z(sX~O!Z-YO~O!`-ZO!a-ZO(P!lO~P#!|O!Z-^O~P'_Ok-aO![']O~O!V-fO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#ZO!m-kO#]-iO~PCSO!`-mO!a-mO(P!lO~PCrOa%lO#]-iO'u%lO~Oa%lO!d#vO#]-iO'u%lO~Oa%lO!d#vO!m-kO#]-iO'u%lO(m'mO~O'z'uO'{'uO'|-rO~Os-sO~O!V'Sa!Y'Sa~P!9mO!X-wO!V'SX!Y'SX~P%[O!Y(RO!V(ca~O!V(ca~PGfO!Y(YO!V(qa~O!P%fO!X-{O![%gO(O%eO!V'YX!Y'YX~O#]-}O!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+eO!Y(fO!h(na~O!P%fO![%gO#g.RO(O%eO~Om.WO!P%fO!X.TO![%gO!y]O#f.VO#g.TO(O%eO!Y']X!h']X~OR.[O!i#xO~Oh%WOk._O![']O%f.^O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9mOk<pO}){O!P)|O(t%OO(u%QO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.aO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5zO!Y.lO!h(fX~P!9mO!h.oO~O!V.qO~OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#1|O#k$OO~P#1|OP$]OR#zO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~Oo#ji~P#4kOo$QO~P#4kOP$]OR#zOo$QO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO#o$RO([VOa#ji!Y#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P#7YO[$cO#O$SO#p$SO#q$SO#r$bO#s$SO~P#7YOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$VO~P#:WO#w#ji~P#:WOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VOa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w#ji(t#ji(u#ji~P#<uO#w$VO(t#|O(u#}O~P#<uOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO([VO(t#|O(u#}O~Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#?jOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#BQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O#z;OO([VO(m$ZO(t#|O(u#}O~O#}.sO~P#D_O#P$dO#];TO$P;TO#}(bX!Z(bX~P! YOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9mOP#jiR#ji[#jia#jio#ji!Y#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji([#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#.aO!Y.wOg(kX~P!0pOg.yO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9mO$[.zO$^.zO~O$[.{O$^.{O~O!d)dO#].|O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X.}O~O![)gO$Y/PO$[)fO$^)fO$e/QO~O!Y;PO!Z(aX~P#D_O!Z/RO~O!d)dO$e(vX~O$e/TO~Ou)vO(])wO(^/WO~O!V/[O~P!&_O(t%OOk%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#L{O(u%QOk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#MnO!YfX!dfX!hfX!h$xX(mfX~P!/gO!X/eO!Y(YO(O/dO!V(qP!V({P~P!1_Oo*oO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO~Op'XO!P/fO!X+UO!Z*lO(QTO(TUO(`;cO!Z(sP~P$ XO!h/gO~P#.aO!Y/hO!d#vO(m'mO!h(zX~O!h/mO~O!P%fO!X*ZO![%gO(O%eO!h(zP~O#h/oO~O!V$xX!Y$xX!d%PX~P!/gO!Y/pO!V({X~P#.aO!d/rO~O!V/tO~Oh%WOo/xO!d#vO!i%cO(m'mO~O(O/zO~O!d+cO~Oa%lO!Y0OO'u%lO~O!Z0QO~P!5RO!`0RO!a0RO(P!lO(`!mO~O!P0TO(`!mO~O#X0UO~Og%^a!Y%^a#]%^a#}%^a~P!0pOg%`a!Y%`a#]%`a#}%`a~P!0pO(O&WOg'iX!Y'iX~O!Y*uOg(Xa~Og0_O~OR0`O}0`O!P0aO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$&zO}){O!P)|Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$'sO}){O!P)|Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$(fO#h0dO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0pO!d#vO~O#h0gO~O!Y+WOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$*TOh%WOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~Om0pO(O0oO~P$,kO!d+cOa(Wa![(Wa'u(Wa!Y(Wa~O#h0vO~O[]X!YfX!ZfX~O!Y0wO!Z)TX~O!Z0yO~O[0zO~Ob0|O(O+kO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+pO`)Sa~O!h1PO~P!9mO[1SO~O`1TO~O#]1WO~Ok1ZO![$}O~O(`(xO!Z)QP~Oh%WOk1dO![1aO%f1cO~O[1nO!Y1lO!Z)RX~O!Z1oO~O`1qOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1tO&W1uOa(bX~P$2RO#]$eO#s1tO&W1uO~Oa1wO~P%[Oa1yO~O&a1|OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2SO!Z2QO&f2RO~P`O![XO!i2UO~O&m,sOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2[O~O!Y!^a!Z!^a~P#D_Op!nO!P!oO!X2bO(`!mO!Y'TX!Z'TX~P@YO!Y-TO!Z(da~O!Y'ZX!Z'ZX~P!8uO!Y-WO!Z(sa~O!Z2iO~P'_Oa%lO#]2rO'u%lO~Oa%lO!d#vO#]2rO'u%lO~Oa%lO!d#vO!m2vO#]2rO'u%lO(m'mO~Oa%lO'u%lO~P!9mO!Y$`Os$oa~O!V'Si!Y'Si~P!9mO!Y(RO!V(ci~O!Y(YO!V(qi~O!V(ri!Y(ri~P!9mO!Y(oi!h(oia(oi'u(oi~P!9mO#]2xO!Y(oi!h(oia(oi'u(oi~O!Y(fO!h(ni~O!P%fO![%gO!y]O#f2}O#g2|O(O%eO~O!P%fO![%gO#g2|O(O%eO~Ok3UO![']O%f3TO~Oh%WOk3UO![']O%f3TO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#L{O#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#MnO#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.aO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.aO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$&zO#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$'sO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$(fO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.aOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9mO!X3^O!Y'UX!h'UX~P%[O!Y.lO!h(fa~O!Y.lO!h(fa~P!9mO!V3aO~O#}!ka!Z!ka~PKPO#}!ga!Y!ga!Z!ga~P#D_O#}!oa!Z!oa~P!<TO#}!qa!Z!qa~P!>kOg'XX!Y'XX~P!+hO!Y.wOg(ka~OSfO![3uO$c3vO~O!Z3zO~Os3{O~P#.aOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9mO!V3|O~P#.aO}){O!P)|O(u%QOk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%+]O}){O!P)|Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%,OO(m$ZO~P#.aO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/gO(O;lO~P!1_OmkO(O4OO~P.iO!P%fO!X4QO![%gO(O%eO!Y'aX!h'aX~O!Y/hO!h(za~O!Y/hO!d#vO!h(za~O!Y/hO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0pO!X4YO!V'cX!Y'cX~P!3^O!Y/pO!V({a~O!Y/pO!V({a~P#.aO!d#vO#s4bO~Oo4eO!d#vO(m'mO~O(t%OOk%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%0^O(u%QOk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%1POg(Yi!Y(Yi~P!0pO#]4lOg(Yi!Y(Yi~P!0pO!h4oO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9mO!V4sO~O!Y4tO![(|X~P#.aOa$xX![$xX%Z]X'u$xX!Y$xX~P!/gO%Z4wOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4wO~Ob4}O%g5OO(O+kO(QTO(TUO!Y'pX!Z'pX~O!Y0wO!Z)Ta~O[5SO~O`5TO~Oa%lO'u%lO~P#.aO![$}O~P#.aO!Y5]O#]5_O!Z)QX~O!Z5`O~Op!nO!P5aO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5fO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5eO~P%6ZOk5kO![1aO%f5jO~Oh%WOk5kO![1aO%f5jO~Ob5rO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1lO!Z)Ra~O(QTO(TUO(`5tO~O`5xO~O#s5{O&W5|O~PMlO!h5}O~P%[Oa6PO~Oa6PO~P%[Ob2SO!Z6UO&f2RO~P`O!d6WO~O!d6YOh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#D_O#]6ZO!Y#ei!Z#ei~O!Y!^i!Z!^i~P#D_Oa%lO#]6dO'u%lO~Oa%lO!d#vO#]6dO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9mO!Y(fO!h(nq~O!P%fO![%gO#g6kO(O%eO~O![']O%f6nO~Ok6rO![']O%f6nO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%+]O#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%,OO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.aO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%0^O#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%1PO!Y'Ua!h'Ua~P!9mO!Y.lO!h(fi~O#}#`i!Y#`i!Z#`i~P#D_OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%HpO#k:tO~P%HpOP$]OR#zO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO([VO[#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~Oo#ji~P%JxOo:vO~P%JxOP$]OR#zOo:vO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO#o:wO([VO#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P%MQO[;SO#O:xO#p:xO#q:xO#r;RO#s:xO~P%MQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w:{O~P& iO#w#ji~P& iOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#w#ji(t#ji(u#ji~P&#qO#w:{O(t#|O(u#}O~P&#qOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O([VO(t#|O(u#}O~O#z#ji#}#ji(m#ji!Y#ji!Z#ji~P&&POa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9mOk<qO}){O!P)|O(t%OO(u%QO~OP#jiR#ji[#jio#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji([#ji(m#ji!Y#ji!Z#ji~P&(tO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#D_O#}!oi!Z!oi~P$*TOg'Xa!Y'Xa~P!0pO!Z7UO~O!Y'`a!Z'`a~P#D_OP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&-}O!d#vO(m'mO!Y'aa!h'aa~O!Y/hO!h(zi~O!Y/hO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0pO!V'ca!Y'ca~P#.aO!d7]O~O!Y/pO!V({i~P#.aO!Y/pO!V({i~O!V7aO~O!d#vO#s7fO~Oo7gO!d#vO(m'mO~O}){O!P)|O(u%QOk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&2mO}){O!P)|Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&3`O!V7iO~Og$|q!Y$|q#]$|q#}$|q~P!0pOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9mO!d6YO~O!Y4tO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6nO~P&5iOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9mO[7nO~Ob7pO(O+kO(QTO(TUO~O!Y0wO!Z)Ti~O`7tO~O(`(xO!Y'lX!Z'lX~O!Y5]O!Z)Qa~O!Z7}O~P%6ZOp!nO!P8OO(QTO(TUO(`!mO(j!sO~O![1aO~O![1aO%f8QO~Ok8TO![1aO%f8QO~O[8YO!Y'oa!Z'oa~O!Y1lO!Z)Ri~O!h8^O~O!h8_O~O!h8bO~O!h8bO~P%[Oa8dO~O!d8eO~O!h8fO~O!Y(ri!Z(ri~P#D_Oa%lO#]8nO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9mO!Y(fO!h(ny~O%f8qO~P&5iO![']O%f8qO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.aO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&2mO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&3`O#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.aO!Y'Ui!h'Ui~P!9mO#}#`q!Y#`q!Z#`q~P#D_O(t%OOP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&FgO(u%QOP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&HkOk<qO}){O!P)|O(u%QO~P&FgOk<qO}){O!P)|O(t%OO~P&HkOR0`O}0`O!P0aO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O}){O!P)|OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O}){O!P)|OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&(tO#}$lq!Y$lq!Z$lq~P#D_O#}$mq!Y$mq!Z$mq~P#D_O!Z9OO~O#}9PO~P!0pO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/hO!h(zq~O!V'ci!Y'ci~P#.aO!Y/pO!V({q~O!V9VO~P#.aO!V9VO~Og(Yy!Y(Yy~P!0pO!Y'ja!['ja~P#.aOa%Yq![%Yq'u%Yq!Y%Yq~P#.aO[9[O~O!Y0wO!Z)Tq~O#]9`O!Y'la!Z'la~O!Y5]O!Z)Qi~P#D_O![1aO%f9dO~O(QTO(TUO(`9iO~O!Y1lO!Z)Rq~O!h9lO~O!h9mO~O!h9nO~O!h9nO~P%[O#]9qO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#D_O%f9vO~P&5iO![']O%f9vO~O#}#{y!Y#{y!Z#{y~P#D_OP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&(tO}){O!P)|O(u%QOP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O}){O!P)|OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t%OOP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%QOP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#D_O#}#`y!Y#`y!Z#`y~P#D_O!d#vO!Y'aq!h'aq~O!Y/hO!h(zy~O!V'cq!Y'cq~P#.aO!V:PO~P#.aO!Y0wO!Z)Ty~O!Y5]O!Z)Qq~O![1aO%f:WO~O!h:ZO~O%f:`O~P&5iOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&(tO}){O!P)|O(u%QOP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O}){O!P)|OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&(tOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0pO!Y'lq!Z'lq~P#D_O!Y#e!Z!Z#e!Z~P#D_O#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.aOP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&(tOs(aX~P1qO}%pO~P!(oO(P!lO~P!(oO!VfX!YfX#]fX~P&-}OP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'CvOP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![XO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y;PO!Z$oa~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;ZO!P$|O![$}O!f<kO!i$yO#g;aO$V%_O$r;]O$t;_O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#t)`O~P'HlOo!bX(m!bX~P# ZO!Z]X!ZfX~P'CvO!VfX!V$xX!YfX!Y$xX#]fX~P!/gO#h:sO~O!d#vO#h:sO~O#];TO~O#s:xO~O#];dO!Y(rX!Z(rX~O#];TO!Y(pX!Z(pX~O#h;eO~Og;gO~P!0pO#h;mO~O#h;nO~O!d#vO#h;oO~O!d#vO#h;eO~O#};pO~P#D_O#h;qO~O#h;rO~O#h;wO~O#h;xO~O#h;yO~O#h;zO~O#};{O~P!0pO#};|O~P!0pO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$2y)XPPPPPP)YPP)]P)nP+O/PPPPP5wPP6_PP<U?kP@OP@OPPP@OPBOP@OP@OP@OPBSPBXPBvPGoPPPGsPPPPGsJuPPPJ{KwPGsPGsPPNVGsPPPGsPGsP!!^GsP!%s!&x!'RP!'u!'y!'u!+VPPPPPPP!+v!&xPP!,W!-QP!/tGsGs!/y!3U!7l!7l!;jPPP!;rGsPPPPPPPPPPP!?QP!@_PPGs!ApPGsPGsGsGsGsGsPGs!CSP!F]P!IbP!If!Ip!It!ItP!FYP!Ix!IxP!L}P!MRGsGs!MX#!]BS@OP@OP@O@OP##i@O@O#%s@O#(c@O#*g@O@O#+V#-c#-c#-h#-q#-c#-zP#-cP@O#.d@O#2T@O@O5wPPP#5zPPP#6e#6eP#6eP#6{#6ePP#7RP#6xP#6x#7f#6x#8Q#8W5t)]#8Z)]P#8b#8b#8bP)]P)]P)]P)]PP)]P#8h#8kP#8k)]P#8oP#8rP)]P)]P)]P)]P)]P)])]PP#8x#9O#9Z#9a#9g#9m#9s#:R#:X#:c#:i#:s#:y#;Z#;a#<R#<e#<k#<q#=P#=f#?T#?c#?j#AO#A^#Bx#CW#C^#Cd#Cj#Ct#Cz#DQ#D[#Dn#DtPPPPPPPPPP#DzPPPPPPP#Eo#Hv#JV#J^#JfPPP$ lP$ u$$m$+V$+Y$+]$+x$+{$,S$,[P$,b$,eP$-R$-V$-}$/]$/b$/xPP$/}$0T$0XP$0[$0`$0d$1Y$1q$2Y$2^$2a$2d$2j$2m$2q$2uR!|RoqOXst!Z#d%k&o&q&r&t,k,p1|2PY!vQ']-]1a5dQ%rvQ%zyQ&R|Q&g!VS'T!e-TQ'c!iS'i!r!yU*f$}*W*kQ+i%{Q+v&TQ,[&aQ-Z'[Q-e'dQ-m'jQ0R*mQ1k,]R;b:o%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8nS#q]:l!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU*y%[;Y;ZQ+n%}Q,^&dQ,e&lQ0m+aQ0q+cQ0|+oQ1s,cQ3Q._Q4}0wQ5r1lQ6p3UQ7p5OR8t6r'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gt!nQ!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5f$z$ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ&U|Q'R!eU'X%g*W-WQ+n%}Q,^&dQ0c*|Q0|+oQ1R+uQ1r,bQ1s,cQ4}0wQ5W1TQ5r1lQ5u1nQ5v1qQ7p5OQ7s5TQ8]5xQ9_7tR9j8YrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR,`&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<f<g[#]WZ#W#Z'U(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(m#sS+h%z%{Q+l%}Q,V&_Q,Z&aS-d'c'dQ.a(nQ0u+iQ0{+oQ0}+pQ1Q+tQ1f,WS1j,[,]Q2n-eQ4|0wQ5Q0zQ5V1SQ5q1kQ7o5OQ7r5SQ9Z7nR:R9[!O${i$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m!S%wy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dQ+b%uQ+{&XQ,O&YQ,Y&aQ.`(mQ1e,VU1i,Z,[,]Q3V.aQ5l1fS5p1j1kQ8X5q#[<h#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo<i;R;S;V;X;];_;a;i;k;n;r;t;v;x;|W%Ui%W*u<dS&X!Q&fQ&Y!RQ&Z!SR+y&V${%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qT)w$v)xV*y%[;Y;ZW'X!e%g*W-WS(y#y#zQ+]%pQ+s&QS.Y(i(jQ1[,PQ4m0`R7x5]'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g$i$_c#Y#e%o%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.t.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ'V!eR2c-Tv!nQ!e!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5fU*e$}*W*kS/y*f*mQ0S*nQ1^,RQ4d0RR4g0UnqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&v!^Q's!xS(o#u:sQ+f%xQ,T&[Q,U&^Q-b'aQ-o'lS.j(t;eS0f+R;oQ0s+gQ1`,SQ2T,rQ2V,sQ2_-OQ2l-cQ2o-gS4r0g;yQ4x0tS4{0v;zQ6[2aQ6`2mQ6e2tQ7m4yQ8i6^Q8j6aQ8m6fR9p8f$d$^c#Y#e%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZS(k#p'fQ({#zS+[%o.tS.Z(j(lR3O.['OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS#q]:lQ&q!XQ&r!YQ&t![Q&u!]R1{,nQ'^!hQ+_%uQ-`'`S.](m+bQ2j-_W3S.`.a0l0nQ6_2kW6l3P3R3V4vU8p6m6o6qU9u8r8s8uS:^9t9wQ:f:_R:i:gU!wQ']-]T5b1a5d!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(f,k,p.S1|2P]!pQ!r']-]1a5dT#q]:l%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS(y#y#zS.Y(i(j!s<Q$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU$fd)[,eS(l#p'fU*r%S(s3pU0b*x.f6}Q4v0mQ6m3QQ8s6pR9w8tm!tQ!r!v!y!z']'i'j'k-]-m1a5d5fQ'q!uS(b#g1vS-k'h'tQ/k*YQ/w*eQ2v-nQ4U/lS4_/x0SQ7X4PS7d4e4gQ9R7YR9Y7gQ#wbQ'p!uS(a#g1vS(c#m+QQ+S%dQ+d%vQ+j%|U-j'h'q'tQ.O(bQ/j*YQ/v*eQ/|*hQ0r+eQ1g,XS2s-k-nQ2{.WS4T/k/lS4^/w0SQ4a/{Q4c/}Q5n1hQ6g2vQ7W4PQ7[4US7`4_4gQ7e4fQ8V5oS9Q7X7YQ9U7aQ9W7dQ9g8WQ9}9RQ:O9VQ:Q9YQ:Y9hQ:b:PQ<T<OQ<`<XR<a<YV!wQ']-]%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS#wz!j!r;}$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<T<f%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dS%|z!jQ+e%wQ,X&aW1h,Y,Z,[,]U5o1i1j1kS8W5p5qQ9h8X!r<O$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ<X<eR<Y<f%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nY#bWZ#W#Z(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ,f&l!p<P$[$n)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<S'UU'Y!e%g*WR2e-W%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8n!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ,e&lQ0m+aQ3Q._Q6p3UR8t6r!b$Uc#Y%o(O(U(p(u)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!P:z)Z)m-R.t2]2`3b3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!f$Wc#Y%o(O(U(p(u)T)U)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!T:|)Z)m-R.t2]2`3b3i3j3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!^$[c#Y%o(O(U(p(u)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:mQ3}/cz<g)Z)m-R.t2]2`3b3q3y6]6x7R7S7z8h8v8|8}:T:[<ZQ<l<nR<m<o'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS$oh$pR3v.|'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$kf$qQ$ifS)f$l)jR)r$qT$jf$qT)h$l)j'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$oh$pQ$rhR)q$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8n!s<e$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_(z)o+V+a,h,k,p-a._.}/f0a1d1t1u1w1y1|2P2R3U3u5a5k5{5|6P6r8O8T8d!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qQ*}%`Q/Y){o3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!O$zi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mQ*_${U*h$}*W*kQ+O%aQ/}*i#[<V#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn<W;R;S;V;X;];_;a;i;k;n;r;t;v;x;|Q<[<hQ<]<iQ<^<jR<_<k!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|noOXst!Z#d%k&o&q&r&t,k,p1|2PS*b$|*VQ,y&{Q,z&}R4X/p$z%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ+|&YQ1Y,OQ5Z1XR7w5[V*j$}*W*kU*j$}*W*kT5c1a5dU/{*g/f5aT4f0T8OQ+d%vQ/|*hQ0r+eQ1g,XQ5n1hQ8V5oQ9g8WR:Y9h!O%Pi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mr*O$w)a*P*q+P/n0Z0[3s4V4p7V7h9|<U<b<cS0V*p0W#[;U#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;V;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!^;h(q)_*X*a.b.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<o`;i3o6y6|7Q8w9x9{:jS;s.d3ZT;t6{8z!O%Ri$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mv*Q$w)a*R*p+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<cS0X*q0Y#[;W#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;X;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!b;j(q)_*X*a.c.d.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<od;k3o6z6{7Q8w8x9x9y9{:jS;u.e3[T;v6|8{rnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ&c!UR,h&lrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR&c!UQ,Q&ZR1U+ysnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ1b,VS5i1e1fU8P5g5h5lS9c8R8SS:U9b9eQ:c:VR:h:dQ&j!VR,a&fR5u1nS&O|&TR0}+pQ&o!WR,k&pR,q&uT1},p2PR,u&vQ,t&vR2W,uQ'v!{R-q'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$vR/V)xQ#UVR'|#UQ#XWU(S#X(T-xQ(T#YR-x(UQ-U'VR2d-UQ.m(uS3_.m3`R3`.nQ-]']R2h-]Y!rQ']-]1a5dR'g!rQ.x)aR3t.xU#_W%f*VU(Z#_([-yQ([#`R-y(VQ-X'YR2f-Xt`OXst!V!Z#d%k&f&h&o&q&r&t,k,p1|2PS#hZ%cU#r`#h.SR.S(fQ(g#jQ.P(cW.X(g.P2y6iQ2y.QR6i2zQ)j$lR/O)jQ$phR)p$pQ$acU)^$a-t;QQ-t:mR;Q)mQ/i*YW4R/i4S7Z9SU4S/j/k/lS7Z4T4UR9S7[$X)}$w(q)_)a*X*a*p*q*z*{+P.d.e.g.h.i/U/Z/_/a/c/n/s0Z0[0k1V1X3W3X3Y3o3s4V4W4[4h4j4p5Y5[6s6t6u6v6{6|7O7P7Q7V7^7b7h7j7l8w8x8y9T9X9x9y9z9{9|:a:j<U<b<c<n<oQ/q*aU4Z/q4]7_Q4]/sR7_4[S*k$}*WR0P*kr*P$w)a*p*q+P/n0Z0[3s4V4p7V7h9|<U<b<c!^.b(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<oU/`*P.b6ya6y3o6{6|7Q8w9x9{:jQ0W*pQ3Z.dU4i0W3Z8zR8z6{v*R$w)a*p*q+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<c!b.c(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<oU/b*R.c6ze6z3o6{6|7Q8w8x9x9y9{:jQ0Y*qQ3[.eU4k0Y3[8{R8{6|Q*v%VR0^*vQ4u0kR7k4uQ+X%iR0j+XQ5^1[S7y5^9aR9a7zQ,S&[R1_,SQ5d1aR7|5dQ1m,^S5s1m8ZR8Z5uQ0x+lW5P0x5R7q9]Q5R0{Q7q5QR9]7rQ+q&OR1O+qQ2P,pR6T2PYrOXst#dQ&s!ZQ+Z%kQ,j&oQ,l&qQ,m&rQ,o&tQ1z,kS1},p2PR6S1|Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Y%jQ+f%xQ+x&UQ,`&jQ,w&yW-h'h'p'q'tQ-o'lQ0O*jQ0s+gS1p,a,dQ2X,vQ2Y,yQ2Z,zQ2o-gW2q-j-k-n-pQ4x0tQ5U1RQ5X1VQ5m1gQ5w1rQ6R1{U6b2p2s2vQ6e2tQ7m4yQ7u5WQ7v5YQ7{5cQ8U5nQ8[5vS8k6c6gQ8m6fQ9^7sQ9f8VQ9k8]Q9r8lQ:S9_Q:X9gQ:]9sR:e:YQ%xyQ'a!iQ'l!uU+g%y%z%{Q-O'SU-c'b'c'dS-g'h'rQ/u*eS0t+h+iQ2a-QS2m-d-eQ2t-lQ4`/yQ4y0uQ6^2gQ6a2nQ6f2uR7c4dS$xi<dR*w%WU%Vi%W<dR0]*uQ$wiS(q#v+cS)_$b$cQ)a$dQ*X$yS*a$|*VQ*p%PQ*q%RQ*z%]Q*{%^Q+P%bQ.d;UQ.e;WQ.g;[Q.h;^Q.i;`Q/U)vS/Z)|/]Q/_*OQ/a*QQ/c*SQ/n*]S/s*c/eQ0Z*sQ0[*th0k+`.^1c3T5j6n8Q8q9d9v:W:`Q1V+zQ1X+}Q3W;hQ3X;jQ3Y;mS3o;R;SQ3s.wQ4V/oQ4W/pQ4[/rQ4h0VQ4j0XQ4p0dQ5Y1WQ5[1ZQ6s;qQ6t;sQ6u;uQ6v;wQ6{;VQ6|;XQ7O;]Q7P;_Q7Q;aQ7V3}Q7^4YQ7b4bQ7h4lQ7j4tQ7l4wQ8w;nQ8x;iQ8y;kQ9T7]Q9X7fQ9x;rQ9y;tQ9z;vQ9{;xQ9|9PQ:a;{Q:j;|Q<U<dQ<b<lQ<c<mQ<n<pR<o<qQ*x%[Q.f;YR6};ZnpOXst!Z#d%k&o&q&r&t,k,p1|2PQ!fPS#fZ#oQ&y!`U'e!o5a8OQ'{#SQ(|#{Q)n$nS,d&h&kQ,i&lQ,v&xQ,{'QQ-_'_Q.p(zQ/S)oS0h+V/fQ0n+aQ1x,hQ2k-aQ3R._Q3x.}Q4n0aQ5h1dQ5y1tQ5z1uQ6O1wQ6Q1yQ6V2RQ6q3UQ7T3uQ8S5kQ8`5{Q8a5|Q8c6PQ8u6rQ9e8TR9o8d#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_(z+V+a,h,k,p-a._/f0a1d1t1u1w1y1|2P2R3U5a5k5{5|6P6r8O8T8dQ#YWQ#eYQ%ouQ%qvS%sw!gS(O#W(RQ(U#ZQ(p#uQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)]$`Q)c$eW)m$n)o.}3uQ+^%rQ+r&PS-R'U2bQ-p'oS-u(P-wQ-z(XQ-|(`Q.k(tQ.n(vQ.r:kQ.t:nQ.u:oQ.v:rQ/X)zQ0e+RQ2],|Q2`-PQ2p-iQ2w-}Q3].lQ3b:sQ3c:tQ3d:uQ3e:vQ3f:wQ3g:xQ3h:yQ3i:zQ3j:{Q3k:|Q3l:}Q3m;OQ3n.sQ3q;TQ3r;bQ3y;PQ4q0gQ4z0vQ6];dQ6c2rQ6h2xQ6w3^Q6x;eQ7R;gQ7S;oQ7z5_Q8h6ZQ8l6dQ8v;pQ8|;yQ8};zQ9s8nQ:T9`Q:[9qQ:m#SR<Z<gR#[WR'W!el!tQ!r!v!y!z']'i'j'k-]-m1a5d5fS'S!e-TS-Q'T'[R2g-ZR(w#xQ!fQT-[']-]]!qQ!r']-]1a5dQ#p]R'f:lR)b$dY!uQ']-]1a5dQ'h!rS'r!v!yS't!z5fS-l'i'jQ-n'kR2u-mT#kZ%cS#jZ%cS%im,gU(c#h#i#lS.Q(d(eQ.U(fQ0i+WQ2z.RU2{.S.T.VS6j2|2}R8o6kd#^W#W#Z%f(P(Y*V+T-{/er#gZm#h#i#l%c(d(e(f+W.R.S.T.V2|2}6kS*Y$y*^Q/l*ZQ1v,gQ2^,}Q4P/hQ6X2UQ7Y4QQ8g6YT<R'U+UV#aW%f*VU#`W%f*VS(Q#W(YU(V#Z+T/eS-S'U+UT-v(P-{V'Z!e%g*WQ$lfR)t$qT)i$l)jR3w.|T*[$y*^T*d$|*VQ0l+`Q3P.^Q5g1cQ6o3TQ8R5jQ8r6nQ9b8QQ9t8qQ:V9dQ:_9vQ:d:WR:g:`nqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&i!VR,`&ftmOXst!U!V!Z#d%k&f&o&q&r&t,k,p1|2PR,g&lT%jm,gR1],PR,_&dQ&S|R+w&TR+m%}T&m!W&pT&n!W&pT2O,p2P",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:Sbt,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[Abt],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z(Kd$?V_!Z(Cds`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Ebt,Tbt,Dbt,2,3,4,5,6,7,8,9,10,11,12,13,14,Cbt,new ZO("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new ZO("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14769},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:t=>Mbt[t]||-1},{term:338,get:t=>Pbt[t]||-1},{term:92,get:t=>$bt[t]||-1}],tokenPrec:14793}),hH=[zi("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),zi("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),zi("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),zi("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),zi("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),zi(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),zi("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),zi(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),zi(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),zi('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),zi('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Lbt=hH.concat([zi("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),zi("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),zi("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),nL=new lZ,dH=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Tp(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const Ibt=["FunctionDeclaration"],Nbt={FunctionDeclaration:Tp("function"),ClassDeclaration:Tp("class"),ClassExpression:()=>!0,EnumDeclaration:Tp("constant"),TypeAliasDeclaration:Tp("type"),NamespaceDeclaration:Tp("namespace"),VariableDefinition(t,e){t.matchContext(Ibt)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function fH(t,e){let n=nL.get(e);if(n)return n;let r=[],i=!0;function s(o,a){let l=t.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(yn.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=Nbt[o.name];if(a&&a(o,s)||dH.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of fH(t,o.node))r.push(a);return!1}}),nL.set(e,r),r}const rL=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,pH=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function Fbt(t){let e=bn(t.state).resolveInner(t.pos,-1);if(pH.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&rL.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)dH.has(i.name)&&(r=r.concat(fH(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:rL}}const Ta=Ef.define({name:"javascript",parser:Rbt.configure({props:[u1.add({IfStatement:qb({except:/^\s*({|else\b)/}),TryStatement:qb({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:egt,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:Jpt({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":qb({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Kf.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":mZ,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),gH={test:t=>/^JSX/.test(t.name),facet:hD({commentTokens:{block:{open:"{/*",close:"*/}"}}})},mH=Ta.configure({dialect:"ts"},"typescript"),yH=Ta.configure({dialect:"jsx",props:[dD.add(t=>t.isTop?[gH]:void 0)]}),bH=Ta.configure({dialect:"jsx ts",props:[dD.add(t=>t.isTop?[gH]:void 0)]},"typescript");let OH=t=>({label:t,type:"keyword"});const kH="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(OH),Bbt=kH.concat(["declare","implements","private","protected","public"].map(OH));function Qbt(t={}){let e=t.jsx?t.typescript?bH:yH:t.typescript?mH:Ta,n=t.typescript?Lbt.concat(Bbt):hH.concat(kH);return new a0(e,[Ta.data.of({autocomplete:$gt(pH,DZ(n))}),Ta.data.of({autocomplete:Fbt}),t.jsx?Wbt:[]])}function zbt(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function iL(t,e,n=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const Vbt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Wbt=je.inputHandler.of((t,e,n,r,i)=>{if((Vbt?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Ta.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var u;let{head:h}=l,d=bn(o).resolveInner(h-1,-1),f;if(d.name=="JSXStartTag"&&(d=d.parent),!(o.doc.sliceString(h-1,h)!=r||d.name=="JSXAttributeValue"&&d.to>h)){if(r==">"&&d.name=="JSXFragmentTag")return{range:l,changes:{from:h,insert:"</>"}};if(r=="/"&&d.name=="JSXStartCloseTag"){let p=d.parent,g=p.parent;if(g&&p.from==h-2&&((f=iL(o.doc,g.firstChild,h))||((u=g.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let m=`${f}>`;return{range:Se.cursor(h+m.length,-1),changes:{from:h,insert:m}}}}else if(r==">"){let p=zbt(d);if(p&&p.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(h,h+2))&&(f=iL(o.doc,p,h)))return{range:l,changes:{from:h,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Dp=["_blank","_self","_top","_parent"],vv=["ascii","utf-8","utf-16","latin1","latin1"],Sv=["get","post","put","delete"],Cv=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],ds=["true","false"],Ke={},Ubt={a:{attrs:{href:null,ping:null,type:null,media:null,target:Dp,hreflang:null}},abbr:Ke,address:Ke,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Ke,aside:Ke,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Ke,base:{attrs:{href:null,target:Dp}},bdi:Ke,bdo:Ke,blockquote:{attrs:{cite:null}},body:Ke,br:Ke,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Cv,formmethod:Sv,formnovalidate:["novalidate"],formtarget:Dp,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Ke,center:Ke,cite:Ke,code:Ke,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Ke,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Ke,div:Ke,dl:Ke,dt:Ke,em:Ke,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Ke,figure:Ke,footer:Ke,form:{attrs:{action:null,name:null,"accept-charset":vv,autocomplete:["on","off"],enctype:Cv,method:Sv,novalidate:["novalidate"],target:Dp}},h1:Ke,h2:Ke,h3:Ke,h4:Ke,h5:Ke,h6:Ke,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Ke,hgroup:Ke,hr:Ke,html:{attrs:{manifest:null}},i:Ke,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Cv,formmethod:Sv,formnovalidate:["novalidate"],formtarget:Dp,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Ke,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Ke,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Ke,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:vv,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Ke,noscript:Ke,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Ke,param:{attrs:{name:null,value:null}},pre:Ke,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Ke,rt:Ke,ruby:Ke,samp:Ke,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:vv}},section:Ke,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Ke,source:{attrs:{src:null,type:null,media:null}},span:Ke,strong:Ke,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Ke,summary:Ke,sup:Ke,table:Ke,tbody:Ke,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Ke,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Ke,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Ke,time:{attrs:{datetime:null}},title:Ke,tr:Ke,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Ke,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Ke},xH={accesskey:null,class:null,contenteditable:ds,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:ds,autocorrect:ds,autocapitalize:ds,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":ds,"aria-autocomplete":["inline","list","both","none"],"aria-busy":ds,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":ds,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":ds,"aria-hidden":ds,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":ds,"aria-multiselectable":ds,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":ds,"aria-relevant":null,"aria-required":ds,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},wH="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of wH)xH[t]=null;class m0{constructor(e,n){this.tags=Object.assign(Object.assign({},Ubt),e),this.globalAttrs=Object.assign(Object.assign({},xH),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}m0.default=new m0;function Pf(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function $f(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function _H(t,e,n){let r=n.tags[Pf(t,$f(e))];return(r==null?void 0:r.children)||n.allTags}function RD(t,e){let n=[];for(let r=$f(e);r&&!r.type.isTop;r=$f(r.parent)){let i=Pf(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const vH=/^[:\-\.\w\u00b7-\uffff]*$/;function sL(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",o=$f(n,!0);return{from:r,to:i,options:_H(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(RD(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function oL(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:RD(t.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:vH}}function jbt(t,e,n,r){let i=[],s=0;for(let o of _H(t.doc,n,e))i.push({label:"<"+o,type:"type"});for(let o of RD(t.doc,n))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function qbt(t,e,n,r,i){let s=$f(n),o=s?e.tags[Pf(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(u=>({label:u,type:"property"})),validFor:vH}}function Ybt(t,e,n,r,i){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let u=t.sliceDoc(o.from,o.to),h=e.globalAttrs[u];if(!h){let d=$f(n),f=d?e.tags[Pf(t.doc,d)]:null;h=(f==null?void 0:f.attrs)&&f.attrs[u]}if(h){let d=t.sliceDoc(r,i).toLowerCase(),f='"',p='"';/^['"]/.test(d)?(l=d[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",p=t.sliceDoc(i,i+1)==d[0]?"":d[0],d=d.slice(1),r++):l=/^[^\s<>='"]*$/;for(let g of h)a.push({label:g,apply:f+g+p,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function SH(t,e){let{state:n,pos:r}=e,i=bn(n).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?oL(n,i,i.from,r):sL(n,t,i,i.from,r):i.name=="StartTag"?sL(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?oL(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?qbt(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?Ybt(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?jbt(n,t,i,r):null}function Zbt(t){return SH(m0.default,t)}function Xbt(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new m0(e,n):m0.default;return i=>SH(r,i)}const Hbt=Ta.parser.configure({top:"SingleExpression"}),CH=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:mH.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:yH.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:bH.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:Hbt},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:Ta.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:GO.parser}],EH=[{name:"style",parser:GO.parser.configure({top:"Styles"})}].concat(wH.map(t=>({name:t,parser:Ta.parser}))),TH=Ef.define({name:"html",parser:Pyt.configure({props:[u1.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Kf.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),TZ.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Xb=TH.configure({wrap:sH(CH,EH)});function Gbt(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=sH((t.nestedLanguages||[]).concat(CH),(t.nestedAttributes||[]).concat(EH)));let r=n?TH.configure({wrap:n,dialect:e}):e?Xb.configure({dialect:e}):Xb;return new a0(r,[Xb.data.of({autocomplete:Xbt(t)}),t.autoCloseTags!==!1?Kbt:[],Qbt().support,obt().support])}const aL=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Kbt=je.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Xb.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var u,h,d;let f=o.doc.sliceString(l.from-1,l.to)==r,{head:p}=l,g=bn(o).resolveInner(p,-1),m;if(f&&r==">"&&g.name=="EndTag"){let y=g.parent;if(((h=(u=y.parent)===null||u===void 0?void 0:u.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(m=Pf(o.doc,y.parent,p))&&!aL.has(m)){let b=p+(o.doc.sliceString(p,p+1)===">"?1:0),O=`</${m}>`;return{range:l,changes:{from:p,to:b,insert:O}}}}else if(f&&r=="/"&&g.name=="IncompleteCloseTag"){let y=g.parent;if(g.from==p-2&&((d=y.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(m=Pf(o.doc,y,p))&&!aL.has(m)){let b=p+(o.doc.sliceString(p,p+1)===">"?1:0),O=`${m}>`;return{range:Se.cursor(p+O.length,-1),changes:{from:p,to:b,insert:O}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),DH=hD({commentTokens:{block:{open:"<!--",close:"-->"}}}),AH=new Ot,MH=E1t.configure({props:[Kf.add(t=>!t.is("Block")||t.is("Document")||bC(t)!=null||Jbt(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),AH.add(bC),u1.add({Document:()=>null}),Bu.add({Document:DH})]});function bC(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function Jbt(t){return t.name=="OrderedList"||t.name=="BulletList"}function e2t(t,e){let n=t;for(;;){let r=n.nextSibling,i;if(!r||(i=bC(r.type))!=null&&i<=e)break;n=r}return n.to}const t2t=gZ.of((t,e,n)=>{for(let r=bn(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let i=r.type.prop(AH);if(i==null)continue;let s=e2t(r,i);if(s>n)return{from:n,to:s}}return null});function LD(t){return new Ys(DH,t,[t2t],"markdown")}const n2t=LD(MH),r2t=MH.configure([F1t,Q1t,B1t,z1t,{props:[Kf.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),PH=LD(r2t);function i2t(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=PO.matchLanguageName(t,n,!0),r instanceof PO)return r.support?r.support.language.parser:o0.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}class Sy{constructor(e,n,r,i,s,o,a){this.node=e,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=s,this.type=o,this.item=a}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+RH(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function $H(t,e){let n=[];for(let i=t;i&&i.name!="Document";i=i.parent)(i.name=="ListItem"||i.name=="Blockquote"||i.name=="FencedCode")&&n.push(i);let r=[];for(let i=n.length-1;i>=0;i--){let s=n[i],o,a=e.lineAt(s.from),l=s.from-a.from;if(s.name=="FencedCode")r.push(new Sy(s,l,l,"","","",null));else if(s.name=="Blockquote"&&(o=/^ *>( ?)/.exec(a.text.slice(l))))r.push(new Sy(s,l,l+o[0].length,"",o[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(o=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let u=o[3],h=o[0].length;u.length>=4&&(u=u.slice(0,u.length-4),h-=4),r.push(new Sy(s.parent,l,l+h,o[1],u,o[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(o=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let u=o[4],h=o[0].length;u.length>4&&(u=u.slice(0,u.length-4),h-=4);let d=o[2];o[3]&&(d+=o[3].replace(/[xX]/," ")),r.push(new Sy(s.parent,l,l+h,o[1],u,d,s))}}return r}function RH(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function Ev(t,e,n,r=0){for(let i=-1,s=t;;){if(s.name=="ListItem"){let a=RH(s,e),l=+a[2];if(i>=0){if(l!=i+1)return;n.push({from:s.from+a[1].length,to:s.from+a[0].length,insert:String(i+2+r)})}i=l}let o=s.nextSibling;if(!o)break;s=o}}function ID(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(c1)!="	")return t;let r=Qo(t,4,n),i="";for(let s=r;s>0;)s>=4?(i+="	",s-=4):(i+=" ",s--);return i+t.slice(n)}const s2t=({state:t,dispatch:e})=>{let n=bn(t),{doc:r}=t,i=null,s=t.changeByRange(o=>{if(!o.empty||!PH.isActiveAt(t,o.from))return i={range:o};let a=o.from,l=r.lineAt(a),u=$H(n.resolveInner(a,-1),r);for(;u.length&&u[u.length-1].from>a-l.from;)u.pop();if(!u.length)return i={range:o};let h=u[u.length-1];if(h.to-h.spaceAfter.length>a-l.from)return i={range:o};let d=a>=h.to-h.spaceAfter.length&&!/\S/.test(l.text.slice(h.to));if(h.item&&d){let y=h.node.firstChild,b=h.node.getChild("ListItem","ListItem");if(y.to>=a||b&&b.to<a||l.from>0&&!/[^\s>]/.test(r.lineAt(l.from-1).text)){let O=u.length>1?u[u.length-2]:null,x,T="";O&&O.item?(x=l.from+O.from,T=O.marker(r,1)):x=l.from+(O?O.to:0);let A=[{from:x,to:a,insert:T}];return h.node.name=="OrderedList"&&Ev(h.item,r,A,-2),O&&O.node.name=="OrderedList"&&Ev(O.item,r,A),{range:Se.cursor(x+T.length),changes:A}}else{let O=cL(u,t,l);return{range:Se.cursor(a+O.length+1),changes:{from:l.from,insert:O+t.lineBreak}}}}if(h.node.name=="Blockquote"&&d&&l.from){let y=r.lineAt(l.from-1),b=/>\s*$/.exec(y.text);if(b&&b.index==h.from){let O=t.changes([{from:y.from+b.index,to:y.to},{from:l.from+h.from,to:l.to}]);return{range:o.map(O),changes:O}}}let f=[];h.node.name=="OrderedList"&&Ev(h.item,r,f);let p=h.item&&h.item.from<l.from,g="";if(!p||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=h.to)for(let y=0,b=u.length-1;y<=b;y++)g+=y==b&&!p?u[y].marker(r,1):u[y].blank(y<b?Qo(l.text,4,u[y+1].from)-g.length:null);let m=a;for(;m>l.from&&/\s/.test(l.text.charAt(m-l.from-1));)m--;return g=ID(g,t),o2t(h.node,t.doc)&&(g=cL(u,t,l)+t.lineBreak+g),f.push({from:m,to:a,insert:t.lineBreak+g}),{range:Se.cursor(m+g.length+1),changes:f}});return i?!1:(e(t.update(s,{scrollIntoView:!0,userEvent:"input"})),!0)};function lL(t){return t.name=="QuoteMark"||t.name=="ListMark"}function o2t(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,r=t.getChild("ListItem","ListItem");if(!r)return!1;let i=e.lineAt(n.to),s=e.lineAt(r.from),o=/^[\s>]*$/.test(i.text);return i.number+(o?0:1)<s.number}function cL(t,e,n){let r="";for(let i=0,s=t.length-2;i<=s;i++)r+=t[i].blank(i<s?Qo(n.text,4,t[i+1].from)-r.length:null,i<s);return ID(r,e)}function a2t(t,e){let n=t.resolveInner(e,-1),r=e;lL(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(lL(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const l2t=({state:t,dispatch:e})=>{let n=bn(t),r=null,i=t.changeByRange(s=>{let o=s.from,{doc:a}=t;if(s.empty&&PH.isActiveAt(t,s.from)){let l=a.lineAt(o),u=$H(a2t(n,o),a);if(u.length){let h=u[u.length-1],d=h.to-h.spaceAfter.length+(h.spaceAfter?1:0);if(o-l.from>d&&!/\S/.test(l.text.slice(d,o-l.from)))return{range:Se.cursor(l.from+d),changes:{from:l.from+d,to:o}};if(o-l.from==d&&(!h.item||l.from<=h.item.from||!/\S/.test(l.text.slice(0,h.to)))){let f=l.from+h.from;if(h.item&&h.node.from<h.item.from&&/\S/.test(l.text.slice(h.from,h.to))){let p=h.blank(Qo(l.text,4,h.to)-Qo(l.text,4,h.from));return f==l.from&&(p=ID(p,t)),{range:Se.cursor(f+p.length),changes:{from:f,to:l.from+h.to,insert:p}}}if(f<o)return{range:Se.cursor(f),changes:{from:f,to:o}}}}}return r={range:s}});return r?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},c2t=[{key:"Enter",run:s2t},{key:"Backspace",run:l2t}],OC=Gbt({matchClosingTags:!1});function u2t(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=n2t,completeHTMLTags:s=!0}=t;if(!(i instanceof Lx))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let o=t.extensions?[t.extensions]:[],a=[OC.support],l;n instanceof a0?(a.push(n.support),l=n.language):n&&(l=n);let u=e||l?i2t(e,l):void 0;o.push(D1t({codeParser:u,htmlParser:OC.language.parser})),r&&a.push(Vl.high(o1.of(c2t)));let h=LD(i.configure(o));return s&&a.push(h.data.of({autocomplete:h2t})),new a0(h,a)}function h2t(t){let{state:e,pos:n}=t,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let i=bn(e).resolveInner(n,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:n-r[0].length,to:n,options:d2t(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let Tv=null;function d2t(){if(Tv)return Tv;let t=Zbt(new gD(Vt.create({extensions:OC}),0,!0));return Tv=t?t.options:[]}const f2t={__name:"MdEditor",props:{modelValue:{type:String,defalut:""},dark:{type:Boolean,default:!1}},emits:["update:modelValue","save","switchEditor"],setup(t,{emit:e}){const n=t,r=e,i=Ur(null),s=Ur(!1),o=je.baseTheme({"&.cm-editor.cm-focused":{outline:"none"},"&light .cm-o-replacement":{backgroundColor:"#04c"},"&dark":{color:"rgba(236, 239, 244, 0.87)",backgroundColor:"#2e3440"},"&dark.ͼ3 .ͼc":{color:"#95d3ff"},"&dark.cm-content":{caretColor:"#0e9"},"&dark.cm-focused .cm-cursor":{borderLeftColor:"#074"},"&dark.cm-focused .cm-selectionBackground, ::selection":{backgroundColor:"#252932"},"&dark.ͼ3 .cm-activeLine":{backgroundColor:"#252932"},"&dark.ͼ3 .cm-gutters":{backgroundColor:"#252932",color:"#ccc",border:"none"}}),a=(u,h=!1)=>Vt.create({doc:u,extensions:[Opt(),wpt(),qft(),h0t(),pgt(),Lft(),Qft(),Vt.allowMultipleSelections.of(!0),ngt(),mgt(Ogt,{fallback:!0}),Cgt(),gmt(),Cmt(),ipt(),apt(),Kft(),$mt(),o1.of([...Omt,...f1t,...Kmt,...k0t,...ugt,...BZ,{key:"Mod-/",run(){return r("switchEditor"),!0}},{key:"Mod-s",run(){return r("save"),!0}}]),u2t(),o,je.theme({},{dark:h}),je.updateListener.of(d=>{d.focusChanged&&(s.value=d.view.hasFocus),d.docChanged&&r("update:modelValue",d.state.doc.toString())})]});let l;return LC(()=>{l=new je({state:a(n.modelValue),parent:i.value})}),ug([()=>n.modelValue,()=>n.dark],()=>{s.value||l.setState(a(n.modelValue,n.dark))}),(u,h)=>(aI(),lI("div",{class:"md",ref_key:"mdRef",ref:i},null,512))}},p2t=Eh({props:{modelValue:{type:String},config:{type:Object,default:()=>({menu:!1,readonly:!1,theme:"auto"})},uploader:{type:Function}},emits:["update:modelValue"],setup(t,{expose:e,emit:n}){const r=Ur(t.modelValue),i=Ur(!1);let s;const o=sle(l=>({"Mod-s":()=>(n("save",r.value),!0),"Mod-/":()=>(i.value=!i.value,!0)})),a=xle((l,u)=>{switch(s=ele.make().config(h=>{h.set(Ed,l),h.set(Gy,r.value),h.set(Cg,{editable:()=>!t.config.readonly}),h.get(i4).markdownUpdated((d,f)=>{r.value=f,n("update:modelValue",f)})}).use(rot).use(o).use(tht(u)).use(Oht).use($le).use(HPe).use(Tce).use(Vce).use(Wle).use($ot).use(YPe).use(Jst).use(Fht(t.uploader)).use(JPe.configure(NB,{type:"space",size:2})),t.config.menu&&s.use($ht),t.config.theme){case"dark":s.use(LP);break;case"light":s.use(IP);break;default:s.use(nat)}return s});return ug(()=>t.config,()=>{s.action(lle()),s.action(hle(t.config.theme==="dark"?LP:IP))},{deep:!0}),e({editorInstance:s,loading:a.loading,setValue:l=>s.action(d8(l)),getHtml:()=>s.action(cle()),getOutline:()=>s.action(ule())}),()=>gg("div",{},[gg(JF,{...a,style:{display:i.value?"none":"block"}}),gg(f2t,{style:{display:i.value?"block":"none"},modelValue:r.value,dark:t.config.theme==="dark",onSave:()=>n("save",r.value),onSwitchEditor:()=>{i.value=!i.value},"onUpdate:modelValue":l=>{n("update:modelValue",l),s.action(d8(l))}})])}}),g2t=`# milkdown-vue

基于[milkdown](https://github.com/Saul-Mirone/milkdown)的封装，整合了所有常用插件的\`Vue3\`组件 。

[Demo](https://cyyjs.github.io/milkdown-vue)

## Install

\`\`\`bash
yarn add milkdown-vue
\`\`\`

## Usage

### 模板代码

\`\`\` html
<editor v-model="doc" ref="editorRef" :config="config" :uploader="uploader" @save="save" />
\`\`\`

### Props

1、 \`v-model\`: \`markdown\`内容
2、 \`config\`: 组件配置相关
|属性|类型|默认值|说明|
|--|--|--|--|
|readonly|Boolean|false|是否为只读|
|menu|Boolean|false|是否展示菜单|
|theme|String|\`auto\`|主题样式auto、dark, light|

3、\`uploader\`: 图片上传自定义方法，接收原始图片文件，许返回包含图片地址的对象数组。

\`\`\`json
[{
  "url": "图片地址",
  "name": "名称"
}]
\`\`\`

### Event

\`save\`: 使用保存快捷键\`Mod+s\`时，接收\`value\`值的回调

### 快捷键

参考[preset-gfm](https://milkdown.dev/preset-gfm)插件的快捷键。

这里新增加了\`Mod+/\`快捷键，可在不同的窗口编辑模式中切换


### \`vue setup\`示例

\`\`\` js
// 组件引入
import Editor from 'milkdown-vue'
import { ref } from 'vue'
const editorRef = ref(null)
const config = ref({
  // 是否为只读模式
  readonly: false,
  // 是否展示菜单
  menu: true,
  // 主题样式auto、dark, light
  theme: 'auto'
})

const doc = ref('')

const save = v => {
  // markdown 内容字符串
  console.log(v)
}

// 自定义上传
const uploader = (images) => {
  // 图片原始文件数组对象
  console.log(images)
  // 返回上传后的地址和名称
  return [{
    url: "https://cyyjs.top/_nuxt/img/qrcode.5c9aef0.jpg",
    name: "head"
  }]
}

// 获取html内容
const getHtml = () => {
  console.log(editorRef.value.getHtml())
}
// 获取目录结构
const getOutline = () => {
  console.log(editorRef.value.getOutline())
}
// 设置markdown 内容
const setValue = (v) => {
  editorRef.value.setValue(v)
}
\`\`\`
`,m2t={class:"right"},y2t={class:"btns"},b2t=ps("a",{href:"https://github.com/cyyjs/milkdown-vue",target:"_black"},[ps("img",{class:"github",src:"https://github.com/fluidicon.png",alt:""})],-1),O2t={__name:"App",setup(t){const e=Ur(null),n=Ur({readonly:!1,menu:!0,theme:"auto"}),r=Ur(g2t),i=Ur('### Hello Wold\n```javascript\nconsole.log("Hello Wold!")\n```\n\n'),s=Ur(""),o=()=>{s.value=e.value.getHtml()},a=()=>{s.value=JSON.stringify(e.value.getOutline(),null,2)},l=d=>{e.value.setValue(d)},u=d=>{console.log(d)},h=d=>[{url:"https://cyyjs.top/_nuxt/img/qrcode.5c9aef0.jpg",name:"head"}];return(d,f)=>(aI(),lI("main",null,[Zn(IL(p2t),{class:"left",modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=p=>r.value=p),ref_key:"editorRef",ref:e,config:n.value,onSave:u,uploader:h},null,8,["modelValue","config"]),ps("div",m2t,[ps("div",y2t,[ps("button",{onClick:o},"getHtml"),ps("button",{onClick:a},"getOutline"),ps("button",{onClick:f[1]||(f[1]=p=>n.value.readonly=!n.value.readonly)},"readonly:"+zD(n.value.readonly),1),ps("button",{onClick:f[2]||(f[2]=p=>n.value.theme=n.value.theme==="light"?"dark":"light")},"theme:"+zD(n.value.theme),1),ps("button",{onClick:f[3]||(f[3]=p=>l(i.value))},"setValue"),b2t]),zv("#Doc"),GD(ps("textarea",{"onUpdate:modelValue":f[4]||(f[4]=p=>r.value=p),disabled:""},null,512),[[w6,r.value]]),zv("#Print"),GD(ps("textarea",{"onUpdate:modelValue":f[5]||(f[5]=p=>s.value=p),disabled:""},null,512),[[w6,s.value]])])]))}};iJ(O2t).mount("#app");export{Al as C,Et as U,re as a,ux as b,gc as c,H2t as d,Uc as e,Er as f,Th as g,XE as h,KKe as i,gt as j,PJe as k,V as l,$o as m,vs as n,WJe as o,aP as p,Wf as q,PHe as r,De as s,HV as t,Ts as u,st as v,bt as w,nS as x,eo as y};
